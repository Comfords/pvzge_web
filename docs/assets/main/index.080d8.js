System.register("chunks:///_virtual/_1.ts",["cc","./FrontYard.ts"],(function(t){var c,r,e;return{setters:[function(t){c=t.cclegacy,r=t._decorator},function(t){e=t.FrontYard}],execute:function(){c._RF.push({},"e82e2zopPtHo4KbaMsKDbkM","_1",void 0);r.ccclass,r.property,t("q",(function(){this.fy=e}));c._RF.pop()}}}));

System.register("chunks:///_virtual/Almanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./CardFeatureTotal.ts","./NodePools.ts","./cardSelectAlmanac.ts","./SoundRescourses.ts","./Shovel.ts","./AlmanacElement.ts"],(function(t){var e,n,a,i,l,r,o,s,c,u,p,h,d,b,f,g,m,y,P,C,w,A,S,v,E,I,L,D,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Label,s=t.RichText,c=t.Node,u=t.Prefab,p=t.Sprite,h=t.AudioClip,d=t.director,b=t.Vec3,f=t.input,g=t.Input,m=t.KeyCode,y=t.Component},function(t){P=t.plants},function(t){C=t.MultiLanguage},function(t){w=t.CardFeatureTotal},function(t){A=t.NodePools,S=t.instantiatePooly,v=t.destroyNodeArrayPooly,E=t.destroyPooly},function(t){I=t.cardSelectAlmanac},function(t){L=t.sounds},function(t){D=t.Shovel},function(t){F=t.AlmanacElement}],execute:function(){var z,N,T,M,x,R,O,_,B,G,W,H,k,q,K,U,V,Y,j,Z,J,Q,X,$,tt,et,nt,at,it,lt,rt,ot;l._RF.push({},"f190b5EqrZHmqR1TvnzwsES","Almanac",void 0);var st=r.ccclass,ct=r.property;t("PlantAlmanacElement",(function(){this.TYPE="",this.NAME=new C,this.SORT=new C,this.VALUE=0})),t("PlantAlmanac",(function(){this.Elements=[],this.Introduction=new C,this.Special=[],this.Chat=new C})),t("Almanac",(z=st("Almanac"),N=ct(o),T=ct(s),M=ct(o),x=ct(o),R=ct(c),O=ct(u),_=ct(p),B=ct(c),G=ct(c),W=ct(u),H=ct(h),k=ct(D),q=ct(D),K=ct(D),z(((ot=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,a(e,"introductionLabel",Y,i(e)),a(e,"specialLabel",j,i(e)),a(e,"chatLabel",Z,i(e)),a(e,"plantNameLabel",J,i(e)),a(e,"elementParent",Q,i(e)),a(e,"elementContainer",X,i(e)),e.elementCPs=[],a(e,"displayBG",$,i(e)),a(e,"plantDisplayer",tt,i(e)),e.plantDisplayed=void 0,a(e,"cardsParent",et,i(e)),a(e,"plantCardTemp",nt,i(e)),e.plantCFs=[],e.currentPlantCF=null,a(e,"switchSound",at,i(e)),a(e,"plantIcon",it,i(e)),a(e,"zombieIcon",lt,i(e)),a(e,"trophyIcon",rt,i(e)),e.currentWindow=0,e}n(e,t);var l=e.prototype;return l.exit=function(){d.loadScene(e.exitScene)},l.getSpecial=function(t){var e=P.getPlantFeature(t).ALMANAC,n="";return e.Special.length&&e.Special.forEach((function(t,e){n+="\n"+C.getString(t.NAME,!1)+": <color=#ff0000>"+C.getString(t.DESCRIPTION)+"</color>"})),n},l.getIntroduction=function(t){var e=P.getPlantFeature(t).ALMANAC,n="";return n+=C.getString(e.Introduction)},l.getChat=function(t){var e=P.getPlantFeature(t).ALMANAC,n="\n";return n+=C.getString(e.Chat)},l.switchPlantID=function(t){this.plantCFs.forEach((function(e){var n=e.getComponent(I);n.chosen=e.ID==t,n.index=n.chosen?1:0})),this.plantNameLabel.string=C.getString(P.getPlantFeature(t).NAME),this.introductionLabel.string=this.getIntroduction(t);var e=this.getSpecial(t);this.specialLabel.string=e,this.specialLabel.node.active=e.length>0,this.chatLabel.string=this.getChat(t),this.getPlantDis(t),this.getPlantElements(t),L.play(this.switchSound,1,.1)},l.getPlantElements=function(t){var e=this;this.elementCPs.forEach((function(t){A.destroyPooly(t.node)})),this.elementCPs=[],P.getPlantFeature(t).ALMANAC.Elements.forEach((function(n,a){var i=S(e.elementContainer);i.parent=e.elementParent;var l=i.getComponent(F);l.setPlantElement(n,t,Math.floor((a+1)/2)%2),e.elementCPs.push(l)}))},l.getPlantDis=function(t){v(this.plantDisplayer.children);var e=P.getPlantsInCard(t);P.getPlantFeature(t);this.plantDisplayed=A.instantiatePooly(e.plantDIS),this.plantDisplayed.parent=this.plantDisplayer,this.plantDisplayed.position=new b(0,0,0);var n=P.getPlantBGSprite(t);this.displayBG.spriteFrame=n},l.switchToPlants=function(){var t,e,n,a=this;0!=this.currentWindow&&(null==(t=this.zombieIcon)||t.unchoose(),null==(e=this.trophyIcon)||e.unchoose(),null==(n=this.plantIcon)||n.choose(),this.currentWindow=0,v(this.plantDisplayer.children),this.plantCFs.forEach((function(t){E(t.node)})),this.plantCFs=[],P.defaultPlantChooserOrder.forEach((function(t){var e=A.instantiatePooly(a.plantCardTemp);e.parent=a.cardsParent;var n=e.getComponent(w);n.cardGrouper(t),a.plantCFs.push(n);var i=n.getComponent(I);i.suncostShown=!1,i.almanacModeOn=!0,n.node.on(c.EventType.TOUCH_END,(function(e){n!=a.currentPlantCF&&(a.currentPlantCF=n,a.switchPlantID(t))}))})),this.currentPlantCF=this.plantCFs[0],this.switchPlantID(this.plantCFs[0].ID))},l.start=function(){this.currentWindow=-1,this.switchToPlants()},l.onLoad=function(){var t=this;f.on(g.EventType.KEY_DOWN,(function(e){e.keyCode==m.ESCAPE&&t.exit()}),this)},e}(y)).exitScene="",Y=e((V=ot).prototype,"introductionLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(V.prototype,"specialLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(V.prototype,"chatLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(V.prototype,"plantNameLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(V.prototype,"elementParent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(V.prototype,"elementContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(V.prototype,"displayBG",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(V.prototype,"plantDisplayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(V.prototype,"cardsParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(V.prototype,"plantCardTemp",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(V.prototype,"switchSound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(V.prototype,"plantIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(V.prototype,"zombieIcon",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(V.prototype,"trophyIcon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=V))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacElement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Plants.ts"],(function(t){var e,a,i,r,n,l,o,c,s,g,u,m,p,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.dragonBones,c=t.Label,s=t.SpriteFrame,g=t.Sprite,u=t.Component},function(t){m=t.MultiLanguage},function(t){p=t.plants,S=t.PlantEnum}],execute:function(){var A,b,y,T,P,h,E,N,O,k,L,f,R,F,I;n._RF.push({},"6a1e3UK7zFCGbaY28CYPpN/","AlmanacElement",void 0);var v=l.ccclass,U=l.property;t("AlmanacElement",(A=v("AlmanacElement"),b=U(o.ArmatureDisplay),y=U(c),T=U(c),P=U(o.ArmatureDisplay),h=U(s),E=U(s),A((k=e((O=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"icon",k,r(e)),i(e,"nameLabel",L,r(e)),i(e,"valueLabel",f,r(e)),i(e,"familyIcon",R,r(e)),i(e,"bg0",F,r(e)),i(e,"bg1",I,r(e)),e}return a(e,t),e.prototype.setPlantElement=function(t,e,a){void 0===a&&(a=0);var i="",r="",n="SPECIAL",l="Nope";switch(t.TYPE){case"TOUGHNESS":i=m.getStringByPropsWithoutTricks("Almanac","Toughness"),n="TOUGHNESS",r=e==S.Imitater?"???":p.getPlantFeature(e).TOUGHNESS.toString();break;case"SUNCOST":i=m.getStringByPropsWithoutTricks("Almanac","SunCost"),n="SUNCOST",r=e==S.Imitater?"???":p.getPlantFeature(e).SUNCOST.toString();break;case"RECHARGE":i=m.getStringByPropsWithoutTricks("Almanac","Recharge"),n="COOLDOWN",r=e==S.Imitater?"???":p.getPlantFeature(e).COOLDOWN.toString();break;case"DAMAGE":var o;i=m.getStringByPropsWithoutTricks("Almanac","Damage"),n="DAMAGE",r=null==(o=t.VALUE)?void 0:o.toString();break;case"FAMILY":i=m.getStringByPropsWithoutTricks("Almanac","Family"),n="FAMILY",l=p.getPlantFeature(e).FAMILY,r=m.getStringByPropsWithoutTricks("PlantFamily",l);break;case"RANGE":i=m.getStringByPropsWithoutTricks("Almanac","Range"),n="RANGE",r=m.getString(t.SORT,!1);break;case"AREA":i=m.getStringByPropsWithoutTricks("Almanac","Area"),n="AREA",r=m.getString(t.SORT,!1);break;case"ARMINGTIME":var c;i=m.getStringByPropsWithoutTricks("Almanac","ArmingTime"),n="ARMINGTIME",r=null==(c=t.VALUE)?void 0:c.toString();break;case"PLANTFOOD":i=m.getStringByPropsWithoutTricks("Almanac","PlantFood"),n="PLANTFOOD",r=m.getString(t.SORT,!1);break;case"SUNPRODUCTION":i=m.getStringByPropsWithoutTricks("Almanac","SunProduction"),n="SUNPRODUCTION",r=isNaN(Number(t.VALUE))?m.getString(t.SORT,!1):Number(t.VALUE).toString();break;default:i=m.getStringByPropsWithoutTricks("Almanac","Special"),r=m.getString(t.SORT,!1)}t.NAME&&(i=m.getString(t.NAME,!1)),this.nameLabel.string=i,this.valueLabel.string=r,this.icon.playAnimation(n),this.familyIcon.playAnimation(l);var s=this.bg0;a&&(s=this.bg1),this.getComponent(g).spriteFrame=s},e}(u)).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(O.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(O.prototype,"valueLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(O.prototype,"familyIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"bg0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(O.prototype,"bg1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=O))||N));n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts"],(function(t){var i,n,o,e,a,r,l,s,d,h,c,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.dragonBones,d=t.Vec3,h=t.Component},function(t){c=t.NodePools},function(t){p=t.CharacterScale}],execute:function(){var u,m,b,y,f,P,v,w,A,R,S,g,M,C,E,F,k;a._RF.push({},"a97bbP1jrpAOKueZ/Uiwdhb","AnimationController",void 0);var U=r.ccclass,D=r.property;t("AnimationController",(u=U("AnimationController"),m=D({type:String}),b=D({type:[String],displayName:"randomAnimateNumber"}),y=D({type:Number}),f=D({type:l}),P=D({type:l}),v=D([String]),w=D(l),u((S=i((R=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,o(i,"IdleAnim",S,e(i)),o(i,"RandomAnim",g,e(i)),o(i,"RandRate",M,e(i)),i.timeScale=void 0,o(i,"Vineback",C,e(i)),i.vineback=null,o(i,"PotFront",E,e(i)),i.potFront=null,i.bodyPart=[],i.otherPart=[],o(i,"startHideSlotName",F,e(i)),o(i,"PlantUpper",k,e(i)),i.plantUpper=void 0,i.anmCompleteListenerDone=!1,i.body=null,i.willInitScaleOnEnable=!0,i}n(i,t);var a=i.prototype;return a.addVineBack=function(t){if(this.Vineback){var i=c.instantiatePooly(this.Vineback);i.parent=t,i.scale=this.node.scale,this.vineback=i.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.vineback),this.otherPart.push(this.vineback),this.vineback.customMaterial=this.body.customMaterial}this.playRandom()},a.addPotFront=function(t){if(this.PotFront){var i=c.instantiatePooly(this.PotFront);i.parent=t,i.scale=this.node.scale,this.potFront=i.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.potFront),this.otherPart.push(this.potFront),this.potFront.customMaterial=this.body.customMaterial}this.playRandom()},a.addPlantUpper=function(t){if(this.PlantUpper){var i=c.instantiatePooly(this.PlantUpper);i.parent=t,i.scale=this.node.scale,i.worldPosition=this.node.worldPosition,this.plantUpper=i.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.plantUpper),this.plantUpper.customMaterial=this.body.customMaterial,this.playRandom()}},a.onDisable=function(){this.otherPart.concat([this.plantUpper]).forEach((function(t){c.destroyPooly(null==t?void 0:t.node)}))},a.anmCompleteListenerOn=function(){this.anmCompleteListenerDone||(this.anmCompleteListenerDone=!0,this.body.addEventListener(s.EventObject.COMPLETE,this.randomAnimate,this))},a.playAnimation=function(t,i,n,o){void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=this.timeScale),this.bodyPart.forEach((function(e){e&&(e.timeScale=o,0==n?e.playAnimation(t,i):0!=n&&e.armature().animation.fadeIn(t,n,i))}))},a.playRandom=function(t){if(void 0===t&&(t=0),0==Math.round(100*Math.random()/this.RandRate)&&this.RandomAnim.length>0){var i=Math.round(Math.random()*(this.RandomAnim.length-1));this.playAnimation(this.RandomAnim[i],1,t)}else this.playAnimation(this.IdleAnim,1,t)},a.randomAnimate=function(t){t.type==s.EventObject.COMPLETE&&this.playRandom()},a.setTimeScale=function(t){this.bodyPart.forEach((function(i){i.timeScale=t}))},a.throwAllBackNFront=function(){var t=this;this.otherPart.concat().forEach((function(i){var n=t.bodyPart.indexOf(i);c.destroyPooly(i.node),-1!=n&&t.bodyPart.splice(n)}))},a.setBody=function(){this.body=this.node.getChildByName("Body").getComponent(s.ArmatureDisplay)},a.onLoad=function(){this.setBody()},a.onEnable=function(){this.willInitScaleOnEnable&&(this.node.scale=new d(p,p,p)),this.bodyPart=[],this.otherPart=[],this.timeScale=.9+.2*Math.random(),this.bodyPart.push(this.body),this.willInitScaleOnEnable&&this.playRandom(),this.anmCompleteListenerOn();var t=this.body.armature();this.startHideSlotName.forEach((function(i){var n;null==(n=t.getSlot(i))||n._setDisplayIndex(-1)}))},a.start=function(){this.body.timeScale=this.timeScale},a.fixTimeScale=function(t){var i=this;this.bodyPart.forEach((function(n){n.timeScale=i.timeScale*t*60}))},a.update=function(t){this.potFront&&(this.potFront.node.worldPosition=this.body.node.worldPosition,this.potFront.node.worldRotation=this.body.node.worldRotation,this.potFront.customMaterial=this.body.customMaterial),this.vineback&&(this.vineback.node.worldPosition=this.body.node.worldPosition,this.vineback.node.worldRotation=this.body.node.worldRotation,this.vineback.customMaterial=this.body.customMaterial),this.plantUpper&&(this.plantUpper.node.worldPosition=this.body.node.worldPosition,this.plantUpper.node.worldScale=this.body.node.worldScale,this.plantUpper.node.worldRotation=this.body.node.worldRotation,this.plantUpper.customMaterial=this.body.customMaterial)},i}(h)).prototype,"IdleAnim",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),g=i(R.prototype,"RandomAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(R.prototype,"RandRate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),C=i(R.prototype,"Vineback",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(R.prototype,"PotFront",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(R.prototype,"startHideSlotName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(R.prototype,"PlantUpper",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=R))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppleMortar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./CabbagePult.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,r,s,l,u,d,h,c,p,b,f,S,y,g,m,P;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Node,u=o.Prefab,d=o.Vec3},function(o){h=o.Plant,c=o.PlantProps},function(o){p=o.instantiatePooly},function(o){b=o.cabbagePult},function(o){f=o.Rectangle,S=o.ZombiePool,y=o.TombPool},function(o){g=o.Square},function(o){m=o.CharacterType},function(o){P=o.sounds}],execute:function(){var w,L,_,v,C,R,A,j,D,F,E,z,O,M,B,N,x,G,I,q,Z,U,X,Y,J,T;a._RF.push({},"37232ULxmVK/LhJc9iBJJeE","AppleMortar",void 0);var H=r.ccclass,V=r.property,k=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).ShootInterval=1.75,t.ShootIntervalAdditional=.25,t.StunDuration=.75,t.StunDurationPF=1,t}return n(t,o),t}(c),K=(w=H("appleMortarSound"),L=V([s]),_=V([s]),v=V([s]),C=V([s]),R=V([s]),A=V([s]),w((F=t((D=function(){function o(){i(this,"lobSounds",F,this),i(this,"preLobSounds",E,this),i(this,"foodLobSounds",z,this),i(this,"loadSounds",O,this),i(this,"loadBGSounds",M,this),i(this,"foodStartSounds",B,this)}var t=o.prototype;return t.playLobSounds=function(){P.playArray(this.lobSounds,.5,.2)},t.playPreLobSounds=function(){P.playArray(this.preLobSounds,.5,.2)},t.playFoodLobSounds=function(){P.playArray(this.foodLobSounds,.5,.2)},t.playLoadSounds=function(){P.playArray(this.loadSounds,.5,.4)},t.playLoadBGSounds=function(){P.playArray(this.loadBGSounds,.5,.4)},t.playFoodStartSounds=function(){P.playArray(this.foodStartSounds,1,.2)},o}()).prototype,"lobSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(D.prototype,"preLobSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(D.prototype,"foodLobSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(D.prototype,"loadSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(D.prototype,"loadBGSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(D.prototype,"foodStartSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=D))||j);o("AppleMortar",(N=H("AppleMortar"),x=V(l),G=V(u),I=V(u),q=V(K),N((X=t((U=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,i(t,"cabbageSpawnPoint",X,e(t)),i(t,"prj0",Y,e(t)),i(t,"prjFood",J,e(t)),i(t,"soundRes",T,e(t)),t._objdataOwn=new k,t.detector=new f,t._shooting=!1,t.shootCD=0,t}n(t,o);var a=t.prototype;return a.specialPlantOnSquareChange=function(o,t){t&&(this.detector=f.createRectangleNodeSide(t.node,g.SquareDisW*(9-this.inLnC.cIndex),3*g.SquareDisH))},a._lobAtZ=function(o,t,n){void 0===t&&(t=this.prj0),void 0===n&&(n=!1);var i=p(t),e=b.lobOneCabbageOnZombie(i,new d(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY,10),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,m.zombie,n,30,!0);e.setStun(this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration),this._dmgScale&&e.setDamage(e.damage_*this._dmgScale)},a._lobAtN=function(o,t,n){void 0===t&&(t=this.prj0),void 0===n&&(n=!1);var i=p(t);b.lobOneCabbageOnNode(i,new d(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY,10),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,2,m.zombie,n,30).setStun(this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration)},a._shoot=function(o,t){var n=this;if(void 0===t&&(t=this.prj0),o){var i=null,e=null,a=1/0;o.zombiePool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(i=o,a=o.worldPositionX)})),i?this._lobAtZ(i,t):(a=1/0,o.tombPool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(e=o,a=o.worldPositionX)})),e?this._lobAtN(e.node,t):o.toRight&&this._lobAtN(o.toRight,t))}},a.detectEnemies=function(o){var t=this;if(!o)return!1;var n=!1;return o.zombiePool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n||(o.tombPool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n)},a.detectEnemies3=function(){return!!this.detectEnemies(this.inLane)||(!!this.detectEnemies(this.inLane.UpperLane)||!!this.detectEnemies(this.inLane.LowerLane))},a.specialPlantOnEnable=function(){this.shootCD=0,this._shooting=!1},a.waterable=function(){return!this._shooting},a.specialPlantFood=function(o){this._shooting=!1,this.anmControl.playAnimation("Food",2)},a.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playLobSounds(),this._shoot(this.inLane),this._shoot(this.inLane.UpperLane),this._shoot(this.inLane.LowerLane),this._shooting=!1):"foodEnd"==o.name?this.foodEnd():"FoodShoot"==o.name?(this.foodLob(),this.soundRes.playFoodLobSounds()):"Ready"==o.name?this.soundRes.playPreLobSounds():"Load"==o.name?this.soundRes.playLoadSounds():"LoadBG"==o.name?this.soundRes.playLoadBGSounds():"FoodStart"==o.name&&this.soundRes.playFoodStartSounds()},a.foodLob=function(){var o=this;S.pool().concat().forEach((function(t){o._lobAtZ(t,o.prjFood,!0)})),y.pool().concat().forEach((function(t){o._lobAtN(t.node,o.prjFood,!0)}))},a.specialPlantFoodEnd=function(){this.anmControl.playRandom()},a.animationOnComplete=function(){this._shooting=!1},a.specialPlantUpdate=function(o){this.fooding||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&this.detectEnemies3()&&(this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1.5/this.shootCD)),this._shooting=!0))},t}(h)).prototype,"cabbageSpawnPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(U.prototype,"prj0",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(U.prototype,"prjFood",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(U.prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=U))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Armor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./SoundRescourses.ts","./levelController.ts"],(function(t){var e,i,n,r,a,s,o,h,l,u,c,d,p,g,m,f,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,o=t._decorator,h=t.Enum,l=t.Prefab,u=t.AudioClip,c=t.dragonBones,d=t.Material,p=t.AudioSource,g=t.Color,m=t.Component},function(t){f=t.materialRes},function(t){y=t.sounds},function(t){b=t.LevelPlay}],execute:function(){var v,S,A,D,w,C,z,R,M,P,H,E,T;s._RF.push({},"b6eeddCxRlJeI4ZcFg9Q6At","Armor",void 0);var B=o.ccclass,_=o.property,k=function(t){return t[t.plastic=0]="plastic",t[t.shield=1]="shield",t[t.none=2]="none",t}(k||{});h(k);t("Armor",(v=B("Armor Features"),S=_(Number),A=_(Boolean),D=_(l),w=_({type:k,visible:function(){return this.damageSounds.length<=0}}),C=_([u]),v((M=e((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"toughness",M,r(e)),e.ID=0,n(e,"isMetal",P,r(e)),e.health=0,n(e,"armorDROP",H,r(e)),e.db=null,e.hurting=0,n(e,"hurtSoundType",E,r(e)),n(e,"damageSounds",T,r(e)),e.material=void 0,e.owner=void 0,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.health=this.toughness,this.db=this.getComponent(c.ArmatureDisplay);var t=new d;t.initialize({effectAsset:f.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0)},s.onEnable=function(){this.hurting=0,this.getComponent(p)||this.addComponent(p),this.health=this.toughness,this.setDisplay()},s.playHurtSound=function(){if(this.damageSounds.length)y.playArray(this.damageSounds);else switch(this.hurtSoundType){case k.plastic:y.playArmorHitPlastic();break;case k.shield:y.playArmorHitShield()}},s.shouldMaterial=function(){var t=new g(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.db.customMaterial=this.material},s.update=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},s.dealDamage=function(t,e){var i,n;if(void 0===e&&(e=!0),t<=0)return this.health;var r=this.health;return this.health-=t*b.zombieDamageReceiveScale,this.health<0&&(this.health=0),this.hurting=10,e&&this.playHurtSound(),this.setDisplay(),null==(i=this.owner)||i.onArmorDamaged(this,this.stage),null==(n=this.owner)||n.pushSunBeanHealth(r-this.health),this.health},s.setDisplay=function(){this.db.playAnimation("Broken"+this.stage.toString())},a(e,[{key:"stage",get:function(){var t=0;return this.health>2*this.toughness/3?t=0:this.health<=2*this.toughness/3&&this.health>this.toughness/3?t=1:this.health<=this.toughness/3&&(t=2),t}}]),e}(m)).prototype,"toughness",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 370}}),P=e(R.prototype,"isMetal",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(R.prototype,"armorDROP",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(R.prototype,"hurtSoundType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.none}}),T=e(R.prototype,"damageSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=R))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/Armors.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,u,c,o,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){u=e.cclegacy,c=e._decorator,o=e.Prefab,a=e.Component}],execute:function(){var b,l,s,_,k,p,f,y,g,m,h,w,d,z,v,A,B,D,L,P,x,F,I,R,j,q,C,E,H,M,O,S,T,W,X,Z,G,J,K,N,Q,U,V,Y,$,ee,re,te,ne,ie,ue,ce,oe;u._RF.push({},"e5554r+OABBIoqkx+eyZoWX","Armors",void 0);var ae=c.ccclass,be=c.property,le=e("armorEnum",function(e){return e[e.basic_cone=0]="basic_cone",e[e.basic_bucket=1]="basic_bucket",e[e.basic_bricks=2]="basic_bricks",e[e.egypt_cone=3]="egypt_cone",e[e.egypt_bucket=4]="egypt_bucket",e[e.egypt_bricks=5]="egypt_bricks",e[e.future_cone=6]="future_cone",e[e.future_bucket=7]="future_bucket",e[e.future_bricks=8]="future_bricks",e[e.pirate_cone=9]="pirate_cone",e[e.pirate_bucket=10]="pirate_bucket",e[e.pirate_bricks=11]="pirate_bricks",e[e.cowboy_cone=12]="cowboy_cone",e[e.cowboy_bucket=13]="cowboy_bucket",e[e.cowboy_bricks=14]="cowboy_bricks",e[e.kongfu_cone=15]="kongfu_cone",e[e.kongfu_bucket=16]="kongfu_bucket",e[e.kongfu_helmet=17]="kongfu_helmet",e[e.dark_cone=18]="dark_cone",e[e.dark_bucket=19]="dark_bucket",e[e.dark_helmet=20]="dark_helmet",e[e.dark_bricks=21]="dark_bricks",e[e.sky_cone=22]="sky_cone",e[e.sky_bucket=23]="sky_bucket",e[e.amount=24]="amount",e}({})),se=e("armors",function(){function e(){}return e.getArmor=function(e){switch(e){case le.basic_bucket:return this.res.basic_bucket;case le.basic_bricks:return this.res.basic_bricks;case le.future_cone:return this.res.future_cone;case le.future_bucket:return this.res.future_bucket;case le.future_bricks:return this.res.future_bricks;case le.egypt_cone:return this.res.egypt_cone;case le.egypt_bucket:return this.res.egypt_bucket;case le.egypt_bricks:return this.res.egypt_bricks;case le.cowboy_cone:return this.res.cowboy_cone;case le.cowboy_bucket:return this.res.cowboy_bucket;case le.cowboy_bricks:return this.res.cowboy_bricks;case le.pirate_cone:return this.res.pirate_cone;case le.pirate_bucket:return this.res.pirate_bucket;case le.pirate_bricks:return this.res.pirate_bricks;case le.kongfu_cone:return this.res.kongfu_cone;case le.kongfu_bucket:return this.res.kongfu_bucket;case le.kongfu_helmet:return this.res.kongfu_helmet;case le.dark_cone:return this.res.dark_cone;case le.dark_bucket:return this.res.dark_bucket;case le.dark_helmet:return this.res.dark_helmet;case le.dark_bricks:return this.res.dark_bricks;case le.sky_cone:return this.res.sky_cone;case le.sky_bucket:return this.res.sky_bucket;default:return this.res.basic_cone}},e}());se.res=void 0;e("Armors",(b=ae("Armors"),l=be(o),s=be(o),_=be(o),k=be(o),p=be(o),f=be(o),y=be(o),g=be(o),m=be(o),h=be(o),w=be(o),d=be(o),z=be(o),v=be(o),A=be(o),B=be(o),D=be(o),L=be(o),P=be(o),x=be(o),F=be(o),I=be(o),R=be(o),j=be(o),q=be(o),b((H=r((E=function(e){function r(){for(var r,t=arguments.length,u=new Array(t),c=0;c<t;c++)u[c]=arguments[c];return r=e.call.apply(e,[this].concat(u))||this,n(r,"basic_cone",H,i(r)),n(r,"basic_bucket",M,i(r)),n(r,"basic_bricks",O,i(r)),n(r,"future_cone",S,i(r)),n(r,"future_bucket",T,i(r)),n(r,"future_bricks",W,i(r)),n(r,"egypt_cone",X,i(r)),n(r,"egypt_bucket",Z,i(r)),n(r,"egypt_bricks",G,i(r)),n(r,"pirate_cone",J,i(r)),n(r,"pirate_bucket",K,i(r)),n(r,"pirate_bricks",N,i(r)),n(r,"cowboy_cone",Q,i(r)),n(r,"cowboy_bucket",U,i(r)),n(r,"cowboy_bricks",V,i(r)),n(r,"kongfu_cone",Y,i(r)),n(r,"kongfu_bucket",$,i(r)),n(r,"kongfu_helmet",ee,i(r)),n(r,"dark_cone",re,i(r)),n(r,"dark_bucket",te,i(r)),n(r,"dark_helmet",ne,i(r)),n(r,"dark_bricks",ie,i(r)),n(r,"sky_cone",ue,i(r)),n(r,"sky_bucket",ce,i(r)),n(r,"lost_cone",oe,i(r)),r}return t(r,e),r.prototype.onLoad=function(){se.res=this},r}(a)).prototype,"basic_cone",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(E.prototype,"basic_bucket",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(E.prototype,"basic_bricks",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(E.prototype,"future_cone",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(E.prototype,"future_bucket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=r(E.prototype,"future_bricks",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=r(E.prototype,"egypt_cone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=r(E.prototype,"egypt_bucket",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=r(E.prototype,"egypt_bricks",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(E.prototype,"pirate_cone",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=r(E.prototype,"pirate_bucket",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(E.prototype,"pirate_bricks",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=r(E.prototype,"cowboy_cone",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(E.prototype,"cowboy_bucket",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(E.prototype,"cowboy_bricks",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=r(E.prototype,"kongfu_cone",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=r(E.prototype,"kongfu_bucket",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=r(E.prototype,"kongfu_helmet",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=r(E.prototype,"dark_cone",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=r(E.prototype,"dark_bucket",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=r(E.prototype,"dark_helmet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=r(E.prototype,"dark_bricks",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=r(E.prototype,"sky_cone",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=r(E.prototype,"sky_bucket",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=r(E.prototype,"lost_cone",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=E))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/BananaLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts","./Plant.ts"],(function(n){var t,o,i,a,e,r,s,l,u,c,d,h,p,f,m,y,S,w,b,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.Prefab,u=n.Vec2,c=n.KeyCode},function(n){d=n.SniperPlant},function(n){h=n.NodePools,p=n.ArrayGet},function(n){f=n.CharacterType},function(n){m=n.commonShot},function(n){y=n.projectile},function(n){S=n.Square},function(n){w=n.ZombiePool},function(n){b=n.sounds},function(n){g=n.PlantProps}],execute:function(){var P,A,C,R,L,v,O,j,z,k,B,_,F,D,T,I,N,E,K,M;e._RF.push({},"cf114hcRKJKgbd4gyuONecz","BananaLauncher",void 0);var V=r.ccclass,q=r.property,x=n("banana",function(){function n(){}return n.throwOneBananaOnPos=function(n,t,o,i,a,e){n.parent=i;var r=n.getComponent(m);return r.worldPosition=new u(t.x,t.y),r.height=o,r.gravity=0,r.linearVelocity=new u(0,0),r.bodyLinearVelocity=-a,y.registerProjectile(n,e),r},n.throwOneBananaOnNode=function(n,t,o,i,a,e){return this.throwOneBananaOnPos(n,t.worldPosition,o,i,a,e)},n}()),G=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).RestTime=20,t}return o(t,n),t}(g),W=(P=V("bananalauncherSound"),A=q([s]),C=q([s]),R=q([s]),L=q([s]),v=q([s]),P((z=t((j=function(){function n(){i(this,"shootSounds",z,this),i(this,"shootSaySounds",k,this),i(this,"wakeSounds",B,this),i(this,"foodSaySounds",_,this),i(this,"foodStartSounds",F,this)}var t=n.prototype;return t.playShootSound=function(n){void 0===n&&(n=!0),b.playArray(this.shootSounds,1,.1),n&&b.playArray(this.shootSaySounds,1,.1)},t.playWakeSound=function(){b.playArray(this.wakeSounds,1,.1)},t.playFoodSound=function(){b.playArray(this.foodStartSounds,1,.1),b.playArray(this.foodSaySounds,1,.1)},n}()).prototype,"shootSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(j.prototype,"shootSaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(j.prototype,"wakeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(j.prototype,"foodSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(j.prototype,"foodStartSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=j))||O);n("BananaLauncherPlant",(D=V("BananaLauncherPlant"),T=q(W),I=q(l),D((K=t((E=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new G,i(t,"soundRes",K,a(t)),i(t,"projectile",M,a(t)),t.coolingdown=0,t}o(t,n);var e=t.prototype;return e.LocateStartKeyCode=function(){return c.KEY_B},e.animationListener=function(n){if("drop"==n.name){var t;this.soundRes.playShootSound(!1);var o=h.instantiatePooly(this.projectile),i=w.inLawnPool(),a=null==(t=p.getRandom(i))?void 0:t.inLnC;a||(a=S.getRandomLnC()),x.throwOneBananaOnNode(o,a.plantPoint,1e3,a.inLane.prjLayer,22,f.zombie)}"foodEnd"==n.name&&this.foodEnd()},e.sniperPlantLocatable=function(){return this.coolingdown<=0},e.setAnimation=function(n){switch(void 0===n&&(n=0),n){case 1:this.anmControl.IdleAnim="Steady",this.anmControl.RandomAnim=[],this.deathAnm="Death";break;case 2:this.anmControl.IdleAnim="IdleSad",this.anmControl.RandomAnim=["RandomSad"],this.deathAnm="DeathSad";break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"}},e.specialSniperPlantDie=function(){},e.specialSniperFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.setAnimation(2),this.coolingdown=1/0,this.anmControl.playAnimation("Food",1)},e.waterable=function(){return this.sniperPlantLocatable()},e.specialPlantFoodEnd=function(){this.coolingdown=this._objdataOwn.RestTime},e.specialSniperPlantOnEnable=function(){this.coolingdown=0,this.setAnimation()},e.specialSniperPlantLocateCancel=function(){this.setAnimation(),this.anmControl.playRandom()},e.specialSniperPlantLocateStart=function(){this.setAnimation(1),this.anmControl.playAnimation("TakeAim",1)},e.specialSniperPlantTrigger=function(n){this.setAnimation(2),this.coolingdown=this._objdataOwn.RestTime,this.anmControl.playAnimation("Launch",1),this.soundRes.playShootSound();var t=h.instantiatePooly(this.projectile);x.throwOneBananaOnNode(t,n.plantPoint,1e3,n.inLane.prjLayer,22,f.zombie)},e._wake=function(){this.setAnimation(0),this.anmControl.playAnimation("GetReady",1),this.soundRes.playWakeSound()},e.specialPlantUpdate=function(n){this.coolingdown>0&&(this.coolingdown-=n,this.coolingdown<=0&&this._wake())},t}(d)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),M=t(E.prototype,"projectile",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=E))||N));e._RF.pop()}}}));

System.register("chunks:///_virtual/Bloomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Character.ts","./Square.ts","./Peashooter.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,s,u,h,c,l,d,f,p,b,g,m,y,S,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,u=t.Prefab,h=t.Node,c=t.Vec2,l=t.Vec3,d=t.dragonBones},function(t){f=t.Plant,p=t.PlantProps},function(t){b=t.Rectangle},function(t){g=t.NodePools},function(t){m=t.CharacterType},function(t){y=t.Square},function(t){S=t.peaShooter},function(t){P=t.sounds}],execute:function(){var w,v,C,_,R,j,A,B,D,E,O,z,L,x,M,I,k,q,F,N,H,T;a._RF.push({},"d3578tct9RIlYHwJbYd9E0Y","Bloomerang",void 0);var Y=r.ccclass,W=r.property,V=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=2.7,o.ShootIntervalAdditional=.15,o.PierceCount=3,o.PlantfoodBoomerangCount=16,o}return n(o,t),o}(p),J=(w=Y("bloomerangSound"),v=W([s]),C=W([s]),_=W([s]),R=W([s]),w((B=o((A=function(){function t(){e(this,"catchSound",B,this),e(this,"shootSound",D,this),e(this,"foodSound",E,this),e(this,"blockSound",O,this)}var o=t.prototype;return o.playBlockSound=function(){P.playArray(this.blockSound,1,.1)},o.playFoodSound=function(){P.playArray(this.foodSound,1,.1)},o.playShootSound=function(){P.playArray(this.shootSound,1,.1)},o.playCatchSound=function(){P.playArray(this.catchSound,1)},t}()).prototype,"catchSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(A.prototype,"shootSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=o(A.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(A.prototype,"blockSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=A))||j);t("BloomerangPlant",(z=Y("BloomerangPlant"),L=W({type:Number,min:0}),x=W(u),M=W(J),I=W(h),z((F=o((q=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new V,e(o,"foodBoomerangMaxCount",F,i(o)),e(o,"boomerang",N,i(o)),e(o,"soundRes",H,i(o)),o.detector=null,o.prjDetecter=null,o.boomerangsShot=[],o.catching=!1,e(o,"boomerangSpawnpoint",T,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var a=o.prototype;return a._shoot=function(t,o,n){void 0===t&&(t=!1),void 0===o&&(o=new c(15,0)),void 0===n&&(n=this.boomerang);var e=g.instantiatePooly(n);if(e){var i=1;t&&(i+=Math.round(4*Math.random())/10-.2);var a=S.shootOnePea(e,this.fooding?new l(this.worldPositionX,this.worldPositionY,0):new l(this.boomerangSpawnpoint.getWorldPosition().x,this.worldPositionY,0),this.boomerangSpawnpoint.worldPosition.y-this.shadeWorldPosition.y,this.inLane.prjLayer,new c(o.x*i,o.y*i),m.zombie);a&&(a.maxTargetNumber=this._objdataOwn.PierceCount,a.master=this,a.judgeHaveEnemy=!0,this.fooding&&(a.judgeHaveEnemy=!1,a.maxTargetNumber=1/0),this._dmgScale&&a.setDamage(a.damage_*this._dmgScale)),this.boomerangsShot.push(a)}this.shooting=!1},a.specialPlantFoodEnd=function(){this.catching=!1,this.anmControl.playRandom(),this.busy=0},a.umbrella=function(){return this.shooting||this.anmControl.playAnimation("Block",1),this.soundRes.playBlockSound(),!0},a.specialPlantFood=function(){var t=this;this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",-1),this.busy=1/0;var o=this._objdataOwn.PlantfoodBoomerangCount,n=0;this.schedule((function(){t._shoot(!0,new c(15,0)),t._shoot(!0,new c(-15,0)),t._shoot(!0,new c(0,10)),t._shoot(!0,new c(0,-10)),++n>=o&&t.foodEnd()}),2/o,o,.01)},a._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.5/this.busy,1))},a.animationListener=function(t){"Shoot"==t.name?this._shoot():"ShootSound"==t.name?this.soundRes.playShootSound():t.name},a.setDetecter=function(){this.detector=b.createRectangleNodeSide(this.inLnC.node,y.SquareDisW*(9-this.cIndex),y.SquareDisH)},a.detectPrj=function(){var t=this;this.boomerangsShot.concat().forEach((function(o){var n=t.boomerangsShot.indexOf(o);o.master==t&&o.returned&&t.prjDetecter.judgeInRecP(o.worldPosition)&&(o.fade(),-1!=n&&t.boomerangsShot.splice(n,1),t.soundRes.playCatchSound(),t.shooting||t.fooding||t.catching||(t.catching=!0,t.anmControl.playAnimation("Catch",1,.1)))}))},a.waterable=function(){return!this.shooting},a.specialPlantOnEnable=function(){var t=this;this.catching=!1,this.boomerangsShot=[],this.busy=0,this.anmControl.body.addEventListener(d.EventObject.LOOP_COMPLETE,(function(){t.shooting=!1,t.catching=!1}),this)},a.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.busy*=this._cdScale),this._shootPeaAnimation()},a.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.detectEnemy()&&this.startShooting()),this.prjDetecter=b.createRectangleCenter(this.worldPosition,.6*y.SquareDisW,.6*y.SquareDisH),this.detectPrj()},o}(f)).prototype,"foodBoomerangMaxCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),N=o(q.prototype,"boomerang",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(q.prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),T=o(q.prototype,"boomerangSpawnpoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=q))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Blover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./FrontYard.ts","./NodePools.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,r,e,l,s,c,u,h,p,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){r=n.cclegacy,e=n._decorator,l=n.AudioClip},function(n){s=n.Plant,c=n.PlantProps},function(n){u=n.FrontYard},function(n){h=n.ArrayGet},function(n){p=n.PlantPool},function(n){d=n.sounds}],execute:function(){var f,w,b,y,m;r._RF.push({},"1f0c1xbLLRKlLjI78K3hZz+","Blover",void 0);var v=e.ccclass,P=e.property,g=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).BlowDuration=3,t}return o(t,n),t}(c);n("BloverPlant",(f=v("BloverPlant"),w=P([l]),f((m=t((y=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new g,i(t,"blowSound",m,a(t)),t.blowing=!1,t}o(t,n);var r=t.prototype;return r.specialPlantOnEnable=function(){this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1,this.anmControl.IdleAnim="Blowing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("BlowStart",1),this.blowing=!1},r.playBlowSound=function(){d.playArray(this.blowSound,1,.1)},r.specialPlantUpdateForce=function(n){this.blowing&&(u.windy=u.windy>1?u.windy:1)},r.animationListener=function(n){var t=this;if("blowStart"==n.name){this.playBlowSound(),this.blowing=!0,this._cdScale&&this.scheduleOnce((function(){t.die(),t.anmControl.playAnimation("Death",1,0)}),this._objdataOwn.BlowDuration);var o=h.randomize(p.pool()),i=0;o.forEach((function(n,t){i>=4||n.blowStart()&&i++}))}},t}(s)).prototype,"blowSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BodyGrouper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,r,a,l,u,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.dragonBones,u=n.math,s=n.Component}],execute:function(){var c,m,p,d,h,f,y,b,g,A,v;r._RF.push({},"58139gaPaBD5JtqBrmcDFyc","BodyGrouper",void 0);var D=a.ccclass,S=a.property;n("BodyGrouper",(c=D("BodyGrouper"),m=S(String),p=S(String),d=S(String),h=S(String),c((b=t((y=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"IdleAnm",b,i(t)),o(t,"WalkAnm",g,i(t)),o(t,"DeathAnm",A,i(t)),o(t,"EatAnm",v,i(t)),t.armSlots=[],t.handSlots=[],t.headSlots=[],t.body=void 0,t.currentAnimationName="",t}e(t,n);var r=t.prototype;return r.showArm=function(n){void 0===n&&(n=!0),this.handSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this.armSlots.forEach((function(t){t._setDisplayIndex(n?-1:0)}))},r.showHead=function(n){void 0===n&&(n=!0),this.headSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)}))},r.setColor=function(n){var t=255-n.r,e=255-n.g,o=255-n.b,i=255-n.a,r=this.getComponent(l.ArmatureDisplay).color,a=r.r,s=r.g,c=r.b,m=r.a;new u.Color(a-t,s-e,c-o,m-i)},r.playAnimation=function(n,t,e){var o,i;if(void 0===t&&(t=1/0),void 0===e&&(e=0),-1!=(null==(o=this.body)||null==(o=o.armature())?void 0:o.animation.animationNames.indexOf(n))){var r;if(e>0)null==(r=this.body)||null==(r=r.armature())||null==(r=r.animation)||r.fadeIn(n,e,t);else null==(i=this.body)||i.playAnimation(n,t);this.currentAnimationName=n}},r.onEnable=function(){this.setColor(new u.Color(255,255,255,255))},r.hitFlash=function(){},r.onLoad=function(){var n=this;this.getComponent(l.ArmatureDisplay).armature().getSlots().forEach((function(t){t.name.includes("_HEAD")?n.headSlots.push(t):t.name.includes("_HAND")?n.handSlots.push(t):t.name.includes("_ARM")&&n.armSlots.push(t)}))},t}(s)).prototype,"IdleAnm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),g=t(y.prototype,"WalkAnm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Walk"}}),A=t(y.prototype,"DeathAnm",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Death"}}),v=t(y.prototype,"EatAnm",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eat"}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/BonkChoy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,a,o,n,i,s,r,c,l,h,d,u,m,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.AudioClip,c=t.macro,l=t.Vec2,h=t.dragonBones},function(t){d=t.Plant,u=t.PlantProps},function(t){m=t.Rectangle},function(t){b=t.Square},function(t){f=t.sounds}],execute:function(){var g,y,p,D,S,k,P,v,A,R,C,w,_,T;i._RF.push({},"3c6a9Ol/9RMhZdXe+1G4AxT","BonkChoy",void 0);var L=s.ccclass,E=s.property,j=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).Damage=15,e.DamageHeavy=30,e.DamagePlantfood=60,e.PlantfoodHitCount=25,e.ZombieDetectorWidth=4,e.TombDetectorWidth=3,e.AttackInterval=.3,e}return a(e,t),e}(u),O=(g=L("bonkChoySound"),y=E(r),p=E(r),D=E(r),g((P=e((k=function(){function t(){o(this,"attackAirSound",P,this),o(this,"attackGoalSound",v,this),o(this,"defeatSound",A,this)}var e=t.prototype;return e.playAttackAir=function(){f.play(this.attackAirSound,1,.01)},e.playAttackGoal=function(){f.play(this.attackGoalSound,1,.01)},e.playDefeatSound=function(){f.play(this.defeatSound,1,.01)},t}()).prototype,"attackAirSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(k.prototype,"attackGoalSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(k.prototype,"defeatSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S);t("BonkChoyPlant",(R=L("BonkChoy"),C=E(O),R((T=e((_=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new j,o(e,"soundRes",T,n(e)),e.target=null,e.foodPunch=0,e.detector=void 0,e.tombDetector=void 0,e.foodDetecter=void 0,e.targetTomb=void 0,e.busy=24,e.bonking=!1,e}a(e,t);var i=e.prototype;return i.specialPlantFood=function(){this.faceNormal(),this.anmControl.playAnimation("FoodStart",c.REPEAT_FOREVER,0,1),this.foodPunch=0,this.busy=1/0},i.waterable=function(){return!this.bonking},i.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0},i.attackAnimation=function(){var t=this._objdataOwn.DamageHeavy;this._dmgScale&&(t*=this._dmgScale);var e=Math.max(1,.3/this.busy);this.target?(this.target.node.worldPosition.x<this.node.worldPosition.x?this.faceNormal(-1):this.faceNormal(),this.target.totalHealth()<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e)):this.targetTomb&&(this.targetTomb.node.worldPosition.x<this.node.worldPosition.x?this.faceNormal(-1):this.faceNormal(),this.targetTomb.health<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e))},i.specialPlantOnSquareChange=function(t,e){this.setDetector()},i.animationListener=function(t){if("attackAir"==t.name&&this.soundRes.playAttackAir(),"attackGoal"==t.name){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.target?(this.target.dealDamage(e,!0,!0,!0,new l(20*this.body.scale.x,0)),this.soundRes.playAttackGoal()):this.targetTomb&&(this.targetTomb.dealDamage(e),this.soundRes.playAttackGoal()),this.target=null,this.targetTomb=null,this.bonking=!1}if("attackHeavy"==t.name){var a=this._objdataOwn.DamageHeavy;this._dmgScale&&(a*=this._dmgScale),this.target?(this.target.dealDamage(a,!0,!0,!0,new l(20*this.body.scale.x,30)),this.soundRes.playDefeatSound()):this.targetTomb&&(this.targetTomb.dealDamage(a),this.soundRes.playDefeatSound()),this.target=null,this.targetTomb=null,this.bonking=!1}if("foodAttack"==t.name){var o=this._objdataOwn.DamagePlantfood;this._dmgScale&&(o*=this._dmgScale),this.soundRes.playAttackAir(),this.detectFoodEnemy().forEach((function(t){t.dealDamage(o)})),this.detectFoodTomb().forEach((function(t){t.dealDamage(o)})),++this.foodPunch>=this._objdataOwn.PlantfoodHitCount&&this.foodEnd()}},i.faceNormal=function(t){void 0===t&&(t=1),t<0?this.body.setScale(-Math.abs(this.body.scale.x),this.body.scale.y):t>0&&this.body.setScale(Math.abs(this.body.scale.x),this.body.scale.y)},i.setDetector=function(){this.detector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.ZombieDetectorWidth*b.SquareDisW,b.SquareDisH),this.tombDetector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.TombDetectorWidth*b.SquareDisW,b.SquareDisH),this.foodDetecter=m.createRectangleNodeCenter(this.inLnC.node,3*b.SquareDisW,3*b.SquareDisH)},i.faceToNormal=function(){this.faceNormal(1)},i.specialPlantOnEnable=function(){this.busy=0,this.anmControl.body.addEventListener(h.EventObject.COMPLETE,this.faceToNormal,this)},i.detectFoodEnemy=function(){for(var t=[],e=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),a=0;a<e.length;a++)this.foodDetecter.judgeCrossRec(e[a].bodyRec)&&-1==t.indexOf(e[a])&&t.push(e[a]);return t},i.detectFoodTomb=function(){for(var t=[],e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=0;a<e.length;a++)this.foodDetecter.judgeCrossRec(e[a].bodyRec)&&t.push(e[a]);return t},i.detectTomb=function(){var t=this,e=null,a=1/0;return this.inLane.tombPool().forEach((function(o){var n=o.node.worldPosition.x;t.tombDetector.judgeCrossRec(o.bodyRec)&&n<a&&(e=o,a=n)})),e},i.detectEnemy=function(){var t=this,e=null,a=this.inLane.zombiePool(),o=1/0;return a.forEach((function(a){var n=a.bodyRec.prjX().x;t.detector.judgeCrossRec(a.bodyRec)&&n<o&&(e=a,o=n)})),e},i.startBonking=function(){this.bonking=!0,this.busy=this._objdataOwn.AttackInterval,this._cdScale&&(this.busy*=this._cdScale),this.attackAnimation()},i.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.fooding&&(this.busy=0,((this.target=this.detectEnemy())||(this.targetTomb=this.detectTomb()))&&this.startBonking())},e}(d)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),w=_))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/boomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,r,i,a,o,s,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.Vec2,a=e.tween},function(e){o=e.ProjectileEnemyType,s=e.commonShot},function(e){c=e.LineSegment},function(e){u=e.Square}],execute:function(){var d;n._RF.push({},"b4ba8bZy4pFt52T8XYiyO5U","boomerang",void 0);var h=r.ccclass;r.property,e("boomerangEnemy",(function(e,t){void 0===t&&(t=!1),this.node=null,this.damageDealt=!1,this.node=e,this.damageDealt=t})),e("boomerang",h("boomerang")(d=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).popWhenStatic=!1,t.contactingEnemies=[],t.targets=null,t.maxTargetNumber=3,t.returned=!1,t._returned=!1,t.master=void 0,t.returning=!1,t.judgeHaveEnemy=!0,t}t(n,e);var r=n.prototype;return r.full=function(){return this.targets.length>=this.maxTargetNumber},r.haveEnemy=function(e){var t=this,n=!1,r=c.createLineVec(e,new i(9*u.SquareDisW,0));return this.inLane.zombiePool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),!!n||(this.inLane.tombPool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),n)},r.returnStart=function(){var e=this;if(!this.returning&&!this.returned){var t=this.linearVelocity;this.returning=!0;var n=this;a(n).to(.3,{linearVelocity:new i(0,0)}).call((function(){e.contactingEnemies.forEach((function(e){e.damageDealt=!1})),e.returned=!0,e.judgeHaveEnemy?e._returned=!0:(e.returning=!1,e.targets=[]),a(n).to(.3,{linearVelocity:new i(-t.x,-t.y)}).start()})).start()}},r.characterOnEnable=function(){this.initialize(),this.contactingEnemies=[],this.targets=[],this.returned=!1,this._returned=!1,this.returning=!1},r.characterOnSquareChange=function(e,t){-1!=t.cIndex&&9!=t.cIndex&&-1!=t.lIndex&&5!=t.lIndex||this.returnStart(),!this.judgeHaveEnemy||!this.full()&&this.haveEnemy(this.realWorldPosition)||this.returnStart()},r.characterUpdate=function(e){this.dead||(this.rotate(),this.hitBorderOrGround(e),this.move(e),this.enemyType==o.zombie?this.detectEnemy(e):this.detectEnemyNormal(e))},r.detectEnemy=function(e){var t,n,r=this;this.detectEnemyOn&&(this.full()&&!this.returned||(null==(t=this.inLane)||t.zombiePool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t&&!r.full()||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&e.commonShotPopOnTouch(r)&&(r.dealDamageToTarget(e),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}})),null==(n=this.inLane)||n.tombPool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&(e.dealDamage(r.damage),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}}))))},n}(s))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/Buttercup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,u,s,l,c,b,d,h,f,p,P,g,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.AudioClip,s=t.Prefab,l=t.Node},function(t){c=t.Plant,b=t.PlantProps},function(t){d=t.NodePools},function(t){h=t.cabbagePult},function(t){f=t.CharacterType},function(t){p=t.ZombiePool},function(t){P=t.TileLiquidEnum},function(t){g=t.Square},function(t){m=t.sounds}],execute:function(){var w,y,S,D,v,B,O,_,j,L,T,z,Z,C,A,E,R,q;a._RF.push({},"897991iB9tMG6ufv1/LzPQP","Buttercup",void 0);var F=r.ccclass,x=r.property,M=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).TileButterDuration=120,o.ButterDamage=100,o.TileButterDurationPlantfood=150,o.ButterDamagePlantfood=150,o.ButterDuration=8,o.ButterThrowInterval=1,o}return n(o,t),o}(b),N=(w=F("buttercupSound"),y=x([u]),S=x([u]),D=x([u]),w((O=o((B=function(){function t(){e(this,"shootSound",O,this),e(this,"foodSound",_,this),e(this,"titterSound",j,this)}var o=t.prototype;return o.playShootSound=function(){m.playArray(this.shootSound,1,.1)},o.playFoodSound=function(){m.playArray(this.foodSound,1,.1)},o.platTitterSound=function(){m.playArray(this.titterSound,1,.1)},t}()).prototype,"shootSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(B.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(B.prototype,"titterSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=B))||v);t("ButtercupPlant",(L=F("ButtercupPlant"),T=x(N),z=x(s),Z=x(l),L((E=o((A=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new M,e(o,"soundRes",E,i(o)),e(o,"butterPrj",R,i(o)),e(o,"butterSpawnPoint",q,i(o)),o.targetZombies=[],o.coolDown=0,o.lobbing=!1,o}n(o,t);var a=o.prototype;return a.animationListener=function(t){var o=this;if("Lob"==t.name)this.lobOnTargets(),this.lobbing=!1;else if("LobFood"==t.name){this.soundRes.playFoodSound();var n=this._objdataOwn.ButterDamagePlantfood;this._dmgScale&&(n*=this._dmgScale),p.pool().concat().forEach((function(t){var e=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnZombie(e,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,f.zombie,!0).setButter(o._objdataOwn.ButterDuration).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDurationPlantfood)})),g.getRandomSquares(20).forEach((function(t){var e=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnNode(e,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,f.zombie,!0).setButter(o._objdataOwn.ButterDuration).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDurationPlantfood)}))}else"foodEnd"==t.name?this.foodEnd():"titter"==t.name&&this.soundRes.platTitterSound()},a.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1),this.lobbing=!1},a.waterable=function(){return!this.lobbing},a.specialPlantOnEnable=function(){this.coolDown=0,this.targetZombies=[],this.lobbing=!1},a.lobOnTargets=function(t){var o=this;void 0===t&&(t=this._objdataOwn.ButterDuration);var n=this._objdataOwn.ButterDamage;this._dmgScale&&(n*=this._dmgScale),this.targetZombies.forEach((function(e){if(e.isAlive()){var i=d.instantiatePooly(o.butterPrj);h.lobOneCabbageOnZombie(i,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,e,3,f.zombie,!0).setButter(t).setDamage(n).setTileLiquid(P.butterJuice,o._objdataOwn.TileButterDuration)}})),this.targetZombies=[]},a.specialPlantDie=function(){this.lobOnTargets()},a.specialPlantUpdate=function(t){var o=this;this.coolDown>0&&(this.coolDown-=t),this.targetZombies.concat().forEach((function(t){if(!t.isAlive()){var n=o.targetZombies.indexOf(t);-1!=n&&o.targetZombies.splice(n,1)}}))},a.specialPlantOnEaten=function(t,o,n,e){if(o&&(-1==this.targetZombies.indexOf(o)&&this.targetZombies.push(o),this.coolDown<=0)){this.soundRes.playShootSound();var i=this._objdataOwn.ButterThrowInterval;this._cdScale&&(i*=this._cdScale),i=Math.max(.1,i),this.anmControl.playAnimation("Lob",1,.1,Math.max(1,.5/i)),this.coolDown=i,this.lobbing=!0}},o}(c)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),R=o(A.prototype,"butterPrj",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(A.prototype,"butterSpawnPoint",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./KeyListener.ts"],(function(o){var n,t,e,u,i,r,c,a,l,d,s,S;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,c=o.AudioClip,a=o.AudioSource,l=o.Node,d=o.Component},function(o){s=o.SoundFXController},function(o){S=o.KeyListener}],execute:function(){var h,p,f,y,C,g,v;i._RF.push({},"2e673nCkwJH5Jl8XLIW8wTA","ButtonWithSounds",void 0);var T=r.ccclass,m=r.property;o("ButtonWithSounds",(h=T("ButtonWithSounds"),p=m(c),f=m(c),h((g=n((C=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=o.call.apply(o,[this].concat(i))||this).audioSource=void 0,e(n,"touchStartSound",g,u(n)),e(n,"touchEndSound",v,u(n)),n}return t(n,o),n.prototype.onLoad=function(){var o=this;this.getComponent(a)||this.addComponent(a),this.audioSource=this.getComponent(a),this.node.on(l.EventType.TOUCH_START,(function(){S.screenColorTweening||o.touchStartSound&&o.audioSource.playOneShot(o.touchStartSound,s.SoundFXVolume)})),this.node.on(l.EventType.TOUCH_END,(function(){S.screenColorTweening||o.touchEndSound&&o.audioSource.playOneShot(o.touchEndSound,s.SoundFXVolume)}))},n}(d)).prototype,"touchStartSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(C.prototype,"touchEndSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/CabbagePult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./ProjectileManager.ts","./Plant.ts","./Zombie.ts","./SoundRescourses.ts"],(function(t){var e,o,n,i,a,r,l,s,b,c,u,d,h,g,f,p,y,m,P,v,w,L;return{setters:[function(t){e=t.inheritsLoose,o=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,s=t.Prefab,b=t.Node,c=t.Vec2},function(t){u=t.Character,d=t.CharacterType},function(t){h=t.NodePools},function(t){g=t.ZombiePool,f=t.TombPool,p=t.Rectangle},function(t){y=t.Square},function(t){m=t.projectile},function(t){P=t.PlantProps,v=t.Plant},function(t){w=t.Zombie},function(t){L=t.sounds}],execute:function(){var C,S,_,O,z,k,x,D,R,j,A,I,T,V,F,N,M,E,q,H,Z,W,B,X;a._RF.push({},"b8357J5RHlKf5Qf6WXXkqdh","CabbagePult",void 0);var J=r.ccclass,K=r.property,Q=t("cabbagePult",function(){function t(){}return t.lobOneCabbageOnPos=function(t,e,o,n,i,a,r,l,s,b){void 0===l&&(l=30),void 0===s&&(s=0),void 0===b&&(b=!1),t.parent=n,m.registerProjectile(t,r,null);var d=t.getComponent(u);d.height=o;var h=d.gravity=a;return d.linearVelocity=new c(15,0),d.worldPosition=new c(e.x,e.y),d.linearVelocity=new c((i.x-e.x)/l,(i.y-e.y)/l),d.bodyLinearVelocity=h*l/2,d.bodyLinearVelocity+=(s-o)/l,d.flyHorizontalWhenBV0=b,d},t.lobOneCabbageOnNode=function(t,e,o,n,i,a,r,l,s){void 0===s&&(s=30);var b=new c(i.worldPosition.x,i.worldPosition.y),u=this.lobOneCabbageOnPos(t,e,o,n,b,a,r,s,0);return u.targetLocked=l?i:null,u},t.lobOneCabbageOnZombie=function(t,e,o,n,i,a,r,l,s,b,c){void 0===s&&(s=30),void 0===b&&(b=!0),void 0===c&&(c=!1);var u=i.lobberTarget(),d=null==u?void 0:u.lobberToPos(s);b&&u.node.worldPosition.clone().add(e.clone().negative()).length()<=60&&(s/=3);var h=this.lobOneCabbageOnPos(t,e,o,n,d,a,r,s,0,c);return h.targetLocked=l?u.node:null,h.bodyLinearVelocity+=(u.zombieHeight+u.height)/s,h},t.lobOneCabbageHorizontal=function(t,e,o,n,i,a,r){var l=t.getComponent(u);return m.registerProjectile(t,r,null),l.node.parent=n,l.worldPosition=new c(e.x,e.y),l.height=o,l.linearVelocity=new c(i.x,0),l.node.angle=0,l.bodyLinearVelocity=i.y,l.gravity=2,l},t}()),U=t("CabbagePultProps",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).ThrowInterval=2.7,e.ThrowIntervalAdditional=.15,e}return e(o,t),o}(P)),G=t("cabbagePultSound",(C=J("cabbagePultSound"),S=K([l]),_=K([l]),C((k=o((z=function(){function t(){n(this,"lobSound",k,this),n(this,"foodSound",x,this)}var e=t.prototype;return e.playFoodSound=function(){L.playArray(this.foodSound,1,.1)},e.playLobSound=function(){L.playArray(this.lobSound,1,.1)},t}()).prototype,"lobSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(z.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=z))||O));t("CabbagePultPlant",(D=J("CabbagePultPlant"),R=K(G),j=K(s),A=K(s),I=K(s),T=K(s),V=K(Number),F=K(b),D((E=o((M=function(t){function o(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"soundRes",E,i(e)),e.targetLock=null,e.cabbage=null,n(e,"cabbage0",q,i(e)),n(e,"cabbage1",H,i(e)),n(e,"cabbage2",Z,i(e)),n(e,"cabbageMega",W,i(e)),n(e,"lobInterval",B,i(e)),n(e,"cabbageSpawnPoint",X,i(e)),e.detector=null,e._objdataOwn=new U,e.busy=0,e.lobbing=!1,e}e(o,t);var a=o.prototype;return a.zombieIsVisible=function(t){return!0},a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0,this.soundRes.playFoodSound()},a.waterable=function(){return!this.lobbing},a._lobCabbageAnimation=function(){this.anmControl.playAnimation("Lob",1,.1,Math.max(1.3/this.busy,1))},a.foodLob=function(){var t=this;g.pool().forEach((function(e){t._lob(e.node,t.cabbageMega,!0)})),this.tombDetector()&&f.pool().forEach((function(e){t._lobToNode(e.node,t.cabbageMega,!0)}))},a._lob=function(t,e,o,n){var i;void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var a=h.instantiatePooly(e),r=null==(i=t)?void 0:i.getComponent(w);if(a)if(r){var l=Q.lobOneCabbageOnZombie(a,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,r,2,d.zombie,o,n);this._dmgScale&&l.setDamage(l.damage_*this._dmgScale),this.csFunc(l)}else this._lobToNode(t,e,o,n);this.lobbing=!1},a._lobToNode=function(t,e,o,n){void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var i=h.instantiatePooly(e);if(i){var a=Q.lobOneCabbageOnNode(i,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,t,2,d.zombie,o,n);this._dmgScale&&a.setDamage(a.damage_*this._dmgScale),this.csFunc(a)}this.lobbing=!1},a.csFunc=function(t){},a.tombDetector=function(){return!0},a.specialAnimationListener=function(t){},a.animationListener=function(t){"Lob"==t.name?(this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null):"LobSound"==t.name?this.soundRes.playLobSound():"lobFood"==t.name?this.foodLob():"foodEnd"==t.name&&(this.busy=0,this.foodEnd()),this.specialAnimationListener(t)},a.specialPlantOnSquareChange=function(t,e){this.setDetecter()},a.specialPlantOnEnable=function(){this.changeProjectile(0)},a.changeProjectile=function(t){switch(void 0===t&&(t=0),t){case 0:var e;this.cabbage=this.cabbage0,null==(e=this.anmControl.body.armature().getSlot("effect"))||e._setDisplayIndex(-1);break;case 1:var o;this.cabbage=this.cabbage1,null==(o=this.anmControl.body.armature().getSlot("effect"))||o._setDisplayIndex(1);break;case 2:var n;this.cabbage=this.cabbage2,null==(n=this.anmControl.body.armature().getSlot("effect"))||n._setDisplayIndex(0)}},a.setDetecter=function(){this.detector=p.createRectangleNodeSide(this.inLnC.node,y.SquareDisW*(9-this.cIndex),y.SquareDisH)},a.detectEnemy=function(t){void 0===t&&(t=!1);var e=[],o=[],n=!1,i=this.inLane.zombiePool(),a=this.inLane.tombPool();this.targetLock=this.inLane.toRight;for(var r=0;r<i.length;r++)this.zombieIsVisible(i[r])&&this.detector.judgeCrossRec(i[r].bodyRec)&&(e.push(i[r].node),n=!0);for(var l=0;l<a.length&&this.tombDetector();l++)this.detector.judgeCrossRec(a[l].bodyRec)&&(o.push(a[l].node),n=!0);if(t)if(e.length>0){this.targetLock=e[0];for(var s=1;s<e.length;s++)this.targetLock.worldPosition.x>e[s].worldPosition.x&&(this.targetLock=e[s])}else if(o.length>0){this.targetLock=o[0];for(var b=1;b<o.length;b++)this.targetLock.worldPosition.x>o[b].worldPosition.x&&(this.targetLock=o[b])}return n},a.startLobbing=function(){this.lobbing=!0;var t=this._objdataOwn.ThrowInterval+Math.random()*this._objdataOwn.ThrowIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.busy=t,this._lobCabbageAnimation()},a.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.detectEnemy()&&this.startLobbing())},o}(v)).prototype,"soundRes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),q=o(M.prototype,"cabbage0",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(M.prototype,"cabbage1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=o(M.prototype,"cabbage2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=o(M.prototype,"cabbageMega",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=o(M.prototype,"lobInterval",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.35}}),X=o(M.prototype,"cabbageSpawnPoint",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=M))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/Cactus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Spikeweed.ts","./SoundRescourses.ts"],(function(t){var o,i,n,e,a,s,r,h,l,d,u,c,p,f,S,b,m,y,g,C;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.AudioClip,h=t.Prefab,l=t.Node,d=t.Vec2,u=t.Vec3},function(t){c=t.Plant,p=t.PlantProps},function(t){f=t.NodePools},function(t){S=t.peaShooter},function(t){b=t.CharacterType},function(t){m=t.Rectangle},function(t){y=t.Square},function(t){g=t.spikeweed},function(t){C=t.sounds}],execute:function(){var D,w,v,P,R,_,A,j,z,E,L,O,F,H,I,k,q,x,M,N,W,B,T,V,Z,U,G,J,K,Q;a._RF.push({},"d8347tqDEBHAaEpFnziRm1N","Cactus",void 0);var X=s.ccclass,Y=s.property,$=function(t){function o(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.StabInterval=.5,o.StabDamage=10,o.StabDamagePlantfood=20,o.PierceCount=3,o.PierceCountAdditional=1,o}return i(o,t),o}(p),tt=(D=X("cactusSound"),w=Y([r]),v=Y([r]),P=Y([r]),R=Y([r]),_=Y([r]),A=Y([r]),j=Y(r),z=Y([r]),D((O=o((L=function(){function t(){n(this,"shootSounds",O,this),n(this,"shootFoodSounds",F,this),n(this,"hideSounds",H,this),n(this,"blopSounds",I,this),n(this,"shakeSound",k,this),n(this,"stabSound",q,this),n(this,"foodShootSound",x,this),n(this,"foodShoutSound",M,this)}var o=t.prototype;return o.playShootSound=function(t){void 0===t&&(t=!1),C.playArray(t?this.shootFoodSounds:this.shootSounds)},o.playHideSound=function(){C.playArray(this.hideSounds)},o.playRecoverSound=function(){C.playArray(this.hideSounds),C.playArray(this.blopSounds)},o.playShakeSound=function(){C.playArray(this.shakeSound,1,1)},o.playStabSound=function(){C.playArray(this.stabSound)},o.playFoodSound=function(){C.play(this.foodShootSound),C.playArray(this.foodShoutSound)},t}()).prototype,"shootSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(L.prototype,"shootFoodSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=o(L.prototype,"hideSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(L.prototype,"blopSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(L.prototype,"shakeSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(L.prototype,"stabSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(L.prototype,"foodShootSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(L.prototype,"foodShoutSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=L))||E);t("CactusPlant",(N=X("CactusPlant"),W=Y(h),B=Y(h),T=Y(l),V=Y(tt),N((G=o((U=function(t){function o(){for(var o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new $,n(o,"prj0",G,e(o)),n(o,"prjFood",J,e(o)),n(o,"peaSpawnpoint",K,e(o)),o.stabSlots=[],o.lightSlots=[],o.shootCD=0,o.shooting=!1,o.stabCD=0,o.lit=!1,o.chidden=!1,n(o,"soundRes",Q,e(o)),o.shootDetector=new m,o.hideDetector=new m,o.stabDetector=new m,o}i(o,t);var a=o.prototype;return a.specialPlantOnEnable=function(){this.showLight(!1),this.shootCD=0,this.stabCD=0},a._shoot=function(t,o,i){void 0===t&&(t=this.prj0),void 0===o&&(o=15),void 0===i&&(i=new d(1,0));var n=f.instantiatePooly(t);if(n){var e=S.shootOnePea(n,new u(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,i.normalize().multiplyScalar(o),b.zombie);return e&&(e.maxPierceAmount_=this._objdataOwn.PierceCount+Math.floor(Math.random()*(1+this._objdataOwn.PierceCountAdditional))),e}},a.specialPlantOnLoad=function(){var t=this;this.anmControl.body.armature().getSlots().forEach((function(o){o.name.includes("stab")?t.stabSlots.push(o):o.name.includes("Light")&&t.lightSlots.push(o)}))},a.showLight=function(t){void 0===t&&(t=!0),this.stabSlots.forEach((function(o){o._setDisplayIndex(t?1:0)})),this.lightSlots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.lit=t,this.foodable=!t},a.hide=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0),t?(this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=[],this.deathAnm="Death_Hidden",o?this.anmControl.playAnimation("Hide",1):this.anmControl.playRandom()):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death",o?this.anmControl.playAnimation("Recover_Hidden",1):this.anmControl.playRandom()),this.chidden=t,this.eaterDetectable=!t,this.short_=t},a.specialPlantFood=function(t){this.anmControl.playAnimation("Food",2)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.showLight(),this.shootCD=0,this.stabCD=0},a.animationListener=function(t){var o=this;if("Shoot"==t.name)this._shoot(this.lit?this.prjFood:this.prj0,20);else if("shootSound"==t.name)this.soundRes.playShootSound(this.lit);else if("hideSound"==t.name)this.soundRes.playHideSound();else if("hideEndSound"==t.name)this.soundRes.playRecoverSound();else if("foodSound"==t.name)this.soundRes.playFoodSound();else if("attackSound"==t.name)this.soundRes.playStabSound();else if("Attack"==t.name){this.soundRes.playShakeSound();var i=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(i*=this._dmgScale),this.inLane.zombiePool().concat().forEach((function(t){!t.flying&&t.bodyRec.judgeCrossRec(o.stabDetector)&&g.stabOnZombie(o,t,i)}))}else"light"==t.name?this.showLight():"foodEnd"==t.name&&this.foodEnd()},a.waterable=function(){return!this.shooting&&!this.chidden},a.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},a.setDetecter=function(t,o){this.shootDetector=m.createRectangleNodeSide(o.node,y.SquareDisW*(9-o.cIndex),y.SquareDisH),this.hideDetector=m.createRectangleNodeCenter(o.node,2*y.SquareDisW,y.SquareDisH),this.stabDetector=m.createRectangleNodeCenter(o.node,y.SquareDisW,y.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.shootDetector.judgeCrossRec(t[o].bodyRec))return!0;for(var i=this.inLane.tombPool(),n=0;n<i.length;n++)if(this.shootDetector.judgeCrossRec(i[n].bodyRec))return!0;return!1},a.detectStabEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(!t[o].flying&&this.stabDetector.judgeCrossRec(t[o].bodyRec))return!0},a.detectHideEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.hideDetector.judgeCrossRec(t[o].bodyRec))return!0},a.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.shootCD=t,this.anmControl.playAnimation("Shoot",1,.1*t/1.35,Math.max(1/t,1))},a.animationOnComplete=function(){this.shooting=!1},a.normalSmash=function(t){var o=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(o*=this._dmgScale),g.stabOnZombie(null,t,o),this.fooding||this.invincible||this.die()},a.specialPlantUpdate=function(t){if(!this.fooding){if(this.chidden){if(this.stabCD>0&&(this.stabCD-=t),this.stabCD<=0&&!this.dead&&(this.stabCD=0,this.detectStabEnemy())){this.shooting=!0;var o=this._objdataOwn.StabInterval;this._cdScale&&(o*=this._cdScale),o<.1&&(o=.1),this.stabCD=o,this.anmControl.playAnimation("Attack_Hidden",1,.1,Math.max(.5/o,1))}}else this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&(this.shootCD=0,this.detectShootEnemy()&&this.startShooting());var i=this.detectHideEnemy();this.chidden&&!i?this.hide(!1):!this.chidden&&i&&this.hide(!0)}},o}(c)).prototype,"prj0",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(U.prototype,"prjFood",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=o(U.prototype,"peaSpawnpoint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=o(U.prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),Z=U))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/cactusThorn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts"],(function(t){var e,n,o,i,a,c,r,s,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.CCInteger},function(t){s=t.ProjectileEnemyType,u=t.commonShot},function(t){l=t.Zombie}],execute:function(){var h,d,m,g,f;a._RF.push({},"358c6pnkANKjYft0I9QLF82","cactusThorn",void 0);var p=c.ccclass,y=c.property;t("cactusThorn",(h=p("cactusThorn"),d=y(r),h((f=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,o(e,"maxPierceAmount",f,i(e)),e.maxPierceAmount_=3,e.dealtTargetAmount=0,e.contactingEnemies=[],e}n(e,t);var a=e.prototype;return a.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=this.maxPierceAmount,this.dealtTargetAmount=0,this.contactingEnemies=[]},a.judgeContacting=function(){var t=this;this.contactingEnemies.concat().forEach((function(e){var n;if(-1==[].concat(t.inLane.zombiePool(),t.inLane.plantPool(),t.inLane.tombPool()).indexOf(e)||null==(n=e.bodyRec)||!n.judgeCrossRec(t.bodyRec())){var o=t.contactingEnemies.indexOf(e);-1!=o&&t.contactingEnemies.splice(o,1)}}))},a.detectEnemy=function(t){var e,n=this;if(this.inLane&&this.detectEnemyOn)if(this.judgeContacting(),null!=(e=this.targetLocked)&&null!=(e=e.getComponent(l))&&e.dead&&(this.targetLocked=null),this.enemyType==s.zombie){var o,i,a=[];null==(o=this.inLane)||o.zombiePool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&a.push(t)}));var c=[];if(a.length){for(var r=function(){var t=1/0,e=null;if(a.forEach((function(n){var o=n.bodyRec.prjX().x;o<t&&(e=n,t=o)})),e){var o=a.indexOf(e);-1!=o&&a.splice(o,1),c.push(e)}var i=!1;c.forEach((function(t){i||(t.commonShotPopOnTouch(n)?(n.dealDamageToTarget(t,!0),n.dealtTargetAmount++,n.contactingEnemies.push(t)):i=!0)}))};a.length>0&&c.length<this.maxPierceAmount_-this.dealtTargetAmount;)r();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}var u=[];null==(i=this.inLane)||i.tombPool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&u.push(t)}));var h=[];if(u.length){for(var d=function(){var t=1/0,e=null;if(u.forEach((function(n){var o=n.bodyRec.prjX().x;o<t&&(e=n,t=o)})),e){var o=u.indexOf(e);-1!=o&&u.splice(o,1),h.push(e)}h.forEach((function(t){t.dealDamage(n.damage),n.dealSplashDamage(null,t),n.dealtTargetAmount++,n.contactingEnemies.push(t)}))};u.length>0&&h.length<this.maxPierceAmount_-this.dealtTargetAmount;)d();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}else if(this.enemyType==s.plant){var m,g=[];null==(m=this.inLane)||m.plantPool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&g.push(t)}));var f=[];if(g.length){for(var p=function(){var t=-1/0,e=null;if(g.forEach((function(n){var o=n.bodyRec.prjX().y;o>t&&(e=n,t=o)})),e){var o=g.indexOf(e);-1!=o&&g.splice(o,1),f.push(e)}f.forEach((function(t){n.dealDamageToTargetPlant(t),n.dealtTargetAmount++,n.contactingEnemies.push(t)}))};g.length>0&&f.length<this.maxPierceAmount_-this.dealtTargetAmount;)p();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}},e}(u)).prototype,"maxPierceAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./cardSelectAlmanac.ts","./Materials.ts","./levelController.ts","./SettingWindow.ts"],(function(t){var e,a,i,n,s,r,o,l,c,u,h,p,d,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.createClass,n=t.initializerDefineProperty},function(t){s=t.cclegacy,r=t._decorator,o=t.Prefab,l=t.dragonBones,c=t.Component},function(t){u=t.PlantEnum,h=t.plants},function(t){p=t.cardSelectAlmanac},function(t){d=t.materialRes},function(t){m=t.LevelPlay},function(t){f=t.SettingWindow}],execute:function(){var y,g,T,I,P,C,D,S;s._RF.push({},"ad10f3V4/FHzpjqwpkiAhVr","CardFeatureTotal",void 0);var v=r.ccclass,b=r.property;t("PlantsInCard",(y=v("PlantsInCard"),g=b({type:o,visible:!0,tooltip:"Plant Model"}),T=b({type:o,visible:!0,tooltip:"Active Plant"}),y((C=e((P=function(){n(this,"plantDIS",C,this),n(this,"plantPLANT",D,this)}).prototype,"plantDIS",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(P.prototype,"plantPLANT",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I)),t("CardFeatureTotal",v("CardFeatureTotal")(S=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).thisPlant=void 0,e.thisCard=void 0,e._SUNCOST=0,e.imitateDisallowed=!1,e._isImitator=!1,e.ca=void 0,e.pID=0,e}a(e,t);var n=e.prototype;return n.onEnable=function(){this.isImitator=!1},n.onLoad=function(){this.ca=this.getComponent(p)},n.cardGrouperPlant=function(t,e){for(void 0===t&&(t=this.ID),void 0===e&&(e=!0),t>=u.amount&&(t%=u.amount);t<0;)t+=u.amount;t==u.TileTurnip&&(t=h.getTileTurnipID()),this.ID=t,this.thisPlant=h.getPlantFeature(t),this.thisCard=h.getPlantsInCard(t);var a=this.ca,i="homeless",n=!1;if(f.classicCardBG)i="classic";else switch(this.thisPlant.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"stage":case"sky":case"dino":case"modern":case"frontyard":n=!1,i=this.thisPlant.OBTAINWORLD;break;case"water":n=!1,i="beach";break;case"market":n=!0,i="prenium";break;case"epic":n=!0,i="epic"}switch(a.golden=n,a._bg.playAnimation(i),a.suncostShown=e,this.thisPlant.FAMILY){case"Peashooter":case"Cold":case"Electricity":case"Cold":case"Fire":case"Magic":case"Shadow":case"Slow":case"Trap":case"Sun":case"Sharp":case"Poison":case"Defence":case"Explosive":case"Lobber":case"Melee":this.node.getChildByName("Family").getComponent(l.ArmatureDisplay).playAnimation(this.thisPlant.FAMILY);break;default:this.node.getChildByName("Family").getComponent(l.ArmatureDisplay).playAnimation("Nope")}this.SUNCOST=this.SUNCOST,a._plant.playAnimation(this.thisPlant._CARDSPRITENAME)},n.cardGrouper=function(t,e){void 0===t&&(t=this.ID),void 0===e&&(e=!0),this.cardGrouperPlant(t,e)},i(e,[{key:"SUNCOST",get:function(){var t;if(null!=m&&null!=(t=m.component)&&null!=(t=t.node)&&t.active&&(this.ID==u.TileTurnipAlpha||this.ID==u.TileTurnipBeta||this.ID==u.TileTurnipGamma||this.ID==u.TileTurnipDelta||this.ID==u.TileTurnipEpsilon)){var e=this.thisPlant.objdata.SunCostList,a=h.registerPlant(this.ID,0).amount;return e[Math.min(a,e.length-1)]}return this.thisPlant.SUNCOST},set:function(t){this._SUNCOST=t,this.ca&&(this.ca._price.string=t.toString())}},{key:"isImitator",get:function(){return this._isImitator},set:function(t){this.ca._plant.customMaterial=t?d.greyMaterial:null,this._isImitator=t}},{key:"ID",get:function(){return this.pID},set:function(t){this.pID=t}}]),e}(c))||S);s._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotalZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Zombies.ts","./cardSelectAlmanac.ts","./SettingWindow.ts"],(function(e){var t,i,o,a,n,r,s,c,u,l,m;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){o=e.cclegacy,a=e._decorator,n=e.dragonBones},function(e){r=e.CardFeatureTotal},function(e){s=e.ZombieEnum,c=e.zombies,u=e.ZombieFeature},function(e){l=e.cardSelectAlmanac},function(e){m=e.SettingWindow}],execute:function(){var d;o._RF.push({},"d7345nx6ChFwY4KZggMeaDC","CardFeatureTotalZombie",void 0);var h=a.ccclass;a.property,e("CardFeatureTotalZombie",h("CardFeatureTotalZombie")(d=function(e){function o(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).thisZombie=new u,t.zID=0,t}t(o,e);var a=o.prototype;return a.cardGrouper=function(e,t){void 0===t&&(t=!0),this.cardGrouperZombie(e,t)},a.cardGrouperZombie=function(e,t){for(void 0===e&&(e=this.ID),void 0===t&&(t=!0),e>=s.zombieAmount&&(e%=s.zombieAmount);e<0;)e+=s.zombieAmount;this.ID=e,this.thisZombie=c.getZombieFeature(e);var i=this.getComponent(l);if(m.classicCardBG)i.golden=!1,i._bg.playAnimation("classic");else switch(this.thisZombie.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"stage":case"sky":case"dino":case"modern":case"frontyard":i.golden=!1,i._bg.playAnimation(this.thisZombie.OBTAINWORLD);break;case"market":i.golden=!0,i._bg.playAnimation("prenium");break;default:i._bg.playAnimation("homeless")}i.suncostShown=t,this.node.getChildByName("Family").getComponent(n.ArmatureDisplay).playAnimation("Nope"),i._price.string=this.thisZombie.SUNCOST.toString(),i._plant.playAnimation(this.thisZombie._CARDSPRITENAME)},i(o,[{key:"ID",get:function(){return this.zID},set:function(e){this.zID=e}}]),o}(r))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./UI.ts","./SunCount.ts","./CardUIUpper.ts","./CardFeatureTotal.ts","./Droppings.ts","./SeedChooser.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./CoinCollecterInGame.ts","./PlayerProperties.ts"],(function(t){var e,n,o,s,a,i,r,d,l,c,h,u,p,m,C,g,f,S,P,v,k,w,B,y,I,b,D,E,U,O,x,N,T,A,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.Prefab,d=t.Button,l=t.Node,c=t.Vec3,h=t.math,u=t.dragonBones,p=t.find,m=t.Label,C=t.tween,g=t.Sprite,f=t.Color,S=t.instantiate,P=t.EventMouse,v=t.Component},function(t){k=t.cardSelectAlmanac},function(t){w=t.UIInGame},function(t){B=t.SunCount},function(t){y=t.CardUIUpper},function(t){I=t.CardFeatureTotal},function(t){b=t.droppings},function(t){D=t.SeedChooser},function(t){E=t.sounds},function(t){U=t.LevelPlay},function(t){O=t.PlantEnum,x=t.plants},function(t){N=t.NodePools},function(t){T=t.SandBoxLevelSettingWindow},function(t){A=t.CoinCollecterInGame},function(t){M=t.AllPlayerProperties}],execute:function(){var L,_,F,G,j,W,R,J,z,H;a._RF.push({},"bb6235wi4BJZIjcgfvmWiuD","Cards",void 0);var Y=i.ccclass,K=i.property;t("Cards",(L=Y("Cards"),_=K(r),F=K(d),G=K(l),L(((H=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).maxSlotCount=0,e.seedPackets=[],e.cardSelection=[],e.cardSlot=[],e.ui=null,o(e,"seedBankPrefab",R,s(e)),e.seedBank=void 0,e.oldPos=new c(25,312,0),e.shown=!1,e.plantsCanBeChosen=null,o(e,"gameStartButton",J,s(e)),e._gsbuttonOldPos=new c,e.fromCards=[],o(e,"cardButtons",z,s(e)),e.laid=!1,e.cardsUIUpper=[],e.gameStarted=!1,e}n(e,t);var a=e.prototype;return a.JudgeSelection=function(){for(var t=0;t<this.seedPackets.length;t++){var e=new h.Color(87,174,255,0),n=this.cardSlot[t].getComponent(y);n.mouseDownOff(),n.cooling>0&&(-3==this.ui.index&&(e=new h.Color(87,174,255,255)),n.mouseDownOn()),this.cardSelection[t].getComponent(u.ArmatureDisplay).color=e,this.JudgeCardsSelectable()}},a.cardSelect=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(k).index=this.ui.index==t?1:0,this.node.getChildByName(t.toString()).getComponent(y).chosen=this.ui.index==t},a.closeSeedbank=function(){this.seedBank&&N.destroyPooly(this.seedBank)},a.createSeedbank=function(){this.seedBank=N.instantiatePooly(this.seedBankPrefab);var t=this.seedBank.getComponent(D);this.plantsCanBeChosen&&(t.currentSeedBank=this.plantsCanBeChosen.concat()),this.seedBank.parent=this.ui.UIUpper.getChildByName("seedbank"),this.seedBank.position=new c(0,-500,0)},a.onLoad=function(){this.oldPos=this.node.position.clone(),this.gameStarted=!1,this.ui=this.node.parent.getComponent(w);for(var t=0;t<8;t++)p("Canvas/UIInGameUpper/CardsUpper/Key"+t.toString()).getComponent(m).color=new h.Color(0,0,0,0);e.cardsController=this,this._gsbuttonOldPos=this.gameStartButton.node.position.clone(),this.gameStartButton.node.position.add(new c(0,-1e4,0))},a.showSeedSlots=function(){!this.shown&&this.maxSlotCount>0&&(A.component&&(A.component.show(),A.component.hidden=!1,A.component.showCD=1/0),this.shown=!0,C(this.node).to(.4,{position:this.oldPos},{easing:"cubicOut"}).start())},a.showSeedBank=function(){var t;null!=(t=this.seedBank)&&t.active&&(E.playSeedChooserOn(),C(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){U.component.viewLawnDisabled=!1})).start())},a.hideSeedSlots=function(){var t;this.shown&&this.maxSlotCount>0&&(this.shown=!1,C(this.node).by(.4,{position:new c(0,500,0)},{easing:"cubicIn"}).start(),A.component&&(A.component.showCD=0),null!=(t=this.seedBank)&&t.active&&(E.playSeedChooserOff(),C(this.seedBank).by(.4,{position:new c(0,-1e3,0)},{easing:"cubicIn"}).start()))},a.laySeedBank=function(){var t=this;E.playSeedChooserOn(),this.showSeedSlots(),this.gameStartButton.node.position=this._gsbuttonOldPos,this.gameStartButton.node.active=!0,w.uiingame.levelTaskShowerSlot&&(w.uiingame.levelTaskShowerSlot.active=!0),C(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){t.cardChooseOn()})).start()},a.pullSeedBank=function(t){var e=this;E.playSeedChooserOff(),this.cardButtons&&(this.cardButtons.active=!1);var n=[];this.seedPackets.forEach((function(t){var e=t.getComponent(I);n.push(e.isImitator?O.Imitater:e.ID)})),M.currentPlayer.memorySeedChoose=n,M.savePP(),this.gameStartButton.getComponent(g).color=new f(255,255,255,0),this.gameStartButton.node.position.add(new c(0,1e4,0)),C(this.seedBank).to(.8,{position:new c(0,-2e3,0)},{easing:"cubicIn"}).call((function(){t&&e.seedBank})).start()},a.judgeAllowed=function(t){var e=t.getComponent(k);(U.component.ExcludeListSunProducers&&-1!=t.thisPlant.TYPE.indexOf("sunProducer")||-1!=U.component.ExcludePlantList.indexOf(x.getPlantFeature(t.ID).CODENAME))&&(e.disallowed=1)},a.addMemoryCards=function(){var t,e=this;null==(t=M.currentPlayer)||null==(t=t.memorySeedChoose)||t.forEach((function(t){e.addCardByPlantEnumFromSeedbank(t)}))},a.cardChooseOn=function(){var t=this;this.gameStartButton.getComponent(g).color=this.seedPackets.length==this.maxSlotCount?new f(255,255,255,255):new f(140,140,140,255);var e=this.seedBank.getComponent(D);U.component.presetSeedToChoose.forEach((function(e){var n=t.addCardByPlantEnumFromSeedbank(e);n&&(n.disallowed=4),n.suncostShown=!0})),e.PlantsInCard.forEach((function(e){t.judgeAllowed(e),e.node.on(l.EventType.TOUCH_END,(function(n){t.shown&&t.addCard(e,!1,!1)}),t)})),this.judgeChoosable(),this.addMemoryCards(),this.cardButtons&&(this.cardButtons.active=!0)},a.judgeChoosable=function(){var t=this;this.seedBank.getComponent(D).PlantsInCard.forEach((function(e){var n=t.seedPackets.length;if(e.ID==O.Imitater){var o=e.getComponent(k);if(o.disallowed>=1&&o.disallowed<=3)return;0==n||t.seedPackets[n-1].getComponent(I).imitateDisallowed?o.disallowed=4:o.disallowed=0}}))},a.addCard=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!0);var s=this.seedPackets.length+0,a=t.getComponent(k);if(!(a.disallowed>0)&&s<this.maxSlotCount&&!a.chosen){var i=S(t.node);i.setParent(this.cardSlot[s].getComponent(y).CardUpper,!1),i.worldPosition=t.node.worldPosition,i.worldScale=this.cardSlot[s].worldScale;var r=i.getComponent(I);r.cardGrouper(t.ID),r.ID==O.Imitater&&this.seedPackets[s-1]&&(r.cardGrouper(this.seedPackets[s-1].getComponent(I).ID),r.isImitator=!0),a.chosen=!0,this.fromCards.push(a);var d=i.getComponent(k);return d.seedChooserModeOn=!1,this.seedPackets.push(i),C(i).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){i.setParent(o.cardSlot[s],!1),i.once(l.EventType.MOUSE_DOWN,(function(t){t.preventSwallow=!0,o.spliceCard(i)}),o)})).start(),n&&E.playCardChosen(),a.disallowed=e?1:0,this.seedPackets.length==this.maxSlotCount&&(this.gameStartButton.getComponent(g).color=new f(255,255,255,255)),this.judgeChoosable(),d}},a.addCardByPlantEnum=function(t){var e=this.seedPackets.length+0,n=t+0,o=!1;if(n==O.Imitater&&this.seedPackets[0]&&this.seedPackets[e-1].getComponent(I).ID!=O.Imitater&&(o=!0,n=this.seedPackets[e-1].getComponent(I).ID),e<this.maxSlotCount){var s=S(b.PlantSeedPacket);s.parent=this.cardSlot[e],s.worldScale=this.cardSlot[e].worldScale;var a=s.getComponent(I);a.cardGrouper(n),a.isImitator=o,this.seedPackets.push(s)}},a.addCardByPlantEnumFromSeedbank=function(t){var e=this,n=null;return this.seedBank.getComponent(D).PlantsInCard.forEach((function(o){n||o.ID==t&&(n=e.addCard(o))})),n},a.spliceAllCards=function(){for(var t=0;t<this.maxSlotCount;t++)this.seedPackets.length>0&&this.spliceCard(this.seedPackets[this.seedPackets.length-1])},a.rechooseFromMemory=function(){this.spliceAllCards(),this.addMemoryCards()},a.spliceCard=function(t){var e,n=t.getComponent(k);if(console.log(x.getPlantFeature(n.getComponent(I).ID).NAME.en,n.disallowed),!(n.disallowed>0||U.letsRocked||n.disallowed>0)){E.playCardCancel();var o=this.seedPackets.indexOf(t),s=0;for(s=0;s<this.fromCards.length;s++){var a=this.fromCards[s].getComponent(I),i=t.getComponent(I);if(a.ID==i.ID&&a.ID!=O.Imitater&&!i.isImitator||a.ID==O.Imitater&&i.isImitator){this.fromCards[s].chosen=!1,this.fromCards.splice(s,1);break}}var r=null==(e=this.seedPackets[o+1])?void 0:e.getComponent(I);t.destroy();for(var d=o;d<this.seedPackets.length;d++){var l;(null==(l=this.seedPackets[d])?void 0:l.parent)!=this.cardSlot[d-1]&&(this.seedPackets[d].setParent(this.cardSlot[d-1],!0),C(this.seedPackets[d]).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).start())}this.seedPackets.splice(o,1),this.seedPackets.length!=this.maxSlotCount&&(this.gameStartButton.getComponent(g).color=new f(140,140,140,255)),this.judgeChoosable(),r&&r.isImitator&&this.spliceCard(r.node)}},a.laySlots=function(){if(!this.laid){this.laid=!0;for(var t=1;t<this.maxSlotCount;t++){var e=S(this.node.getChildByName("0"));e.name=t.toString(),e.parent=this.node,this.cardSlot.push(e),this.cardSlot[t].getComponent(y).index=t;var n=e.getChildByName("PlantFoodSelection");this.cardSelection.push(n),n.getComponent(u.ArmatureDisplay).color=new f(255,255,255,0)}this.cardSelection.forEach((function(t){t.getComponent(u.ArmatureDisplay).playAnimation("Idle",1/0)}))}},a.start=function(){var t=this;this.laid=!1,this.shown=!1,this.cardSlot.push(this.node.getChildByName("0")),this.cardSelection.push(this.node.getChildByName("0").getChildByName("PlantFoodSelection")),this.cardSelection[0].getComponent(u.ArmatureDisplay).color=new f(255,255,255,0),this.cardSlot[0].getComponent(y).index=0,this.node.position.add(new c(0,200,0)),this.node.on(l.EventType.MOUSE_WHEEL,this.onMouseScroll,this),this.node.on(l.EventType.MOUSE_DOWN,(function(e){e.getButton()==P.BUTTON_RIGHT&&t.ui.tryChangingIndex(-1)}),this)},a.onDisable=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(d).enabled=!1,this.seedPackets[t].getComponent(k).enabled=!1},a.CoolStart=function(t){var e;null==(e=this.node.getChildByName(t.toString()))||e.getComponent(y).coolStart()},a.cardsUIUpperRestart=function(){this.cardsUIUpper.forEach((function(t){t.coolStart()}))},a.gameStart=function(){var t=this;if(!this.gameStarted){this.gameStarted=!0,this.seedPackets.forEach((function(t){t.getComponent(k).disallowed=0}));for(var e=function(e){var n=t.node.getChildByName(e.toString()).getComponent(y);n.gameStart(),t.cardsUIUpper.push(n),t.seedPackets[e].off(l.EventType.MOUSE_DOWN),t.seedPackets[e].on(l.EventType.MOUSE_DOWN,(function(n){n.getButton()==P.BUTTON_RIGHT?t.ui.tryChangingIndex(-1):t.ui.tryChangingIndex(e)}),t.ui)},n=0;n<this.seedPackets.length;n++)e(n);this.cardSelection.forEach((function(t){t.setSiblingIndex(t.parent.children.length),t.getComponent(u.ArmatureDisplay).color=new f(255,255,255,0)})),this.JudgeCardsSelectable(),this.JudgeSelection()}},a.JudgeCardsSelectable=function(){for(var t=B.component.SunCount,e=0;e<this.cardsUIUpper.length;e++){var n;null==(n=this.cardsUIUpper[e])||n.setAffordable(t>=this.seedPackets[e].getComponent(I)._SUNCOST||T.freePlant)}},a.cardsUpdate=function(t){this.cardsUIUpper.forEach((function(e){e.cardUpdate(t)}))},a.onMouseScroll=function(t){if(U.sandBoxModeOn&&U.gameStarted&&this.seedPackets.length){var e=this.seedPackets[0].getComponent(I),n=t.getScrollY()>0?-1:1,o=(T.plantList.indexOf(e.ID)+n)%T.plantList.length;o<0&&(o=T.plantList.length-1),this.seedPackets.forEach((function(t,e){var n=t.getComponent(I),s=T.plantList[(o+e)%T.plantList.length];n.cardGrouper(s)}))}},e}(v)).cardsController=void 0,R=e((W=H).prototype,"seedBankPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(W.prototype,"gameStartButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(W.prototype,"cardButtons",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=W))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/cardSelectAlmanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts"],(function(t){var i,e,o,s,n,h,l,a,r,c,d;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t._decorator,n=t.Node,h=t.dragonBones,l=t.Label,a=t.Color,r=t.math,c=t.Component},function(t){d=t.LevelPlay}],execute:function(){var u;o._RF.push({},"824f019C59ESqoTIS6t819E","cardSelectAlmanac",void 0);var p=s.ccclass;s.property,t("cardSelectAlmanac",p("cardSelectAlmanac")(u=function(t){function o(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).index=void 0,i.indexPoint=void 0,i.affordable=void 0,i.cooling=void 0,i.selectable=void 0,i._disallowed=0,i._bg=void 0,i._boost=void 0,i._dots=void 0,i._plant=void 0,i._price=void 0,i._select=void 0,i._disallow=void 0,i.free=!1,i.seedChooserModeOn=!1,i.almanacModeOn=!1,i.chosen=!1,i._suncostShown=!1,i.defaultSunCostShown=!0,i.golden=!1,i.Dark=new a(140,140,140,255),i.Red=new r.Color(255,100,100,255),i.White=new r.Color(255,255,255,255),i.Transparent=new r.Color(255,255,255,0),i}i(o,t);var s=o.prototype;return s.onEnable=function(){this.node.on(n.EventType.MOUSE_ENTER,this.enter,this),this.node.on(n.EventType.MOUSE_LEAVE,this.leave,this),this.index=0,this.indexPoint=0,this._select.armatureName="selection",this._select.playAnimation("nope",-1),this.defaultSunCostShown=!0},s.onLoad=function(){this._disallow=this.node.getChildByName("Disallow").getComponent(h.ArmatureDisplay),this._boost=this.node.getChildByName("Background").getChildByName("Boost").getComponent(h.ArmatureDisplay),this._bg=this.node.getChildByName("Background").getComponent(h.ArmatureDisplay),this._dots=this.node.getChildByName("Dots").getComponent(h.ArmatureDisplay),this._plant=this.node.getChildByName("Plant").getComponent(h.ArmatureDisplay),this._price=this.node.getChildByName("Dots").getChildByName("Price").getComponent(l),this._select=this.node.getChildByName("Select").getComponent(h.ArmatureDisplay),this._disallow.playAnimation("nope",1)},s.onDisable=function(){this.node.off(n.EventType.MOUSE_ENTER,this.enter,this),this.node.off(n.EventType.MOUSE_LEAVE,this.leave,this)},s.PlantDark=function(){return!this.selectable},s.BKDark=function(){return!this.selectable||1==this.index},s.Selection=function(){return 1==this.index},s.Pointed=function(){return 1==this.indexPoint&&0==this.index&&this.selectable},s.SelectionAnimationName=function(){return this.Selection()?"select":this.Pointed()?"point":"nope"},s.enter=function(t){this.indexPoint=1},s.leave=function(t){this.indexPoint=0},s.inGameColor=function(){this._boost.color=this.BKDark()?this.Dark:this.White,this._bg.color=this.BKDark()?this.Dark:this.White,this._dots.color=this.BKDark()?this.Dark:this.White,this._plant.color=this.PlantDark()?this.Dark:this.White,this._price.color=this._suncostShown?this.affordable?this.White:this.Red:this.Transparent,this._select.playAnimation(this.SelectionAnimationName())},s.chooseSeedColor=function(){var t=this.chosen||this.disallowed>0;this._boost.color=t?this.Dark:this.White,this._bg.color=t?this.Dark:this.White,this._dots.color=t?this.Dark:this.White,this._plant.color=t?this.Dark:this.White,this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},s.almanacColor=function(){var t=this.chosen||this.disallowed>0;this._boost.color=t?this.Dark:this.White,this._bg.color=t?this.Dark:this.White,this._dots.color=t?this.Dark:this.White,this._plant.color=this.White,this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},s.commonColor=function(){this._boost.color=this.disallowed>0?this.Dark:this.White,this._bg.color=this.disallowed>0?this.Dark:this.White,this._dots.color=this.disallowed>0?this.Dark:this.White,this._plant.color=this.disallowed>0?this.Dark:this.White,this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},s.getSelectable=function(){return!this.cooling&&(this.affordable||this.free)&&0==this.disallowed},s.update=function(t){var i;this.selectable=this.getSelectable(),null!=d&&d.gameStarted||null!=d&&null!=(i=d.component)&&i.lastStandPrepareStarted?this.inGameColor():this.seedChooserModeOn?this.chooseSeedColor():this.almanacModeOn?this.almanacColor():this.commonColor()},e(o,[{key:"disallowed",get:function(){return this._disallowed},set:function(t){this.suncostShown=!t&&this.defaultSunCostShown;var i="nope";switch(t){case 1:i="disallow";break;case 2:i="lock_medium";break;case 3:i="lock_golden"}this._disallow.playAnimation(i,1),this._disallowed=t}},{key:"suncostShown",get:function(){return this._suncostShown},set:function(t){t?(this.free=!1,this._dots.playAnimation(this.golden?"dotsPricePrenium":"dotPrice")):(this.free=!0,this._dots.playAnimation("dotsNoPrice")),this._suncostShown=t}}]),o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardUIUpper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./cardSelectAlmanac.ts","./UI.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts"],(function(o){var t,e,n,i,a,l,r,s,c,d,h,p,u,C,f,S,g,w,m,U,v,y,T,O,P,D,b;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,r=o.Node,s=o.Prefab,c=o.EventMouse,d=o.Button,h=o.Color,p=o.math,u=o.dragonBones,C=o.find,f=o.Label,S=o.instantiate,g=o.Sprite,w=o.Vec3,m=o.Component},function(o){U=o.Cards},function(o){v=o.cardSelectAlmanac},function(o){y=o.UIInGame},function(o){T=o.PlantFoodCount},function(o){O=o.CardFeatureTotal},function(o){P=o.LevelPlay},function(o){D=o.SandBoxLevelSettingWindow},function(o){b=o.SettingWindow}],execute:function(){var I,L,N,B,F,W,_;a._RF.push({},"8cfcd0rpYJLVIHfHUSKviCk","CardUIUpper",void 0);var k=l.ccclass,x=l.property;o("CardUIUpper",(I=k("CardUIUpper"),L=x(r),N=x(s),I((W=t((F=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(t=o.call.apply(o,[this].concat(a))||this).CardUpper=null,n(t,"Mouse",W,i(t)),t.KeyTip=void 0,n(t,"COOL",_,i(t)),t.coolShadow=void 0,t.plantReady=void 0,t.chosen=void 0,t.cooling=0,t.affordable=void 0,t.coolTotalTime=5,t.index=-1,t.masked=!1,t.detecter=null,t.card=null,t}e(t,o);var a=t.prototype;return a.setAffordable=function(o){this.affordable=o,this.setUpperColor()},a.clearCool=function(o){o.getButton()==c.BUTTON_LEFT&&-3==y.index?this._clearCool():o.getButton()==c.BUTTON_MIDDLE&&-1==y.index&&(T.plantFoodNum>0||D.freePF?this._clearCool():T.plantfoodWarn())},a._clearCool=function(){this.coolShadow.fillRange=0,this.cooling=0,U.cardsController.JudgeSelection(),y.uiingame.tryChangingIndex(-1),T.component.plantFoodDec()},a.mouseDownOn=function(){var o;null==(o=this.coolShadow)||null==(o=o.node)||o.on(r.EventType.MOUSE_DOWN,this.clearCool,this)},a.mouseDownOff=function(){var o;null==(o=this.coolShadow)||null==(o=o.node)||o.off(r.EventType.MOUSE_DOWN,this.clearCool,this)},a.coolStart=function(o){void 0===o&&(o=1);var t=this.card.getComponent(O);D.noCDPlant?o=0:P.component.lastStandPrepareStarted&&(o=0,0!=t.thisPlant.SUNCOST&&-1==t.thisPlant.TYPE.indexOf("lastStandDisallowed")||(o=1)),t.SUNCOST=t.SUNCOST,this.coolShadow.fillRange=o,this.coolTotalTime=t.thisPlant.COOLDOWN,this.cooling=o*this.coolTotalTime,this.setUpperColor()},a.coolDown=function(o){P.gameStarted&&this.cooling>0&&(this.cooling-=o),(this.cooling<=0||D.noCDPlant)&&(this.cooling=0,this.setUpperColor(),U.cardsController.JudgeSelection()),this.coolShadow.fillRange=this.cooling/this.coolTotalTime;var t=this.card.getComponent(v);t.affordable=this.affordable,t.cooling=this.cooling>0&&!D.noCDPlant,this.card.getComponent(d).enabled=t.selectable},a.keyColor=function(){return b.showKeyTips?P.gameStarted||P.component.lastStandPrepareStarted?this.chosen?new p.Color(100,255,100,255):this.cooling>0?new p.Color(150,150,255,255):this.affordable?new p.Color(245,255,0,255):new p.Color(255,100,100,255):new h(255,255,255,0):new h(0,0,0,0)},a.setUpperColor=function(){this.plantReady&&(this.plantReady.getComponent(u.ArmatureDisplay).color=this.showPlantColor())},a.showPlantColor=function(){return this.masked&&!this.affordable||this.masked&&this.cooling>0?new p.Color(155,155,155,255):this.masked?new p.Color(255,255,255,255):new p.Color(255,255,255,0)},a.onLoad=function(){this.KeyTip=C("Canvas/UIInGameUpper/CardsUpper/Key"+this.node.name).getComponent(f),this.CardUpper=C("Canvas/UIInGameUpper/CardsUpper/"+this.node.name)},a.setDetecter=function(){},a.gameStart=function(){this.coolShadow||this.coolShade(),this.CardUpper.setWorldPosition(this.node.worldPosition),this.CardUpper.setWorldScale(this.node.worldScale),this.coolShadow&&this.coolStart(this.card.getComponent(O).thisPlant.COOLDOWNFROM)},a.coolShade=function(){var o=S(this.COOL);this.coolShadow=o.getComponent(g),this.card=U.cardsController.seedPackets[this.index],this.card.getChildByName("Dots").getChildByName("CooldownShade").addChild(o)},a.start=function(){},a.update=function(o){this.CardUpper.worldPosition=this.node.worldPosition,this.CardUpper.worldScale=this.node.worldScale},a.cardUpdate=function(o){this.card&&(this.coolDown(o),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.chosen?new w(.7,.7):new w(.5,.5))},t}(m)).prototype,"Mouse",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(F.prototype,"COOL",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=F))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/cart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts"],(function(n){var t,i,o,e,r,a,l,s,u,c,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){s=n.Tile},function(n){u=n.sounds},function(n){c=n.ArrayGet},function(n){p=n.Square}],execute:function(){var h,f,v,d,m;r._RF.push({},"2c0a5vs5XdBwo47rnI22f8M","cart",void 0);var C=a.ccclass,L=a.property;n("cart",(h=C("cart"),f=L([l]),h((m=t((d=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"moveSounds",m,e(t)),t}i(t,n);var r=t.prototype;return r.setTileParent=function(n){},r.moveUp=function(){var n;0!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.upper)},r.moveDown=function(){var n;2!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.lower)},r.moveTo=function(n){var t;if(!(this.inLnC==n||this.inLnC.imitaterInSquare.length||this.inLnC.tilePlantInSquare.length||null!=n&&null!=(t=n.rail)&&t.haveCartInLnC(n))){var i=!0,o=this.inLnC.getAllPlants().concat();o.forEach((function(n){i&&n.leapTween&&(i=!1)})),i&&(this.node.worldPosition=n.node.worldPosition,this.inLnC=n,o.forEach((function(t){t.leapTo(n,0,0,!1,!0)})),u.play(c.getRandom(this.moveSounds),.5),p.component.readIndex())}},t}(s)).prototype,"moveSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/CeleryStalker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var n,i,e,a,o,s,r,l,h,u,d,c,f,g,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){h=t.Plant,u=t.PlantProps},function(t){d=t.Square},function(t){c=t.Rectangle},function(t){f=t.zombieDamageType},function(t){g=t.ArrayGet},function(t){p=t.sounds}],execute:function(){var m,y,S,b,C,w,R,A,D,v,_,P,k,E,L,H,z,I,j,O;s._RF.push({},"2aecczYCj9Fy6Es5QWJhoZb","CeleryStalker",void 0);var T=r.ccclass,F=r.property,q=(m=T("celerystalkerSound"),y=F([l]),S=F([l]),b=F([l]),C=F([l]),w=F([l]),R=F([l]),m((v=n((D=function(){function t(){e(this,"hitSounds",v,this),e(this,"attackStartSounds",_,this),e(this,"attackEndSounds",P,this),e(this,"showSounds",k,this),e(this,"hideSounds",E,this),e(this,"foodSounds",L,this)}var n=t.prototype;return n.playHitSound=function(){p.playArray(this.hitSounds,1,.2)},n.playAttackStartSound=function(){p.playArray(this.attackStartSounds,1,.1)},n.playAttackEndSound=function(){p.playArray(this.attackEndSounds,1,.1)},n.playShowSound=function(){p.playArray(this.showSounds,1,.1)},n.playHideSound=function(){p.playArray(this.hideSounds,1,.1)},n.playFoodSound=function(){p.playArray(this.foodSounds,1,.1)},t}()).prototype,"hitSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(D.prototype,"attackStartSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(D.prototype,"attackEndSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(D.prototype,"showSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(D.prototype,"hideSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(D.prototype,"foodSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=D))||A),x=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).PlantfoodChildrenCount=3,n.RetractionDelay=3,n.DamagePerHit=25,n}return i(n,t),n}(u);t("CeleryStalkerPlant",(H=T("CeleryStalkerPlant"),z=F(q),H((O=n((j=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(n,"soundRes",O,a(n)),n._stage=0,n._bpSlots=[],n.soonReact=!1,n.dirtsArmature=void 0,n.detector=new c,n.retreatCD=3,n.switching=!1,n.target=void 0,n._objdataOwn=new x,n.chidden=!1,n}i(n,t);var s=n.prototype;return s.specialPlantOnLoad=function(){var t,n=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP")&&n._bpSlots.push(t)})),this.dirtsArmature=null==(t=this.db.armature().getSlot("DIRT"))?void 0:t.childArmature},s.specialPlantOnEnable=function(){this.stage=0,this.show(),this.anmControl.playRandom(),this.retreatCD=0,this.switching=!1,this.soonReact=!0},s.onDamaged=function(t,n,i){for(var e=0,a=2;a>=0;a--)if(i<=this.toughness*(1-a/3)){e=a;break}this.stage!=e&&(this.stage=e)},s.specialPlantFood=function(t){this.chidden&&this.show(),this.anmControl.playAnimation("Food",1),this.onDamaged(0,this.toughness,this.toughness),this.target=null,this.retreatCD=.1},s.replantable=function(){return 0!=this.stage},s.replant=function(){this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},s.animationListener=function(t){if("foodEnd"==t.name)this.foodEnd();else if("hit"==t.name)this.hit(),this.soundRes.playHitSound();else if("foodSummon"==t.name)this.throwChildren(),this.soundRes.playFoodSound();else if("attackLoop"==t.name){var n;this.target=this.getTarget(),this.target||null!=(n=this.inLnC)&&null!=(n=n.lefter)&&n.tombStone?(this.anmControl.playAnimation("AttackLoop",1/0,0,1),this.switching=!0):(this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0)}else if("dirt"==t.name){var i;null==(i=this.dirtsArmature)||null==(i=i.animation)||i.play("Play",1)}},s.getTarget=function(){var t=this,n=null;return this.inLane.zombiePool().forEach((function(i){var e;i.bodyRec.prjX().x<Infinity&&t.detector.judgeCrossRec(i.bodyRec)&&(null==(e=t.bodyRec)||!e.judgeCrossRec(i.plantDetectorRec))&&(n=i)})),n},s.throwChildren=function(){var t=this,n=this._objdataOwn.PlantfoodChildrenCount,i=[];if(i.length<n)for(var e=g.randomize(d.getAllLnC()),a=0;i.length<n&&a<e.length;a++){var o=e[a];-1==i.indexOf(o)&&o.putPlantAvailable(this.TYPE,!0,this.ID)&&i.push(o)}i.forEach((function(n){var i=n.spawnPlantByPlantEnum(t.ID);i&&(i.hurting=60)}))},s.specialPlantOnSquareChange=function(t,n){this.detector=c.createRectangleNodeSide(n.node,1.5*-d.SquareDisW,d.SquareDisH)},s.hit=function(){var t=this._objdataOwn.RetractionDelay;t*=this._cdScale,this.retreatCD=t;var n=this._objdataOwn.DamagePerHit;if(n*=this._dmgScale,this.target&&this.target.inLane==this.inLane&&this.detector.judgeCrossRec(this.target.bodyRec)){if(this.bodyRec.judgeCrossRec(this.target.plantDetectorRec))return void this.hide();this.target.dealDamage(n,!0,!0,!0,null,f.physicle)}else{var i;if(this.target=this.getTarget(),this.target)this.target.dealDamage(n,!0,!0,!0,null,f.physicle);else if(null!=(i=this.inLnC)&&null!=(i=i.lefter)&&i.tombStone){var e,a=null==(e=this.inLnC)||null==(e=e.lefter)?void 0:e.tombStone;!a||null!=a&&a.hidden||null==a||a.dealDamage(n)}else this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0}},s.waterable=function(){return!this.switching&&!this.target&&!this.chidden},s.animationOnComplete=function(){this.switching=!1},s.specialPlantUpdate=function(t){if(!this.fooding&&!this.switching)if(this.chidden){var n;(this.getTarget()||null!=(n=this.inLnC)&&null!=(n=n.lefter)&&n.tombStone)&&this.show()}else{var i;if(!this.target)((this.target=this.getTarget())||null!=(i=this.inLnC)&&null!=(i=i.lefter)&&i.tombStone)&&(this.anmControl.playAnimation("AttackStart",1),this.soundRes.playAttackStartSound(),this.switching=!0);if(this.retreatCD>0&&(this.retreatCD-=t),this.retreatCD<=0)return void this.hide()}this.soonReact=!1},s.show=function(){this.target=null,this.retreatCD=.5,this.chidden=!1,this.anmControl.playAnimation("Show",1),this.switching=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.deathAnm="Death",this.soundRes.playShowSound(),this.eaterDetectable=!0,this.short_=!1},s.hide=function(){this.target=null,this.chidden=!0,this.anmControl.playAnimation("Hide",1),this.switching=!0,this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=["Rand1_Hidden","Rand2_Hidden","Rand3_Hidden"],this.deathAnm="Death_Hidden",this.soundRes.playHideSound(),this.eaterDetectable=!1,this.short_=!0},o(n,[{key:"stage",get:function(){return this._stage},set:function(t){var n;t>2&&(t=2),t<0&&(t=0),t!=this._stage&&(this._bpSlots.forEach((function(n){n._setDisplayIndex(t)})),this._stage=t,null==(n=this.plantInLnC)||n.readIndex())}}]),n}(h)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),I=j))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lane.ts","./LnC.ts","./Square.ts","./shadeFloor.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts"],(function(e){var t,i,n,o,a,s,h,r,d,l,c,u,f,g,S,w,y,p,L,C,P,k,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,h=e._decorator,r=e.CCFloat,d=e.Size,l=e.Node,c=e.dragonBones,u=e.Vec3,f=e.Color,g=e.tween,S=e.Vec2,w=e.Component},function(e){y=e.Lane},function(e){p=e.TileType},function(e){L=e.Square},function(e){C=e.shadeFloor},function(e){P=e.NodePools},function(e){k=e.FrontYard},function(e){b=e.LevelPlay}],execute:function(){var m,_,v,I,x,T,O,H,Y,F,A,X,D;s._RF.push({},"fb6fe2CvXNDDoGQaFJYhZZy","Character",void 0);var z=h.ccclass,q=h.property,E=e("CharacterScale",.45);e("CharacterType",function(e){return e[e.zombie=0]="zombie",e[e.plant=1]="plant",e[e.droppings=2]="droppings",e[e.projectle=3]="projectle",e[e.default=4]="default",e}({})),e("Character",(m=z("Character"),_=q(r),v=q({type:Boolean,visible:function(){return this.useShade}}),I=q(Boolean),x=q({type:d,visible:function(){return this.useShade}}),T=q({type:l,visible:function(){return this.useShade}}),m((Y=t((H=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).isGameLoseTriggerer=!1,n(t,"originalScale",Y,o(t)),t.disabled=!1,t.inLane=void 0,t.inLnC=void 0,t.db=null,t._worldPositionX=0,t._worldPositionY=0,t.shadeAlphaScale=1,t._height=0,t._maxShowShadeHeight=600,t.shadeHidden=!1,t.lIndex=-2,t.cIndex=-2,t.shadeCIndex=-2,n(t,"smartShadeHider",F,o(t)),t.shadeInLnC=void 0,t.lockLane=!1,t.fallingInSky=!1,t.flyingOnSky=!1,n(t,"useShade",A,o(t)),n(t,"originalShadeScale",X,o(t)),n(t,"shadeSocket",D,o(t)),t.shade=void 0,t.oldTT=p.floor,t.fadingAway=!1,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.shadeSocket||(this.shadeSocket=this.node),this.db=this.getComponent(c.ArmatureDisplay),this.disabled||this.characterOnLoad(),this.characterOnLoadForced()},s.characterOnLoad=function(){},s.characterOnLoadForced=function(){},s.triggerGameLose=function(){},s.onEnable=function(){var e;this.isGameLoseTriggerer=!1,this.shadeHidden=!1,this.setLockLane(null),null==(e=this.db)||null==(e=e.color)||e.set(255,255,255,255),this.fadingAway=!1,this.node.worldScale=new u(E,E,E).multiplyScalar(this.originalScale),this.node.children.forEach((function(e){e.scale=new u(1,1,1)})),this.fallingInSky=!1,this.flyingOnSky=!1,this.cIndex=-2,this.lIndex=-2,this.disabled||(this.characterOnEnable(),this.useShade&&this.spawnShade(),this.inLane=L.getLane(-2).getComponent(y),this.inLnC=L.getLnC(-2,-2)),this.height=0},s.onDisable=function(){this.useShade&&this.shade&&(C.component.putShade(this.shade.node),this.shade=null),this.disabled||this.characterOnDisable()},s.characterOnEnable=function(){},s.characterOnDisable=function(){},s.setInLnC=function(e){var t=this.inLnC;this.inLnC=e,this.inLane=e.inLane,this.onLnCSet(t,e)},s.onLnCSet=function(e,t){},s.characterOnWPChange=function(){},s.characterOnSquareChange=function(e,t){},s.onSquareChange=function(e,t){this.fallingInSky||(this.inLnC=t,this.smartShadeHider&&this.shadeSocket||(this.shadeInLnC=t),this.characterOnSquareChange(e,t))},s.characterOnLaneChange=function(e,t){},s.onLaneChange=function(e,t){this.fallingInSky||(this.inLane=t,this.characterOnLaneChange(e,t))},s.judgeInLnC=function(){var e=this.lIndex+0,t=this.cIndex+0,i=this.getLaneIndex(),n=this.getColumnIndex();this.smartShadeHider&&this.shadeSocket&&(this.shadeInLnC=L.getLnC(this.lIndex,this.shadeCIndex)),this.lockLane||e==i||this.onLaneChange(L.getLaneComponent(e),L.getLaneComponent(i)),e==i&&t==n||this.onSquareChange(L.getLnC(e,t),L.getLnC(i,n))},s.getLaneIndex=function(){for(var e=this.shadeWorldPosition.y,t=L.SquareDisH,i=L.lawnRec.prjY().x,n=-1,o=0;o<5;o++)if(e>=i+o*t&&e<i+(o+1)*t){n=4-o;break}return e<i&&(n=5),this.lIndex=n,n},s.getColumnIndex=function(){for(var e=this._worldPosition.x,t=L.SquareDisW,i=L.lawnRec.prjX().x,n=-1,o=0;o<9;o++)if(e>=i+o*t&&e<i+(o+1)*t){n=o;break}if(e>=i+9*t&&(n=9),this.cIndex=n,this.smartShadeHider&&this.shadeSocket){for(var a=this.shadeSocket.worldPosition.x,s=-1,h=0;h<9;h++)if(a>=i+h*t&&a<i+(h+1)*t){s=h;break}a>=i+9*t&&(s=9),this.shadeCIndex=s}return n},s.setLockLane=function(e){e?(this.inLane=e,this.onLaneChange(L.getLane(-2).getComponent(y),e),this.lockLane=!0):this.lockLane=!1},s.characterOnTileTypeChange=function(e,t){},s.spawnShade=function(){var e=C.component;if(null!=e&&e.isValid){var t=e.giveShade();t.setWorldScale(this.originalShadeScale.width,this.originalShadeScale.height,0),t.parent=e.node,this.shade=t.getComponent(c.ArmatureDisplay),this.worldPosition=this._worldPosition,this.shade.color=new f(255,255,255,0)}},s.followShade=function(e){var t=e.getTileType();if(this.flyingOnSky=t==p.sky||t==p.sea,this.shade.node.worldPosition=new u(this.shadeSocket?this.shadeSocket.worldPosition.x:this._worldPosition.x,this._worldPosition.y),this.flyingOnSky||this.fallingInSky||this._height<-2||this.shadeHidden?this.shade.color=new f(0,0,0,0):this.shade.color=new f(255,255,255,(this.db?this.db.color.a:255)*this.shadeAlphaScale),this.useShade&&this.shade){var i=this._height;this.shadeSocket&&(i=this.shadeSocket.worldPosition.y-this._worldPosition.y),this.shade.node.setScale(this._maxShowShadeHeight>i?this.originalShadeScale.width*(this._maxShowShadeHeight-i)/this._maxShowShadeHeight*E*2:0,this._maxShowShadeHeight>i?this.originalShadeScale.height*(this._maxShowShadeHeight-i)/this._maxShowShadeHeight*E*2:0)}},s.update=function(e){if((!b.component.gameOver||this.isGameLoseTriggerer)&&!this.disabled){var t,i=this.oldTT;this.judgeInLnC(),this.useShade&&this.shade&&this.followShade(this.smartShadeHider&&this.shadeSocket?this.shadeInLnC:this.inLnC),this.characterUpdate(e);var n=null==(t=this.inLnC)?void 0:t.getTileType();i!=n&&this.characterOnTileTypeChange(i,n),this.oldTT=n}},s.lateUpdate=function(e){this.characterLateUpdate(e)},s.characterUpdate=function(e){},s.characterLateUpdate=function(e){},s.fadeAway=function(){var e=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,g(this.db?this.db.color:new f).to(.5,{a:0}).call((function(){e.onFadeEnd()})).start())},s.shrinkAway=function(){var e=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,g(this.node).to(.5,{worldScale:new u(.01,.01,.01)},{easing:"quadIn"}).call((function(){e.onFadeEnd()})).start())},s.onFadeEnd=function(){P.destroyPooly(this.node)},s.fallInSky=function(e){var t=this;if(void 0===e&&(e=!0),!this.fallingInSky&&!this.fadingAway){this.fallingInSky=!0,this.height=0;var i=this.node.scale.clone();if(k.currentLawn.node.getChildByName("Lower")){var n=k.currentLawn.node.getChildByName("Lower");n.setWorldScale(1,1,1),this.node.setParent(n,!0)}var o=this.node.worldPosition,a=1+Math.random(),s=Math.random(),h=this;e&&g(h.node).by(a,{angle:180*(2-4*s)},{easing:"cubicIn"}).start(),g(h.node).to(a,{scale:new u(.01,.01,1)}).start(),g(h).to(a,{worldPositionX:o.x-(40+10*s),worldPositionY:o.y+(5*s-20)}).call((function(){t.node.active&&(t.node.scale=i,t.node.angle=0,t.node.worldPosition=new u(1e3,-1e3,0),t.onSkyFallEnd())})).start()}},s.onSkyFallEnd=function(){P.destroyPooly(this.node)},a(t,[{key:"worldPositionX",get:function(){return this._worldPositionX},set:function(e){this._worldPositionX=e,this.node.worldPosition=new u(e,this._worldPositionY+this._height,10)}},{key:"worldPositionY",get:function(){return this._worldPositionY},set:function(e){this._worldPositionY=e,this.node.worldPosition=new u(this._worldPositionX,e+this._height,10)}},{key:"_worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)}},{key:"worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)},set:function(e){this.worldPositionX=e.x,this.worldPositionY=e.y}},{key:"shadeWorldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)}},{key:"realWorldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY+this._height)}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+e,10)}}]),t}(w)).prototype,"originalScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=t(H.prototype,"smartShadeHider",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=t(H.prototype,"useShade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=t(H.prototype,"originalShadeScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(.25,.25)}}),D=t(H.prototype,"shadeSocket",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=H))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombies.ts","./Cards.ts","./SoundRescourses.ts","./levelController.ts","./GridItem.ts"],(function(t){var n,o,i,e,s,r,h,a,c,u,l,p,d,y,f,x,P,m,g,w;return{setters:[function(t){n=t.createClass,o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,h=t._decorator,a=t.Vec2,c=t.find,u=t.Prefab,l=t.math,p=t.HALF_PI,d=t.Component},function(t){y=t.NodePools,f=t.ArrayGet},function(t){x=t.zombies},function(t){P=t.Cards},function(t){m=t.sounds},function(t){g=t.LevelPlay},function(t){w=t.GridItemPool}],execute:function(){var L,b,v,M,I;r._RF.push({},"99347P29tZA8pn9lmrrqr47","CharacterManager",void 0);var R=h.ccclass,C=h.property,j=(t("Rectangle",function(){var t=n.prototype;function n(t,n,o,i){void 0===t&&(t=new a(-1e3,-1e3)),void 0===n&&(n=new a(-1e3,-1e3)),void 0===o&&(o=new a(-1e3,-1e3)),void 0===i&&(i=new a(-1e3,-1e3)),this.point1=new a(0,0),this.point2=new a(0,0),this.point3=new a(0,0),this.point4=new a(0,0),this.dot1=null,this.dot2=null,this.dot3=null,this.dot4=null,this.shown=!1,this.point1=t,this.point2=n,this.point3=o,this.point4=i}return t.prjX=function(){return Math.abs(this.point1.x-this.point3.x)<Math.abs(this.point2.x-this.point4.x)?new a(Math.min(this.point2.x,this.point4.x),Math.max(this.point2.x,this.point4.x)):new a(Math.min(this.point1.x,this.point3.x),Math.max(this.point1.x,this.point3.x))},t.prjY=function(){return Math.abs(this.point1.y-this.point3.y)<Math.abs(this.point2.y-this.point4.y)?new a(Math.min(this.point2.y,this.point4.y),Math.max(this.point2.y,this.point4.y)):new a(Math.min(this.point1.y,this.point3.y),Math.max(this.point1.y,this.point3.y))},t.hidePoints=function(){this.shown&&(this.shown=!1,y.destroyNodeArrayPooly([this.dot1,this.dot2,this.dot3,this.dot4]))},t.showPoints=function(){if(!this.shown){this.shown=!0;var t=c("CharacterManager").getComponent(z).debugDot,n=c("Canvas/UIInGameUpper/Debug");this.dot1=y.instantiatePooly(t),this.dot1.parent=n,this.dot1.setWorldPosition(this.point1.x,this.point1.y,0),this.dot2=y.instantiatePooly(t),this.dot2.parent=n,this.dot2.setWorldPosition(this.point2.x,this.point2.y,0),this.dot3=y.instantiatePooly(t),this.dot3.parent=n,this.dot3.setWorldPosition(this.point3.x,this.point3.y,0),this.dot4=y.instantiatePooly(t),this.dot4.parent=n,this.dot4.setWorldPosition(this.point4.x,this.point4.y,0)}},n.createRectangleNodeSide=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleSide(new a(e.x,e.y),n,o,i)},n.createRectangleNodeCenter=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCenter(new a(e.x,e.y),n,o,i)},n.createRectangleNodeCorner=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCorner(new a(e.x,e.y),n,o,i)},n.createRectangleSide=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*l.HALF_PI/90),t.y-i/2*Math.cos(e*l.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCorner=function(t,o,i,e){void 0===e&&(e=0);var s=t,r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCenter=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x-o/2,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*l.HALF_PI/90)-o/2*Math.cos(e*l.HALF_PI/90),t.y-i/2*Math.cos(e*l.HALF_PI/90)-o/2*Math.sin(e*l.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},t.judgeInRec=function(t,n,o){void 0===o&&(o=!1);var i=(t-this.point1.x)*(this.point4.x-this.point1.x)+(n-this.point1.y)*(this.point4.y-this.point1.y),e=(t-this.point2.x)*(this.point1.x-this.point2.x)+(n-this.point2.y)*(this.point1.y-this.point2.y),s=(t-this.point3.x)*(this.point2.x-this.point3.x)+(n-this.point3.y)*(this.point2.y-this.point3.y),r=(t-this.point4.x)*(this.point3.x-this.point4.x)+(n-this.point4.y)*(this.point3.y-this.point4.y);return o?i>=0&&e>=0&&s>=0&&r>=0:i>0&&e>0&&s>0&&r>0},t.judgeInRecP=function(t,n){return void 0===n&&(n=!1),!!t&&this.judgeInRec(t.x,t.y,n)},t.judgeInRecNode=function(t){return!!t&&this.judgeInRec(t.worldPosition.x,t.worldPosition.y)},t.judgeCrossLine=function(t){if(!t)return!1;var n=t.getP1(),o=t.getP2();return!(!this.judgeInRec(n.x,n.y)&&!this.judgeInRec(o.x,o.y))||!(!t.judgeCrossLine(new j(this.point1,this.point3))&&!t.judgeCrossLine(new j(this.point2,this.point4)))},t.judgeCrossRec=function(t){return!!t&&(!!(this.judgeInRecP(t.point1)||this.judgeInRecP(t.point2)||this.judgeInRecP(t.point3)||this.judgeInRecP(t.point4)||t.judgeInRecP(this.point1)||t.judgeInRecP(this.point2)||t.judgeInRecP(this.point3)||t.judgeInRecP(this.point4))||!(!new j(this.point1,this.point3).judgeCrossRec(t)&&!new j(t.point1,t.point3).judgeCrossRec(this)))},n}()),t("LineSegment",function(){var t=n.prototype;function n(t,n){this.point1=void 0,this.point2=void 0,this.point1=t,this.point2=n}return t.getP1=function(){return this.point1},t.getP2=function(){return this.point2},t.judgeCrossLine=function(t){var n=this.point1,o=this.point2,i=t.point1,e=t.point2;return!(Math.max(i.x,e.x)<Math.min(n.x,o.x)||Math.max(n.x,o.x)<Math.min(i.x,e.x)||Math.max(i.y,e.y)<Math.min(n.y,o.y)||Math.max(n.y,o.y)<Math.min(i.y,e.y))&&(!(a.cross(new a(n.x-e.x,n.y-e.y),new a(i.x-e.x,i.y-e.y))*a.cross(new a(o.x-e.x,o.y-e.y),new a(i.x-e.x,i.y-e.y))>=0)&&!(a.cross(new a(i.x-o.x,i.y-o.y),new a(n.x-o.x,n.y-o.y))*a.cross(new a(e.x-o.x,e.y-o.y),new a(n.x-o.x,n.y-o.y))>=0))},t.judgeCrossRec=function(t){return t.judgeCrossLine(this)},n.createLineLenRo=function(t,n,o){return void 0===o&&(o=0),this.createLineLenDir(t,n,new a(Math.cos(o/90*p),Math.sin(o/90*p)))},n.createLineLenDir=function(t,n,o){void 0===o&&(o=new a(1,0));var i=n*o.x/o.length(),e=n*o.y/o.length();return this.createLineVec(t,new a(i,e))},n.createLineVec=function(t,o){return new n(t,new a(t.x+o.x,t.y+o.y))},n}())),A=t("PlantPool",function(){function t(){}return t.pool=function(){return this.cm.plantPool},t.registerPlant=function(t){-1==this.cm.plantPool.indexOf(t)&&this.cm.plantPool.push(t)},t.deletePlant=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t.getPlantAmount=function(){var t=0;return this.cm.plantPool.forEach((function(n){t+=n.plantCount()})),t},t}());A.cm=null;var _=t("ZombiePool",function(){function t(){}return t.pool=function(){return this.cm.zombiePool},t.getLeftest=function(){var t=this.pool();return f.getMin(t,"worldPositionX")},t.getBodyRecLeftest=function(){if(!this.pool().length)return null;for(var t=this.pool().concat(),n=t[0],o=1;o<t.length;o++)t[o].bodyRec.prjX().x<n.bodyRec.prjX().x&&(n=t[o]);return n},t.bodyRecLeftest=function(){return this.cm.zombieRecLeftest},t.hypnoPool=function(){return this.cm.hypnoZombiePool},t.leftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.inLawnPool=function(){return this.cm.zombieInLawnPool},t.registerZombie=function(t){t.hypno||-1!=this.cm.zombiePool.indexOf(t)?t.hypno&&-1==this.cm.hypnoZombiePool.indexOf(t)&&this.hypnoPool().push(t):this.pool().push(t)},t.deleteZombie=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1);var o=this.hypnoPool().indexOf(t);-1!=o&&this.hypnoPool().splice(o,1)},t}());_.cm=null;var F=t("TombPool",function(){function t(){}return t.pool=function(){return this.cm.tombPool},t.getLeftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.leftest=function(){return this.cm.tombLeftest},t.registerTomb=function(t){-1==this.cm.tombPool.indexOf(t)&&this.pool().push(t)},t.deleteTomb=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());F.cm=null;t("Icetiles",function(){function t(){}return t.pool=function(){return c("CharacterManager").getComponent(z).Icepool},t.registerIce=function(t){this.pool().push(t)},t.deleteIce=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());var H=t("Umbrellas",function(){function t(){}return n(t,null,[{key:"umbrellas",get:function(){return this.cm.umbrellas},set:function(t){this.cm.umbrellas=t}}]),t}());H.cm=void 0;var z=t("CharacterManager",(L=R("CharacterManager"),b=C(u),L((I=o((M=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"debugDot",I,s(n)),n.umbrellas=[],n.zombiePool=[],n.hypnoZombiePool=[],n.zombieInLawnPool=[],n.tombPool=[],n.plantPool=[],n.Icepool=[],n.groanCoolDown=0,n.zombieRecLeftest=null,n.tombLeftest=null,n}i(n,t);var o=n.prototype;return o.playZombieGroan=function(t){if(this.zombiePool.length>0&&this.groanCoolDown<=0){var n=f.getRandom(this.zombiePool);n.groanSound.length>0?m.play(f.getRandom(n.groanSound)):x.playGroan(n.zombieGroanSoundGroup),this.groanCoolDown=2.5+5/this.zombiePool.length+3*Math.random()}this.groanCoolDown>0&&(this.groanCoolDown-=t)},o.update=function(t){this.zombieRecLeftest=_.getBodyRecLeftest(),this.tombLeftest=F.getLeftest(),this.characterManagerUpdate(t)},o.characterManagerUpdate=function(t){var n=[];this.zombiePool.forEach((function(t){t.isInLawn()&&n.push(t)})),this.zombieInLawnPool=n,g.gameStarted&&this.playZombieGroan(t),P.cardsController.cardsUpdate(t)},o.onLoad=function(){_.cm=this,A.cm=this,F.cm=this,H.cm=this,w._pool=[],this.umbrellas=[],this.zombiePool=[],this.zombieInLawnPool=[],this.tombPool=[],this.plantPool=[],this.Icepool=[]},n}(d)).prototype,"debugDot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChardGuard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,s,r,l,u,c,d,h,y,f,p,S,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,u=e.Prefab,c=e.Vec2},function(e){d=e.Plant,h=e.PlantProps},function(e){y=e.Rectangle},function(e){f=e.Square},function(e){p=e.instantiatePooly},function(e){S=e.ParticleSelfdestroy},function(e){b=e.sounds}],execute:function(){var m,w,g,R,B,P,v,C,L,_,D,H,A,E,T,z,k,x,j,I,O,q,F,M,W,N,G,Z;s._RF.push({},"b8926IuriBBJLI4jhChWglu","ChardGuard",void 0);var U=r.ccclass,Y=r.property,J=(m=U("chardguardSound"),w=Y([l]),g=Y([l]),R=Y([l]),B=Y([l]),P=Y([l]),v=Y([l]),C=Y([l]),L=Y([l]),_=Y([l]),m((A=n((H=function(){function e(){i(this,"foodHitSounds",A,this),i(this,"foodStartSaySounds",E,this),i(this,"foodEndSaySounds",T,this),i(this,"bounceSounds",z,this),i(this,"hitSounds",k,this),i(this,"bounceSaySounds",x,this),i(this,"readySaySounds",j,this),i(this,"sleepySaySounds",I,this),i(this,"shockSaySounds",O,this)}var n=e.prototype;return n.playFoodHit=function(){b.playArray(this.foodHitSounds,1,.01)},n.playFoodStartSay=function(){b.playArray(this.foodStartSaySounds,1,.1)},n.playFoodEndSay=function(){b.playArray(this.foodEndSaySounds,1,.1)},n.playBounce=function(){b.playArray(this.bounceSounds,1,.1)},n.playHit=function(){b.playArray(this.hitSounds,1,.1)},n.playBounceSay=function(){b.playArray(this.bounceSaySounds,1,.1)},n.playReadySay=function(){b.playArray(this.readySaySounds,1,.1)},n.playSleepySay=function(){b.playArray(this.sleepySaySounds,1,.1)},n.playShockSay=function(){b.playArray(this.shockSaySounds,1,.1)},e}()).prototype,"foodHitSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(H.prototype,"foodStartSaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(H.prototype,"foodEndSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(H.prototype,"bounceSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(H.prototype,"hitSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(H.prototype,"bounceSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(H.prototype,"readySaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(H.prototype,"sleepySaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(H.prototype,"shockSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=H))||D),V=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).MaxBounceTime=3,n.BounceDistance=3,n}return t(n,e),n}(h);e("ChardGuardPlant",(q=U("ChardGuardPlant"),F=Y(J),M=Y(u),q((G=n((N=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).detector=new y,n.bounceDetector=new y,n.detectorLeft=new c,i(n,"soundRes",G,o(n)),n._ready=!1,n.switching=!1,n._leftBounceTime=3,n.hand0Slots=[],n.hand1Slots=[],n.hand2Slots=[],i(n,"thrownHand",Z,o(n)),n._objdataOwn=new V,n}t(n,e);var s=n.prototype;return s.specialPlantOnSquareChange=function(e,n){this.detectorLeft=new c(n.node.worldPosition.x-f.SquareDisW/2,n.node.worldPosition.y),this.detector=y.createRectangleSide(this.detectorLeft,2*f.SquareDisW,f.SquareDisH),this.bounceDetector=y.createRectangleSide(this.detectorLeft,f.SquareDisW,f.SquareDisH)},s.specialPlantOnLoad=function(){var e=this;this.hand0Slots=[],this.hand1Slots=[],this.hand2Slots=[],this.anmControl.body.armature().getSlots().forEach((function(n){n.name.includes("HAND0")?e.hand0Slots.push(n):n.name.includes("HAND1")?e.hand1Slots.push(n):n.name.includes("HAND2")&&e.hand2Slots.push(n)}))},s.specialPlantOnEnable=function(){this.ready=!1,this.anmControl.playRandom(),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.animationOnComplete=function(){this.switching=!1},s.getReady=function(){this.ready||(this.switching=!0,this.ready=!0,this.anmControl.playAnimation("Ready",1,0,1.5),this.soundRes.playReadySay())},s.recover=function(){this.ready&&(this.ready=!1,this.anmControl.playRandom())},s.detectEnemy=function(){var e=this,n=!1;return this.inLane.zombiePool().forEach((function(t){n||t.bodyRec.judgeCrossRec(e.detector)&&(n=!0)})),n},s.detectBounceEnemy=function(){var e=this,n=!1;return this.inLane.zombiePool().forEach((function(t){n||t.knockBackable&&t.leapable&&t.specialZombieLeapable()&&t.bodyRec.judgeCrossRec(e.bounceDetector)&&(n=!0)})),n},s.bounce=function(){this.soundRes.playBounce(),this.anmControl.playAnimation("Bounce",1,0,1.5),this.switching=!0},s.waterable=function(){return!this.ready&&!this.switching},s.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,1),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.dropHand=function(e){var n="PlayR";1==e&&(n="PlayL"),2==e&&(n="PlayM");var t=p(this.thrownHand);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=this.node.worldPosition,t.getComponent(S).db.playAnimation(n)},s.animationListener=function(e){var n=this;if("bounce"==e.name){var t=y.createRectangleSide(this.detectorLeft,1.7*f.SquareDisW,f.SquareDisH),i=!1;this.inLane.zombiePool().forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(t)&&(i=!0,e.leapBy(new c(n._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1))})),i&&(this.soundRes.playHit(),this.leftBounceTime--),this.soundRes.playBounceSay()}else if("sleepy"==e.name)this.soundRes.playSleepySay();else if("shock"==e.name)this.soundRes.playShockSay();else if("foodStartYell"==e.name)this.soundRes.playFoodStartSay();else if("foodEndYell"==e.name)this.soundRes.playFoodEndSay();else if("foodStart"==e.name)this.soundRes.playFoodHit();else if("foodEnd"==e.name)this.foodEnd();else if("hit"==e.name){var o=y.createRectangleNodeSide(this.inLnC.node,2*f.SquareDisW,3*f.SquareDisH);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(o)&&e.leapBy(new c(n._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1)}))}else"readyFalse"==e.name&&(this.ready=!1)},s.heal=function(e){this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.replantable=function(){return this.leftBounceTime<this._objdataOwn.MaxBounceTime},s.replant=function(){this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.specialPlantUpdate=function(e){if(!this.switching&&!this.fooding&&this.leftBounceTime>0){var n=this.detectEnemy();if(this.ready)this.detectBounceEnemy()?this.bounce():n||this.recover();else n&&this.getReady()}},a(n,[{key:"ready",get:function(){return this._ready},set:function(e){this.anmControl.IdleAnim=e?"Idle_Ready":"Idle",this.anmControl.RandomAnim=e?[]:["Rand1","Rand2"],this.short_=e,this._ready=e}},{key:"leftBounceTime",get:function(){return this._leftBounceTime},set:function(e){var n=!1,t=this._objdataOwn.MaxBounceTime;this.hand0Slots.forEach((function(i){var o=e>t/3*2?0:-1;-1==o&&-1!=i.displayIndex&&(n=!0),i._setDisplayIndex(o)})),n&&this.dropHand(0);var i=!1;this.hand1Slots.forEach((function(n){var o=e>t/3?0:-1;-1==o&&-1!=n.displayIndex&&(i=!0),n._setDisplayIndex(o)})),i&&this.dropHand(1);var o,a=!1;(this.hand2Slots.forEach((function(n){var t=e>0?0:-1;-1==t&&-1!=n.displayIndex&&(a=!0),n._setDisplayIndex(t)})),a&&this.dropHand(2),this._leftBounceTime!=e)&&(this._leftBounceTime=e,null==(o=this.plantInLnC)||o.readIndex())}}]),n}(d)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),Z=n(N.prototype,"thrownHand",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=N))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/CherryBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(e){var n,t,r,i,a,o,s,l,c,h;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.AudioClip},function(e){l=e.PlantProps,c=e.Plant},function(e){h=e.sounds}],execute:function(){var u,p,d,b,y;a._RF.push({},"28eeb/RjZNKZ4IdgQM7o1OF","CherryBomb",void 0);var f=o.ccclass,m=o.property,g=e("CherryBombProps",function(e){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).Damage=1800,n}return n(t,e),t}(l));e("CherryBombPlant",(u=f("CherryBombPlant"),p=m(s),u((y=t((b=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r(n,"chargeSound",y,i(n)),n._objdataOwn=new g,n}n(t,e);var a=t.prototype;return a.specialOnLaneChange=function(e,n){n&&(this.node.setParent(n.prjLayer,!0),this.node.setSiblingIndex(0))},a.specialCherryBombOnEnable=function(){},a.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.chargeSound&&h.play(this.chargeSound,1,.1),this.specialCherryBombOnEnable()},a.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!0)},a.animationListener=function(e){"explode"==e.name&&(this.explode(),this.die())},t}(c)).prototype,"chargeSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChickenZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SeagullZombieAshParticle.ts","./LnC.ts"],(function(e){var i,t,n,o,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.SeagullZombieAshParticle},function(e){r=e.TileType}],execute:function(){var c;t._RF.push({},"247c6GMmBZKKJTzQFXNPP8w","ChickenZombieAshParticle",void 0);var l=n.ccclass;n.property,e("ChickenZombieAshParticle",l("ChickenZombieAshParticle")(c=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.playAsh=function(){var e,i="PlayFloor",t=null==(e=this.inLnC)?void 0:e.getTileType();this.height>5||t==r.sea||t==r.water||t==r.sky?i="PlaySky":Math.random()<.2&&(i="PlayFloorFried"),this.db.playAnimation(i)},t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChiliBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,e,l,r,u,s,d,c,p,h,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,l=n._decorator,r=n.AudioClip},function(n){u=n.PlantType,s=n.Plant,d=n.PlantProps},function(n){c=n.Square},function(n){p=n.ZombiePool},function(n){h=n.ArrayGet},function(n){f=n.sounds}],execute:function(){var y,C,P,b,g,m,L,S,v,w,A,E;e._RF.push({},"cf014IsRB1JJbt2+1GrtaDK","ChiliBean",void 0);var F=l.ccclass,R=l.property,B=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).PlantfoodChildrenCount=3,t}return o(t,n),t}(d),D=(y=F("chilibeanSound"),C=R(r),P=R(r),y((m=t((g=function(){function n(){i(this,"landSound",m,this),i(this,"foodSound",L,this)}var t=n.prototype;return t.playLandSound=function(){f.play(this.landSound,1,.1)},t.playFoodSound=function(){f.play(this.foodSound,1,.1)},n}()).prototype,"landSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(g.prototype,"foodSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b);n("ChiliBean",(S=F("ChiliBean"),v=R(D),S((E=t((A=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return t=n.call.apply(n,[this].concat(e))||this,i(t,"soundRes",E,a(t)),t._objdataOwn=new B,t}o(t,n);var e=t.prototype;return e.specialPlantOnEaten=function(n,t,o,i){i<=0&&t&&t.chilibeanFart()},e.onLeapEnd=function(){this.anmControl.playAnimation("FlyEnd",1),this.damagable=!0,this.soundRes.playLandSound()},e.onLeapStart=function(){this.anmControl.playAnimation("Flying",1/0)},e.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},e.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"foodSpawn"==n.name&&this.throwChildren()},e.throwChildren=function(){var n=this,t=[],o=this._objdataOwn.PlantfoodChildrenCount;if(p.inLawnPool().forEach((function(i){t.length>=o||i.inLnC.isInLawn()&&-1==t.indexOf(i.inLnC)&&i.inLnC.putPlantAvailable(n.TYPE,!0,n.ID)&&t.push(i.inLnC)})),t.length<o)for(var i=h.randomize(c.getAllLnC()),a=0;t.length<o&&a<i.length;a++){var e=i[a];-1==t.indexOf(e)&&e.putPlantAvailable(this.TYPE,!0,this.ID)&&t.push(e)}t.forEach((function(t){var o=n.inLnC.spawnPlantByPlantEnum(n.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),n.inLnC.pushPlant(o),o.plantType=u.plant,o.damagable=!1,o.leapTo(t,.8,200))}))},t}(s)).prototype,"soundRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D}}),w=A))||w));e._RF.pop()}}}));

System.register("chunks:///_virtual/Chomper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var n,t,i,a,e,l,s,u,r,h,d,c,p,f,m,S,w;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized,e=o.createClass},function(o){l=o.cclegacy,s=o._decorator,u=o.AudioClip,r=o.dragonBones,h=o.Vec2},function(o){d=o.Plant,c=o.PlantProps},function(o){p=o.Rectangle},function(o){f=o.Square},function(o){m=o.zombieDamageType},function(o){S=o.NodePools},function(o){w=o.sounds}],execute:function(){var g,y,b,P,C,A,R,_,k,E,v,D,j,T,z,M,L,O,F,x,B,I,H,X,Z,N,q,Q,U,V,G,J;l._RF.push({},"29a38fz79JLQoGFQUXPFiV2","Chomper",void 0);var W=s.ccclass,K=s.property,Y=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=o.call.apply(o,[this].concat(i))||this).MaxContainZombieCount=2,n.ChewTimePerZombie=17,n.PlantfoodPullDuration=3,n.PlantfoodPushDuration=3,n.PlantfoodSwallowCount=4,n.ChompFailDamage=100,n.PlantfoodPushSPS=3,n.PlantfoodPullSPS=3,n}return t(n,o),n}(c),$=o("chomperSound",(g=W("chomperSound"),y=K(u),b=K(u),P=K([u]),C=K([u]),A=K([u]),R=K([u]),_=K([u]),k=K([u]),E=K([u]),v=K(u),D=K([u]),j=K(u),g((M=n((z=function(){function o(){i(this,"foodPushSound",M,this),i(this,"foodSwallowSound",L,this),i(this,"chewSound",O,this),i(this,"chompSound",F,this),i(this,"swallowSound",x,this),i(this,"chewStartSound",B,this),i(this,"lickSound",I,this),i(this,"hiccupSound",H,this),i(this,"scratchSound",X,this),i(this,"foodPullStartSound",Z,this),i(this,"foodPullSkillSound",N,this),i(this,"foodPullingSound",q,this)}var n=o.prototype;return n.playFoodPushSound=function(){w.play(this.foodPushSound,1,.1)},n.playFoodSwallowSound=function(){w.play(this.foodSwallowSound,1,.1)},n.playChewSound=function(){w.playArray(this.chewSound,1,.1)},n.playChompSound=function(){w.playArray(this.chompSound,1,.1)},n.playSwallowSound=function(){w.playArray(this.swallowSound,1,.1)},n.playChewStartSound=function(){w.playArray(this.chewStartSound,1,.1)},n.playLickSound=function(){w.playArray(this.lickSound,.4,.1)},n.playHiccupSound=function(){w.playArray(this.hiccupSound,1,.1)},n.playScratchSound=function(){w.playArray(this.scratchSound,.4,.1)},n.foodPullBegin=function(){w.play(this.foodPullStartSound,1,.1),w.playArray(this.foodPullSkillSound,1,.1)},n.foodPulling=function(){w.play(this.foodPullingSound,1,this.foodPullingSound.getDuration()-.1)},o}()).prototype,"foodPushSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(z.prototype,"foodSwallowSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(z.prototype,"chewSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(z.prototype,"chompSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(z.prototype,"swallowSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(z.prototype,"chewStartSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(z.prototype,"lickSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(z.prototype,"hiccupSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(z.prototype,"scratchSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(z.prototype,"foodPullStartSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(z.prototype,"foodPullSkillSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(z.prototype,"foodPullingSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z))||T));o("ChomperPlant",(Q=W("ChomperPlant"),U=K($),Q((J=n((G=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),l=0;l<t;l++)e[l]=arguments[l];return(n=o.call.apply(o,[this].concat(e))||this)._objdataOwn=new Y,i(n,"soundRes",J,a(n)),n.detector=null,n.cds=[],n._inMouthAmount=0,n.pulling=0,n.pushing=0,n.foodSwallowTargets=[],n.foodSwallowedTargets=[],n.switching=!1,n.a1Slots=[],n.a2Slots=[],n}t(n,o);var l=n.prototype;return l.setDetector=function(o){this.detector=p.createRectangleNodeSide(o.node,2*f.SquareDisW,f.SquareDisH)},l.chompZombie=function(o){if(o.chompable_){if(!this.fooding)if(o.easyToChomp_)this.anmControl.playAnimation("AttackEmpty",1);else{this.anmControl.IdleAnim="Chewing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("AttackChewStart",1);var n=this._objdataOwn.ChewTimePerZombie;this._cdScale&&(n*=this._cdScale),n>0&&this.cds.push(n),this.inMouthAmount=this.cds.length}o.playDie(!0),S.destroyPooly(o.node)}else{var t=this._objdataOwn.ChompFailDamage;this._dmgScale&&(t*=this._dmgScale),o.dealDamage(t,!1,!1,!1,null,m.physicle),this.fooding||this.anmControl.playAnimation("AttackEmpty",1)}},l.specialPlantOnSquareChange=function(o,n){this.setDetector(n)},l.detectEnemy=function(){var o,n,t=this,i=!1;return this.inLane.zombiePool().forEach((function(o){var n;i||null!=(n=t.detector)&&n.judgeCrossRec(o.bodyRec)&&(i=!0)})),(null!=(o=this.inLnC)&&o.tombStone||null!=(n=this.inLnC.righter)&&n.tombStone)&&(i=!0),i},l.chompEnemy=function(){var o=this,n=null;if(this.inLane.zombiePool().forEach((function(t){var i;null!=(i=o.detector)&&i.judgeCrossRec(t.bodyRec)&&(!n||t.bodyRec.prjX().x<n.bodyRec.prjX().x)&&(n=t)})),n)this.chompZombie(n);else{var t=this._objdataOwn.ChompFailDamage;this._dmgScale&&(t*=this._dmgScale),this.inLnC.tombStone&&!this.inLnC.tombStone.hidden?this.inLnC.tombStone.dealDamage(t):this.inLnC.righter.tombStone&&!this.inLnC.righter.tombStone.hidden&&this.inLnC.righter.tombStone.dealDamage(t),this.anmControl.playAnimation("AttackEmpty",1)}},l.specialPlantFood=function(o){this.anmControl.playAnimation("FoodPullStart",2),this.soundRes.foodPullBegin(),this.cds=[],this.inMouthAmount=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.pulling=0,this.pushing=0,this.foodSwallowTargets=[],this.foodSwallowedTargets=[]},l.specialPlantOnEnable=function(){var o=this;this.inMouthAmount=0,this.switching=!1,this.cds=[],this.pushing=0,this.pulling=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.anmControl.body.on(r.EventObject.COMPLETE,(function(){o.switching=!1}),this)},l.animationListener=function(o){"chomp"==o.name?(this.chompEnemy(),this.soundRes.playChompSound()):"judgeChew"==o.name?(this.inMouthAmount=this.cds.length,0==this.inMouthAmount&&(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"])):"pullBegin"==o.name?(this.pulling=this._objdataOwn.PlantfoodPullDuration,this.anmControl.playAnimation("FoodPulling",1/0)):"pushStart"==o.name?(this.foodSwallowedTargets=[],this.pushing=this._objdataOwn.PlantfoodPushDuration,this.anmControl.playAnimation("FoodPushing",1/0),this.soundRes.playFoodPushSound()):"foodEnd"==o.name?this.foodEnd():"switchEnd"==o.name?this.switching=!1:"chew"==o.name?this.soundRes.playChewSound():"scratch"==o.name?this.soundRes.playScratchSound():"chewStart"==o.name?this.soundRes.playChewStartSound():"swallow"==o.name?this.soundRes.playSwallowSound():"lick"==o.name?this.soundRes.playLickSound():"hiccup"==o.name&&this.soundRes.playHiccupSound()},l.waterable=function(){return!this.switching&&this.inMouthAmount<=0},l.attackAnimation=function(){this.switching=!0,this.anmControl.playAnimation("Attack",2,.1)},l.specialPlantOnLoad=function(){var o=this;["ARM1","ARM1_","HAND1","HAND1_"].forEach((function(n){var t=o.anmControl.body.armature().getSlot(n);t&&o.a1Slots.push(t)})),["ARM2","ARM2_","HAND2","HAND2_"].forEach((function(n){var t=o.anmControl.body.armature().getSlot(n);t&&o.a2Slots.push(t)}))},l.setSlots=function(o){this.a1Slots.forEach((function(n){n._setDisplayIndex(o>=1?0:-1)})),this.a2Slots.forEach((function(n){n._setDisplayIndex(o>=2?0:-1)}))},l.swallowAnimation=function(){this.switching=!0,this.anmControl.playAnimation("ChewEnd",1,.2,1)},l.specialPlantUpdate=function(o){var n=this;if(this.inMouthAmount>0){var t=[];this.cds.forEach((function(n){(n-=o)>0&&t.push(n)})),this.cds.length!=t.length&&this.swallowAnimation(),this.cds=t}if(!this.fooding&&!this.switching&&this.inMouthAmount<this._objdataOwn.MaxContainZombieCount&&this.detectEnemy()&&this.attackAnimation(),this.fooding){if(this.pulling>0){if(this.pulling-=o,this.soundRes.foodPulling(),this.foodSwallowTargets.length<this._objdataOwn.PlantfoodSwallowCount-this.foodSwallowedTargets.length){var i=null;this.inLane.zombiePool().forEach((function(o){o.knockBackable&&-1==n.foodSwallowTargets.indexOf(o)&&(!i||i.bodyRec.prjX().x>o.bodyRec.prjX().x)&&o.bodyRec.prjX().y>n.node.worldPosition.x&&(i=o)})),i&&this.foodSwallowTargets.push(i)}this.foodSwallowTargets.concat().forEach((function(o){var t=n.foodSwallowTargets.indexOf(o);o.isAlive()||-1==t?(o.stun(.2),o.bodyRec.prjX().x<=n.node.worldPosition.x+15?(-1==n.foodSwallowedTargets.indexOf(o)&&(n.chompZombie(o),n.foodSwallowedTargets.push(o)),n.foodSwallowedTargets.length>=n._objdataOwn.PlantfoodSwallowCount&&(n.pulling=0)):o.knockBackBy(new h(-.13*n._objdataOwn.PlantfoodPullSPS,0),!1,.1)):n.foodSwallowTargets.splice(t,1)})),this.pulling<=0&&(this.soundRes.playFoodSwallowSound(),this.anmControl.playAnimation("FoodPullEndPushStart",2))}this.pushing>0&&(this.pushing-=o,this.inLane.zombiePool().forEach((function(o){o.knockBackable&&o.bodyRec.prjX().y>n.node.worldPosition.x&&o.knockBackBy(new h(.13*n._objdataOwn.PlantfoodPushSPS,0),!1,.1)})),this.pushing<=0&&this.anmControl.playAnimation("FoodPushEnd",1)),this.foodSwallowedTargets.concat().forEach((function(o){null!=o&&o.isAlive()&&(null==o||o.stun(.2))}))}},e(n,[{key:"inMouthAmount",get:function(){return this._inMouthAmount},set:function(o){this.setSlots(o),this._inMouthAmount=o}}]),n}(d)).prototype,"soundRes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),V=G))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/Citron.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts"],(function(n){var t,o,i,e,a,r,s,l,h,u,c,d,p,f,y,g,b,m,P;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.Node,h=n.Prefab,u=n.Vec3,c=n.Vec2},function(n){d=n.Plant,p=n.PlantProps},function(n){f=n.Rectangle},function(n){y=n.Square},function(n){g=n.instantiatePooly},function(n){b=n.peaShooter},function(n){m=n.CharacterType},function(n){P=n.sounds}],execute:function(){var w,S,C,R,j,z,v,A,L,_,D,F,E,O,k,q,T,H,M,N,Y,x,B;a._RF.push({},"d8bad280s1Jb7+LBrnKH0FT","Citron",void 0);var I=r.ccclass,V=r.property,X=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).ChargeTime=7,t.Damage=800,t.DamagePlantfood=2500,t}return o(t,n),t}(p),J=(w=I("citronSound"),S=V([s]),C=V([s]),R=V([s]),j=V([s]),w((A=t((v=function(){function n(){i(this,"foodSounds",A,this),i(this,"shootSounds",L,this),i(this,"chargeSounds",_,this),i(this,"landSounds",D,this)}var t=n.prototype;return t.playFood=function(){P.playArray(this.foodSounds,1,.1)},t.playShoot=function(){P.playArray(this.shootSounds,1,.1)},t.playCharge=function(){P.playArray(this.chargeSounds,1)},t.playLand=function(){P.playArray(this.landSounds,1,.1)},n}()).prototype,"foodSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(v.prototype,"shootSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(v.prototype,"chargeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(v.prototype,"landSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=v))||z);n("CitronPlant",(F=I("CitronPlant"),E=V(l),O=V(h),k=V(h),q=V(h),F((M=t((H=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this).detector=new f,i(t,"soundRes",M,e(t)),t._objdataOwn=new X,i(t,"peaSpawnPoint",N,e(t)),i(t,"prj0",Y,e(t)),i(t,"prjFood",x,e(t)),i(t,"lightningPar",B,e(t)),t.ready=!1,t}o(t,n);var a=t.prototype;return a.specialPlantOnSquareChange=function(n,t){this.detector=f.createRectangleNodeSide(t.node,y.SquareDisW*(9-t.cIndex),y.SquareDisH)},a.shrink=function(){this.anmControl.playAnimation("Shrink",1/0)},a.charge=function(){this.soundRes.playCharge(),this.anmControl.playAnimation("Charge",1/0,0,Math.min(100,7/this._objdataOwn.ChargeTime))},a._shoot=function(n){var t=g(n);b.shootOnePea(t,new u(this.worldPositionX,this.worldPositionY,10),this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new c(12,0),m.zombie).setDamage((this.fooding?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage)*this._dmgScale)},a.animationListener=function(n){"land"==n.name?this.soundRes.playLand():"foodEnd"==n.name?(this.foodEnd(),this.shrink()):"shrink"==n.name?this.shrink():"chargeStart"==n.name?this.charge():"ready"==n.name?(this.ready=!0,this.anmControl.playAnimation("Ready",1/0)):"shoot"==n.name?this._shoot(this.prj0):"foodShoot"==n.name&&this._shoot(this.prjFood)},a.lightning=function(){var n=g(this.lightningPar);n.parent=this.inLane.zombieLayer,n.worldPosition=new u(this.worldPositionX,this.worldPositionY+this.height,10)},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1/0,0,.7),this.soundRes.playFood(),this.lightning()},a.waterable=function(){return!1},a.specialPlantOnEnable=function(){this.ready=!1,this.charge()},a.detectEnemies=function(){var n=this,t=!1;return this.inLane.zombiePool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t)},a.specialPlantUpdate=function(n){!this.fooding&&this.ready&&this.detectEnemies()&&(this.ready=!1,this.anmControl.playAnimation("Shoot",1/0),this.soundRes.playShoot())},t}(d)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),N=t(H.prototype,"peaSpawnPoint",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(H.prototype,"prj0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(H.prototype,"prjFood",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(H.prototype,"lightningPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=H))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/citronFoodPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var o,t,n,i,r,a,s,c,l,d,u,p,y,f,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.AudioClip,c=e.Prefab,l=e.Vec3},function(e){d=e.ProjectileEnemyType,u=e.commonShot},function(e){p=e.Zombie},function(e){y=e.sounds},function(e){f=e.instantiatePooly,h=e.ArrayGet}],execute:function(){var m,g,b,P,L,R,T;r._RF.push({},"7d3abP8EK9AY7DQCel3R5gq","citronFoodPrj",void 0);var j=a.ccclass,k=a.property;e("citronFoodPrj",(m=j("citronFoodPrj"),g=k([s]),b=k(c),m((R=o((L=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,n(o,"tossSounds",R,i(o)),n(o,"tossPar",T,i(o)),o}return t(o,e),o.prototype.detectEnemy=function(e){var o,t,n=this;if(this.inLane&&this.detectEnemyOn){null!=(o=this.targetLocked)&&null!=(o=o.getComponent(p))&&o.dead&&(this.targetLocked=null);var i,r,a=!1;if(this.enemyType==d.zombie||this.enemyType==d.plant)null==(i=this.inLane[this.enemyType==d.plant?"hypnoZombiePool":"zombiePool"]())||i.forEach((function(e){if(!a&&n.bodyRec().judgeCrossRec(e.bodyRec))if(e.objdata.CannotBeTossedByCitron)a=!0,n.dealDamageToTarget(e,!0),n.pop();else{var o=f(n.tossPar);o.parent=n.node.parent,o.worldPosition=new l(e.worldPositionX,e.worldPositionY+n.height,10),e.tossAway(),y.play(h.getRandom(n.tossSounds),3)}}));if(this.enemyType==d.zombie)null==(r=this.inLane)||r.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&e.die()}));this.enemyType==d.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){n.dead||e.eaterDetectable&&n.bodyRec().judgeCrossRec(e._bodyRec)&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(n.dealDamageToTargetPlant(e),n.pop())})))}},o}(u)).prototype,"tossSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(L.prototype,"tossPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=L))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoconutCannon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,s,l,r,h,p,u,d,c,m,f,S,y,C,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,s=o._decorator,l=o.AudioClip,r=o.Prefab,h=o.Node,p=o.AnimationComponent,u=o.Color,d=o.Vec2,c=o.Vec3},function(o){m=o.Plant,f=o.PlantProps},function(o){S=o.NodePools},function(o){y=o.peaShooter},function(o){C=o.CharacterType},function(o){w=o.sounds}],execute:function(){var b,g,P,v,D,_,R,A,F,j,z,O,L,T,k,E,I,M,x,N;a._RF.push({},"50720yK6odEMocWqgdyjOTQ","CoconutCannon",void 0);var V=s.ccclass,W=s.property,q=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).RestTime=15,t}return n(t,o),t}(f),B=(b=V("coconutcannonSound"),g=W(l),P=W(l),v=W(l),b((R=t((_=function(){function o(){i(this,"shootFoodSound",R,this),i(this,"shootSound",A,this),i(this,"foodStartSound",F,this)}var t=o.prototype;return t.playShootSound=function(o){void 0===o&&(o=!1),w.play(o?this.shootFoodSound:this.shootSound,1,.1)},t.playFoodStartSound=function(){w.play(this.foodStartSound,1,.1)},o}()).prototype,"shootFoodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"shootSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"foodStartSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=_))||D);o("CoconutCannonPlant",(j=V("CoconutCannonPlant"),z=W(B),O=W(r),L=W(r),T=W(h),j((I=t((E=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new q,t.sleepCD=0,t.shooting=!1,i(t,"soundRes",I,e(t)),i(t,"prj0",M,e(t)),i(t,"prjFood",x,e(t)),i(t,"peaSpawnpoint",N,e(t)),t}n(t,o);var a=t.prototype;return a.specialPlantOnEnable=function(){this.sleepCD=0},a.shootAnimation=function(o){void 0===o&&(o=!1),this.shooting=!0,this.anmControl.playAnimation(o?"Food":"Shoot",2),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[]},a.wake=function(){this.sleepCD=0,this.anmControl.playAnimation("Wake",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.getComponent(p).stop(),this.anmControl.body.color=new u(255,255,255,255)},a.specialPlantFood=function(o){this.wake(),this.shootAnimation(!0),this.soundRes.playFoodStartSound()},a.waterable=function(){return this.sleepCD<=0&&!this.shooting},a._shoot=function(o,t,n){var i=this;void 0===o&&(o=this.prj0),void 0===t&&(t=35),void 0===n&&(n=new d(1,0));var e=S.instantiatePooly(o);if(e){var a=y.shootOnePea(e,new c(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,n.normalize().multiplyScalar(t),C.zombie);return this._dmgScale&&(a.setDamage(a.damage_*this._dmgScale),a.splashDamages_.forEach((function(o){o.splashDamage*=i._dmgScale}))),a}},a.animationListener=function(o){if("Shoot"==o.name)this.soundRes.playShootSound(!1),this._shoot();else if("foodShoot"==o.name)this.soundRes.playShootSound(!0),this._shoot(this.prjFood,10);else if("sleepStart"==o.name){this.anmControl.playRandom(),this.shooting=!1;var t=this._objdataOwn.RestTime;this._cdScale&&(t*=this._cdScale),this.sleepCD=t,this.getComponent(p).play("plantCooldown")}else"foodEnd"==o.name&&this.foodEnd()},a.specialPlantUpdate=function(o){this.sleepCD>0&&(this.getComponent(p).getState("plantCooldown").speed=this._objdataOwn.RestTime/(this.sleepCD+.5),this.sleepCD-=o,this.sleepCD<=0&&this.wake())},a.specialPlantOnMouseDown=function(){var o=this.sleepCD<=0&&!this.shooting;return o&&this.shootAnimation(!1),o},t}(m)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),M=t(E.prototype,"prj0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"prjFood",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(E.prototype,"peaSpawnpoint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=E))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/coconutHeavy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts"],(function(e){var t,o,n,i,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){i=e.ProjectileEnemyType,a=e.commonShot},function(e){c=e.Zombie}],execute:function(){var l;o._RF.push({},"5e745SbVZdK75F64q70ZJjV","coconutHeavy",void 0);var r=n.ccclass;n.property,e("coconutHeavy",r("coconutHeavy")(l=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).ignited=!1,t}t(o,e);var n=o.prototype;return n.specialOnSquareChange=function(e,t){var o;t.cIndex>=8&&!this.ignited&&(this.ignited=!0,null==(o=this.db)||o.playAnimation("Explode",1))},n.explode=function(){this.dealSplashDamage(),this.pop()},n.animationListener=function(e){"pop"==e.name&&this.explode()},n.characterOnEnable=function(){var e;this.initialize(),this.ignited=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},n.detectEnemy=function(e){},n.onMoving=function(e,t){var o,n,a=this;if(this.ignited&&(this.linearVelocity.x/=1.2),this.inLane)if(null!=(o=this.targetLocked)&&null!=(o=o.getComponent(c))&&o.dead&&(this.targetLocked=null),this.enemyType==i.zombie){var l,r,s=[];if(null==(l=this.inLane)||l.zombiePool().forEach((function(e){e.knockBackable&&e.specialZombieKnockbackable()?(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&e.bodyRec.judgeCrossRec(a.bodyRec())&&s.push(e):e.bodyRec.judgeCrossRec(a.bodyRec())&&a.explode()})),s.length){var d=t.x-e.x;s.forEach((function(e){e.stun(.1),e.worldPositionX+=d}))}var u=null;null==(r=this.inLane)||r.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(a.bodyRec())&&(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&(u=e)})),u&&(u.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,u),this.pop())}else this.enemyType==i.plant&&(null==(n=this.inLane)||n.plantPool().forEach((function(e){a.dead||e.bodyRec.judgeCrossRec(a.bodyRec())&&(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&(a.dealDamageToTargetPlant(e),a.pop())})))},o}(a))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./CoinCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var o,e,t,i,r,u,c,a,l,p,s,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.CCInteger,a=n.AudioClip},function(n){l=n.dropping},function(n){p=n.CoinCount},function(n){s=n.sounds},function(n){d=n.CoinCollecterInGame}],execute:function(){var f,C,g,v,y,h,b;r._RF.push({},"7bbaalD+gRCfLw8Bg+Ymqwq","coin",void 0);var m=u.ccclass,I=u.property;n("coin",(f=m("coin"),C=I(c),g=I(a),f((h=o((y=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,t(o,"value",h,i(o)),t(o,"dropSound",b,i(o)),o}e(o,n);var r=o.prototype;return r.specialOnGroundHit=function(){s.play(this.dropSound,1,0)},r.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/CoinSlot"},r.specialGoToUI=function(n){var o;d.component.hidden=!1,null==(o=p.component)||o.addCoinCount(this.value)},o}(l)).prototype,"value",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=o(y.prototype,"dropSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./Sunflower.ts","./UI.ts","./SoundsController.ts","./SoundManager.ts"],(function(t){var n,e,o,i,c,r,l,a,s,u,f,p,h,y,w,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,l=t.CCInteger,a=t.tween,s=t.Vec3,u=t.Vec2,f=t.TWO_PI},function(t){p=t.levelPrize},function(t){h=t.sunflower},function(t){y=t.UIInGame},function(t){w=t.MusicController},function(t){d=t.MusicSortEnum}],execute:function(){var g,v,m,b,P;c._RF.push({},"513f5GsDYtP+7izCdr2puwc","coinbag",void 0);var _=r.ccclass,M=r.property;t("coinbag",(g=_("coinbag"),v=M(l),g((P=n((b=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"coinAmount",P,i(n)),n}return e(n,t),n.prototype.collect=function(){var t=this;this.collectTween.forEach((function(t){t.stop()})),this.collectTween=[],this.collectTween.push(a(this.node).to(.5,{scale:new s(0,0,0)},{easing:"quadOut"}).to(.5,{}).call((function(){y.uiingame.victoryExit()})).start());for(var n=f/3,e=function(){var e=n/2-n*o/(t.coinAmount-1),i=h.dropOneCoin(new u(t._worldPositionX,t._worldPositionY+t._height),2),c=new u(Math.sin(e),Math.cos(e)).multiplyScalar(7);i.linearVelocity=new u(c.x,0),i.bodyLinearVelocity=c.y,i.mouseListen=!1,a(i).to(1,{linearVelocity:new u(0,0),bodyLinearVelocity:0}).call((function(){i.collect()})).to(1,{}).start()},o=0;o<this.coinAmount;o++)e();w.switchMusicSort(d.Leave)},n}(p)).prototype,"coinAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=b))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCollecterInGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,i,s,h,r,l,a,c,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){h=e.cclegacy,r=e._decorator,l=e.Node,a=e.Vec3,c=e.tween,d=e.Component}],execute:function(){var u,w,p,f,_,C;h._RF.push({},"60af0DVfxFNNroqRlBr7pKs","CoinCollecterInGame",void 0);var v=r.ccclass,y=r.property;e("CoinCollecterInGame",(u=v("CoinCollecterInGame"),w=y(l),u(((C=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return(o=e.call.apply(e,[this].concat(s))||this).oldPos=new a,o._hidden=!1,o._showTween=void 0,n(o,"shower",_,i(o)),o.showerOldPos=new a,o.showCD=0,o}t(o,e);var h=o.prototype;return h.onLoad=function(){o.component=this,this.oldPos=this.node.position.clone(),this.showerOldPos=this.shower.position.clone(),this.node.position.add(new a(0,-1e3,0))},h.show=function(){c(this.node).to(.5,{position:this.oldPos},{easing:"quadOut"}).start()},h.update=function(e){this.hidden||(this.showCD>0&&(this.showCD-=e),this.showCD<=0&&(this.hidden=!0))},s(o,[{key:"hidden",get:function(){return this._hidden},set:function(e){var o,t=this;if(this.showCD=5,!e&&this._hidden)null==(o=this._showTween)||o.stop(),this._showTween=c(this.shower).to(.5,{position:this.showerOldPos},{easing:"quadOut"}).call((function(){t._showTween=null})).start();else if(e&&!this._hidden){var n;null==(n=this._showTween)||n.stop(),this._showTween=c(this.shower).by(.5,{position:new a(0,-1e3,0)},{easing:"quadIn"}).call((function(){t._showTween=null})).start()}this._hidden=e}}]),o}(d)).component=void 0,_=o((f=C).prototype,"shower",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));h._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,r,u,c,a,l,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.CurrencyCount},function(n){l=n.AllPlayerProperties},function(n){s=n.sounds}],execute:function(){var p,C,d,f,h,y;r._RF.push({},"bd9abRbdZhOt51gHOg9m9Ia","CoinCount",void 0);var v=u.ccclass,P=u.property;n("CoinCount",(p=v("CoinCount"),C=P(c),p(((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"coinCollectSound",h,i(o)),o}t(o,n);var r=o.prototype;return r.start=function(){this.shownValue=isNaN(l.currentPlayer.coin)?0:l.currentPlayer.coin,this.value=this._shownValue},r.addCoinCount=function(n){this.value+=n,s.play(this.coinCollectSound,1,.1)},r.decCoinCount=function(n){this.value-=n},r.buyCoin=function(){this.addCoinCount(1e4)},r.onValueSet=function(n){l.currentPlayer.coin=n,l.savePP()},r.onLoad=function(){o.component=this},o}(a)).component=void 0,h=o((f=y).prototype,"coinCollectSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/commonShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts","./Zombie.ts","./Square.ts","./CharacterManager.ts","./ProjectileManager.ts","./Particles.ts","./LnC.ts","./Lane.ts","./SoundRescourses.ts","./levelController.ts","./Zombies.ts"],(function(e){var i,t,n,o,a,r,s,l,h,c,u,p,d,b,f,y,m,L,g,w,v,P,D,S,k,_,z,C,B,E,V,I,R;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.CCFloat,h=e.Size,c=e.Enum,u=e.Prefab,p=e.AudioClip,d=e.Vec3,b=e.Vec2,f=e.AudioSource,y=e.dragonBones},function(e){m=e.NodePools,L=e.ArrayGet},function(e){g=e.Character},function(e){w=e.zombiePoison,v=e.zombieDamageType,P=e.Zombie},function(e){D=e.Square},function(e){S=e.Rectangle,k=e.ZombiePool},function(e){_=e.projectile},function(e){z=e.particle},function(e){C=e.TileLiquidEnum,B=e.TileType},function(e){E=e.Lane},function(e){V=e.sounds},function(e){I=e.LevelPlay},function(e){R=e.ZombieEnum}],execute:function(){var F,x,T,U,O,q,j,M,W,A,K,H,N,Z,X,G,J,Y,Q,$,ee,ie,te,ne,oe,ae,re,se,le,he,ce,ue,pe,de,be,fe,ye,me,Le,ge,we,ve,Pe,De,Se,ke,_e,ze,Ce,Be,Ee,Ve,Ie,Re,Fe,xe,Te,Ue,Oe,qe,je,Me,We,Ae,Ke,He,Ne,Ze,Xe,Ge,Je,Ye,Qe,$e,ei,ii,ti,ni,oi,ai,ri,si,li,hi,ci,ui;r._RF.push({},"42744eKEFJOpYjpPM9vfXco","commonShot",void 0);var pi=s.ccclass,di=s.property,bi=e("ProjectileType",function(e){return e[e.pea=0]="pea",e[e.boomerang=1]="boomerang",e}({})),fi=e("ProjectileEnemyType",function(e){return e[e.zombie=0]="zombie",e[e.plant=1]="plant",e[e.none=2]="none",e}({})),yi=e("SplashDamage",(F=pi("splashDamage"),x=di({type:l,visible:!0}),T=di({type:h,visible:!0}),U=di({type:l,visible:!0}),O=di({type:l,visible:!0}),q=di({type:l,visible:!0}),j=di({type:w,visible:!0}),M=di({type:l,visible:!0}),W=di({type:l,visible:!0}),F((H=i((K=function(){function e(e,i,n,o,a,r,s,l){void 0===e&&(e=0),void 0===i&&(i=new h(0,0)),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=new w(0,0)),void 0===s&&(s=0),void 0===l&&(l=0),t(this,"splashDamage",H,this),t(this,"splashRange",N,this),t(this,"chillDuration",Z,this),t(this,"freezeDuration",X,this),t(this,"butterDuration",G,this),t(this,"poison",J,this),t(this,"stunDuration",Y,this),t(this,"knockbackDistance",Q,this),this.splashDamage=e,this.butterDuration=a,this.splashRange=i,this.chillDuration=n,this.freezeDuration=o,this.poison=r,this.stunDuration=s,this.knockbackDistance=l}return e.prototype.copy=function(){var i=new e;return i.splashDamage=this.splashDamage,i.splashRange=this.splashRange,i.chillDuration=this.chillDuration,i.freezeDuration=this.freezeDuration,i.poison=this.poison.copy(),i.stunDuration=this.stunDuration,i.knockbackDistance=this.knockbackDistance,i},e}()).prototype,"splashDamage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=i(K.prototype,"splashRange",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0)}}),Z=i(K.prototype,"chillDuration",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(K.prototype,"freezeDuration",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=i(K.prototype,"butterDuration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=i(K.prototype,"poison",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w(0,0)}}),Y=i(K.prototype,"stunDuration",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=i(K.prototype,"knockbackDistance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=K))||A));c(v),c(C),c(bi);e("commonShot",($=pi("commonShot"),ee=di(Boolean),ie=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),te=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ne=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),oe=di({type:u,visible:function(){return this.canBeYellowIgnited&&this.showCommonShotFeaturesInEditor}}),ae=di({type:u,visible:function(){return this.canBeBlueIgnited&&this.showCommonShotFeaturesInEditor}}),re=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),se=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),le=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),he=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ce=di({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),ue=di(h),pe=di({type:[yi],visible:function(){return this.showCommonShotFeaturesInEditor},displayName:"SplashDamage"}),de=di({type:C,visible:function(){return this.showCommonShotFeaturesInEditor}}),be=di({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),fe=di({type:v,visible:function(){return this.showCommonShotFeaturesInEditor}}),ye=di({type:w,visible:function(){return this.showCommonShotFeaturesInEditor}}),me=di({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),Le=di({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),ge=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),we=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ve=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),Pe=di({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),De=di({type:bi,visible:function(){return this.showCommonShotFeaturesInEditor}}),Se=di({type:[p],visible:function(){return this.showCommonShotFeaturesInEditor}}),ke=di({type:[u],visible:function(){return this.showCommonShotFeaturesInEditor}}),_e=di({type:l,min:0,visible:function(){return this.showCommonShotFeaturesInEditor}}),ze=di({type:l,tooltip:"Stunning Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),Ce=di({type:l,tooltip:"Butter Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),Be=di(l),Ee=di(Boolean),Ve=di({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),$((Fe=i((Re=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,t(i,"showCommonShotFeaturesInEditor",Fe,o(i)),t(i,"particleAtFoot",xe,o(i)),t(i,"canBeYellowIgnited",Te,o(i)),t(i,"canBeBlueIgnited",Ue,o(i)),t(i,"yellowIgnited",Oe,o(i)),t(i,"blueIgnited",qe,o(i)),t(i,"armorKnockSound",je,o(i)),t(i,"bodyKnockSound",Me,o(i)),t(i,"armorProtection",We,o(i)),t(i,"onFire",Ae,o(i)),t(i,"damageScale",Ke,o(i)),i.parentLock=!1,i.enemyType=fi.zombie,i.maxDistance=1/0,i.maxDistance_=1/0,t(i,"size",He,o(i)),i.size_=new h(12,12),i._bodyRec=new S,t(i,"splashDamages",Ne,o(i)),i.splashDamages_=[],t(i,"tileLiquid",Ze,o(i)),i.tileLiquid_=C.none,t(i,"tileLiquidDuration",Xe,o(i)),i.tileLiquidDuration_=0,t(i,"damageType",Ge,o(i)),t(i,"poison",Je,o(i)),i.poison_=new w(0,0),t(i,"chill",Ye,o(i)),i.chill_=0,t(i,"freeze",Qe,o(i)),i.freeze_=0,t(i,"followRotation",$e,o(i)),t(i,"screenShaker",ei,o(i)),t(i,"balloonKiller",ii,o(i)),t(i,"knockbackDistance",ti,o(i)),i.knockbackDistance_=0,t(i,"projectileType",ni,o(i)),t(i,"PopSound",oi,o(i)),t(i,"PopParticle",ai,o(i)),i.originalP=new d(0,0,0),t(i,"damage",ri,o(i)),i.damage_=0,t(i,"stun",si,o(i)),i.stun_=0,t(i,"butter",li,o(i)),i.butter_=0,t(i,"popSoundVolume",hi,o(i)),i.havePeaBuff=!1,i.peaBuff=null,i.targetLocked=null,i.setLine=!0,t(i,"canbeJesterReversed",ci,o(i)),i.detectEnemyOn=!0,i.acceleration=new b(0,0),i.deceleration=new b(0,0),i._linearVelocity=new b(0,0),i.bodyOmega=0,i.bodyLinearVelocity=0,i.gravity=0,i.flyHorizontalWhenBV0=!1,t(i,"plantHeatOnPop",ui,o(i)),i.switching=!1,i.popWhenStatic=!0,i.popWhenStaticByJester=!0,i.dead=!1,i}n(i,e);var r=i.prototype;return r.copy=function(e,i,t,n,o,a,r,s,l,h){var c=this;void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===l&&(l=!0),void 0===h&&(h=!0),this.enemyType=e.enemyType,e.havePeaBuff&&this.addPeaBuff(),i&&(this.damage_=e.damage_),this.splashDamages_=[],e.splashDamages_.forEach((function(e){var i=new yi;i.splashDamage=e.splashDamage,i.splashRange=e.splashRange,t&&(i.chillDuration=e.chillDuration),n&&(i.freezeDuration=e.freezeDuration),o&&(i.stunDuration=e.stunDuration),r&&(i.knockbackDistance=e.knockbackDistance),s&&(i.butterDuration=e.butterDuration),l&&(i.poison=e.poison),c.splashDamages_.push(i)})),t&&(this.chill_=e.chill_),n&&(this.freeze_=e.freeze_),h&&(this.linearVelocity=e.linearVelocity.clone(),this.acceleration=e.acceleration.clone(),this.deceleration=e.deceleration.clone(),this.gravity=e.gravity,this.bodyLinearVelocity=e.bodyLinearVelocity,this.height=e.height),o&&(this.stun_=e.stun_),a&&(this.tileLiquid_=e.tileLiquid_,this.tileLiquidDuration_=e.tileLiquidDuration_),r&&(this.knockbackDistance_=e.knockbackDistance_),s&&(this.butter_=e.butter_),l&&(this.poison_=e.poison_)},r.animationListener=function(e){},r.animationCompleteListener=function(){},r.bodyRec=function(){return this.dead?new S:this._bodyRec},r._setBodyRec=function(e,i){var t=i.clone().add(e.clone().negative()),n=e.clone().add(t.clone().multiplyScalar(.5));this._bodyRec=S.createRectangleCenter(n,Math.abs(t.x)+this.size_.width,Math.abs(t.y)+this.size_.height)},r.setSplashDamages=function(e){var i=[];e.forEach((function(e){i.push(e.copy())})),this.splashDamages_=i},r.setTileLiquid=function(e,i){this.tileLiquid_=e,this.tileLiquidDuration_=i},r.characterOnSquareChange=function(e,i){var t;if(this.maxDistance_--,this.maxDistance_<=-1&&this.fade(),this.onFire&&9!=i.cIndex&&-1!=i.cIndex&&i.iceTile)null==(t=i.iceTile)||t.die(),this.pop();else if(this.onFire&&9==i.cIndex&&this.inLane.iceTile){var n;null==(n=this.inLane.iceTile)||n.die(),this.pop()}this.specialOnSquareChange(e,i)},r.specialOnSquareChange=function(e,i){},r.setPoison=function(e,i){this.poison_=new w(e,i)},r.setChill=function(e){this.chill_=e},r.setFreeze=function(e){this.freeze_=e},r.dealSplashDamage=function(e,i){var t=this;void 0===e&&(e=null),this.splashDamages_.forEach((function(i){if(i.splashDamage>=0&&i.splashRange.width>0&&i.splashRange.height>0){var n,o=S.createRectangleCenter(new b(t.node.worldPosition.x,t.inLane.node.worldPosition.y),i.splashRange.width*D.SquareDisW,i.splashRange.height*D.SquareDisH),a=[],r=[],s=t.enemyType==fi.plant,l=s?"hypnoZombiePool":"zombiePool",h=s?"hypnoPool":"pool";if(i.splashRange.height>9)a=null==(n=k[h]())?void 0:n.concat();else if(i.splashRange.height>7){var c;a=null==(c=t.inLane[l]())?void 0:c.concat(t.inLane.UpperLane.UpperLane.UpperLane.UpperLane[l](),t.inLane.UpperLane.UpperLane.UpperLane[l](),t.inLane.UpperLane.UpperLane[l](),t.inLane.UpperLane[l](),t.inLane.LowerLane[l](),t.inLane.LowerLane.LowerLane[l](),t.inLane.LowerLane.LowerLane.LowerLane[l](),t.inLane.LowerLane.LowerLane.LowerLane.LowerLane[l]()),s||(r=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.LowerLane.tombPool()))}else if(i.splashRange.height>5){var u;a=null==(u=t.inLane[l]())?void 0:u.concat(t.inLane.UpperLane.UpperLane.UpperLane[l](),t.inLane.UpperLane.UpperLane[l](),t.inLane.UpperLane[l](),t.inLane.LowerLane[l](),t.inLane.LowerLane.LowerLane[l](),t.inLane.LowerLane.LowerLane.LowerLane[l]()),s||(r=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.tombPool()))}else if(i.splashRange.height>3){var p;a=null==(p=t.inLane[l]())?void 0:p.concat(t.inLane.UpperLane.UpperLane[l](),t.inLane.UpperLane[l](),t.inLane.LowerLane[l](),t.inLane.LowerLane.LowerLane[l]()),s||(r=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool()))}else if(i.splashRange.height>1){var d;a=null==(d=t.inLane[l]())?void 0:d.concat(t.inLane.UpperLane[l](),t.inLane.LowerLane[l]()),s||(r=t.inLane.tombPool().concat(t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool()))}else{var f;a=null==(f=t.inLane[l]())?void 0:f.concat(),s||(r=t.inLane.tombPool().concat())}var y=[];a.forEach((function(e){e&&-1==y.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&y.push(e)})),y.forEach((function(n){n&&n!=e&&t.dealDamageToTarget(n,!1,i)})),r.forEach((function(e){e&&i.splashDamage>0&&o.judgeCrossRec(e.bodyRec)&&e.dealDamage(i.splashDamage*(t.havePeaBuff?1.5:1)*t.damageScale)}))}}))},r.rotate=function(){if(this.followRotation){var e=this.linearVelocity;this.node.angle=Math.atan2(e.y+this.bodyLinearVelocity,e.x)/Math.PI*180}},r.hitFloor=function(e){this.dealSplashDamage(),this.specialOnGroundHit(this.inLnC)&&this.pop()},r.hitBorderOrGround=function(e){if(!this.fallingInSky&&((this.shadeWorldPosition.x<=0&&this.linearVelocity.x<=0||this.shadeWorldPosition.x>=1200&&this.linearVelocity.x>=0||this.shadeWorldPosition.y<-100&&this.linearVelocity.y<=0||this.shadeWorldPosition.y>=700&&this.linearVelocity.y>=0)&&this.fade(),this.height<=0)){this.height=0;var i=this.inLnC.getTileType();i==B.sky?(this.linearVelocity=new b(0,0),this.acceleration=new b(0,0),this.deceleration=new b(0,0),this.gravity=0,this.fallInSky(!1),this.fade(!1)):i==B.sea?(this.linearVelocity=new b(0,0),this.acceleration=new b(0,0),this.deceleration=new b(0,0),z.spawnSeaSplash(this.inLane.LaneIndex,this.node.worldPosition),this.fade()):i==B.water?(z.spawnWaterSplash(this.inLane.LaneIndex,this.node.worldPosition),this.fade()):this.hitFloor(e)}},r.specialOnGroundHit=function(e){return!0},r.setKnockBack=function(e){return this.knockbackDistance_=e,this},r.setDamage=function(e){return this.damage_=e,this},r.setStun=function(e){return this.stun_=e,this},r.setButter=function(e){return this.butter_=e,this},r.playPopSound=function(){V.playArray(this.PopSound,this.popSoundVolume,NaN,.4)},r.playParticle=function(){if(this.screenShaker&&I.shakeScreen(),this.PopParticle.length){var e;(e=m.instantiatePooly(L.getRandom(this.PopParticle))).parent=this.node.parent,e.setScale(this.linearVelocity.x>0?this.node.scale.x:-this.node.scale.x,this.node.scale.y);var i=this.realWorldPosition;e.setWorldPosition(this.particleAtFoot?new d(this._worldPositionX,this._worldPositionY):new d(i.x,i.y))}},r.selfDisable=function(e){"die"==e.name&&(this.linearVelocity=new b(0,0),this.bodyLinearVelocity=0,this.gravity=0,m.destroyPooly(this.node))},r.characterOnLoad=function(){this.getComponent(f)||this.addComponent(f),this.db.enableBatch=!0,this.db.on(y.EventObject.FRAME_EVENT,this.animationListener,this),this.db.on(y.EventObject.LOOP_COMPLETE,this.animationCompleteListener,this)},r.addPeaBuff=function(){this.havePeaBuff||this.peaBuff||(this.havePeaBuff=!0,this.peaBuff=m.instantiatePooly(z.prjPeaBuff()),this.peaBuff.parent=this.node)},r.initialize=function(){this.detectEnemyOn=!0,this.maxDistance_=this.maxDistance,this.switching=!1,this.size_=this.size,this.setKnockBack(this.knockbackDistance),this.setDamage(this.damage),this.setStun(this.stun),this.setButter(this.butter),this.setSplashDamages(this.splashDamages),this.poison_=this.poison,this.chill_=this.chill,this.freeze_=this.freeze,this._setBodyRec(new b,new b),this.dead=!1,this.parentLock=!1,this.tileLiquid_=this.tileLiquid,this.tileLiquidDuration_=this.tileLiquidDuration,-1!=this.db.armature().animation.animationNames.indexOf("Idle")&&this.db.playAnimation("Idle"),this.db.addEventListener(y.EventObject.FRAME_EVENT,this.selfDisable,this)},r.setLockParent=function(e){this.inLane&&this.inLane.deletePlantPrj(this),this.node.setParent(D.getLane(e).getComponent(E).prjLayer,!0);var i=D.getLane(e).getComponent(E);i.addPlantPrj(this),this.inLane=i,this.parentLock=!0},r.specialOnLaneChange=function(e,i){},r.characterOnLaneChange=function(e,i){this.parentLock||(this.node.setParent(i.prjLayer,!0),null==e||e.deletePlantPrj(this),null==i||i.addPlantPrj(this)),this.specialOnLaneChange(e,i)},r.characterOnEnable=function(){this.initialize()},r.characterOnDisable=function(){this.targetLocked=null,_.disableProjectile(this.node)},r.fade=function(e){void 0===e&&(e=!0),this.dead=e,this._setBodyRec(new b,new b),this.targetLocked=null,this.linearVelocity=new b(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.acceleration=new b,this.deceleration=new b,this.havePeaBuff&&this.peaBuff&&(this.havePeaBuff=!1,m.destroyPooly(this.peaBuff),this.peaBuff=null)},r.onPop=function(){},r.pop=function(){var e;this.plantHeatOnPop&&(null==(e=this.inLnC)||e.plantHeat()),this.tileLiquid_>0&&this.tileLiquidDuration_>0&&this.inLnC.addTileLiquid(this.tileLiquid_,this.tileLiquidDuration_),this.playParticle(),this.playPopSound(),this.onPop(),this.fade()},r.dealDamageToTarget=function(e,i,t){void 0===i&&(i=!0),void 0===t&&(t=null);var n=null;this.particleAtFoot&&this.damage>=40?n=new b(e._worldPositionX-this._worldPositionX,e.zombieHeight).normalize().multiplyScalar(35):this.gravity>0&&this.damage>=40&&(n=new b(this.linearVelocity.x,this.bodyLinearVelocity)),t||(t=new yi(this.damage_,new h,this.chill_,this.freeze_,this.butter_,this.poison_,this.stun_,this.knockbackDistance_)),i&&this.dealSplashDamage(e),e.knockBackable&&t.knockbackDistance&&e.knockBackBy(new b(t.knockbackDistance,0),!0,.1,!1,!1),t.stunDuration&&e.stun(t.stunDuration),this.balloonKiller&&i&&e.ID==R.modern_balloon&&(null==e||e.destroyBalloon()),t.butterDuration>0&&e.setButter(t.butterDuration),t.poison.isValid()&&e.setPoison(t.poison.DPS,t.poison.duration),t.chillDuration>0&&e.setChill(t.chillDuration),t.freezeDuration>0&&e.setFreeze(t.freezeDuration),t.splashDamage>0&&e.dealDamage(t.splashDamage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,n,this.damageType,!0,!0)},r.dealDamageToTargetPlant=function(e){e.dealDamage(this.damage*this.damageScale,this.damageType==v.fire?3:this.bodyLinearVelocity<0?1:2)},r.detectEnemyNormal=function(e){var i,t,n=this;if(this.inLane&&this.detectEnemyOn){if(null!=(i=this.targetLocked)&&null!=(i=i.getComponent(P))&&i.dead&&(this.targetLocked=null),this.enemyType==fi.zombie||this.enemyType==fi.plant){var o,a=null;if(null==(o=this.inLane[this.enemyType==fi.plant?"hypnoZombiePool":"zombiePool"]())||o.forEach((function(e){var i;n.targetLocked&&(null==(i=a)?void 0:i.node)==n.targetLocked||e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(!a||e.bodyRec.prjX().x<a.bodyRec.prjX().x)&&(a=e)})),a)a.commonShotPopOnTouch(this)&&(this.dealDamageToTarget(a),this.pop());else if(this.enemyType==fi.zombie){var r,s=null;null==(r=this.inLane)||r.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(s=e)})),s&&(s.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,s),this.pop())}}this.enemyType==fi.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){n.dead||e.eaterDetectable&&n.bodyRec().judgeCrossRec(e._bodyRec)&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(n.dealDamageToTargetPlant(e),n.pop())})))}},r.detectEnemy=function(e){this.detectEnemyNormal(e)},r.onLinearVelocitySet=function(e){},r.move=function(e){if(this.popWhenStatic&&this.popWhenStaticByJester&&0==this.linearVelocity.x&&0==this.linearVelocity.y&&0==this.gravity&&0==this.bodyLinearVelocity)this.pop();else{var i=this.realWorldPosition.clone(),t=.55*e*60,n=.55*e*60,o=this.shadeWorldPosition,a=this.height,r=this.linearVelocity;this.worldPosition=new b(o.x+r.x*t,o.y+r.y*t),this.height=Math.max(a+this.bodyLinearVelocity*t,0);var s=this.bodyLinearVelocity;if(this.bodyLinearVelocity-=this.gravity*n,this.bodyLinearVelocity*s<=0&&this.flyHorizontalWhenBV0&&(this.bodyLinearVelocity=0,this.gravity=0),0!=this.acceleration.x||0!=this.acceleration.y){var l=this.linearVelocity.clone().add(this.acceleration.clone().multiplyScalar(60*e));Math.abs(l.x)<Math.abs(this.linearVelocity.x)&&(l.x=this.linearVelocity.x),Math.abs(l.y)<Math.abs(this.linearVelocity.y)&&(l.y=this.linearVelocity.y),this.linearVelocity=l}if(0!=this.deceleration.x||0!=this.deceleration.y){var h=this.linearVelocity.clone().add(this.deceleration.clone().multiplyScalar(60*e));h.x*this.linearVelocity.x<=0?h.x=0:Math.abs(h.x)>Math.abs(this.linearVelocity.x)&&(h.x=this.linearVelocity.x),h.y*this.linearVelocity.y<=0?h.y=0:Math.abs(h.y)>Math.abs(this.linearVelocity.y)&&(h.y=this.linearVelocity.y),this.linearVelocity=h}var c=this.realWorldPosition.clone();this._setBodyRec(i,c),this.onMoving(i,c)}},r.onMoving=function(e,i){},r.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e)),this.dealOmega(e)},r.dealOmega=function(e){this.bodyOmega&&(this.node.angle+=60*this.bodyOmega*e)},r.characterLateUpdate=function(){var e;this.dead&&(null==(e=this.inLane)||e.deletePlantPrj(this),m.destroyPooly(this.node))},a(i,[{key:"linearVelocity",get:function(){return this._linearVelocity},set:function(e){this._linearVelocity=e,this.onLinearVelocitySet(e)}}]),i}(g)).prototype,"showCommonShotFeaturesInEditor",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xe=i(Re.prototype,"particleAtFoot",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=i(Re.prototype,"canBeYellowIgnited",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ue=i(Re.prototype,"canBeBlueIgnited",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=i(Re.prototype,"yellowIgnited",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=i(Re.prototype,"blueIgnited",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=i(Re.prototype,"armorKnockSound",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Me=i(Re.prototype,"bodyKnockSound",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),We=i(Re.prototype,"armorProtection",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ae=i(Re.prototype,"onFire",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=i(Re.prototype,"damageScale",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),He=i(Re.prototype,"size",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(12,12)}}),Ne=i(Re.prototype,"splashDamages",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=i(Re.prototype,"tileLiquid",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.none}}),Xe=i(Re.prototype,"tileLiquidDuration",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ge=i(Re.prototype,"damageType",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.physicle}}),Je=i(Re.prototype,"poison",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w(0,0)}}),Ye=i(Re.prototype,"chill",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qe=i(Re.prototype,"freeze",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$e=i(Re.prototype,"followRotation",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ei=i(Re.prototype,"screenShaker",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ii=i(Re.prototype,"balloonKiller",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ti=i(Re.prototype,"knockbackDistance",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ni=i(Re.prototype,"projectileType",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bi.pea}}),oi=i(Re.prototype,"PopSound",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ai=i(Re.prototype,"PopParticle",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ri=i(Re.prototype,"damage",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),si=i(Re.prototype,"stun",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),li=i(Re.prototype,"butter",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hi=i(Re.prototype,"popSoundVolume",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ci=i(Re.prototype,"canbeJesterReversed",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ui=i(Re.prototype,"plantHeatOnPop",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=Re))||Ie));r._RF.pop()}}}));

System.register("chunks:///_virtual/Conveyor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SoundsController.ts","./Plants.ts","./CharacterManager.ts","./CardFeatureTotal.ts","./NodePools.ts","./Droppings.ts","./cardSelectAlmanac.ts","./UI.ts","./levelController.ts"],(function(t){var n,o,e,i,a,r,s,l,c,u,d,h,p,f,y,g,C,v,m,w,P,S,b,M,x,D,E,k;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,e=t.inheritsLoose,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.dragonBones,c=t.Vec3,u=t.tween,d=t.input,h=t.Input,p=t.AudioSource,f=t.EventMouse,y=t.KeyCode,g=t.Component},function(t){C=t.sounds},function(t){v=t.SoundFXController},function(t){m=t.PlantEnum,w=t.plants},function(t){P=t.PlantPool},function(t){S=t.CardFeatureTotal},function(t){b=t.destroyPooly,M=t.NodePools},function(t){x=t.droppings},function(t){D=t.cardSelectAlmanac},function(t){E=t.UIInGame},function(t){k=t.LevelPlay}],execute:function(){var T,F,I,K,O,W,L,_,z,N,B,U,A,R,Y,X,G,V,Z,q,H,j,Q;a._RF.push({},"0294doUe4ZF+59/PPrQglV6","Conveyor",void 0);var J=r.ccclass,$=r.property,tt=(t("ConveyorDropDelayCondition",(function(){this.Delay=0,this.MaxPackets=100})),t("ConveyorPlant",(function(){this.MaxCount=1/0,this.MaxWeightFactor=1,this.MinCount=-1,this.MinWeightFactor=1,this.PlantType=m.Peashooter,this.Weight=15})),t("ConveyorSpeedCondition",(function(){this.MaxPackets=0,this.Speed=100})),T=J("Slot In Conveyor"),F=$(s),T((O=n((K=function(){this.card=null,o(this,"slot",O,this)}).prototype,"slot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=K))||I);t("Conveyor",(W=J("Conveyor"),L=$(l.ArmatureDisplay),_=$(l.ArmatureDisplay),z=$(tt),N=$(tt),B=$(s),U=$(s),A=$(s),W(((Q=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).dropDelayConditions=[],n.dropCountdown=0,n.plantList=[],n.speedConditions=[],o(n,"conveyor1",X,i(n)),o(n,"conveyor2",G,i(n)),o(n,"lane1slots",V,i(n)),o(n,"lane2slots",Z,i(n)),o(n,"lane1",q,i(n)),o(n,"lane2",H,i(n)),o(n,"cards",j,i(n)),n.shown=!1,n.audioSource=null,n.oldPos=new c,n.willKeychooseCard=void 0,n}e(n,t),n.createConveyor=function(){};var a=n.prototype;return a.show=function(){this.shown||(C.playConveyorArrive(),this.audioSource.play(),this.shown=!0,u(this.node).to(.4,{position:this.oldPos},{easing:"quadOut"}).start())},a.hide=function(){this.shown&&(this.audioSource.stop(),this.shown=!1,u(this.node).by(.4,{position:new c(0,1e3,0)},{easing:"quadIn"}).start())},a.start=function(){d.on(h.EventType.KEY_DOWN,this.onKeyDown,this)},a.addCard=function(t){this.plantList.push(t),console.log(this.plantList)},a.removeCard=function(t){var n=this;this.plantList.concat().forEach((function(o){if(o.PlantType==t){var e=n.plantList.indexOf(o);-1!=e&&n.plantList.splice(e,1)}})),console.log(this.plantList)},a.onLoad=function(){this.dropCountdown=0,this.audioSource=this.getComponent(p),this.shown=!1,n.component=this,this.oldPos=this.node.position.clone(),this.node.position.add3f(0,1e3,0)},a.spliceCard=function(t){var n=this;if(null!=t){var o=!1;if(this.lane1slots.forEach((function(e){o||t==e.card&&(e.card.node.off(s.EventType.MOUSE_DOWN,n.cardMouseDown,n),b(e.card.node),e.card=null,o=!0)})),this.lane2slots.forEach((function(e){o||t==e.card&&(e.card.node.off(s.EventType.MOUSE_DOWN,n.cardMouseDown,n),b(e.card.node),e.card=null,o=!0)})),o){k.component.conveyorOnPlantSpliced(this,t.ID);for(var e=0;e<this.lane1slots.length-1;e++)!this.lane1slots[e].card&&this.lane1slots[e+1].card&&(this.lane1slots[e].card=this.lane1slots[e+1].card,this.lane1slots[e+1].card=null);for(var i=0;i<this.lane2slots.length-1;i++)!this.lane2slots[i].card&&this.lane2slots[i+1].card&&(this.lane2slots[i].card=this.lane2slots[i+1].card,this.lane2slots[i+1].card=null);this.dropCountdown=Math.min(this.dropCountdown,this.getDelay()),this.willKeychooseCard=null}}},a.getCards=function(){var t=[];return this.lane1slots.concat(this.lane2slots).forEach((function(n){n.card&&t.push(n.card)})),t},a.chooseCard=function(t,n){E.uiingame.currentFreeSeedPacket!=t?(E.uiingame.currentFreeSeedPacket&&(E.uiingame.currentFreeSeedPacket.getComponent(D).index=0),E.uiingame.index=-1,E.uiingame.tryChangingIndex(-1),E.uiingame.currentFreeSeedPacket=t,n.index=1,E.uiingame.tryChangingIndex(8),this.willKeychooseCard=t):(E.uiingame.index=-1,E.uiingame.tryChangingIndex(-1))},a.sendPlant=function(t,n){if(null!=t){var o=this.lane2slots,e=this.lane2;1==n&&(o=this.lane1slots,e=this.lane1);for(var i=null,a=0;a<o.length;a++)if(null==o[a].card){i=o[a];break}if(!i)return;var r=M.instantiatePooly(x.PlantSeedPacket);r.parent=this.cards,r.worldPosition=e.worldPosition;var l=r.getComponent(S);l.cardGrouper(t);var c=l.getComponent(D);c.free=!0,c.suncostShown=!1,i.card=l,r.on(s.EventType.MOUSE_DOWN,this.cardMouseDown,this)}},a.cardMouseDown=function(t){if(t.getButton()==f.BUTTON_LEFT){var n=t.currentTarget.getComponent(D),o=n.getComponent(S);this.chooseCard(o,n)}else t.getButton()==f.BUTTON_RIGHT&&E.uiingame.tryChangingIndex(-1)},a.getRandomPlantByWeight=function(t,n){var o=this,e=null,i=[],a=0,r=P.pool().concat(),s=this.plantList.concat();this.plantList.forEach((function(t){var n=o.getPlantWeight(t,r);a+=n,i.push(a)}));for(var l=Math.random()*a,c=0;c<i.length;c++)if(l<i[c]){var u;e=null==(u=s[c])?void 0:u.PlantType,this.sendPlant(e,t<=n?1:2),this.dropCountdown=this.getDelay();break}null==e&&(this.dropCountdown=0)},a.getPlantWeight=function(t,n){if(t){var o=w.registerPlant(t.PlantType,0).amount;o<t.MaxCount&&this.lane1slots.concat(this.lane2slots).forEach((function(n){var e;(null==n||null==(e=n.card)?void 0:e.ID)==t.PlantType&&o++}));var e=t.Weight+0;return o>=t.MaxCount&&(e*=t.MaxWeightFactor),o<=t.MinCount&&(e*=t.MinWeightFactor),e}},a.getDelay=function(){var t,n=0;this.lane1slots.concat(this.lane2slots).forEach((function(t){t.card&&n++}));var o=1/0,e=1/0,i=null==(t=this.dropDelayConditions)?void 0:t.concat();i||(i=[]);for(var a=0;a<i.length;a++)n<=i[a].MaxPackets&&o>i[a].MaxPackets&&(e=i[a].Delay,o=i[a].MaxPackets);return e},a.getSpeed=function(){if(!k.gameStarted||k.component.gameWon)return 0;var t=0;this.lane1slots.concat(this.lane2slots).forEach((function(n){n.card&&t++}));var n=100;return this.speedConditions.forEach((function(o){t>o.MaxPackets&&0<=o.MaxPackets&&(n=o.Speed)})),n},a.onKeyDown=function(t){if(this.shown&&(t.keyCode==y.KEY_Z||t.keyCode==y.KEY_X)){var n=this.getCards();if(0==n.length)return;if(8!=E.index)this.willKeychooseCard?this.chooseCard(this.willKeychooseCard,this.willKeychooseCard.getComponent(D)):this.chooseCard(n[0],n[0].getComponent(D));else if(this.willKeychooseCard){var o=n.indexOf(this.willKeychooseCard);t.keyCode==y.KEY_Z?o--:t.keyCode==y.KEY_X&&o++,o<0?o=n.length-1:o%=n.length,this.chooseCard(n[o],n[o].getComponent(D))}}},a.sendOnePlantImmediately=function(){var t=0;this.lane1slots.forEach((function(n){n.card&&t++}));var n=0;this.lane2slots.forEach((function(t){t.card&&n++})),this.dropCountdown=1/0,this.getRandomPlantByWeight(t,n)},a.update=function(t){var n=this.getSpeed();if(this.audioSource.volume=.05*v.SoundFXVolume*n/100,!this.shown)return this.conveyor1.timeScale=0,void(this.conveyor2.timeScale=0);n>0&&!k.component.isCowboyMinigame&&(this.dropCountdown>0&&(this.dropCountdown-=t),this.shown&&this.dropCountdown<=0&&this.sendOnePlantImmediately()),this.conveyor1.timeScale=n/100,this.conveyor2.timeScale=n/100,n>0&&this.lane1slots.concat(this.lane2slots).forEach((function(o){if(null!=o.card&&o.card.node.worldPosition.x>o.slot.worldPosition.x){var e=o.card.node.worldPosition.clone();o.card.node.worldPosition=new c(e.x-t*n/1.85,o.slot.worldPosition.y,e.z)}}))},n}(g)).component=void 0,X=n((Y=Q).prototype,"conveyor1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(Y.prototype,"conveyor2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(Y.prototype,"lane1slots",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(Y.prototype,"lane2slots",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(Y.prototype,"lane1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(Y.prototype,"lane2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(Y.prototype,"cards",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Y))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundManager.ts","./NodePools.ts"],(function(n){var t,i,e,o,a,s,r,h,c,l,p,d,u,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){s=n.cclegacy,r=n._decorator,h=n.Prefab,c=n.CCFloat,l=n.Vec3,p=n.dragonBones},function(n){d=n.Zombie},function(n){u=n.SoundManager},function(n){b=n.ArrayGet}],execute:function(){var g,m,y,w,f,H,L;s._RF.push({},"05629xIOKpOB4rSKMfv4RIu","CowboyBasicZombie",void 0);var D=r.ccclass,v=r.property;n("CowboyBasicZombie",(g=D("CowboyBasicZombie"),m=v(h),y=v(c),g((H=t((f=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"zombieHat",H,o(t)),e(t,"dropHatHitPoint",L,o(t)),t._dancing=!1,t.oldAnmSpeed=1,t._haveHat=!0,t.oldPianoCountUp=0,t.laneChangeCD=7,t}i(t,n);var s=t.prototype;return s.specialZombieOnLoad=function(){this.oldAnmSpeed=this.anmSpeed},s.onArmorAdded=function(n){this.haveHat=!1},s.playSpecialZombieDieForced=function(){this.haveHat&&this.dropHat()},s.specialZombieOnEnable=function(){this.walking=!1,this.cowboyDancing=!1,this.detectPlant(.01),this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},s.dropHat=function(){var n;null==(n=this.drop(this.zombieHat,this.zombieHeight,new l(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.inLane.zombieLayer).node)||n.setSiblingIndex(this.node.getSiblingIndex()-1),this.haveHat=!1},s.onDamaged=function(n,t,i){this.haveHat&&n>this.dropHatHitPoint&&t<=this.dropHatHitPoint&&this.dropHat()},s.switchUpperOrLower=function(){var n=this.inLane,t=[];(!n.UpperLane.isSea||this.cIndex<5)&&n.UpperLane.LaneIndex>=0&&t.push(n.UpperLane.LaneIndex),(!n.LowerLane.isSea||this.cIndex<5)&&n.LowerLane.LaneIndex<=4&&t.push(n.LowerLane.LaneIndex),t.length&&this.changeLaneTo(b.getRandom(t),.75)},s.specialZombieUpdate=function(n,t,i){if(this.cowboyDancing&&(u.component.pianoCountDown<=0||!this.enteredLawn||this.hypno)?this.cowboyDancing=!1:!this.cowboyDancing&&u.component.pianoCountDown>0&&this.enteredLawn&&!this.hypno&&(this.cowboyDancing=!0),this.cowboyDancing&&n>0){var e=u.component.pianoCountUp,o=Math.floor(this.oldPianoCountUp/this.laneChangeCD);Math.floor(e/this.laneChangeCD)!=o&&this.switchUpperOrLower(),this.oldPianoCountUp=u.component.pianoCountUp}},a(t,[{key:"haveHat",get:function(){return this._haveHat},set:function(n){var t;this.db||(this.db=this.getComponentInChildren(p.ArmatureDisplay)),null==this||null==(t=this.db)||null==(t=t._armature)||null==(t=t.getSlot("hat_HEAD"))||t._setDisplayIndex(n?0:-1),this._haveHat=n}},{key:"cowboyDancing",get:function(){return this._dancing},set:function(n){this.body.WalkAnm=n?"Dance":"Walk",this.setRandomSpeed(this.squarePerSec*(n?1.2:1),n?0:.008),this.anmSpeed=this.oldAnmSpeed*(n?.9:1),this.walking&&(this.switching=!0,n&&!this._dancing?(this.walking=!1,this.body.playAnimation("DanceStart",1)):!n&&this._dancing&&(this.walking=!1,this.body.playAnimation("DanceEnd",1))),this._dancing=n}}]),t}(d)).prototype,"zombieHat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(f.prototype,"dropHatHitPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),w=f))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./GargantuarZombie.ts","./Zombies.ts","./SoundRescourses.ts","./Square.ts","./levelController.ts","./MechZombie.ts"],(function(e){var t,i,n,o,s,a,h,r,l,u,c,p,d,m,b,f,y,S,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,h=e._decorator,r=e.CCFloat,l=e.Node,u=e.AudioClip,c=e.Vec2},function(e){p=e.zombieDamageType},function(e){d=e.ArrayGet},function(e){m=e.gargantuar},function(e){b=e.ZombieEnum},function(e){f=e.sounds},function(e){y=e.Square},function(e){S=e.LevelPlay},function(e){g=e.MechZombie}],execute:function(){var w,R,k,D,v,P,C,I,L,B,A,z,T,E,O,_,j,Z,x,M,W,q,X,F,N,Y,G,H,J,U,V;a._RF.push({},"fea8fAFgvNJ1Y47qh0sh1fb","CowboyBullZombie",void 0);var K=h.ccclass,Q=h.property;e("CowboyBullZombie",(w=K("CowboyBullZombie"),R=Q(r),k=Q(l),D=Q([u]),v=Q([u]),P=Q([u]),C=Q([u]),I=Q([u]),L=Q([u]),B=Q([u]),A=Q([u]),z=Q([u]),T=Q([u]),E=Q([u]),O=Q(Boolean),w((Z=t((j=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).blocked=!1,t.rushing=!1,t.impSlots=[],t.bp1Slots=[],t.bp2Slots=[],t._haveImp=!1,t.oldAnmSpeed=.35,n(t,"rushCountDown",Z,o(t)),t.rushLeftTime=2,n(t,"impThrowPoint",x,o(t)),n(t,"stepSounds",M,o(t)),n(t,"deathSounds",W,o(t)),n(t,"bullBrakeSounds",q,o(t)),n(t,"brakeSounds",X,o(t)),n(t,"impBrakeSounds",F,o(t)),n(t,"bullThrowSounds",N,o(t)),n(t,"impThrowSounds",Y,o(t)),n(t,"impSteadySounds",G,o(t)),n(t,"angrySounds",H,o(t)),n(t,"impCheerSounds",J,o(t)),n(t,"smashSounds",U,o(t)),n(t,"isBlackBull",V,o(t)),t.potatoMineDisappear=!1,t}i(t,e);var a=t.prototype;return a.detectPlant=function(e){var t=this;void 0===e&&(e=.01),this.detectPlantOn()&&(this.inLane?this.rushing?this.hypno?(this.inLane.zombiePool().forEach((function(e){t.blocked||e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(t.blocked=!0,t.switching=!0)})),this.inLane.tombPool().forEach((function(e){t.blocked||e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(t.blocked=!0,t.switching=!0)}))):(this.inLane.plantPool().forEach((function(e){t.blocked||e.eaterDetectable&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(t.blocked=!0,t.switching=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){t.blocked||e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(t.blocked=!0,t.switching=!0)}))):this.defaultDetectPlant(e):this.playWalk())},a.willTrampleFlower=function(){return!this.blocked},a.onDamaged=function(e,t,i){t<=0&&i==p.electricity&&(this.body.DeathAnm="Shock",f.playZombieShock(),this.haveImp=!1),t<=this.toughness/3?(this.bp1Slots.forEach((function(e){e._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(0)}))):t<=2*this.toughness/3&&t>this.toughness/3?(this.bp1Slots.forEach((function(e){e._setDisplayIndex(0)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(-1)}))):(this.bp1Slots.forEach((function(e){e._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(-1)})))},a.animationOnLPComplete=function(){this.isAlive()&&(this.blocked?this.rushing?(this.switching=!0,this.rushing=!1,this.body.playAnimation("RushEnd"),this.body.WalkAnm="Walk",this.setRandomSpeed(-1.25),this.anmSpeed*=-.8):(this.blocked=!1,this.switching=!1,this.isAlive()&&(this.walking=!1,this.detectPlant(.01),this.isBlackBull&&(this.rushLeftTime=3))):this.rushing&&this.isAlive()&&"Rush"!=this.body.currentAnimationName&&!S.component.gameOver&&(this.walking=!1,this.playWalk(),this.detectPlant(.01)))},a.specialMechZombieOnLoad=function(){var e=this;this.schedule((function(){e.rushing&&e.walking&&e.haveImp&&e.playOneShot(d.getRandom(e.impCheerSounds),1,!1)}),3,1/0,3),this.oldAnmSpeed=this.anmSpeed,this.body.body.armature().getSlots().forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_IMP")&&e.impSlots.push(t)}))},a.bullInitialize=function(){this.blocked=!1,this.rushing=!1,this.body.WalkAnm="Walk",this.setRandomSpeed(this.squarePerSec),this.anmSpeed=this.oldAnmSpeed,this.walking=!1,this.body.DeathAnm="Death"},a.specialMechOnEnable=function(){this.haveImp=!0,this.rushLeftTime=this.rushCountDown,this.onDamaged(this.toughness,this.toughness,0),this.bullInitialize(),this.detectPlant(.01)},a.rushStart=function(){this.walking=!1,this.switching=!0,this.rushing=!0,this.body.playAnimation("RushStart",1,.1),this.setRandomSpeed(this.isBlackBull?2:1),this.anmSpeed=2.2,this.body.WalkAnm="Rush",this.playOneShot(d.getRandom(this.angrySounds),1,!0),this.haveImp&&this.playOneShot(d.getRandom(this.impSteadySounds),1,!0)},a.specialMechUpdate=function(e){this.enteredLawn&&this.walking&&this.rushLeftTime>0&&(this.rushLeftTime-=e,this.rushLeftTime<=0&&this.rushStart())},a.throwImp=function(){if(this.haveImp){this.haveImp=!1;var e=m.throwOneImpByLnC(b.cowboy_imp,this.inLane,new c(this.impThrowPoint.worldPosition.x,this._worldPositionY),new c(-4*(this.reversed?-1:1),0),this.impThrowPoint.worldPosition.y-this._worldPositionY,100,.7);e.body.playAnimation("FlyHorizontal"),e.tallNutBlock=!0,e.reversed=this.reversed,e.hypno=this.hypno}},a.empStun=function(e){void 0===e&&(e=10),this.empCD<=0&&e>0&&(this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),(this.haveImp||this.isBlackBull)&&(this.rushLeftTime=this.rushCountDown),this.bullInitialize()),this.empCD=this.empCD<e?e:this.empCD},a.onTeleportStart=function(e){void 0===e&&(e=this.worldPositionX),this.worldPositionX=this.reversed?y.getLnC(0,0).node.worldPosition.x-2*y.SquareDisW:y.getLnC(0,8).node.worldPosition.x+2*y.SquareDisW},a.specialMechAnimationListener=function(e){var t=this;if("step"==e.name)this.playOneShot(d.getRandom(this.stepSounds),this.rushing?1.5:1,!1,.1);else if("deathSound"==e.name)this.playOneShot(d.getRandom(this.deathSounds),1.5,!0);else if("rushStart"==e.name)this.walking=!0,this.switching=!1;else if("rushEnd"==e.name)this.walking=!1,this.anmSpeed=this.oldAnmSpeed,this.setRandomSpeed(this.squarePerSec),this.playOneShot(d.getRandom(this.bullBrakeSounds),1,!0),this.haveImp&&this.playOneShot(d.getRandom(this.impBrakeSounds),1,!0);else if("throw"==e.name)this.haveImp&&this.playOneShot(d.getRandom(this.impThrowSounds),1,!0),this.throwImp(),this.playOneShot(d.getRandom(this.bullThrowSounds),1,!0);else if("impSteady"==e.name)this.haveImp&&this.playOneShot(d.getRandom(this.impSteadySounds),1,!0);else if("brakeSound"==e.name)this.playOneShot(d.getRandom(this.brakeSounds),1,!0);else if("smash"==e.name){if(!this.isBlackBull)return;var i=-1/0,n=null,o=null,s=null;if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var i=e.bodyRec.prjX().x;i<a&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(o=e,a=i)})),a=1/0,this.inLane.tombPool().forEach((function(e){var i=e.bodyRec.prjX().x;i<a&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(s=e,a=i)}))}else this.inLane.plantPool().forEach((function(e){e.eaterDetectable&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&e.bodyRec.prjX().y>i&&(n=e,i=e.bodyRec.prjX().y)})),i=-1/0,this.inLane.hypnoZombiePool().forEach((function(e){var n=e.bodyRec.prjX().y;n>i&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(o=e,i=n)}));o?(o.dealDamage(1200,!0,!0,!0,new c(15*(this.reversed?1:-1),0)),this.playOneShot(d.getRandom(this.smashSounds),1,!0)):s?(s.dealDamage(1200),this.playOneShot(d.getRandom(this.smashSounds),1,!0)):n&&(n.smash(this,!1),this.playOneShot(d.getRandom(this.smashSounds),1,!0))}else"playDeath"==e.name&&(this.body.DeathAnm="Death",this.body.playAnimation("Death",1))},a.playSpecialMechDie=function(e){this.judgeDeath(.2)},s(t,[{key:"haveImp",get:function(){return this._haveImp},set:function(e){this.impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)})),this._haveImp=e}}]),t}(g)).prototype,"rushCountDown",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=t(j.prototype,"impThrowPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(j.prototype,"stepSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(j.prototype,"deathSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(j.prototype,"bullBrakeSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(j.prototype,"brakeSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(j.prototype,"impBrakeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(j.prototype,"bullThrowSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(j.prototype,"impThrowSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(j.prototype,"impSteadySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(j.prototype,"angrySounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(j.prototype,"impCheerSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(j.prototype,"smashSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(j.prototype,"isBlackBull",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=j))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenFarmerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./Square.ts","./ZombieAshParticle.ts"],(function(i){var e,n,t,c,h,o,r,a,s,l,u,k,p,b,g,f,C,m,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,c=i.assertThisInitialized,h=i.createClass},function(i){o=i.cclegacy,r=i._decorator,a=i.CCFloat,s=i.AudioClip,l=i.Prefab,u=i.Vec3},function(i){k=i.Zombie},function(i){p=i.ZombieEnum,b=i.zombies},function(i){g=i.sounds},function(i){f=i.LevelPlay},function(i){C=i.ArrayGet,m=i.instantiatePooly},function(i){y=i.Square},function(i){d=i.ZombieAshParticle}],execute:function(){var v,w,P,D,I,_,z,A,S,Z,L,V,F,x,H,T,W,E,M;o._RF.push({},"07616Qi3RtJuZypEQbqdFdj","CowboyChickenFarmerZombie",void 0);var R=r.ccclass,q=r.property,O=i("ChickenThrower",function(){function i(i,e,n,t,c,h,o){this.chickeningInterval=.2,this.chickeningIntervalVariance=.1,this.chickeningCD=0,this.chickeningLeftTime=2,this.reversed=!1,this.hypno=!1,this.x=500,this.lanes=[],this.zombie=p.cowboy_chicken,this.chickeningLeftTime=e+(1-2*Math.random())*n,this.chickeningInterval=t,this.chickeningIntervalVariance=c,this.zombie=i,this.x=o,h>=0&&h<=4&&this.lanes.push(h),h+1>=0&&h+1<=4&&this.lanes.push(h+1),h-1>=0&&h-1<=4&&this.lanes.push(h-1)}var e=i.prototype;return e.dealChickening=function(i){this.chickeningLeftTime<0||(this.chickeningLeftTime-=i,this.chickeningCD-=i,this.chickeningCD<0&&(this.chickeningCD=this.chickeningInterval+(1-2*Math.random())*this.chickeningIntervalVariance,this.spawnOneChicken()))},e.spawnOneChicken=function(){if(this.lanes.length>0){var i=this.zombie;i==p.cowboy_chicken&&Math.random()<.01&&(i=p.cowboy_chicken_pumpkin);var e=b.createZombie(C.getRandom(this.lanes),i);e.worldPositionX=this.x+(1-2*Math.random())*y.SquareDisW,e.reversed=this.reversed,e.hypno=this.hypno}},i}());i("CowboyChickenFarmerZombie",(v=R("CowboyChickenFarmerZombie"),w=q(a),P=q(a),D=q(a),I=q(a),_=q(a),z=q(s),A=q(l),S=q(a),v((V=e((L=function(i){function e(){for(var e,n=arguments.length,h=new Array(n),o=0;o<n;o++)h[o]=arguments[o];return(e=i.call.apply(i,[this].concat(h))||this)._haveChicken=!0,e.chickenSlots=[],e.chicken=p.cowboy_chicken,t(e,"ChickeningDuration",V,c(e)),t(e,"ChickeningDurationVariance",F,c(e)),t(e,"ChickeningHealthPercentage",x,c(e)),t(e,"ChickeningInterval",H,c(e)),t(e,"ChickeningIntervalVariance",T,c(e)),t(e,"chickenActionSound",W,c(e)),t(e,"chickenAsh",E,c(e)),t(e,"chickeningHealthPercentage",M,c(e)),e}n(e,i);var o=e.prototype;return o.specialZombieOnEnable=function(){this.haveChicken=!0},o.specialZombieOnLoad=function(){var i=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_CHICK")&&i.chickenSlots.push(e)}))},o.throwChickens=function(){if(this.haveChicken){this.haveChicken=!1,g.play(this.chickenActionSound);var i=new O(this.chicken,this.ChickeningDuration,this.ChickeningDurationVariance,this.ChickeningInterval,this.ChickeningIntervalVariance,this.lIndex,this.worldPositionX);i.reversed=this.reversed,i.hypno=this.hypno,f.component.chickenThrowers.push(i)}},o.killChickens=function(){if(this.haveChicken){this.haveChicken=!1,g.playBirdExpl();var i=m(this.chickenAsh);i.parent=this.inLane.zombieLayer,i.worldPosition=new u(this._worldPositionX,this._worldPositionY,10),i.scale=this.node.scale,i.getComponent(d).sky=!0}},o.specialAnimationListener=function(i){"chickenKill"==i.name&&this.killChickens()},o.onDamaged=function(i,e,n){this.haveChicken&&e<=this.toughness*this.chickeningHealthPercentage&&this.shouldSpeedScale()>0&&this.throwChickens()},h(e,[{key:"haveChicken",get:function(){return this._haveChicken},set:function(i){this.chickenSlots.forEach((function(e){e._setDisplayIndex(i?0:-1)}));var e="Walk";i&&(e="WalkWithChicken"),this.body.WalkAnm!=e&&(this.body.WalkAnm=e,this.walking&&(this.walking=!1,this.playWalk())),this._haveChicken=i}}]),e}(k)).prototype,"ChickeningDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),F=e(L.prototype,"ChickeningDurationVariance",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=e(L.prototype,"ChickeningHealthPercentage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),H=e(L.prototype,"ChickeningInterval",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),T=e(L.prototype,"ChickeningIntervalVariance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),W=e(L.prototype,"chickenActionSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"chickenAsh",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(L.prototype,"chickeningHealthPercentage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),Z=L))||Z));o._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Plants.ts"],(function(o){var e,t,n,i,c,s;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator},function(o){i=o.Zombie},function(o){c=o.sounds},function(o){s=o.PlantEnum}],execute:function(){var r;t._RF.push({},"401b5vPomZOgZO+KfsDroGM","CowboyChickenZombie",void 0);var a=n.ccclass;n.property,o("CowboyChickenZombie",a("CowboyChickenZombie")(r=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var n=t.prototype;return n.specialZombieOnEnable=function(){this.shadeAlphaScale=1},n.playSpecialZombieDie=function(o){this.playWalk(0),this.judgeDeath(0),c.playBirdExpl(),this.shadeAlphaScale=0},n.plantEatAllowed=function(o){return!o.bodyRec.judgeCrossRec(this.plantDetectorRec)||o.ID!=s.HypnoShroom||(this.hypno=!0,!1)},t}(i))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(e){var o,a,n,i,t,r,c,s,u,l,m,b,f;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,c=e.Node,s=e.Vec2},function(e){u=e.GargantuarZombie},function(e){l=e.ZombieEnum},function(e){m=e.Rectangle},function(e){b=e.Square},function(e){f=e.zombieDamageType}],execute:function(){var h,g,p,d,y;t._RF.push({},"3a6ba24zw9L3pITfKvBHcid","CowboyGargantuarZombie",void 0);var R=r.ccclass,w=r.property;e("CowboyGargantuarZombie",(h=R("CowboyGargantuarZombie"),g=w(c),h((y=o((d=function(e){function o(){for(var o,a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];return o=e.call.apply(e,[this].concat(t))||this,n(o,"smashPoint",y,i(o)),o.impEnum=l.cowboy_imp,o}return a(o,e),o.prototype.onSmashing=function(){var e=m.createRectangleCenter(new s(this.smashPoint.worldPosition.x,this._worldPositionY),2*b.SquareDisW,b.SquareDisH);this.hypno?(this.inLane.zombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(e)&&o.dealDamage(60,!1,!1,!1,null,f.fire,!0,!0)})),this.inLane.tombPool().forEach((function(o){o.bodyRec.judgeCrossRec(e)&&o.dealDamage(60)}))):(this.inLane.plantPool().forEach((function(o){o.bodyRec.judgeCrossRec(e)&&o.dealDamage(30,3)})),this.inLane.hypnoZombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(e)&&o.dealDamage(60,!1,!1,!1,null,f.fire,!0,!0)})))},o}(u)).prototype,"smashPoint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./NodePools.ts"],(function(i){var t,n,o,e,r,a,l,s,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,l=i.AudioClip,s=i.dragonBones},function(i){c=i.ImpZombie},function(i){u=i.ArrayGet}],execute:function(){var d,h,p,b,m,y,f;r._RF.push({},"2ae07h5GHNKXbVqhGkOO/C8","CowboyImpZombie",void 0);var g=a.ccclass,v=a.property;i("CowboyImpZombie",(d=g("CowboyImpZombie"),h=v([l]),p=v([l]),d((y=t((m=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,o(t,"landSounds",y,e(t)),o(t,"blockSound",f,e(t)),t}n(t,i);var r=t.prototype;return r.onTallNutBlocked=function(){this.playOneShot(u.getRandom(this.landSounds),1,!1),this.body.playAnimation("Block",1)},r.specialZombieOnLanding=function(){var i=this;if(this.isAlive()){var t="Land",n="Fly"==this.body.currentAnimationName;"FlyHorizontal"!=this.body.currentAnimationName&&"FlyVerticle"!=this.body.currentAnimationName&&"Block"!=this.body.currentAnimationName||(n=!0,t="LandVerticle",this.playOneShot(u.getRandom(this.landSounds),1,!1)),n&&(this.body.playAnimation(t,1),this.switching=!0,this.walking=!1,this.db.once(s.EventObject.COMPLETE,(function(){i.switching=!1,i.isAlive()&&i.detectPlant(.001)}),this))}else this.judgeDeath(0)},t}(c)).prototype,"landSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=t(m.prototype,"blockSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPianoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./SoundManager.ts"],(function(e){var i,o,n,t,a,s,l,r,h,c;return{setters:[function(e){i=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,t=e.Vec3},function(e){a=e.zombieDamageType,s=e.Zombie},function(e){l=e.NodePools},function(e){r=e.ZombieAshParticle},function(e){h=e.sounds},function(e){c=e.SoundManager}],execute:function(){var u;o._RF.push({},"f6a88HXmKhKrI0YJeSxyjhX","CowboyPianoZombie",void 0);var d=n.ccclass;n.property,e("CowboyPianoZombie",d("CowboyPianoZombie")(u=function(e){function o(){for(var i,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return(i=e.call.apply(e,[this].concat(n))||this).pianoSlot=void 0,i._useToHaveArm=!0,i.chewSoundWhenEat=!1,i}i(o,e);var n=o.prototype;return n.playSpecialZombieDie=function(e){this.judgeDeath(0)},n.chilibeanFart=function(){},n.plantEatExtraAllowed=function(e){return e.smasherDetectable},n.specialZombieOnEnable=function(){this.body.DeathAnm="Death",this._useToHaveArm=!0},n.specialZombieOnLoad=function(){this.pianoSlot=this.body.body.armature().getSlot("piano")},n.specialAnimationListener=function(e){if("walk"==e.name){var i,o="play0";this.haveArm||(this._useToHaveArm?(o="play_break",this._useToHaveArm=!1):o="play1"),null==(i=this.pianoSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play(o)}},n.specialZombieUpdate=function(e,i,o){e>0&&this.enteredLawn&&(c.component.pianoCountDown=1)},n.playAsh=function(){if(!this.zombieAshParticle_)return null;var e=l.instantiatePooly(this.zombieAshParticle_);if(null!=e&&e.isValid){e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),e.worldPosition=new t(this.shadeSocket.worldPosition.x+20,this.body.body.node.worldPosition.y,1),e.scale=this.node.scale.clone().multiply(this.body.node.scale),this.body.DeathAnm="Death_Ash",this.playDie(!1,null,!0,a.fire,!1);var i=e.getComponent(r);return this.smartShadeHider?i.inLnC=this.shadeInLnC:i.inLnC=this.inLnC,i.height=this.height,i.playAsh(),this.isGargantuar&&h.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(i),i.db}},o}(s))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPonchoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./levelController.ts"],(function(t){var e,a,o,i,h,n,l,s,r,c,p,u,d,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,h=t.createClass},function(t){n=t.cclegacy,l=t._decorator,s=t.Prefab,r=t.CCFloat,c=t.Vec3},function(t){p=t.zombieDamageType,u=t.Zombie},function(t){d=t.instantiatePooly},function(t){v=t.LevelPlay}],execute:function(){var P,b,f,y,g,H,m,_,w,S,D;n._RF.push({},"7a325jDWMVL3oYSU9abOjC3","CowboyPonchoZombie",void 0);var k=l.ccclass,z=l.property;t("CowboyPonchoZombie",(P=k("CowboyPonchoZombie"),b=z(s),f=z(r),y=z(r),g=z(s),P((_=e((m=function(t){function e(){for(var e,a=arguments.length,h=new Array(a),n=0;n<a;n++)h[n]=arguments[n];return(e=t.call.apply(t,[this].concat(h))||this).spawnPlateMode=-1,o(e,"ponchoBreakPar",_,i(e)),e.ponchoSlot=void 0,o(e,"ponchoToughness",w,i(e)),e._ponchoHealth=60,e._havePoncho=!1,e._havePlate=void 0,e.plateSlot=void 0,o(e,"plateToughness",S,i(e)),e._plateHealth=1100,o(e,"plateDrop",D,i(e)),e}a(e,t);var n=e.prototype;return n.specialZombieOnEnable=function(){-1==this.spawnPlateMode&&(this.spawnPlateMode=Math.round(Math.random())),this.spawnPlateMode?(this.havePlate=3,this.plateHealth=this.plateToughness):(this.havePlate=0,this.plateHealth=0),this.ponchoHealth=this.ponchoToughness},n.extraHealth=function(){return(this.havePoncho?this.ponchoHealth:0)+(0!=this.havePlate?this.plateHealth:0)},n.breakPoncho=function(){if(this.havePoncho){this.havePoncho=!1;var t=d(this.ponchoBreakPar);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()+1)}},n.specialZombieOnLoad=function(){this.plateSlot=this.body.body.armature().getSlot("SHIELD"),this.ponchoSlot=this.body.body.armature().getSlot("PONCHO")},n.throwPlate=function(t,e){void 0===e&&(e=!0);var a=this.drop(this.plateDrop,this.height+this.zombieHeight/2,new c(this._worldPositionX,this._worldPositionY),t,this.inLane.prjLayer),o=a.db,i="Broken2";if(!e)switch(this.havePlate){case 3:i="Broken0";break;case 2:i="Broken1"}return o.playAnimation(i),this.plateHealth=0,a},n.specialMagnetedObject=function(){if(this.plateHealth>0){var t=this.throwPlate(null,!1);return this.plateHealth=0,t}return null},n.dealDamage=function(t,e,a,o,i,h,n){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===i&&(i=null),void 0===h&&(h=p.physicle),void 0===n&&(n=!0);var l=t;if(h==p.fire&&(this.freeze=0,this.chill=0),this.ponchoHealth>0&&e)l-=this.ponchoHealth,this.pushSunBeanHealth(Math.min(t,this.ponchoHealth)),this.ponchoHealth-=t*v.zombieDamageReceiveScale,a&&this.playHurtSound(),n&&(this.hurting=10);else{if(!(this.plateHealth>0&&e))return this.dealNormalDamage(t,e,a,!1,i,h,n);l-=this.plateHealth,this.pushSunBeanHealth(Math.min(t,this.plateHealth)),this.plateHealth-=t*v.zombieDamageReceiveScale,a&&this.playHurtSound(),n&&(this.hurting=10),this.plateHealth<=0&&this.throwPlate(i)}return l>0&&this.dealDamage(l,e,a,o,i,h,n),this.health},h(e,[{key:"ponchoHealth",get:function(){return this._ponchoHealth},set:function(t){t<=0?this.breakPoncho():this.havePoncho=!0,this._ponchoHealth=t}},{key:"havePoncho",get:function(){return this._havePoncho},set:function(t){var e;null==(e=this.ponchoSlot)||e._setDisplayIndex(t?0:-1),this._havePoncho=t}},{key:"havePlate",get:function(){return this._havePlate},set:function(t){var e,a,o,i;switch(this._havePlate=t,t){case 3:null==(e=this.plateSlot)||e._setDisplayIndex(0);break;case 2:null==(a=this.plateSlot)||a._setDisplayIndex(1);break;case 1:null==(o=this.plateSlot)||o._setDisplayIndex(2);break;default:null==(i=this.plateSlot)||i._setDisplayIndex(-1),this._havePlate=0}}},{key:"plateHealth",get:function(){return this._plateHealth},set:function(t){t<=0?this.havePlate=0:t<=this.plateToughness/3?this.havePlate=1:t<=2*this.plateToughness/3?this.havePlate=2:this.havePlate=3,this._plateHealth=t}}]),e}(u)).prototype,"ponchoBreakPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(m.prototype,"ponchoToughness",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),S=e(m.prototype,"plateToughness",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1100}}),D=e(m.prototype,"plateDrop",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=m))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyProspectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./NodePools.ts"],(function(e){var i,t,n,o,l,r,s,a,u,d,h,p,c,y,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.AudioClip,u=e.CCFloat,d=e.Prefab,h=e.Vec3,p=e.Vec2},function(e){c=e.Zombie},function(e){y=e.Square},function(e){b=e.instantiatePooly}],execute:function(){var f,m,w,S,g,x,v,P,T,_,L,C,k,z,R,Z,O,A,F;r._RF.push({},"cb135QainNMWrbBPNRCFOSs","CowboyProspectorZombie",void 0);var E=s.ccclass,I=s.property;e("CowboyProspectorZombie",(f=E("CowboyProspectorZombie"),m=I(a),w=I(a),S=I(a),g=I(a),x=I(u),v=I(u),P=I(d),T=I(d),f((C=i((L=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,n(i,"landSound",C,o(i)),n(i,"explodeSound",k,o(i)),n(i,"explodeSaySound",z,o(i)),n(i,"igniteSound",R,o(i)),n(i,"explodeCountdown",Z,o(i)),i._explodeLeftTime=10,n(i,"stunTime",O,o(i)),i.tnt=void 0,i.ashSlots=[],i._dirty=!1,i.willReverse=!1,i._ignited=!0,n(i,"explSmokePar",A,o(i)),n(i,"smokeTailPar",F,o(i)),i}t(i,e);var r=i.prototype;return r.specialZombieOnLoad=function(){var e,i,t=this;this.tnt=null==(e=this.body)||null==(e=e.body)||null==(e=e.armature())||null==(e=e.getSlot("TNT"))?void 0:e.childArmature,this.ashSlots=[],null==(i=this.body)||null==(i=i.body)||null==(i=i.armature())||i.getSlots().forEach((function(e){e.name.includes("_ASH")&&t.ashSlots.push(e)})),this.schedule((function(){if(t.willReverse){var e=b(t.smokeTailPar);e.parent=t.node.parent,e.setSiblingIndex(0),e.worldPosition=new h(t._worldPositionX,t.body.node.worldPosition.y+20)}}),.05,1/0,.05)},r.specialZombieKnockbackable=function(){return!this.willReverse},r.specialZombieLeapable=function(){return!this.willReverse},r.specialZombieOnEnable=function(){this.dirty=!1,this.explodeLeftTime=this.explodeCountdown,this.willReverse=!1,this.ignited=!0},r.specialAnimationListener=function(e){if("explode"==e.name){var i=y.getLnC(0,this.reversed?8:0).node.worldPosition.x;this.leapTo(new p(i,this._worldPositionY),!0,1,300,!0,!1,!1),this.playOneShot(this.explodeSound,1,!0),this.playOneShot(this.explodeSaySound,1,!1),this.willReverse=!0,this.tnt.animation.play("Nothing"),this.dirty=!0;var t=b(this.explSmokePar);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=new h(this._worldPositionX,this._worldPositionY)}},r.specialOnLeapEnd=function(){var e=this;this.willReverse&&(this.willReverse=!1,this.reversed=!this.reversed,this.body.playAnimation("FlyEnd",1),this.playOneShot(this.landSound,1,!0),this.scheduleOnce((function(){e.switching=!1,e.isAlive()&&e.playWalk()}),this.stunTime))},r.onChill=function(e){this.ignited=!1},r.onFrozen=function(e){this.ignited=!1},r.specialZombieUpdate=function(e,i,t){this.isInLawn()&&this.explodeLeftTime>0&&this.ignited&&(this.explodeLeftTime-=e,this.explodeLeftTime<=0&&(this.switching=!0,this.walking=!1,this.body.playAnimation("FlyStart",1)))},l(i,[{key:"dirty",get:function(){return this._dirty},set:function(e){this.ashSlots.forEach((function(i){null==i||i._setDisplayIndex(e?0:-1)})),this._dirty=e}},{key:"explodeLeftTime",get:function(){return this._explodeLeftTime},set:function(e){var i=e/this.explodeCountdown,t=this._explodeLeftTime/this.explodeCountdown;i>2/3&&t<=2/3?this.tnt.animation.play("Small"):i>1/3&&t<=1/3||i<=2/3&&t>2/3?(this.playOneShot(this.igniteSound,.5,!0),this.tnt.animation.play("Mid")):(i>0&&t<=0||i<=1/3&&t>1/3)&&this.tnt.animation.play("Big"),this._explodeLeftTime=e}},{key:"ignited",get:function(){return this._ignited},set:function(e){this.dirty||(e?(this.explodeLeftTime=this.explodeCountdown,this.tnt.animation.play("Small")):this.tnt.animation.play("Out")),this._ignited=e}}]),i}(c)).prototype,"landSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(L.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(L.prototype,"explodeSaySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(L.prototype,"igniteSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(L.prototype,"explodeCountdown",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(L.prototype,"stunTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),A=i(L.prototype,"explSmokePar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(L.prototype,"smokeTailPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=L))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./NodePools.ts"],(function(o){var e,i,t,n,r,l,a,s,u,h,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.initializerDefineProperty,t=o.inheritsLoose,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.CCInteger,s=o.AudioClip},function(o){u=o.ZombossMechZombie},function(o){h=o.Square},function(o){c=o.ArrayGet}],execute:function(){var b,p,d,m,g,f,y,S,C,M,w,z,Z,L,v,R,P,x,O,W,F,A,B,T,E,I,N,_,j,q,D,G;r._RF.push({},"257b4qjQ/JJHbQt0IFcjFmI","CowboyZombossMechZombie",void 0);var H=l.ccclass,J=l.property,Q=o("CowboyZombossFireProps",(b=H("CowboyZombossFireProps"),p=J(Number),d=J(Number),m=J(Number),g=J(a),f=J(a),b((C=e((S=function(){i(this,"shootPlantWeight",C,this),i(this,"shootPlantEmptyRate",M,this),i(this,"shootRailWeight",w,this),i(this,"shootRailCount",z,this),i(this,"missileCount",Z,this)}).prototype,"shootPlantWeight",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=e(S.prototype,"shootPlantEmptyRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=e(S.prototype,"shootRailWeight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=e(S.prototype,"shootRailCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=e(S.prototype,"missileCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),y=S))||y));o("CowboyZombossMechZombie",(L=H("CowboyZombossMechZombie"),v=J(s),R=J(s),P=J(s),x=J(s),O=J(s),W=J(s),F=J([Q]),A=J([Q]),L((E=e((T=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=o.call.apply(o,[this].concat(r))||this,i(e,"rollingSound",E,n(e)),i(e,"expandSound",I,n(e)),i(e,"expand2Sound",N,n(e)),i(e,"introBodyCallSound",_,n(e)),i(e,"loadMissileSound",j,n(e)),i(e,"loadMissile2Sound",q,n(e)),i(e,"MissileLocator",D,n(e)),i(e,"MissileLocator2",G,n(e)),e}t(e,o);var r=e.prototype;return r.specialZombossMechAnimationListener=function(o){"rollingSound"==o.name?this.playOneShot(this.rollingSound,1,!0,.1):"expandSound"==o.name?(this.playOneShot(this.expandSound,1,!0,.1),this.playOneShot(this.expand2Sound,1,!0,.1)):"introBodyCallSound"==o.name?this.playOneShot(this.introBodyCallSound,1,!0,.1):"loadMissileSound"==o.name&&(this.playOneShot(this.loadMissileSound,1,!0,.1),this.playOneShot(this.loadMissile2Sound,1,!0,.1))},r.getShootTargetLnCs=function(){var o=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,e=o[this.currentStage]?o[this.currentStage]:new Q,i=e.shootPlantEmptyRate,t=e.shootRailWeight/(e.shootRailWeight+e.shootPlantWeight);if(Math.random()>t)return this.defaultGetShootTargetLnCs(i);for(var n=c.randomize(h.getAllLnC()),r=[],l=[],a=0;a<n.length&&r.length<e.shootRailCount;a++){var s,u;null!=(s=n[a])&&null!=(s=s.rail)&&s.group&&-1==r.indexOf(null==(u=n[a])||null==(u=u.rail)?void 0:u.group)&&r.push(n[a].rail.group)}return r.forEach((function(o){for(var e=c.randomize(o),i=0;i<e.length-1;i++)l.push(e[i].inLnC)})),l.length?l:this.defaultGetShootTargetLnCs(i)},e}(u)).prototype,"rollingSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(T.prototype,"expandSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(T.prototype,"expand2Sound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(T.prototype,"introBodyCallSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(T.prototype,"loadMissileSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(T.prototype,"loadMissile2Sound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(T.prototype,"MissileLocator",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(T.prototype,"MissileLocator2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=T))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/CranJelly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Square.ts","./Character.ts","./Plant.ts"],(function(e){var t,n,a,r,i,o,l,s,c,u,h,f,p,y,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.Vec3,c=e.Vec2},function(e){u=e.peaShooter},function(e){h=e.NodePools},function(e){f=e.Square},function(e){p=e.CharacterType},function(e){y=e.Plant,P=e.PlantProps}],execute:function(){var d,b,v,m,w;i._RF.push({},"779f1NAnaNMAr0lVYwAL9er","CranJelly",void 0);var S=o.ccclass,g=o.property,C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).DPS=3e3,t.Velocity=15,t}return n(t,e),t}(P);e("CranJellyPlant",(d=S("CranJellyPlant"),b=g(l),d((w=t((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"CranJellyPrj",w,r(t)),t._objdataOwn=new C,t}n(t,e);var i=t.prototype;return i.animationListener=function(e){if("summon"==e.name){var t=h.instantiatePooly(this.CranJellyPrj),n=u.shootOnePea(t,new s(f.getSquareWorldPosition(0,0).x,this.inLane.floorY),-5,this.inLane.prjLayer,new c(this._objdataOwn.Velocity,0),p.zombie),a=this._objdataOwn.DPS;this._dmgScale&&(a*=this._dmgScale),n.DPS=a}},i.specialPlantOnEnable=function(){var e=this;this.scheduleOnce((function(){e.die()}),0),this.foodable=!1,this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1},t}(y)).prototype,"CranJellyPrj",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/cranjellyProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts"],(function(e){var t,n,o,i,a,l,r,c,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.CCFloat},function(e){c=e.ProjectileEnemyType,d=e.commonShot},function(e){u=e.TileLiquidEnum}],execute:function(){var s,y,p,h,m;a._RF.push({},"11147O0PlhImq2C02SJplO+","cranjellyProjectile",void 0);var f=l.ccclass,g=l.property;e("cranjellyPrj",(s=f("cranjellyPrj"),y=g(r),s((m=t((h=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(t,"DPS",m,i(t)),t.defeatedCount=0,t}n(t,e);var a=t.prototype;return a.animationListener=function(e){var t;"playIdle"==e.name&&(this.switching=!1,null==(t=this.db)||t.playAnimation("Idle0",1/0))},a.animationCompleteListener=function(){var e;this.switching&&(this.switching=!1,null==(e=this.db)||e.playAnimation("Idle0",1/0))},a.detectEnemy=function(e){var t,n,o,i=this;this.detectEnemyOn&&(this.enemyType==c.zombie?(null==(n=this.inLane)||n.zombiePool().concat().forEach((function(t){if((!i.targetLocked||(null==t?void 0:t.node)!=i.targetLocked)&&t.bodyRec.judgeCrossRec(i.bodyRec())){var n,o;t.dealDamage(i.DPS*e,i.armorProtection,i.armorKnockSound,i.bodyKnockSound,null,i.damageType,!0);var a=i.defeatedCount;t.isAlive()||(i.inLnC.addTileLiquid(u.cranJellyJuice,30),a++),i.defeatedCount<4&&a>=4&&(null==(n=i.db)||n.playAnimation("Idle1",1/0)),i.defeatedCount<8&&a>=8&&(null==(o=i.db)||o.playAnimation("Idle2",1/0)),i.defeatedCount=a}})),null==(o=this.inLane)||o.tombPool().concat().forEach((function(t){i.targetLocked&&(null==t?void 0:t.node)==i.targetLocked||t.bodyRec.judgeCrossRec(i.bodyRec())&&t.dealDamage(i.DPS*e)}))):this.enemyType==c.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){i.dead||e.bodyRec.judgeCrossRec(i.bodyRec())&&(!i.targetLocked||i.targetLocked&&e.node==i.targetLocked)&&(i.dealDamageToTargetPlant(e),i.pop())}))))},a.pop=function(){},a.characterOnEnable=function(){var e;this.defeatedCount=0,this.initialize(),this.switching=!0,null==(e=this.db)||e.playAnimation("Start",1)},t}(d)).prototype,"DPS",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3e3}}),p=h))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/CurrencyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,i,s,u,l,h,c,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,s=e._decorator,u=e.Label,l=e.CCInteger,h=e.UITransform,c=e.Vec3,f=e.tween,p=e.Component}],execute:function(){var w,b,m,g,v,y,d,C,_;i._RF.push({},"e6e50mmoUtIBoehQwOpMZPz","CurrencyCount",void 0);var L=s.ccclass,V=s.property;e("CurrencyCount",(w=L("CurrencyCount"),b=V(u),m=V(Boolean),g=V(l),w((d=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"showerLabel",d,o(t)),r(t,"thousandComma",C,o(t)),t._shownValue=0,r(t,"maxWidth",_,o(t)),t._value=0,t}return n(t,e),t.prototype.onValueSet=function(e){},a(t,[{key:"shownValue",get:function(){return this._shownValue},set:function(e){if(this._shownValue=e,this.showerLabel){var t=Math.round(e);if(this.thousandComma){for(var n=[];t>0;)n.push(t%1e3),t=Math.floor(t/1e3);var r="";0==Math.round(e)?r="0":n.reverse().forEach((function(e,t){for(var o=e.toString();0!=t&&o.length<3;)o="0"+o;r+=o,t!=n.length-1&&(r+=",")})),this.showerLabel.string=r}else this.showerLabel.string=Math.round(e).toString();var o=Math.min(1,this.maxWidth/this.showerLabel.getComponent(h).width);this.showerLabel.node.scale=new c(o,o,o)}}},{key:"value",get:function(){return this._value},set:function(e){this.onValueSet(e),Math.abs(e-this._value)<2?this.shownValue=e:f(this).to(.5,{shownValue:e}).start(),this._value=e}}]),t}(p)).prototype,"showerLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"thousandComma",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=t(y.prototype,"maxWidth",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Dandelion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CabbagePult.ts","./SoundRescourses.ts"],(function(o){var t,n,i,e,a,r,l,s,u,d,h,c,f,S,p,w,y,b,m,P,g,C,v,L;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,l=o._decorator,s=o.AudioClip,u=o.Prefab,d=o.Node,h=o.Vec2,c=o.Vec3,f=o.tween},function(o){S=o.Plant,p=o.PlantProps},function(o){w=o.Rectangle,y=o.ZombiePool},function(o){b=o.Square},function(o){m=o.ArrayGet,P=o.instantiatePooly},function(o){g=o.peaShooter},function(o){C=o.CharacterType},function(o){v=o.cabbagePult},function(o){L=o.sounds}],execute:function(){var A,j,R,_,D,z,x,O,F,I,B,M,E,q,X,Z,N,T,W,V,Y,k,H,J,U,G,K,Q,$,oo,to,no,io,eo,ao,ro;r._RF.push({},"26b5ed92T9I8JJ8+hjxNWAR","Dandelion",void 0);var lo=l.ccclass,so=l.property,uo=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).ShootInterval=2,t.ShootIntervalAdditional=.15,t.BlowRecoverTime=12,t.BlowProjectileCount=12,t}return n(t,o),t}(p),ho=o("dandelionSound",(A=lo("dandelionSound"),j=so([s]),R=so([s]),_=so([s]),D=so([s]),z=so([s]),x=so([s]),O=so([s]),F=so([s]),I=so([s]),A((E=t((M=function(){function o(){i(this,"shootSounds",E,this),i(this,"shootSaySounds",q,this),i(this,"foodSaySounds",X,this),i(this,"foodStartSaySounds",Z,this),i(this,"foodStartSounds",N,this),i(this,"foodShootSounds",T,this),i(this,"foodShootSaySounds",W,this),i(this,"blowSounds",V,this),i(this,"blowSaySounds",Y,this)}var t=o.prototype;return t.playShootSound=function(){L.playArray(this.shootSounds,.5,.5)},t.playShootSaySound=function(){L.playArray(this.shootSaySounds,.5,.5)},t.playFoodSaySound=function(){L.playArray(this.foodSaySounds,1,.5)},t.playFoodStartSaySound=function(){L.playArray(this.foodStartSaySounds,1,.1)},t.playFoodStartSound=function(){L.playArray(this.foodStartSounds,1,.1)},t.playFoodShootSound=function(){L.playArray(this.foodShootSounds,1,.1)},t.playFoodShootSaySound=function(){L.playArray(this.foodShootSaySounds,1,.1)},t.playBlowSound=function(){L.playArray(this.blowSounds,1,.1)},t.playBlowSaySound=function(){L.playArray(this.blowSaySounds,1,.1)},o}()).prototype,"shootSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(M.prototype,"shootSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(M.prototype,"foodSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(M.prototype,"foodStartSaySounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(M.prototype,"foodStartSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(M.prototype,"foodShootSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(M.prototype,"foodShootSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(M.prototype,"blowSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(M.prototype,"blowSaySounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=M))||B));o("DandelionPlant",(k=lo("DandelionPlant"),H=so(ho),J=so(u),U=so(d),G=so(u),K=so(u),Q=so(u),k((to=t((oo=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).detectors=[],t._objdataOwn=new uo,i(t,"soundRes",to,e(t)),t.foodDropArea=0,t._blew=!1,t.blewCD=0,t._blowPrjLeftCount=0,i(t,"throwParticle",no,e(t)),t.shooting=!1,t.willShootLane=0,i(t,"peaSpawnPoint",io,e(t)),i(t,"PrjSmall",eo,e(t)),i(t,"Prj0",ao,e(t)),i(t,"PrjFood",ro,e(t)),t.shootCD=0,t}n(t,o);var r=t.prototype;return r.specialPlantOnSquareChange=function(o,t){var n,i,e=this;this.detectors=[],[null==t?void 0:t.inLane,null==t||null==(n=t.inLane)?void 0:n.UpperLane,null==t||null==(i=t.inLane)?void 0:i.LowerLane].forEach((function(o){o&&e.detectors.push({inLane:o,rec:w.createRectangleSide(new h(t.node.worldPosition.x,o.midY),b.SquareDisW*(9-t.cIndex),b.SquareDisH)})}))},r.specialPlantOnEnable=function(){this.shootCD=0,this.shooting=!1,this.willShootLane=0,this.blew=!1,this.anmControl.playRandom()},r.dropOnZombies=function(o){var t=this,n=b.getSquareWorldPosition(0,2,1,1).x,i=b.getSquareWorldPosition(0,5,1,1).x,e=7;y.pool().forEach((function(a){(1==o&&a.worldPositionX<n||2==o&&a.worldPositionX>=n&&a.worldPositionX<i||0==o&&a.worldPositionX>=i)&&(t._dropOnZombie(t.PrjFood,a),e--)})),e>0&&m.randomize(b.getAllLnC()).forEach((function(a){if(!(e<=0)){var r=null;(1==o&&a.node.worldPosition.x<n||2==o&&a.node.worldPosition.x>=n&&a.node.worldPosition.x<i||0==o&&a.node.worldPosition.x>=i)&&(r=t._dropOnNode(t.PrjFood,a.node),e--),r&&(r.worldPositionX+=(.5-Math.random())*b.SquareDisW)}}))},r.blowStart=function(){return!this.blew&&!this.fooding&&(this.blewCD=this._objdataOwn.BlowRecoverTime*this._cdScale,this.blew=!0,this.anmControl.playAnimation("Blow"),this.soundRes.playBlowSaySound(),this.soundRes.playBlowSound(),!0)},r._dropOnZombie=function(o,t){var n=P(o);return v.lobOneCabbageOnZombie(n,new c(t.worldPositionX+300,t.worldPositionY,10),1e3+200*Math.random(),t.inLane.prjLayer,t,.1*Math.random()-.4,C.zombie,!1,50+20*Math.random(),!1,!0)},r._dropOnNode=function(o,t){var n=P(o);return v.lobOneCabbageOnPos(n,new c(t.worldPosition.x+300,t.worldPosition.y,10),1e3+200*Math.random(),this.inLane.prjLayer,new h(t.worldPosition.x,t.worldPosition.y),.1*Math.random()-.4,C.zombie,50+20*Math.random(),0,!0)},r.playParticle=function(){var o=P(this.throwParticle);o.parent=this.inLane.prjLayer,o.worldPosition=this.peaSpawnPoint.worldPosition},r.detectEnemies=function(){var o=this,t=m.randomize(this.detectors);if(this.blew)return-2;for(var n,i=function(n){var i,e=null==(i=t[n].inLane)?void 0:i.zombiePool(),a=-2;if(null==e||e.forEach((function(i){-2==a&&i.bodyRec.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),-2!=a)return{v:a};var r=t[n].inLane.tombPool();return null==r||r.forEach((function(i){-2==a&&i.bodyRec.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),{v:a}},e=0;e<t.length;e++)if(n=i(e))return n.v;return-2},r.animationOnComplete=function(){this.shooting=!1},r.waterable=function(){return!this.shooting&&!this.blew},r.shootAnimation=function(){this.shooting=!0,this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,2.2/this.shootCD))},r.recoverAnimation=function(){this.shooting=!0,this.anmControl.playAnimation("Recover",1),this.soundRes.playShootSaySound(),this.soundRes.playShootSound()},r.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playShootSound(),this._shoot(this.Prj0,this.willShootLane)):"shootSay"==o.name?this.soundRes.playShootSaySound():"foodShoot"==o.name?(this.dropOnZombies(this.foodDropArea++),this.soundRes.playFoodShootSaySound(),this.soundRes.playFoodShootSound()):"foodEnd"==o.name?this.foodEnd():"foodCharge"==o.name?(this.soundRes.playFoodStartSound(),this.soundRes.playFoodStartSaySound()):"Blow"==o.name?(this.blowPrjLeftCount=this._objdataOwn.BlowProjectileCount,f(this).to(1.1,{blowPrjLeftCount:0}).start()):"recover"==o.name?this.blew=!1:"playPar"==o.name&&this.playParticle()},r.specialPlantFood=function(o){this.anmControl.playAnimation("Food"),this.foodDropArea=0,this.blew=!1},r.specialPlantFoodEnd=function(){this.anmControl.playRandom()},r._shoot=function(o,t){var n=P(o),i=g.shootOnePea(n,new c(this.peaSpawnPoint.worldPosition.x,this.worldPositionY,10),this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new h(5,0),C.zombie);this.inLnC.havePeaBuff&&i.addPeaBuff(),-1!=t&&1!=t||(i.linearVelocity=new h(5,-17*t/2),i.deceleration=new h(0,t/4))},r.specialPlantUpdate=function(o){if(!this.fooding){if(this.shootCD>0)this.shootCD-=o;else if(!this.blew){var t=this.detectEnemies();switch(t){case 1:case-1:case 0:this.shootAnimation(),this.willShootLane=t}}this.shooting||this.blew&&(this.blewCD-=o,this.blewCD<=0&&this.recoverAnimation())}},a(t,[{key:"blew",get:function(){return this._blew},set:function(o){o?(this.anmControl.IdleAnim="Idle_Blew",this.anmControl.RandomAnim=[],this.deathAnm="Death_Blew"):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"),this._blew=o}},{key:"blowPrjLeftCount",get:function(){return this._blowPrjLeftCount},set:function(o){if(!this.dead&&this.node.active&&this.node.isValid){var t=[0];this.lIndex>0&&t.push(-1),this.lIndex<4&&t.push(1);for(var n=0;n<Math.floor(this._blowPrjLeftCount)-Math.floor(o);n++)this._shoot(this.PrjSmall,m.getRandom(t));this._blowPrjLeftCount=o}}}]),t}(S)).prototype,"soundRes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ho}}),no=t(oo.prototype,"throwParticle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=t(oo.prototype,"peaSpawnPoint",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=t(oo.prototype,"PrjSmall",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=t(oo.prototype,"Prj0",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=t(oo.prototype,"PrjFood",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=oo))||$));r._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./NodePools.ts","./AnimationController.ts","./Droppings.ts"],(function(e){var t,n,i,o,r,a,c,l,s,u,p,d,f,h,b,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.Node,s=e.Label,u=e.Sprite,p=e.Vec3,d=e.Color,f=e.Component},function(e){h=e.PlantEnum,b=e.plants},function(e){m=e.instantiatePooly},function(e){y=e.AnimationController},function(e){g=e.droppings}],execute:function(){var v,C,w,D,k,P,z,S,I,_,L,A,F;a._RF.push({},"9a272r2LjxLH6zOoW1CyroR","DangerroomCard",void 0);var R=c.ccclass,N=c.property;e("DangerroomCard",(v=R("DangerroomCard"),C=N(l),w=N([s]),D=N(u),k=N(u),P=N(l),v((I=t((S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"displayer",I,o(t)),i(t,"suncost",_,o(t)),t.ID=0,i(t,"face",L,o(t)),i(t,"back",A,o(t)),t._selected=!1,i(t,"selection",F,o(t)),t}n(t,e);var a=t.prototype;return a.switchPlant=function(e){void 0===e&&(e=this.ID);var t="";if(this.displayer.destroyAllChildren(),e<h.amount){var n=m(b.getPlantsInCard(e).plantDIS);n.parent=this.displayer,n.position=new p(0,-20,0);var i=n.getComponent(y);i.playRandom(),this.scheduleOnce((function(){i.setTimeScale(0)}),0);var o=b.getPlantFeature(e);t=o.SUNCOST.toString()}else switch(e){case h.amount:m(g.SunMid);break;case h.amount+1:m(g.CoinGold);break;case h.amount+2:m(g.Gem)}this.ID=e,this.suncost.forEach((function(e){e.string=t}))},a.turnFace=function(){this.face.node.active=!0,this.back.node.active=!1,this.switchPlant()},a.turnBack=function(){this.back.node.active=!0,this.face.node.active=!1},a.onLoad=function(){this.ID=-1},r(t,[{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.face.color=e?new d(122,122,122,255):new d(255,255,255,255),this.back.color=e?new d(122,122,122,255):new d(255,255,255,255),this.selection.active=e}}]),t}(f)).prototype,"displayer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(S.prototype,"suncost",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(S.prototype,"face",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(S.prototype,"back",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(S.prototype,"selection",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=S))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCardChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DangerroomCard.ts","./NodePools.ts","./SoundRescourses.ts","./Plants.ts","./CardFeatureTotal.ts","./levelController.ts","./PlayerProperties.ts","./Cards.ts","./MultiLanguage.ts"],(function(t){var e,n,o,r,i,a,l,c,s,u,d,p,h,g,f,b,v,C,m,y,w,P,S,A,z,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,s=t.Node,u=t.Button,d=t.AudioClip,p=t.tween,h=t.Vec3,g=t.UIOpacity,f=t.instantiate,b=t.Component},function(t){v=t.DangerroomCard},function(t){C=t.ArrayGet},function(t){m=t.sounds},function(t){y=t.PlantEnum,w=t.plants},function(t){P=t.CardFeatureTotal},function(t){S=t.LevelPlay},function(t){A=t.AllPlayerProperties},function(t){z=t.Cards},function(t){D=t.MultiLanguage}],execute:function(){var B,I,L,T,F,E,O,R,_,q,G,M,N,U,W,k,x,j,H,V,J,K,Q,X,Y,Z,$,tt,et,nt,ot,rt;a._RF.push({},"9bb67CbxB5FirIUCbI5LrwM","DangerroomCardChooser",void 0);var it=l.ccclass,at=l.property,lt=function(){function t(){this.oldWP=new h,this.oldAngle=0,this.card=null,this._selected=!1}return i(t,[{key:"selected",get:function(){return this._selected},set:function(t){this.card.selected=t,this._selected=t}}]),t}(),ct=(B=it("dangerroomPrepareTooltips"),I=at(c),L=at(c),B((E=e((F=function(){function t(){o(this,"Chooser",E,this),o(this,"Accept",O,this)}return t.prototype.setString=function(){this.Chooser&&(this.Chooser.string=D.getStringByProps("Dangerroom","Chooser")),this.Accept&&(this.Accept.string=D.getStringByProps("Dangerroom","Accept"))},t}()).prototype,"Chooser",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(F.prototype,"Accept",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=F))||T);t("DangerroomCardChooser",(R=it("DangerroomCardChooser"),_=at(ct),q=at([v]),G=at([s]),M=at(c),N=at(u),U=at(d),W=at(d),k=at(d),x=at(d),j=at(d),H=at(P),R((K=e((J=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"tooltips",K,r(e)),o(e,"cardsAtTop",Q,r(e)),o(e,"cardSlots",X,r(e)),e.givenCards=[],e.done=!1,o(e,"introduction",Y,r(e)),o(e,"acceptButton",Z,r(e)),o(e,"cardGiveSound",$,r(e)),o(e,"cardReturnSound",tt,r(e)),o(e,"cardSelectSound",et,r(e)),o(e,"cardAcceptSound",nt,r(e)),o(e,"cardFlipSound",ot,r(e)),o(e,"card0",rt,r(e)),e.obtainedPlants=[0],e.cards=[],e}n(e,t);var i=e.prototype;return i.giveCards=function(t){var e=this,n=C.randomize(this.cardsAtTop);this.givenCards=[];for(var o=function(o){var r=new lt;r.oldWP=n[o].node.worldPosition.clone(),r.oldAngle=n[o].node.angle+0,r.card=n[o],e.givenCards.push(r);var i=e.cardSlots[o].worldPosition.clone();p(n[o].node).to(.5,{}).call((function(){m.play(e.cardGiveSound,1,.1)})).to(.5,{worldPosition:i,angle:0},{easing:"quadInOut"}).call((function(){m.play(e.cardFlipSound,1,.1)})).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){n[o].ID=t[o],n[o].turnFace()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).call((function(){n[o].node.on(s.EventType.MOUSE_DOWN,(function(t){e.switchCard(r)}),e)})).start()},r=0;r<4&&r<n.length&&r<this.cardSlots.length&&r<t.length;r++)o(r);S.component.dangerroomLevel.plantsToChoose=t.concat(),A.savePP()},i.returnCards=function(){var t=this;this.done||(this.done=!0,S.component.dangerroomLevel.plantsToChoose=null,S.component.dangerroomLevel.plantChosen=!0,m.play(this.cardFlipSound,1,.1),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.givenCards.forEach((function(e){if(e.selected){var n=e.card.ID;n>=0&&n<y.amount&&A.pushPlantToEndlessProperty(n,S.component.dangerroomLevel)}else p(e.card.node).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){e.card.turnBack()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).to(.5,{}).call((function(){m.play(t.cardReturnSound,1,.1)})).to(.7,{worldPosition:e.oldWP,angle:e.oldAngle},{easing:"quadInOut"}).start()})),p(this.getComponent(g)).to(2,{}).call((function(){z.cardsController.plantsCanBeChosen=S.component.dangerroomLevel.obtainedPlants.concat(),S.component.moveCamera()})).to(1,{opacity:0}).call((function(){t.node.active=!1})).start())},i.switchCard=function(t){if(!this.done){this.givenCards.forEach((function(t){t.selected=!1})),m.play(this.cardSelectSound,1,.1),t.selected=!0;var e=t.card.ID,n=e>=0&&e<y.amount;this.introduction.node.parent.active=n,this.acceptButton.node.active=n,n&&(this.introduction.string=D.getString(w.getPlantFeature(e).BRIEFINTRODUCTION),this.acceptButton.node.worldPosition=t.card.node.worldPosition.clone().add(new h(0,-170,0)))}},i.onLoad=function(){},i.onEnable=function(){var t=this;this.cards=[],this.cards.push(this.card0);for(var e=1;e<this.obtainedPlants.length;e++){var n=f(this.card0.node);n.parent=this.card0.node.parent,this.cards.push(n.getComponent(P))}this.obtainedPlants.forEach((function(e,n){var o;null==(o=t.cards[n])||o.cardGrouper(e)})),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.done=!1,this.tooltips.setString()},e}(b)).prototype,"tooltips",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ct}}),Q=e(J.prototype,"cardsAtTop",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(J.prototype,"cardSlots",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(J.prototype,"introduction",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(J.prototype,"acceptButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"cardGiveSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(J.prototype,"cardReturnSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(J.prototype,"cardSelectSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(J.prototype,"cardAcceptSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(J.prototype,"cardFlipSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(J.prototype,"card0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=J))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var r,o,i,t,n,a,u,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,u=e.dragonBones},function(e){s=e.Zombie},function(e){c=e.armorEnum}],execute:function(){var l,d,h,f,m;n._RF.push({},"a2fdf+IiPJOcbW0gNMdABzB","DarkBasicZombie",void 0);var p=a.ccclass,g=a.property;e("DarkBasicZombie",(l=p("DarkBasicZombie"),d=g(u.ArmatureDisplay),l((m=r((f=function(e){function r(){for(var r,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"shoulder",m,t(r)),r}o(r,e);var n=r.prototype;return n.judgeShoulder=function(){var e=!1,r=2;this.armors.forEach((function(o){e||o.ID==c.dark_helmet&&(e=!0,r=o.stage<r?o.stage:r)})),this.shoulder.node.active=e,e&&this.shoulder.playAnimation(r.toString())},n.playSpecialZombieDieForced=function(){this.judgeShoulder()},n.onDamaged=function(e,r,o){this.judgeShoulder()},n.onArmorDamaged=function(e,r){this.judgeShoulder()},n.onArmorThrown=function(e){this.judgeShoulder()},n.onArmorAdded=function(e){this.judgeShoulder()},n.specialZombieOnEnable=function(){this.judgeShoulder()},r}(s)).prototype,"shoulder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/DarkGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./SoundRescourses.ts","./Zombies.ts","./levelController.ts"],(function(n){var r,t,e,i,a,o,u,c,s,l,p;return{setters:[function(n){r=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,u=n.AudioClip},function(n){c=n.GargantuarZombie},function(n){s=n.sounds},function(n){l=n.ZombieEnum},function(n){p=n.LevelPlay}],execute:function(){var f,m,h,b,d;a._RF.push({},"46db1BvNoZPlofkCGJJY+ut","DarkGargantuarZombie",void 0);var g=o.ccclass,k=o.property;n("DarkGargantuarZombie",(f=g("DarkGargantuarZombie"),m=k(u),f((d=r((b=function(n){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=n.call.apply(n,[this].concat(a))||this,e(r,"hitSound",d,i(r)),r.impEnum=l.dark_imp,r}t(r,n);var a=r.prototype;return a.specialGargantuarAnimationListener=function(n){"hit"==n.name&&s.play(this.hitSound,1,.1)},a.onSmashing=function(){p.shakeScreen()},a.knockBackDistanceScale=function(){return.5},r}(c)).prototype,"hitSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkJesterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./commonShot.ts"],(function(t){var e,i,o,n,r,a,s,l,c,u,h,p,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.AudioClip,l=t.Vec2,c=t.TWO_PI,u=t.Color,h=t.tween},function(t){p=t.Zombie},function(t){d=t.sounds},function(t){y=t.ProjectileEnemyType}],execute:function(){var b,g,m,f,w,S,v,D,k,P,E,j,A,z,L;r._RF.push({},"b94a35XGStGxr/hrzHbrazc","DarkJesterZombie",void 0);var Z=a.ccclass,T=a.property,O=function(t,e,i,o,n,r){var a=this;this.cs=void 0,this.moveTween=void 0,this.cs=t,t.gravity=0,t.bodyLinearVelocity=0,t.linearVelocity=new l(0,0),t.detectEnemyOn=!1,t.popWhenStaticByJester=!1,t.targetLocked=null,t.parentLock=!1,t.db.color=new u(255,255,255,0),r&&r.caughtPrjs.push(this),this.moveTween=h(t).to(e,{height:i,worldPosition:n},{easing:"backOut"}).call((function(){r&&r.splicePrj(a),t.db.color=new u(255,255,255,255),t.linearVelocity=o,t.enemyType=null!=r&&r.hypno?y.zombie:y.plant,t.detectEnemyOn=!0,t.popWhenStaticByJester=!0})).start()};t("DarkJesterZombie",(b=Z("DarkJesterZombie"),g=T(Number),m=T([s]),f=T(s),w=T(s),S=T(s),v=T(s),b((P=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).rotating=!1,o(e,"rotateDuration",P,n(e)),e.rotateCD=1,e.caughtPrjs=[],o(e,"ringSounds",E,n(e)),o(e,"rotateStartSound",j,n(e)),o(e,"rotateEndSound",A,n(e)),o(e,"rotateLoopSound",z,n(e)),o(e,"throwSound",L,n(e)),e}i(e,t);var r=e.prototype;return r.playSpecialZombieDieForced=function(){this.throwAllPrjs()},r.playSpecialZombieDie=function(t){this.rotating&&this.judgeDeath(.1)},r.commonShotPopOnTouch=function(t){if(this.shouldSpeedScale()<=0)return!0;if(t.canbeJesterReversed&&Math.abs(t.linearVelocity.angle(new l(this.reversed?-1:1,1)))<=c/4){new O(t,1,this.zombieHeight/2,new l(this.reversed?15:-15,0),this.worldPosition.clone().add(new l(this.reversed?30:-30,0)),this);return this.rotateStart(),!1}return!0},r.splicePrj=function(t){var e=this.caughtPrjs.indexOf(t);-1!=e&&this.caughtPrjs.splice(e,1),this.caughtPrjs.length<=0&&(this.rotateCD=this.rotateDuration)},r.specialZombieOnEnable=function(){this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.replayAnimation()},r.rotateStart=function(){this.rotating||(this.rotating=!0,this.body.WalkAnm="RotateLoop",this.body.EatAnm="RotateLoop",this.body.playAnimation("RotateStart"),this.switching=!0,this.walking=!1,d.play(this.rotateStartSound,1,.1))},r.rotateEnd=function(){this.rotating&&(this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.body.playAnimation("RotateEnd"),this.switching=!0,this.walking=!1,d.play(this.rotateEndSound,1,.1))},r.throwAllPrjs=function(){var t=this;this.caughtPrjs.forEach((function(e){var i;null==(i=e.moveTween)||i.stop();var o=t.defaultDirection().multiply2f(1,2);e.cs.db.color=new u(255,255,255,255),e.cs.gravity=2,e.cs.linearVelocity=new l(o.x,0),e.cs.detectEnemyOn=!0,e.cs.bodyLinearVelocity=o.y,e.cs.enemyType=y.zombie})),this.caughtPrjs=[]},r.walkTimeScale=function(t,e,i){return this.rotating?i:t/e},r.walkDisScale=function(){return this.rotating?2:1},r.specialAnimationListener=function(t){this.walking||"throw"!=t.name||d.play(this.throwSound,.3,.1)},r.specialZombieUpdate=function(t,e,i){this.caughtPrjs.length<=0&&this.rotating&&(this.rotateCD>0&&(this.rotateCD-=t),this.rotateCD<=0&&this.rotateEnd())},r.specialZombieUpdateForced=function(t,e,i){this.walking&&t>0&&(this.rotating?d.play(this.rotateLoopSound,1,NaN,.95):d.playArray(this.ringSounds,1,NaN,.8))},e}(p)).prototype,"rotateDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E=e(k.prototype,"ringSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(k.prototype,"rotateStartSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(k.prototype,"rotateEndSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(k.prototype,"rotateLoopSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(k.prototype,"throwSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=k))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/DoomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./SoundsController.ts"],(function(e){var o,n,t,r,i,a,l,c,s,u,p,L,h,d,m,f,b,P,w;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Color,c=e.Prefab,s=e.AudioClip,u=e.Vec3,p=e.AudioSource},function(e){L=e.CherryBombPlant,h=e.CherryBombProps},function(e){d=e.NodePools},function(e){m=e.LevelPlay},function(e){f=e.Rectangle},function(e){b=e.Square},function(e){P=e.zombieDamageType},function(e){w=e.SoundFXController}],execute:function(){var C,y,g,S,D,z,U,v,R,j,q;i._RF.push({},"c950ccw81lBlqi8LDZMzMjh","DoomShroom",void 0);var _=a.ccclass,k=a.property,E=function(e){function o(){for(var o,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(o=e.call.apply(e,[this].concat(t))||this).TileCrackleDuration=180,o}return n(o,e),o}(h);e("DoomShroomPlant",(C=_("DoomShroomPlant"),y=k(l),g=k(c),S=k(c),D=k(s),C((v=o((U=function(e){function o(){for(var o,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=e.call.apply(e,[this].concat(i))||this)._objdataOwn=new E,t(o,"doomColor",v,r(o)),t(o,"doomParticle",R,r(o)),t(o,"doomParticleUp",j,r(o)),t(o,"doomSound",q,r(o)),o}return n(o,e),o.prototype.explode=function(){var e=d.instantiatePooly(this.doomParticle);e.parent=this.inLane.prjLayer,e.worldPosition=new u(this.worldPositionX,this.worldPositionY,0);var o=d.instantiatePooly(this.doomParticleUp),n=b.getLaneComponent(4);o.parent=n.prjLayer,o.worldPosition=new u(this.worldPositionX,n.floorY,0),m.shakeScreen(3),this.getComponent(p).playOneShot(this.doomSound,w.SoundFXVolume),m.screenFlashLeftColor=this.doomColor;var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.LowerLane.zombiePool()),r=this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.LowerLane.tombPool()),i=[f.createRectangleNodeCenter(this.inLnC.node,7*b.SquareDisW,3*b.SquareDisH),f.createRectangleNodeCenter(this.inLnC.node,3*b.SquareDisW,7*b.SquareDisH),f.createRectangleNodeCenter(this.inLnC.node,5*b.SquareDisW,5*b.SquareDisH)],a=[],l=[];i.forEach((function(e){t.forEach((function(o){-1==a.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&a.push(o)})),r.forEach((function(o){-1==l.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&l.push(o)}))}));var c=this._objdataOwn.Damage;this._dmgScale&&(c*=this._dmgScale),a.forEach((function(e){e.dealDamage(c,!1,!1,!1,null,P.ray,!0,!0)})),l.forEach((function(e){e.dealDamage(1800)})),this.inLnC.getAllPlants().forEach((function(e){e.kill()})),this.die(),this.inLnC.crackleCountdown=this._objdataOwn.TileCrackleDuration},o}(L)).prototype,"doomColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),R=o(U.prototype,"doomParticle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(U.prototype,"doomParticleUp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(U.prototype,"doomSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=U))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/Dragonbruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./CabbagePult.ts","./commonShot.ts","./Plants.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,a,r,s,l,u,c,h,d,p,b,y,f,g,S,m,P,w,R,j,L,v,C;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.Prefab,u=n.Node,c=n.Size},function(n){h=n.PlantType,d=n.Plant,p=n.PlantProps},function(n){b=n.ZombiePool,y=n.TombPool,f=n.Rectangle},function(n){g=n.CharacterType},function(n){S=n.Square},function(n){m=n.zombiePoison},function(n){P=n.NodePools,w=n.ArrayGet},function(n){R=n.cabbagePult},function(n){j=n.SplashDamage,L=n.commonShot},function(n){v=n.PlantEnum},function(n){C=n.sounds}],execute:function(){var A,z,D,E,O,_,x,I,M,X,F,T,k,N,B,q,U,W,Z,G,H,Y,K,V,J,Q,$,nn,on,tn,en,an;a._RF.push({},"0b3b6C/ecFEMpYuW0VuFKGA","Dragonbruit",void 0);var rn=r.ccclass,sn=r.property,ln=(A=rn("dragonbruitSound"),z=sn([s]),D=sn([s]),E=sn([s]),O=sn([s]),_=sn([s]),x=sn([s]),I=sn([s]),A((F=o((X=function(){function n(){e(this,"chewSounds",F,this),e(this,"shootSounds",T,this),e(this,"foodShootSounds",k,this),e(this,"foodSounds",N,this),e(this,"deathSounds",B,this),e(this,"deadShootSounds",q,this),e(this,"dropSounds",U,this)}var o=n.prototype;return o.playChewSound=function(){C.playArray(this.chewSounds,1,.1)},o.playShootSound=function(){C.playArray(this.shootSounds,1,.1)},o.playFoodShootSound=function(){C.playArray(this.foodShootSounds,1,.1)},o.playFoodSound=function(){C.playArray(this.foodSounds,1,.1)},o.playDeathSound=function(){C.playArray(this.deathSounds,1,.1)},o.playDeadShootSound=function(){C.playArray(this.deadShootSounds,1,.1)},o.playDropSound=function(){C.playArray(this.dropSounds,1,.1)},n}()).prototype,"chewSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(X.prototype,"shootSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(X.prototype,"foodShootSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=o(X.prototype,"foodSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(X.prototype,"deathSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(X.prototype,"deadShootSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=o(X.prototype,"dropSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=X))||M),un=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).ThrowInterval=7,o.PoisonDPS=40,o.PoisonDuration=3,o}return t(o,n),o}(p);n("DragonbruitPlant",(W=rn("Dragonbruit"),Z=sn(l),G=sn(l),H=sn(l),Y=sn(l),K=sn(u),V=sn(ln),W(($=o((Q=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new un,e(o,"projectile0",$,i(o)),e(o,"projectile1",nn,i(o)),e(o,"projectile2",on,i(o)),e(o,"projectileMega",tn,i(o)),o.currentPrj=null,o.busy=0,o.ready=!1,o.readying=!0,e(o,"cabbageSpawnPoint",en,i(o)),o.shooting=!1,e(o,"soundRes",an,i(o)),o.dropping=!1,o.detecter=null,o}t(o,n);var a=o.prototype;return a._shoot=function(n,o,t){var e=P.instantiatePooly(o),i=R.lobOneCabbageOnZombie(e,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,n,2,g.zombie,t);if(this._dmgScale&&i.setDamage(i.damage_*this._dmgScale),this.darkModeOn){var a=this._objdataOwn.PoisonDPS;this._dmgScale&&(a*=this._dmgScale);var r=this._objdataOwn.PoisonDuration;i.setPoison(a,r),i.setSplashDamages([new j(50,new c(2,1),0,0,0,new m(a,r),0,0)])}return this.shooting=!1,i},a._shootOnNode=function(n,o,t){var e=P.instantiatePooly(o);R.lobOneCabbageOnNode(e,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,n,2,g.zombie,t);var i=e.getComponent(L);return this.darkModeOn&&(i.setPoison(40,3),i.setSplashDamages([new j(50,new c(2,1),0,0,0,new m(40,3),0,0)])),this.shooting=!1,i},a.specialPlantFood=function(n){this.ready=!1,this.readying=!1,this.busy=1/0,this.soundRes.playFoodSound();var o=this.anmControl;o.playAnimation("Food",1),o.IdleAnim="Idle"},a.specialPlantFoodEnd=function(){this.busy=0},a.shootOnTarget=function(){var n,o,t,e=this,i=null,a=1/0;null==(n=this.inLane)||n.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<a&&n.bodyRec.judgeCrossRec(e.detecter)&&(i=n,a=n.bodyRec.prjX().x)}));var r=null,s=1/0;null==(o=this.inLane)||null==(o=o.UpperLane)||o.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<s&&n.bodyRec.judgeCrossRec(e.detecter)&&(r=n,s=n.bodyRec.prjX().x)}));var l=null,u=1/0;null==(t=this.inLane)||null==(t=t.LowerLane)||t.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<u&&n.bodyRec.judgeCrossRec(e.detecter)&&(l=n,u=n.bodyRec.prjX().x)})),[l,i,r].forEach((function(n){n&&e._shoot(n,e.currentPrj,!1)}));var c=null;if(!r){var h,d=1/0;null==(h=this.inLane)||null==(h=h.UpperLane)||h.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<d&&n.bodyRec.judgeCrossRec(e.detecter)&&(c=n,d=n.bodyRec.prjX().x)}))}var p=null;if(!i){var b,y=1/0;null==(b=this.inLane)||b.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<y&&n.bodyRec.judgeCrossRec(e.detecter)&&(p=n,y=n.bodyRec.prjX().x)}))}var f=null;if(!l){var g,S=1/0;null==(g=this.inLane)||null==(g=g.LowerLane)||g.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<S&&n.bodyRec.judgeCrossRec(e.detecter)&&(f=n,S=n.bodyRec.prjX().x)}))}[f,p,c].forEach((function(n){n&&e._shootOnNode(n.node,e.currentPrj,!1)}))},a.shootOnAll=function(){var n=this;b.pool().concat().forEach((function(o){n._shoot(o,n.projectileMega,!0)})),y.pool().concat().forEach((function(o){n._shootOnNode(o.node,n.projectileMega,!0)}))},a.waterable=function(){return!(this.shooting||this.readying||this.ready||this.dropping)},a.babyAnimationListner=function(n){},a.spawnBabies=function(){var n=[];if(n.length<3)for(var o=w.randomize(S.getAllLnC()),t=0;n.length<3&&t<o.length;t++){var e=o[t];-1==n.indexOf(e)&&e.putPlantAvailable(this.TYPE,!0,v.BabyDragonbruit)&&n.push(e)}n.forEach((function(n){if(n.plantable()){var o=n.spawnPlantByPlantEnum(v.BabyDragonbruit);o&&(n.pushPlant(o),o.plantType=h.plant,o.anmControl.playAnimation("Spawn",1)),n.selection()}}))},a.animationListener=function(n){switch(n.name){case"Shoot":this.anmControl.IdleAnim="Idle",this.shootOnTarget(),this.shooting=!1;break;case"getReady":this.ready=!0;break;case"foodShoot":this.shootOnAll(),this.soundRes.playFoodShootSound();break;case"foodEnd":this.foodEnd();break;case"chew":this.soundRes.playChewSound();break;case"deadShoot":this.spawnBabies();break;case"boom":this.soundRes.playDeadShootSound()}this.babyAnimationListner(n)},a.babyOnEnable=function(){},a.specialPlantOnEnable=function(){this.shooting=!1,this.currentPrj=this.projectile0,this.ready=!1,this.readying=!1,this.busy=0,this.anmControl.IdleAnim="Idle",this.babyOnEnable()},a.playReady=function(){this.readying=!0;var n=Math.max(.1,this._objdataOwn.ThrowInterval);this._cdScale>0&&(n*=this._cdScale),this.busy=Math.max(.1,n-4.5);var o=this.anmControl;o.playAnimation("Ready",1,4.5/n*.1,n>4.5?1:4.5/n),o.IdleAnim="Idle_Ready"},a.setDetecters=function(){this.detecter=f.createRectangleNodeSide(this.inLnC.node,S.SquareDisW*(9-this.inLnC.cIndex),3*S.SquareDisH)},a.detectEnemies=function(){for(var n=this.inLane.UpperLane.zombiePool(),o=this.inLane.zombiePool(),t=this.inLane.LowerLane.zombiePool(),e=n.concat(o,t),i=0;i<e.length;i++){var a;if(null!=(a=this.detecter)&&a.judgeCrossRec(e[i].bodyRec))return!0}for(var r=this.inLane.UpperLane.tombPool(),s=this.inLane.tombPool(),l=this.inLane.LowerLane.tombPool(),u=r.concat(s,l),c=0;c<u.length;c++){var h;if(null!=(h=this.detecter)&&h.judgeCrossRec(u[c].bodyRec))return!0}return!1},a.shootAnimation=function(){this.soundRes.playShootSound(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,1/this.busy)),this.ready=!1,this.readying=!1,this.shooting=!0},a.specialPlantOnSquareChange=function(n,o){this.setDetecters()},a.specialPlantUpdate=function(n){this.busy>0&&!this.readying&&(this.busy-=n),this.busy<=0&&(this.busy=0,this.playReady()),this.ready&&this.detectEnemies()&&this.shootAnimation()},o}(d)).prototype,"projectile0",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=o(Q.prototype,"projectile1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=o(Q.prototype,"projectile2",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=o(Q.prototype,"projectileMega",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=o(Q.prototype,"cabbageSpawnPoint",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=o(Q.prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ln}}),J=Q))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonbruitBaby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dragonbruit.ts","./CharacterManager.ts","./Square.ts","./Plants.ts"],(function(e){var t,n,o,r,i,a,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Vec2},function(e){i=e.DragonbruitPlant},function(e){a=e.Rectangle},function(e){s=e.Square},function(e){c=e.PlantEnum}],execute:function(){var u;n._RF.push({},"fc55cjG2QlDlqEHOc4y+Mqz","DragonbruitBaby",void 0);var l=o.ccclass;o.property,e("DragonbruitBabyPlant",l("DragonbruitBaby")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.babyAnimationListner=function(e){if("busy=0"==e.name)this.busy=0,this.dropping=!1;else if("drop"==e.name){var t;this.soundRes.playDropSound(),this.soundRes.playFoodSound();var n=a.createRectangleNodeCenter(this.inLnC.node,s.SquareDisW,s.SquareDisH);null==(t=this.inLane)||t.zombiePool().forEach((function(e){e.knockBackable&&e.bodyRec.judgeCrossRec(n)&&e.knockBackBy(new r(1,0))})),this.eaterDetectable=!0,this.smasherDetectable=!0}else if("Grow"==e.name){if(this.inLnC.plantable(!1))this.inLnC.spawnPlantByPlantEnum(c.Dragonbruit).endangered=this.endangered;this.die(!0,!1),this.node.destroy()}},o.shootOnTarget=function(){var e,t=this,n=null,o=1/0;if(null==(e=this.inLane)||e.zombiePool().concat().forEach((function(e){e.bodyRec.prjX().x<o&&e.bodyRec.judgeCrossRec(t.detecter)&&(n=e,o=e.bodyRec.prjX().x)})),n)this._shoot(n,this.currentPrj,!1);else{var r=null,i=1/0;this.inLane.tombPool().concat().forEach((function(e){i>e.bodyRec.prjX().x&&e.bodyRec.judgeCrossRec(t.detecter)&&(r=e,i=e.bodyRec.prjX().x)})),r&&this._shootOnNode(r.node,this.currentPrj,!1)}},o.detectEnemies=function(){for(var e=this.inLane.zombiePool(),t=0;t<e.length;t++){var n;if(null!=(n=this.detecter)&&n.judgeCrossRec(e[t].bodyRec))return!0}for(var o=this.inLane.tombPool(),r=0;r<o.length;r++){var i;if(null!=(i=this.detecter)&&i.judgeCrossRec(o[r].bodyRec))return!0}return!1},o.setDetecters=function(){this.detecter=a.createRectangleNodeSide(this.inLnC.node,s.SquareDisW*(9-this.inLnC.cIndex),s.SquareDisH)},o.babyOnEnable=function(){this.anmControl.playAnimation("Spawn",1),this.busy=1/0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.dropping=!0},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/dropping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Character.ts","./Square.ts","./Mouse.ts","./levelController.ts","./UI.ts"],(function(i){var t,e,n,o,a,s,l,r,c,h,d,u,p,f,g,y,w,m,b,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,l=i.CCFloat,r=i.Vec2,c=i.KeyCode,h=i.tween,d=i.find,u=i.input,p=i.Input,f=i.UITransform},function(i){g=i.Rectangle},function(i){y=i.Character},function(i){w=i.Square},function(i){m=i.Mouse},function(i){b=i.LevelPlay},function(i){v=i.UIInGame}],execute:function(){var C,I,U,x,P,V,L,T,D;a._RF.push({},"7a0e0GwYE1IcZ6i5htuJ5IJ","dropping",void 0);var S=s.ccclass,F=s.property;i("dropping",(C=S("dropping"),I=F(Boolean),U=F(Number),x=F(l),C((L=t((V=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this).collected=!1,t.linearVelocity=new r(0,0),t.bodyLinearVelocity=0,t.gravity=0,t.ui=void 0,n(t,"willFade",L,o(t)),n(t,"existTime",T,o(t)),t.fadingCountdown=0,t.fadingStarted=!1,t.mouse=null,n(t,"scale",D,o(t)),t.mouseListen=!0,t}e(t,i);var a=t.prototype;return a.goToUIPath=function(){return""},a.onKeyDown=function(i){(null==i?void 0:i.keyCode)==c.KEY_A&&this.goToUI(this.ui)},a.specialOnGroundHit=function(){},a.onGroundHit=function(){this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.specialOnGroundHit(),this.fadingOn()},a.move=function(i){if(!this.collected){var t=.5*i*60,e=.55*i*60,n=this.shadeWorldPosition,o=this.height,a=this.linearVelocity;this.worldPosition=new r(n.x+a.x*t,n.y+a.y*t),this.height=Math.max(0,o+this.bodyLinearVelocity*t),this.bodyLinearVelocity-=this.gravity*e,this.height<=0&&o>0&&this.onGroundHit(),w.lawnRec.judgeInRecNode(this.node)||((this.linearVelocity.x<0&&this.node.worldPosition.x<w.lawnRec.prjX().x||this.linearVelocity.x>0&&this.node.worldPosition.x>w.lawnRec.prjX().y)&&(this.linearVelocity.x*=-1),(this.linearVelocity.y<0&&this.node.worldPosition.y<w.lawnRec.prjY().x||this.linearVelocity.y>0&&this.node.worldPosition.y>w.lawnRec.prjY().y)&&(this.linearVelocity.y*=-1))}},a.fadingOn=function(){!this.fadingStarted&&this.willFade&&(this.fadingCountdown=this.existTime,this.fadingStarted=!0)},a.specialGoToUI=function(i){},a.specialUICall=function(i){},a.collect=function(){this.goToUI(this.ui)},a.specialCollectable=function(){return!0},a.collectable=function(){return!this.collected&&this.specialCollectable()},a.goToUI=function(i){var t=this;if(i&&this.collectable()){var e;this.collected=!0,this.unschedule(this.fade),this.specialGoToUI(i),this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0;null!=v&&null!=(e=v.uiingame)&&e.uiHidden?(this.shrinkAway(),this.specialUICall(i)):h(this).to(1,{height:0,worldPositionX:i.worldPosition.x,worldPositionY:i.worldPosition.y},{easing:"quadOut"}).call((function(){t.fade(),t.specialUICall(i)})).start()}},a.fade=function(){this.fadingStarted=!1,this.fadeAway(),this.collected=!0,this.onFadeAwayStart()},a.onFadeAwayStart=function(){},a.characterOnLoad=function(){this.mouse=d("Mouse"),this.ui=d(this.goToUIPath())},a.characterOnEnable=function(){this.fadingStarted=this.willFade,this.fadingCountdown=this.existTime,this.collected=!1,this.mouseListen=!0,u.on(p.EventType.KEY_DOWN,this.onKeyDown,this),u.on(p.EventType.KEY_UP,this.onKeyDown,this),this.specialDroppingOnEnable()},a.specialDroppingOnEnable=function(){},a.specialDroppingUpdate=function(i,t){},a.specialDroppingFadable=function(){return!0},a.characterUpdate=function(i){this.move(i);var t=g.createRectangleNodeCenter(this.node,this.node.getComponent(f).width*this.scale*this.originalScale,this.node.getComponent(f).width*this.scale*this.originalScale);this.collected||(b.component.gameWon&&this.mouseListen&&this.collect(),this.fadingStarted&&(this.height<=0&&this.fadingCountdown>=0&&this.specialDroppingFadable()&&(this.fadingCountdown-=i),this.fadingCountdown<=0&&this.fade()),this.mouseListen&&(t.judgeInRecNode(this.mouse)||t.judgeCrossLine(m.moveLine))&&this.collect());this.specialDroppingUpdate(i,t)},t}(y)).prototype,"willFade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=t(V.prototype,"existTime",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),D=t(V.prototype,"scale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),P=V))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/Droppings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,t,o,r,l,u,a,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,u=n.Prefab,a=n.find,c=n.Component}],execute:function(){var p,s,d,b,f,m,g,S,y,v,h,P,z,w,T,D,L,k,B,G,F,C,M,_,x;r._RF.push({},"bd3806Rl7pDnKBi2ulhB2Lf","Droppings",void 0);var I=l.ccclass,R=l.property,O=n("droppings",function(){function n(){}return n.registerSun=function(n){-1==this.controller.sunPool.indexOf(n)&&this.controller.sunPool.push(n)},n.deleteSun=function(n){var e=this.controller.sunPool.indexOf(n);-1!=e&&this.controller.sunPool.splice(e,1)},n}());O.controller=null,O.SunTiny=void 0,O.SunSmall=void 0,O.SunMid=void 0,O.SunLarge=void 0,O.SunBomb=void 0,O.CoinSilver=void 0,O.CoinGold=void 0,O.Gem=void 0,O.plantFood=void 0,O.PlantSeedPacket=void 0,O.layer=void 0;n("Droppings",(p=I("Droppings"),s=R(u),d=R(u),b=R(u),f=R(u),m=R(u),g=R(u),S=R(u),y=R(u),v=R(u),h=R(u),P=R(u),p((T=e((w=function(n){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r))||this,t(e,"sunTiny",T,o(e)),t(e,"sunSmall",D,o(e)),t(e,"sunMid",L,o(e)),t(e,"sunLarge",k,o(e)),t(e,"sunBomb",B,o(e)),t(e,"coinSilver",G,o(e)),t(e,"coinGold",F,o(e)),t(e,"gem",C,o(e)),t(e,"plantFood",M,o(e)),t(e,"plantSeedPacketTemplate",_,o(e)),t(e,"zombieSeedPacketTemplate",x,o(e)),e.sunPool=[],e}i(e,n);var r=e.prototype;return r.onLoad=function(){O.controller=this,O.SunTiny=this.sunTiny,O.SunSmall=this.sunSmall,O.SunMid=this.sunMid,O.SunLarge=this.sunLarge,O.SunBomb=this.sunBomb,O.Gem=this.gem,O.CoinGold=this.coinGold,O.CoinSilver=this.coinSilver,O.plantFood=this.plantFood,O.PlantSeedPacket=this.plantSeedPacketTemplate,O.layer=a("Canvas/UIInGameUpper/Dropping")},r.update=function(n){},e}(c)).prototype,"sunTiny",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"sunSmall",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"sunMid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"sunLarge",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"sunBomb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(w.prototype,"coinSilver",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"coinGold",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"gem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(w.prototype,"plantFood",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"plantSeedPacketTemplate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"zombieSeedPacketTemplate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=w))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelTouchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./levelController.ts","./Zombies.ts","./SoundRescourses.ts","./UI.ts"],(function(e){var t,i,a,n,l,o,s,r,u,c,p,m,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,s=e._decorator,r=e.AudioClip,u=e.dragonBones},function(e){c=e.EgyptCamelZombie},function(e){p=e.LevelPlay},function(e){m=e.ZombieEnum},function(e){h=e.sounds},function(e){f=e.UIInGame}],execute:function(){var d,y,T,g,C,b,v,S,k;o._RF.push({},"07a454uI/xLcLiBYDx7lNF2","EgyptCamelTouchZombie",void 0);var D=s.ccclass,I=s.property;e("EgyptCamelTouchZombie",(d=D("EgyptCamelTouchZombie"),y=I(r),T=I(r),g=I(u.ArmatureDisplay),d((v=t((b=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).camelTouchType=NaN,t.presetCamelIDs=[],t._flipped=!1,a(t,"flipSound",v,n(t)),a(t,"matchSound",S,n(t)),t.additionPartnerID=m.egypt_camel_touch,a(t,"plankDB",k,n(t)),t.plankArmature=void 0,t.iconSlot=void 0,t.posSlot=void 0,t.teamXMin=0,t.teamXMax=0,t}i(t,e);var o=t.prototype;return o.setCamelSlot=function(e){var t;this.camelTouchType=e,null==(t=this.iconSlot)||t._setDisplayIndex(e)},o.specialCamelOnEnable=function(){var e;isNaN(this.camelTouchType)&&(this.camelTouchType=Math.floor(p.component.maxCamelTouchType*Math.random())),this._flipped=!1,this.plankArmature.animation.play("IdleBack"),this.setCamelSlot(this.camelTouchType),null==(e=this.posSlot)||e._setDisplayIndex(this.defaultShowSlot/3)},o.spawnTeamMemberCount=function(){var e;return null!=(e=this.presetCamelIDs)&&e.length?this.presetCamelIDs.length:this.teamAmount},o.specialOnMouseClicked=function(){return!this.flipped&&!f.uiingame.MouseListenOffThisTick&&f.uiingame.matchedCamelTouch.length<=0&&f.uiingame.mainCamelTouch!=this&&(f.uiingame.MouseListenOffThisTick=!0,f.uiingame.judgeMatchedCamelTouch(this),this.flipped=!0,!0)},o.teamMemberOnSpawned=function(e,t){var i=e;t<this.presetCamelIDs.length&&(i.setCamelSlot(this.presetCamelIDs[t]),console.log(t,this.presetCamelIDs[t]))},o.flipToFace=function(){this.plankArmature.animation.play("FlipFace"),h.play(this.flipSound,1,.1)},o.flipToBack=function(){this.plankArmature.animation.play("FlipBack")},o.match=function(){this.plankArmature.animation.play("Match"),h.play(this.matchSound,1,.1)},o.camelOnDamaged=function(e,t,i){},o.specialCamelOnLoad=function(){var e,t;this.plankArmature=this.plankDB.armature(),this.iconSlot=null==(e=this.plankArmature)?void 0:e.getSlot("icon"),this.posSlot=null==(t=this.plankArmature)?void 0:t.getSlot("type")},o.camelTouchCanWalk=function(e){var t=this;if(0!=e)return!0;var i=this.bodyRec.prjX().x,a=this.team[this.team.length-1].bodyRec.prjX().y;this.team.forEach((function(e){var t=e;t.teamXMin=i,t.teamXMax=a}));var n=!0;return this.inLane.zombiePool().forEach((function(e){if(n&&e.ID==t.ID){var a=e;a.team!=t.team&&i>a.teamXMin&&i<=a.teamXMax&&(n=!1)}})),n},o.specialCamelDieForced=function(){this.camelTouchType=NaN,f.uiingame.mainCamelTouch==this&&(f.uiingame.mainCamelTouch=null)},l(t,[{key:"flipped",get:function(){return this._flipped},set:function(e){this._flipped&&!e?this.flipToBack():e&&!this._flipped&&this.flipToFace(),this._flipped=e}}]),t}(c)).prototype,"flipSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(b.prototype,"matchSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(b.prototype,"plankDB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=b))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./levelController.ts"],(function(e){var t,i,n,a,o,s,l,h,r,m;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,a=e.tween,o=e.dragonBones},function(e){s=e.zombieDamageType,l=e.Zombie},function(e){h=e.zombies,r=e.ZombieEnum},function(e){m=e.LevelPlay}],execute:function(){var d;i._RF.push({},"903d7QmPIBIXqjTmEkaYa1s","EgyptCamelZombie",void 0);var c=n.ccclass;n.property,e("EgyptCamelZombie",c("EgyptCamelZombie")(d=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).teamAmount=0,t.team=[],t.innerZombieEnum=r.egypt_basic,t.defaultShowSlot=0,t.plankSlot=void 0,t.innerZombie=void 0,t.innerHealth=void 0,t.additionPartnerID=r.egypt_camel,t.idling=!1,t.busy=0,t}t(i,e);var n=i.prototype;return n.onDamaged=function(e,t,i){this.camelOnDamaged(e,t,i)},n.specialCamelOnLoad=function(){},n.specialZombieOnLoad=function(){this.plankSlot=this.body.body.armature().getSlot("PLANK"),this.specialCamelOnLoad()},n.camelOnDamaged=function(e,t,i){var n,a,o;t<this.toughness/2?null==(n=this.plankSlot)||n._setDisplayIndex(this.defaultShowSlot+2):t<this.toughness?null==(a=this.plankSlot)||a._setDisplayIndex(this.defaultShowSlot+1):null==(o=this.plankSlot)||o._setDisplayIndex(this.defaultShowSlot)},n.teamMemberOnSpawned=function(e,t){},n.spawnTeamMemberCount=function(){return this.teamAmount},n.spawnTeam=function(){for(var e=this,t=[],n=2;n<=this.spawnTeamMemberCount();n++){var o=h.getZombie(this.additionPartnerID),s=o.getComponent(i);s.teamAmount=0,s.defaultShowSlot=n==this.teamAmount?6:3,o.parent=this.node.parent,s.onDamaged(s.toughness,s.toughness,0),s.worldPosition=this.shadeWorldPosition.add2f(60*(n-1),0),this.team.push(s),this.teamMemberOnSpawned(s,n-1),t.push(s)}return this.scheduleOnce((function(){e.team.forEach((function(t){t.team=e.team.concat(),a(t).to(5,{randomSpeed:e.randomSpeed}).start()}))}),0),t},n.onChill=function(e){this.dead||this.team.forEach((function(t){t.chill=e}))},n.onFrozen=function(e){this.dead||this.team.forEach((function(t){t.freeze=e}))},n.spawnZombie=function(){var e=this.innerZombie;return e?(this.innerZombie=null,e.havePlantfood=this.havePlantfood,this.havePlantfood=!1,e.node.parent=this.node.parent,e.node.setSiblingIndex(this.node.getSiblingIndex()),e.worldPosition=this.shadeWorldPosition,e.playIdle(),e.switching=!0,e.body.getComponent(o.ArmatureDisplay).once(o.EventObject.LOOP_COMPLETE,(function(){e.switching=!1,e.isAlive()&&e.playWalk()}),e),e.reversed=this.reversed,e.hypno=this.hypno,e):null},n.damageExtend=function(){return!0},n.dealDamage=function(e,t,i,n,a,o,l){if(void 0===e&&(e=0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===a&&(a=null),void 0===o&&(o=s.physicle),void 0===l&&(l=!0),t){var h=this.totalHealth()-e*m.zombieDamageReceiveScale;if(h<=0){var r=this.spawnZombie();this.damageExtend()&&r.dealDamage(-h+(r.toughness-this.innerHealth),!0,i,n,a,o),r.isAlive()?r.copyBuff(this):r.clearBuff(),this.playDie()}return this.dealNormalDamage(e,t,i,n,a,o,l)}if(e>=this.innerHealth&&!this.damageExtend()){var d=this.spawnZombie();return d.dealDamage(d.health-this.innerHealth,!1,i,n,a,o),d.isAlive()?d.copyBuff(this):d.clearBuff(),this.playDie(),0}if(this.innerHealth-=e*m.zombieDamageReceiveScale,this.innerHealth<=0){var c=this.spawnZombie();c.dealDamage(c.totalToughness(),!1,i,n,a,o),c.isAlive()?c.copyBuff(this):c.clearBuff(),this.playDie()}return this.dealNormalDamage(e,t,i,n,a,o,l)},n.additionalZombies=function(){return this.spawnTeam()},n.specialZombieOnEnable=function(){this.idling=!1,this.busy=3*Math.random(),this.onDamaged(this.toughness,this.toughness,0),this.innerZombie=h.getZombie(this.innerZombieEnum).getComponent(l),this.innerHealth=this.innerZombie.toughness,this.team=[],this.team.push(this),this.teamMemberOnSpawned(this,0),this.specialCamelOnEnable()},n.specialCamelOnEnable=function(){},n.onDirtSpawned=function(e){var t=this;0==e&&this.team.concat().forEach((function(e,i){e!=t&&e.isAlive()&&e.playDirtSpawn(.1*i)}))},n.allowWalk=function(){return!this.idling},n.camelTouchCanWalk=function(e){return!0},n.specialZombieUpdate=function(e,t,i){var n=this;if(this.specialCamelUpdate(e),this.team.concat().forEach((function(e){if(!e.isAlive()||e.hypno!=n.hypno){var t=n.team.indexOf(e);-1!=t&&n.team.splice(t,1)}})),e>0)if(this.busy<=0&&!this.eating){var a=this.team.indexOf(this),o=!0;a+1<this.team.length&&this.team[a+1].shadeSocket.worldPosition.x-80*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),a>=1&&this.team[a-1].shadeSocket.worldPosition.x+50*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),o&&this.camelTouchCanWalk(a)?(this.playWalk(.3),this.busy=.7,this.idling=!1):(this.idling||this.playIdle(.3),this.busy=1,this.idling=!0)}else this.busy-=e},n.specialCamelUpdate=function(e){},n.playSpecialZombieDieForced=function(){this.specialCamelDieForced()},n.specialCamelDieForced=function(){},n.playSpecialZombieDie=function(e){this.innerZombie&&this.spawnZombie().playDie(!1,e,!0,s.physicle,!0,!0,!1);this.onDamaged(-1,-1,0),this.judgeDeath(0)},i}(l))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptExplorerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts"],(function(e){var t,i,n,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){o=e.zombieDamageType,a=e.Zombie},function(e){c=e.ZombieEnum}],execute:function(){var s;i._RF.push({},"b2f1aUCacBJN7aRLMnfdbLh","EgyptExplorerZombie",void 0);var r=n.ccclass;n.property,e("EgyptExplorerZombie",r("EgyptExplorerZombie")(s=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).fireSlots=[],t.ignited=void 0,t}t(i,e);var n=i.prototype;return n.judgePlantCanBeBurnt=function(e){return!e.dead&&e.eaterDetectable&&!e.short_},n.specialZombieOnLoad=function(){var e=this;this.fireSlots=[],this.body.body.armature().getSlots().forEach((function(t){t.name.includes("FIRE")&&e.fireSlots.push(t)}))},n.specialTorchZombieOnLoad=function(){},n.detectPlant=function(e){var t=this;if(this.inLane)if(this.ignited){var i=!1;e>0&&this.detectPlantOn()&&!this.ignorePlants()&&(this.hypno?(this.inLane.zombiePool().concat().forEach((function(n){if(t.plantDetectorRec.judgeCrossRec(n.bodyRec)){i=!0;var a=1e3;n.ID==c.future_infinut_shield&&(a=t.dps),n.dealDamage(a*e,!0,!1,!1,null,o.fire)}})),this.inLane.tombPool().concat().forEach((function(n){t.plantDetectorRec.judgeCrossRec(n.bodyRec)&&(i=!0,n.dealDamage(1e3*e))}))):(this.inLane.plantPool().concat().forEach((function(e){t.judgePlantCanBeBurnt(e)&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&e.burn()})),this.inLane.hypnoZombiePool().concat().forEach((function(n){if(t.plantDetectorRec.judgeCrossRec(n.bodyRec)){i=!0;var a=1e3;n.ID==c.future_infinut_shield&&(a=t.dps),n.dealDamage(a*e,!0,!1,!1,null,o.fire)}})))),i?this.playEat(e):this.walking||this.playWalk()}else this.defaultDetectPlant(e);else this.playWalk()},n.dealDamage=function(e,t,i,n,a,c,s){return void 0===e&&(e=0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===a&&(a=null),void 0===c&&(c=o.physicle),void 0===s&&(s=!0),c==o.fire&&this.ignite(),this.dealNormalDamage(e,t,i,n,a,c,s)},n.setTorchIgniteRecs=function(e){this.plantDetectorRecOffset.x=e?-72:0,this.bodyRecOffset.x=e?-32:0,this.bodyRecSize.width=e?72:48},n.ignite=function(e){void 0===e&&(e=!0);var t=e?0:-1;this.ignited=e,this.setTorchIgniteRecs(e),e&&this.specialTorchZombieOnIgnited(),this.fireSlots.forEach((function(e){e._setDisplayIndex(t)}))},n.specialTorchZombieOnIgnited=function(){},n.onChill=function(e){this.ignite(!1)},n.specialZombieOnEnable=function(){this.ignite()},n.playSpecialZombieDieForced=function(){this.ignite(!1)},n.playTorchIdleSound=function(e){},n.specialZombieUpdate=function(e,t,i){this.walking&&e>0&&this.ignited&&this.playTorchIdleSound(e)},i}(a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./NodePools.ts","./SoundRescourses.ts","./Zombie.ts"],(function(t){var e,a,n,i,o,r,s,u,c,l,p,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Prefab},function(t){u=t.GargantuarZombie},function(t){c=t.ZombieEnum,l=t.zombies},function(t){p=t.NodePools},function(t){h=t.sounds},function(t){d=t.Zombie}],execute:function(){var y,m,b,g,f;o._RF.push({},"2be45+TaeFJzZEWyDltsHWd","EgyptGargantuarZombie",void 0);var P=r.ccclass,v=r.property;t("EgyptGargantuarZombie",(y=P("EgyptGargantuarZombie"),m=v(s),y((f=e((g=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"pharaohBreakParticle",f,i(e)),e.impEnum=c.egypt_imp,e}a(e,t);var o=e.prototype;return o.specialGargantuarOnEnable=function(){this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(0)}))},o.specialGargantuarAnimationListener=function(t){if("pharaoh"==t.name&&this.isInLawn()&&Math.random()<.75){var e=l.getZombie(c.egypt_basic);e.parent=this.node.parent;var a=p.instantiatePooly(this.pharaohBreakParticle);a.parent=this.inLane.prjLayer,a.worldPosition=this.node.worldPosition,h.playTombBreak(),this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(-1)}));var n=e.getComponent(d);n.switching=!0,n.body.playAnimation("Spawn",1),n.hypno=this._usedToBeHypno,n.reversed=!this.reversed,n.worldPosition=this._worldPosition,n.walking=!1}},e}(u)).prototype,"pharaohBreakParticle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptPharaohZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./Zombies.ts","./SoundRescourses.ts"],(function(t){var e,n,r,o,i,a,u,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator},function(t){u=t.EgyptCamelZombie},function(t){s=t.ZombieEnum},function(t){l=t.sounds}],execute:function(){var c,h,p,d,m;i._RF.push({},"d54e7UpaztKypU+27g30c8H","EgyptPharaohZombie",void 0);var b=a.ccclass,y=a.property;t("EgyptPharaohZombie",(c=b("EgyptPharaohZombie"),h=y(Boolean),c((m=e((d=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).innerZombieEnum=s.egypt_pharaoh_inner,r(e,"extendDamage",m,o(e)),e}n(e,t);var i=e.prototype;return i.onDamaged=function(t,e,n){var r,o,i,a;e<=0?null==(r=this.body.body.armature().getSlot("armor"))||r._setDisplayIndex(-1):e<this.toughness/3?null==(o=this.body.body.armature().getSlot("armor"))||o._setDisplayIndex(2):e<2*this.toughness/3?null==(i=this.body.body.armature().getSlot("armor"))||i._setDisplayIndex(1):null==(a=this.body.body.armature().getSlot("armor"))||a._setDisplayIndex(0)},i.damageExtend=function(){return this.extendDamage},i.setButter=function(t,e){return!!this.extendDamage&&(e&&this.butterStun<=0&&t>0&&l.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},i.additionalZombies=function(){return[]},i.spawnTeam=function(){return[]},i.specialZombieUpdate=function(t,e,n){},e}(u)).prototype,"extendDamage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptRaZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Droppings.ts","./NodePools.ts","./SoundsController.ts","./Sunflower.ts"],(function(o){var i,n,t,r,e,a,s,l,b,u,c,h,f,d,p,w,g,y;return{setters:[function(o){i=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){e=o.cclegacy,a=o._decorator,s=o.Node,l=o.AudioClip,b=o.CCInteger,u=o.Vec2,c=o.TWO_PI,h=o.tween,f=o.dragonBones},function(o){d=o.Zombie},function(o){p=o.droppings},function(o){w=o.ArrayGet},function(o){g=o.SoundFXController},function(o){y=o.sunflower}],execute:function(){var S,m,A,v,E,V,P,O,R,Z,M;e._RF.push({},"a86047FcJdMKYD0NmnuSYGN","EgyptRaZombie",void 0);var x=a.ccclass,z=a.property;o("EgyptRaZombie",(S=x("EgyptRaZombie"),m=z(s),A=z([l]),v=z([l]),E=z(b),S((O=i((P=function(o){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=o.call.apply(o,[this].concat(e))||this).absorbing=!1,t(i,"absorber",O,r(i)),t(i,"absorbSounds",R,r(i)),t(i,"absorbBG",Z,r(i)),t(i,"maxAbsorbValue",M,r(i)),i.absorbedValue=[],i.willAbsorbSun=[],i}n(i,o);var e=i.prototype;return e.throwAll=function(){var o=this;this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null}));var i=0;this.absorbedValue.length>=2&&(i=-c/6),this.absorbedValue.forEach((function(n){y.produceSun(n,o.node.worldPosition,o.zombieHeight/2,!1).forEach((function(n){n.linearVelocity=new u(10*Math.sin(i),0),n.bodyLinearVelocity=10*Math.cos(i),n.gravity=0,o.absorbedValue.length>=2&&(i+=c/3/(o.absorbedValue.length-1)),h(n).to(.6,{bodyLinearVelocity:0}).start(),h(n).to(.6,{linearVelocity:new u(0,0)}).start()}))})),this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null})),this.willAbsorbSun=[],this.absorbedValue=[]},e.playSpecialZombieDieForced=function(){this.throwAll()},e.absorbStart=function(){this.switching||(this.willAbsorbSun=[],this.walking=!1,this.switching=!0,this.absorbing=!0,this.body.playAnimation("AbsorbStart",1,.2),this.audioSource.playOneShot(w.getRandom(this.absorbBG),g.SoundFXVolume),this.audioSource.playOneShot(w.getRandom(this.absorbSounds),g.SoundFXVolume))},e.absorbEnd=function(){var o=this;this.absorbing&&(this.absorbing=!1,this.body.playAnimation("AbsorbEnd",1),this.db.once(f.EventObject.COMPLETE,(function(){o.switching=!1,o.dead||o.playWalk()}),this),this.willAbsorbSun.forEach((function(o){o.absorber=null})))},e.detectPlantOn=function(){return!this.switching},e.specialZombieOnEnable=function(){this.willAbsorbSun=[],this.absorbedValue=[],this.absorbing=!1},e.specialZombieUpdate=function(o,i,n){var t=this;if(this.hypno&&this.throwAll(),this.isInLawn()&&o>0&&!this.hypno){var r=0;this.absorbedValue.forEach((function(o){r+=o})),this.willAbsorbSun.forEach((function(o){r+=o.value}));var e,a=1e3,s=!1;if(p.controller.sunPool.concat().forEach((function(o){o.absorber&&o.absorber!=t||(s=!0),s&&a>o.value&&(a=o.value)})),s&&p.controller.sunPool.length>0&&r+a<=this.maxAbsorbValue||this.willAbsorbSun.length>0?this.absorbStart():this.absorbEnd(),this.absorbing)null==(e=p.controller)||e.sunPool.concat().forEach((function(o){!o.absorber&&r+o.value<=t.maxAbsorbValue&&-1==t.willAbsorbSun.indexOf(o)&&(t.willAbsorbSun.push(o),r+=o.value,o.absorber=t)})),this.willAbsorbSun.concat().forEach((function(o){var i=t.willAbsorbSun.indexOf(o);o.collected&&-1!=i?t.willAbsorbSun.splice(i,1):o.switchMode("Red")}))}},i}(d)).prototype,"absorber",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(P.prototype,"absorbSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(P.prototype,"absorbBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(P.prototype,"maxAbsorbValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),V=P))||V));e._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptSandStormParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,r,a,l,s,d,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Prefab},function(e){d=e.ParticleSelfdestroy},function(e){u=e.ArrayGet,p=e.instantiatePooly},function(e){c=e.sounds}],execute:function(){var h,S,f,y,b,g,m,P,D,v,w,T,z;r._RF.push({},"5dcd14Ew+VGl46/gjHvvHhB","EgyptSandStormParticle",void 0);var A=a.ccclass,R=a.property;e("EgyptSandStormParticle",(h=A("EgyptSandStormParticle"),S=R([l]),f=R([l]),y=R([l]),b=R([l]),g=R(s),h((D=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"endSounds",D,o(t)),i(t,"startSounds",v,o(t)),i(t,"startOffSounds",w,o(t)),i(t,"loopSounds",T,o(t)),t.loopSound=void 0,i(t,"parThere",z,o(t)),t.particleSDThere=void 0,t.ended=!1,t}n(t,e);var r=t.prototype;return r.end=function(){var e;this.ended=!0,this.db.playAnimation("Die",1/0),null==(e=this.particleSDThere)||null==(e=e.db)||e.playAnimation("Die",1/0),this.particleSDThere=null,c.play(u.getRandom(this.endSounds))},r.onSettled=function(){var e=p(this.parThere);e.parent=this.node.parent,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.particleSDThere=e.getComponent(d),this.particleSDThere.db.playAnimation("Idle",1/0)},r.specialOnEnable=function(){this.particleSDThere=null,this.ended=!1,this.db.playAnimation("Idle",1/0),this.loopSound=u.getRandom(this.loopSounds),c.play(u.getRandom(this.startSounds)),c.play(u.getRandom(this.startOffSounds))},r.update=function(e){this.particleSDThere&&(this.particleSDThere.node.worldPosition=this.node.worldPosition,this.particleSDThere.node.worldScale=this.node.worldScale),this.ended||c.play(this.loopSound)},t}(d)).prototype,"endSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(P.prototype,"startSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(P.prototype,"startOffSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"loopSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(P.prototype,"parThere",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptTombRaiserZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./LnC.ts","./Character.ts","./SoundRescourses.ts"],(function(i){var n,t,e,o,r,a,s,u,l,c,h,b,p,d,f,m,y,w,g;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,s=i.AudioClip,u=i.Prefab,l=i.Node,c=i.CCInteger,h=i.Vec3,b=i.dragonBones},function(i){p=i.Zombie},function(i){d=i.NodePools},function(i){f=i.cabbagePult},function(i){m=i.Square},function(i){y=i.LnC},function(i){w=i.CharacterType},function(i){g=i.sounds}],execute:function(){var P,C,L,v,T,x,I,S,A,E,Z,R,k;r._RF.push({},"b4e80QiamVIgZWmcAophNZ9","EgyptTombRaiserZombie",void 0);var z=a.ccclass,j=a.property;i("EgyptTombRaiserZombie",(P=z("EgyptTombRaiserZombie"),C=j(s),L=j(s),v=j(u),T=j(l),x=j(c),P((A=n((S=function(i){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=i.call.apply(i,[this].concat(r))||this,e(n,"pukeSound",A,o(n)),e(n,"throwSound",E,o(n)),e(n,"boneProjectile",Z,o(n)),e(n,"throwPoint",R,o(n)),e(n,"maxThrowTime",k,o(n)),n.busy=6,n}t(n,i);var r=n.prototype;return r.specialAnimationListener=function(i){if(!this.hypno&&"throw"==i.name&&this.isAlive()){g.play(this.throwSound,1,.1);for(var n=null,t=Math.max(this.inLnC.cIndex-2,1),e=0;e<40&&!n;e++){var o=m.getRandomLnC(0,4,t,this.inLnC.cIndex+1);o.tombable()&&(n=o)}n||(n=m.getRandomLnC(0,4,t,this.inLnC.cIndex+1));var r=d.instantiatePooly(this.boneProjectile);f.lobOneCabbageOnNode(r,new h(this.throwPoint.worldPosition.x,this.node.worldPosition.y,this.node.worldPosition.z),this.throwPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,n.plantPoint,1,w.default,!0,40)}"puke"==i.name&&this.isAlive()&&g.play(this.pukeSound,1,.1)},r.specialZombieOnEnable=function(){this.busy=6},r.throwBoneAnimation=function(){var i=this;this.correctShadeWP(),this.busy=6,this.switching=!0,this.walking=!1,this.body.playAnimation("Throw",this.maxThrowTime),this.db.on(b.EventObject.COMPLETE,(function(){i.isAlive()&&i.playWalk(),i.switching=!1}),this)},r.areaThrowable=function(){var i=this,n=!1;return[0,1,2,3,4].forEach((function(t){[i.inLnC.cIndex-2,i.inLnC.cIndex-1,i.inLnC.cIndex,i.inLnC.cIndex+1].forEach((function(i){n||i<=0||i>8||(n=m.getSquare(t,i).getComponent(y).tombable())}))})),n},r.specialZombieUpdate=function(i,n,t){var e;!this.hypno&&this.isInLawn()&&this.walking&&(null==(e=this.inLnC)?void 0:e.cIndex)>2&&this.areaThrowable()&&(this.busy>0&&(this.busy-=i),this.busy<=0&&this.throwBoneAnimation())},n}(p)).prototype,"pukeSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"throwSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(S.prototype,"boneProjectile",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(S.prototype,"throwPoint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(S.prototype,"maxThrowTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=S))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./NodePools.ts"],(function(o){var n,t,e,i,r,s,a,u,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,a=o.AudioClip},function(o){u=o.ZombossMechZombie},function(o){l=o.ArrayGet}],execute:function(){var c,p,h,m,d,b,S,y,f;r._RF.push({},"8c98c4PoY9Ofr3nxX6osbLK","EgyptZombossMechZombie",void 0);var Z=s.ccclass,g=s.property;o("EgyptZombossMechZombie",(c=Z("EgyptZombossMechZombie"),p=g(a),h=g(a),m=g(a),c((S=n((b=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=o.call.apply(o,[this].concat(r))||this,e(n,"introSound",S,i(n)),e(n,"introStormSound",y,i(n)),e(n,"introLandSound",f,i(n)),n}t(n,o);var r=n.prototype;return r.specialZombossMechAnimationListener=function(o){"spawnLandSound"==o.name?(this.playOneShot(this.introLandSound,1,!0),this.playOneShot(l.getRandom(this.worldZombossSpawnSaySounds),1,!0)):"introSound"==o.name&&(this.playOneShot(this.introSound,1,!0),this.playOneShot(this.introStormSound,1,!0))},r.missileMeasure=function(o){o&&(o.maxBoneCount=2*this.mechToChoose*(Math.random()<.2?0:1)+2)},n}(u)).prototype,"introSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"introStormSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=n(b.prototype,"introLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/egyptZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts"],(function(e){var t,i,o,n,s,a,r,l,c,p,u,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Prefab},function(e){l=e.zombossMissile},function(e){c=e.ArrayGet,p=e.NodePools},function(e){u=e.cabbagePult},function(e){b=e.CharacterType}],execute:function(){var f,y,h,g,d;s._RF.push({},"14caai/dpxF25qY4mZeEWCD","egyptZombossMissile",void 0);var m=a.ccclass,P=a.property;e("egyptZombossMissile",(f=m("egyptZombossMissile"),y=P(r),f((d=t((g=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).maxBoneCount=2,o(t,"bone",d,n(t)),t}return i(t,e),t.prototype.specialMissileOnPop=function(){for(var e=this.maxBoneCount,t=this.inLnC.get3x3();e>0&&t.length;){var i=c.getRandom(t);if(i.isInLawn()&&i!=this.inLnC&&i.tombable(!0)){e--;var o=p.instantiatePooly(this.bone);u.lobOneCabbageOnNode(o,this.node.worldPosition,1,this.inLane.prjLayer,i.plantPoint,1,b.default,!1,40)}t.splice(t.indexOf(i),1)}},t}(l)).prototype,"bone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricBlueberry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(r){var t,e,n,i,o,l,s,u,a,c;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,n=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,l=r._decorator,s=r.AudioClip},function(r){u=r.Plant,a=r.PlantProps},function(r){c=r.sounds}],execute:function(){var p,y,f,b,h,d,P,g,v,w,B,S;o._RF.push({},"4083dCPrDNPBJoKMls6jV35","ElectricBlueberry",void 0);var z=l.ccclass,E=l.property,R=function(r){function t(){return r.apply(this,arguments)||this}return e(t,r),t}(a),_=(p=z("ElectricBlueberrySound"),y=E(s),f=E([s]),p((d=t((h=function(){function r(){n(this,"ss",d,this),n(this,"sarr",P,this)}var t=r.prototype;return t.playSS=function(){c.play(this.ss,1,.1)},t.playSArr=function(){c.playArray(this.sarr,1,.1)},r}()).prototype,"ss",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(h.prototype,"sarr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=h))||b);r("ElectricBlueberryPlant",(g=z("ElectricBlueberryPlant"),v=E(_),g((S=t((B=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return t=r.call.apply(r,[this].concat(o))||this,n(t,"soundRes",S,i(t)),t._objdataOwn=new R,t}return e(t,r),t}(u)).prototype,"soundRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),w=B))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricCurrant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var n,i,e,a,o,r,s,l,c,d,h,u,f,p,m,y,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Vec3,d=t.Vec2},function(t){h=t.Plant,u=t.PlantProps},function(t){f=t.PlantPool},function(t){p=t.Square},function(t){m=t.zombieDamageType},function(t){y=t.instantiatePooly},function(t){b=t.sounds}],execute:function(){var g,S,C,w,P,I,D,L,x,R,v,A,k,E,_,z,F,j,O,T,M,Z,B,V,N,q,H,X,J,U;o._RF.push({},"7ef1aVTwm5BXJaVbgvRz9tD","ElectricCurrant",void 0);var Y=r.ccclass,G=r.property,K=(g=Y("electriccurrantSound"),S=G([s]),C=G([s]),w=G([s]),P=G([s]),I=G([s]),D=G([s]),L=G([s]),x=G([s]),g((A=n((v=function(){function t(){e(this,"attackStartSay",A,this),e(this,"death",k,this),e(this,"foodEnd",E,this),e(this,"foodStartSay",_,this),e(this,"shoot",z,this),e(this,"spark",F,this),e(this,"sparkSay",j,this),e(this,"shootStart",O,this)}var n=t.prototype;return n.playAttackStartSay=function(){b.playArray(this.attackStartSay,.5,.1)},n.playDeath=function(){b.playArray(this.death,1,.1)},n.playFoodEnd=function(){b.playArray(this.foodEnd,1,.1)},n.playFoodStartSay=function(){b.playArray(this.foodStartSay,1,.1)},n.playShoot=function(){b.playArray(this.shoot,.5,.1)},n.playSpark=function(){b.playArray(this.spark,.5,.1)},n.playSparkSay=function(){b.playArray(this.sparkSay,.5,.1)},n.playShootStart=function(){b.playArray(this.shootStart,.5,.1)},t}()).prototype,"attackStartSay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(v.prototype,"death",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(v.prototype,"foodEnd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(v.prototype,"foodStartSay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(v.prototype,"shoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(v.prototype,"spark",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(v.prototype,"sparkSay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(v.prototype,"shootStart",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=v))||R),Q=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).Damage=12,n.DamagePlantfood=20,n.PlantfoodDuration=5,n.DirectDamageInterval=.25,n}return i(n,t),n}(u);t("ElectricCurrantPlant",(T=Y("ElectricCurrantPlant"),M=G(K),Z=G(l),B=G(l),V=G(l),T((H=n((q=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new Q,e(n,"soundRes",H,a(n)),e(n,"linePar",X,a(n)),e(n,"centerPar",J,a(n)),e(n,"hitPar",U,a(n)),n.fooded=!1,n.foodCD=0,n.switching=!1,n.isDown=!1,n.damageCD=0,n}i(n,t);var o=n.prototype;return o.waterable=function(){return!this.fooded&&!this.isDown},o.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd()},o.animationOnComplete=function(){this.switching=!1},o.animationListener=function(t){"shootStart"==t.name?this.soundRes.playShootStart():"shoot"==t.name?this.soundRes.playShoot():"spark"==t.name?this.soundRes.playSpark():"sparkSay"==t.name?this.soundRes.playSparkSay():"death"==t.name?(this.soundRes.playDeath(),this.bounceZombies()):"foodStartSay"==t.name?this.soundRes.playFoodStartSay():"attackStartSay"==t.name&&this.soundRes.playAttackStartSay()},o.down=function(){this.switching=!0,this.isDown=!0,this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[]},o.up=function(){this.switching=!0,this.isDown=!1,this.anmControl.playAnimation("AttackEnd",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"]},o.detectFriends=function(){var t=this,n=1/0,i=1/0,e=1/0,a=1/0,o=!1;f.pool().forEach((function(r){t.ID!=r.ID||r==t||r.dead||(t.lIndex==r.inLnC.lIndex?(t.cIndex<r.inLnC.cIndex?a=Math.min(r.inLnC.cIndex-t.cIndex,a):t.cIndex>r.inLnC.cIndex&&(e=Math.min(t.cIndex-r.inLnC.cIndex,e)),o=!0):t.cIndex==r.inLnC.cIndex&&(t.lIndex<r.inLnC.lIndex?i=Math.min(r.inLnC.lIndex-t.lIndex,i):t.lIndex>r.inLnC.lIndex&&(n=Math.min(t.lIndex-r.inLnC.lIndex,n)),o=!0))}));var r,s=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(s*=this._dmgScale);for(var l=1;isFinite(n)&&l<n;l++){var c;null==(c=p.getLnC(this.lIndex-l,this.cIndex))||c.setElectricLine(2,2,s,this.fooded,this.linePar)}for(var d=1;isFinite(i)&&d<i;d++){var h;null==(h=p.getLnC(this.lIndex+d,this.cIndex))||h.setElectricLine(2,2,s,this.fooded,this.linePar)}for(var u=1;isFinite(e)&&u<e;u++){var m;null==(m=p.getLnC(this.lIndex,this.cIndex-u))||m.setElectricLine(1,2,s,this.fooded,this.linePar)}for(var y=1;isFinite(a)&&y<a;y++){var b;null==(b=p.getLnC(this.lIndex,this.cIndex+y))||b.setElectricLine(1,2,s,this.fooded,this.linePar)}o&&(null==(r=this.inLnC)||r.setElectricLine(0,2,s,this.fooded,this.centerPar))},o.specialPlantOnLoad=function(){p.component.electricLineHitPar=this.hitPar},o.specialPlantOnEnable=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.anmControl.playRandom()},o._foodedToTrue=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.fooded=!0,this.foodable=!1,this.anmControl.playAnimation("Food",1)},o.specialPlantFood=function(){this._foodedToTrue(),this.foodCD=this._objdataOwn.PlantfoodDuration},o.specialFightAloneStrengthen=function(t){this._foodedToTrue()},o.detectZombies=function(){var t,n=this,i=!1;return null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){i||n.inLnC.rec.judgeCrossRec(t.bodyRec)&&(i=!0)})),i},o.damageOnZombies=function(){var t,n=this,i=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(i*=this._dmgScale),null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){if(n.inLnC.rec.judgeCrossRec(t.bodyRec)){t.dealDamage(i,!0,!0,!0,null,m.electricity);var e=y(n.hitPar);e.parent=n.inLane.prjLayer,e.worldPosition=new c(t.worldPositionX,t.worldPositionY+30,10)}})),this.damageCD=this._objdataOwn.DirectDamageInterval*this._cdScale},o.bounceZombies=function(){var t=this;this.inLane.zombiePool().forEach((function(n){if(n.bodyRec.judgeCrossRec(t.inLnC.rec)){var i=-1,e=1;t.lIndex>=4&&(e=0),t.lIndex<=0&&(i=0),n.knockBackBy(new d(.75,Math.random()<.5?i:e),!0,.4,!1)}}))},o.specialPlantUpdateForce=function(t){if(this.dead||this.detectFriends(),this.fooding&&(this.foodCD>0&&(this.foodCD-=t),this.foodCD<=0&&this.foodEnd()),!this.switching&&!this.fooding&&!this.dead){var n=this.detectZombies();n&&(this.fooded||this.isDown)&&(this.damageCD>0?this.damageCD-=t:this.damageOnZombies()),this.fooded||(this.isDown&&!n?this.up():!this.isDown&&n&&this.down())}},n}(h)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),X=n(q.prototype,"linePar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(q.prototype,"centerPar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(q.prototype,"hitPar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=q))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/electricPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ParticleSelfdestroy.ts","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./electricPeaPointer.ts"],(function(e){var t,o,n,i,r,a,l,s,c,u,h,d,P,f,p,w,g,v,m,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.CCFloat,c=e.CCInteger,u=e.Vec3,h=e.Vec2,d=e.HALF_PI},function(e){P=e.NodePools,f=e.ArrayGet,p=e.instantiatePooly},function(e){w=e.ParticleSelfdestroy},function(e){g=e.cactusThorn},function(e){v=e.Rectangle},function(e){m=e.Square},function(e){y=e.zombieDamageType},function(e){C=e.electricPeaPointer}],execute:function(){var b,D,S,L,x,_,z,I,R,T,M,j,A;r._RF.push({},"5747f2zKqhFKKw9UDDpUcpo","electricPea",void 0);var E=a.ccclass,F=a.property;e("electricPea",(b=E("electricPea"),D=F(l),S=F(l),L=F(s),x=F(s),_=F(c),b((R=t((I=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"footPar",R,i(t)),t.footPSD=void 0,n(t,"curvePar",T,i(t)),n(t,"eleCurveInterval",M,i(t)),t.eleCurveCD=0,n(t,"eleCurveDamage",j,i(t)),n(t,"eleCurveMaxTarget",A,i(t)),t}o(t,e);var r=t.prototype;return r.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=1/0,this.dealtTargetAmount=0,this.contactingEnemies=[],this.footPSD=null,this.eleCurveCD=.5},r.spawnFootParticle=function(){var e=P.instantiatePooly(this.footPar);e.parent=this.node.parent,e.worldPosition=new u(this._worldPositionX,this._worldPositionY),e.setSiblingIndex(0),this.footPSD=e.getComponent(w),this.footPSD.db.playAnimation("Idle",1/0)},r.characterOnDisable=function(){var e;null==(e=this.footPSD)||null==(e=e.db)||e.playAnimation("Die",1),this.footPSD=null},r.specialOnLaneChange=function(e,t){var o,n;null==(o=this.footPSD)||null==(o=o.node)||o.setParent(t.prjLayer),null==(n=this.footPSD)||null==(n=n.node)||n.setSiblingIndex(0)},r.detectCurveEnemies=function(){var e=this,t=v.createRectangleCenter(new h(this._worldPositionX,m.getLnC(this.lIndex,0).node.worldPosition.y),2*m.SquareDisW,2*m.SquareDisH),o=0;f.randomize(this.inLane.UpperLane.zombiePool().concat(this.inLane.LowerLane.zombiePool(),this.inLane.zombiePool())).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=p(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=p(f.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(C);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(e.eleCurveDamage,!0,!1,!1,null,y.electricity)}})),o<this.eleCurveMaxTarget&&this.inLane.UpperLane.tombPool().concat(this.inLane.LowerLane.tombPool(),this.inLane.tombPool()).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=p(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=p(f.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(C);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(e.eleCurveDamage)}})),o&&(this.playPopSound(),this.eleCurveCD=this.eleCurveInterval)},r.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e),this.footPSD||this.spawnFootParticle(),this.footPSD.node.worldPosition=new u(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new u(this.node.scale.x,this.height/75),this.eleCurveCD>0?this.eleCurveCD-=e:this.detectCurveEnemies())},t}(g)).prototype,"footPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"curvePar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"eleCurveInterval",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),j=t(I.prototype,"eleCurveDamage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),A=t(I.prototype,"eleCurveMaxTarget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=I))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaMega.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Peashooter.ts","./NodePools.ts","./Character.ts","./ParticleSelfdestroy.ts"],(function(t){var o,e,i,n,r,a,l,s,c,h,u,d,P,f,p,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.CCInteger,s=t.Prefab,c=t.Vec2,h=t.Vec3},function(t){u=t.commonShot},function(t){d=t.peaShooter},function(t){P=t.instantiatePooly,f=t.NodePools},function(t){p=t.CharacterType},function(t){y=t.ParticleSelfdestroy}],execute:function(){var S,g,m,w,b,D,v,C,x;r._RF.push({},"e35cb1gTrZJSLgx8nCxeiNV","electricPeaMega",void 0);var _=a.ccclass,z=a.property;t("electricPeaMega",(S=_("electricPeaMega"),g=z(l),m=z(s),w=z(s),S((v=o((D=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,i(o,"maxChildCount",v,n(o)),i(o,"childPrj",C,n(o)),i(o,"footPar",x,n(o)),o.footPSD=void 0,o}e(o,t);var r=o.prototype;return r.specialOnLaneChange=function(t,o){var e,i;null==(e=this.footPSD)||null==(e=e.node)||e.setParent(o.prjLayer),null==(i=this.footPSD)||null==(i=i.node)||i.setSiblingIndex(0)},r.characterOnDisable=function(){var t;null==(t=this.footPSD)||null==(t=t.db)||t.playAnimation("Die",1),this.footPSD=null},r.onPop=function(){for(var t=0;t<this.maxChildCount;t++){var o=P(this.childPrj),e=new c(Math.random()-.5,Math.random()-.5).normalize(),i=this.worldPosition.clone().add(e.clone().multiplyScalar(20));d.shootOnePea(o,new h(i.x,i.y),this.height+1,this.node.parent,e.clone().multiplyScalar(10),p.zombie)}},r.spawnFootParticle=function(){var t=f.instantiatePooly(this.footPar);t.parent=this.node.parent,t.worldPosition=new h(this._worldPositionX,this._worldPositionY),t.setSiblingIndex(0),this.footPSD=t.getComponent(y),this.footPSD.db.playAnimation("Idle",1/0)},r.characterUpdate=function(t){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(t),this.detectEnemy(t),this.hitBorderOrGround(t),this.footPSD||this.spawnFootParticle(),this.footPSD&&(this.footPSD.node.worldPosition=new h(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new h(2*this.node.scale.x,this.height/75)))},o}(u)).prototype,"maxChildCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),C=o(D.prototype,"childPrj",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=o(D.prototype,"footPar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=D))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaPointer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(t){var e,r,o,i,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,i=t.Vec3,n=t.Vec2,a=t.HALF_PI},function(t){c=t.ParticleSelfdestroy}],execute:function(){var s;r._RF.push({},"92ebd75LA1F45Mybv+CV6zb","electricPeaPointer",void 0);var l=o.ccclass;o.property,t("electricPeaPointer",l("electricPeaPointer")(s=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).toPos=null,e.fromCharacter=null,e}e(r,t);var o=r.prototype;return o.specialOnEnable=function(){this.toPos=null,this.fromCharacter=null,this.node.scale=new i(0,this.node.scale.y,1)},o.update=function(t){if(this.fromCharacter&&this.toPos){if(!this.fromCharacter.enabled)return this.fromCharacter=null,void(this.toPos=null);var e=this.toPos.clone().add(new n(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height).negative());this.node.worldPosition=new i(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height),this.node.scale=new i(e.length()/160,this.fromCharacter.node.worldScale.x,1),this.node.angle=90*Math.atan2(e.y,e.x)/a}},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var t,e,n,r,a,i,l,s,u,c,d,h,p,f,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,l=o.AudioClip,s=o.Prefab,u=o.Vec2},function(o){c=o.peashooterSound,d=o.PeashooterPlant},function(o){h=o.ZombiePool,p=o.TombPool},function(o){f=o.ArrayGet},function(o){y=o.sounds}],execute:function(){var S,m,b,P,g,R,v,w,z,_,E,A,F,L,M,x;a._RF.push({},"f618dsR+RhGcLz5X0e8qG7Z","ElectricPeashooter",void 0);var X=i.ccclass,j=i.property,C=(S=X("electricPeashooterSound"),m=j([l]),b=j([l]),P=j(l),S((v=t((R=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return t=o.call.apply(o,[this].concat(a))||this,n(t,"foodShootSounds",v,r(t)),n(t,"shootStartSounds",w,r(t)),n(t,"randomSound",z,r(t)),t}e(t,o);var a=t.prototype;return a.playFoodShoot=function(){y.playArray(this.foodShootSounds,1,.1)},a.playShootStart=function(){y.play(f.getRandom(this.shootStartSounds),.5,.2)},a.playRandom=function(){y.play(this.randomSound,1,.5)},t}(c)).prototype,"foodShootSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(R.prototype,"shootStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"randomSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=R))||g);o("ElectricPeashooter",(_=X("ElectricPeashooter"),E=j(C),A=j(s),_((M=t((L=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=o.call.apply(o,[this].concat(a))||this).minShootInterval=2.4,n(t,"soundRes",M,r(t)),n(t,"peaMega",x,r(t)),t}e(t,o);var a=t.prototype;return a.animationListener=function(o){var t=this;if("shootStart"==o.name)this.soundRes.playShootStart();else if("Shoot"==o.name)this.soundRes.playShootSound(),this._shoot(!1,!1,this.pea,5,new u(1,0));else if("foodShoot"==o.name){this.soundRes.playFoodShoot();for(var e=function(){var o=null,e=1/0;h.pool().length&&f.getRandom(h.pool()).inLane.zombiePool().forEach((function(n){var r=n.bodyRec.prjX();r.y>t._worldPositionX&&r.x<e&&(o=n,e=r.x)}));!o&&p.pool().length&&f.getRandom(p.pool()).inLane.tombPool().forEach((function(n){var r=n.bodyRec.prjX();r.y>t._worldPositionX&&r.x<e&&(o=n,e=r.x)}));var n=new u(1,0);n=o?o.worldPosition.clone().add(t.worldPosition.clone().negative()):new u(1,Math.random()-.5),t._shoot(!1,!1,t.peaMega,20,n)},n=0;n<this._objdataOwn.PlantfoodPeaCount;n++)e()}else"foodEnd"==o.name?this.foodEnd():"rand"==o.name&&this.soundRes.playRandom()},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},t}(d)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new C}}),x=t(L.prototype,"peaMega",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/ElectronAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,i=e.Component}],execute:function(){var o;t._RF.push({},"36a7d3zGF5EObC1EAYiqHKr","ElectronAPI",void 0);var l=r.ccclass,c=(r.property,window.electron);e("default",l("ElectronAPI")(o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.center=function(){null==c||c.ipcRenderer.send("e_center")},t.fullScreen=function(){null==c||c.ipcRenderer.send("e_fullScreen")},t.window=function(){null==c||c.ipcRenderer.send("e_window"),this.setSize(1024,640)},t.openDevTools=function(){null==c||c.ipcRenderer.send("e_openDevTools")},t.closeDevTools=function(){null==c||c.ipcRenderer.send("e_closeDevTools")},t.setSize=function(e,n){null==c||c.ipcRenderer.send("e_setSize",e.toString(),n.toString())},t.setResolution=function(e,n){null==c||c.ipcRenderer.send("e_setResolution",e.toString(),n.toString())},t.isFullScreen=function(){return!!c&&c.ipcRenderer.sendSync("e_isFullScreen")},t.setScreenResolution=function(e,n){1==this.isFullScreen()?this.setResolution(e,n):this.setSize(e,n)},t.nircmdUD=function(e){null==c||c.ipcRenderer.send("e_nircmdUD",e)},t.getMassage=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getMassage")},t.getAllResolutions=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getAllResolutions")},t.getCurrentResolution=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getCurrentResolution")},t.quit=function(){null==c||c.ipcRenderer.send("e_quit")},t}(i))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/EMPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts"],(function(e){var n,t,i,r,a,o,l,s,u,c,p,h,d,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.AudioClip,u=e.Vec3},function(e){c=e.CherryBombPlant,p=e.CherryBombProps},function(e){h=e.instantiatePooly},function(e){d=e.sounds},function(e){f=e.Rectangle},function(e){b=e.Square}],execute:function(){var y,P,L,S,w,x,g,m,C;a._RF.push({},"60db15rnXpPF4d6TICzp7/t","EMPeach",void 0);var R=o.ccclass,v=o.property,D=1,E=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=e.call.apply(e,[this].concat(i))||this).StunDuration=10,n}return t(n,e),n}(p);e("EMPeachPlant",(y=R("EMPeachPlant"),P=v(l),L=v(s),S=v(s),y((g=n((x=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new E,i(n,"explParPrefab",g,r(n)),i(n,"explSound",m,r(n)),i(n,"explReadySound",C,r(n)),n}t(n,e);var a=n.prototype;return a.specialCherryBombOnEnable=function(){D%4==0&&d.play(this.explReadySound,1,.1),D++},a.explode=function(){var e,n=this;if(null!=(e=this.inLnC)&&e.isInLawn()){var t=f.createRectangleNodeCenter(this.inLnC.node,3*b.SquareDisW,5*b.SquareDisH),i=f.createRectangleNodeCenter(this.inLnC.node,5*b.SquareDisW,3*b.SquareDisH),r=[];[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==r.indexOf(e)&&i.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),[this.inLane.UpperLane.UpperLane,this.inLane.LowerLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==r.indexOf(e)&&t.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),r.forEach((function(e){e.empStun(n._objdataOwn.StunDuration)})),d.play(this.explSound,1,.1);var a=h(this.explParPrefab);a.parent=this.inLane.prjLayer,a.worldPosition=new u(this.worldPositionX,this.worldPositionY,10)}},a.animationListener=function(e){"explode"==e.name&&(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1))},n}(c)).prototype,"explParPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(x.prototype,"explSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(x.prototype,"explReadySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/endangeredTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./GridItem.ts","./Tiles.ts"],(function(e){var n,t,r,i,o,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){i=e.Tile},function(e){o=e.GridItemEnum},function(e){c=e.TileEnum}],execute:function(){var l;t._RF.push({},"28b79pbpbVObLedmHkyXnTa","endangeredTile",void 0);var a=r.ccclass;r.property,e("endangeredTile",a("endangeredTile")(l=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).tileID=c.endangered,n}return n(t,e),t.prototype.onLnCChange=function(e,n){var t;null==(t=this.gridItemCP)||t.setGridItemType([o.protect_plant])},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/EndlessZoneEntrance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProperties.ts","./MultiLanguage.ts","./Plants.ts","./KeyListener.ts"],(function(e){var n,t,i,r,a,l,s,o,u,c,d,m,g,p,b,f,y,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,o=e.Enum,u=e.JsonAsset,c=e.dragonBones,d=e.Node,m=e.Label,g=e.Component},function(e){p=e.EndlessZonePropertyEnum,b=e.AllPlayerProperties},function(e){f=e.MultiLanguage},function(e){y=e.plants},function(e){L=e.KeyListener}],execute:function(){var h,v,E,M,N,P,Z,D,w,G,z,B,J,S,A,_,k,T,W;l._RF.push({},"992c6fTKlBKvZA/ag/FgwVe","EndlessZoneEntrance",void 0);var C=s.ccclass,F=s.property,K=function(e){return e[e.default=0]="default",e[e.sunProducer=1]="sunProducer",e}(K||{});o(p),o(K);e("EndlessZoneEntrance",(h=C("EndlessZoneEntrance"),v=F({type:K}),E=F(u),M=F(c.ArmatureDisplay),N=F(d),P=F(m),Z=F(m),D=F({type:p}),w=F(Boolean),h((B=n((z=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"enterableJudgement",B,r(n)),i(n,"LevelJson",J,r(n)),i(n,"islandDB",S,r(n)),i(n,"EntranceButton",A,r(n)),i(n,"LevelNumberLabel",_,r(n)),i(n,"LevelNameLabel",k,r(n)),i(n,"endlessData",T,r(n)),i(n,"isMiniGame",W,r(n)),n.data=null,n}t(n,e);var l=n.prototype;return l.onLoad=function(){var e=this;this.EntranceButton.on(d.EventType.TOUCH_END,(function(){e.enterable&&L.goToLevel(e.LevelJson)}))},l.getLevelName=function(e){switch(e){case p.egypt:return f.getString(f.getWorldMapLyrics("Egypt")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.pirate:return f.getString(f.getWorldMapLyrics("Pirate")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.cowboy:return f.getString(f.getWorldMapLyrics("Cowboy")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.future:return f.getString(f.getWorldMapLyrics("Future")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);case p.dark:return f.getString(f.getWorldMapLyrics("Dark")[this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName"]);default:return""}},l.start=function(){var e=b[this.isMiniGame?"getDangerRoomMiniGameProperty":"getDangerRoomProperty"](this.endlessData);this.data=e,this.enterable?(this.LevelNameLabel.string=this.getLevelName(this.endlessData),this.LevelNumberLabel.string=e.level.toString()):(this.islandDB.playAnimation("Idle_Locked"),this.LevelNameLabel.string="",this.LevelNumberLabel.string="")},a(n,[{key:"enterable",get:function(){if(this.data)switch(this.enterableJudgement){case K.sunProducer:var e=this.data;if(e.obtainedPlants){var n=0;return e.obtainedPlants.forEach((function(e){n>=8||-1==y.sunProducers.indexOf(e)&&n++})),n>=8}return!0;default:return!0}return!0}}]),n}(g)).prototype,"enterableJudgement",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=n(z.prototype,"LevelJson",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(z.prototype,"islandDB",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(z.prototype,"EntranceButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(z.prototype,"LevelNumberLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(z.prototype,"LevelNameLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(z.prototype,"endlessData",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=n(z.prototype,"isMiniGame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=z))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/EscapeRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./Plant.ts","./NodePools.ts","./Square.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(n){var t,i,e,o,a,r,l,s,h,u,c,d,p,f,m,g,y,w,S,b,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){r=n.cclegacy,l=n._decorator,s=n.AudioClip,h=n.Prefab,u=n.CCInteger,c=n.Vec2},function(n){d=n.SniperPlant},function(n){p=n.PlantProps},function(n){f=n.ArrayGet,m=n.instantiatePooly},function(n){g=n.Square},function(n){y=n.peaShooter},function(n){w=n.CharacterType},function(n){S=n.sounds},function(n){b=n.Rectangle,C=n.ZombiePool}],execute:function(){var P,A,_,D,E,L,R,v,I,x,T,z,B,k,j,O,q,M,G,Q,U,F,W,N,H,Y,K,V,Z,J,X,$;r._RF.push({},"76f54fvGIdL1K9kBQYgehQ+","EscapeRoot",void 0);var nn=l.ccclass,tn=l.property,en=(P=nn("escaperootSound"),A=tn([s]),_=tn([s]),D=tn([s]),E=tn([s]),L=tn([s]),R=tn([s]),v=tn([s]),P((T=t((x=function(){function n(){e(this,"burrowSounds",T,this),e(this,"digEndSounds",z,this),e(this,"wrapSounds",B,this),e(this,"unwrapSounds",k,this),e(this,"unwrapQuickSounds",j,this),e(this,"spawnSounds",O,this),e(this,"locateSounds",q,this)}var t=n.prototype;return t.playBurrow=function(){S.playArray(this.burrowSounds,1,.1)},t.playDigEnd=function(){S.playArray(this.digEndSounds,1,.1)},t.playWrap=function(){S.playArray(this.wrapSounds,1,.1)},t.playUnwrap=function(){S.playArray(this.unwrapSounds,1,.1)},t.playUnwrapQuick=function(){S.playArray(this.unwrapQuickSounds,1,.1)},t.playSpawn=function(){S.playArray(this.spawnSounds,1,.1)},t.playLocate=function(){S.playArray(this.locateSounds,1,.1)},n}()).prototype,"burrowSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(x.prototype,"digEndSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(x.prototype,"wrapSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(x.prototype,"unwrapSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"unwrapQuickSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(x.prototype,"spawnSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(x.prototype,"locateSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=x))||I),on=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).ChargeTime=10,t.Damage=1800,t}return i(t,n),t}(p);n("EscapeRootPlant",(M=nn("EscapeRootPlant"),G=tn(en),Q=tn(h),U=tn([s]),F=tn(s),W=tn(h),N=tn(u),M((K=t((Y=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,e(t,"soundRes",K,o(t)),t._objdataOwn=new on,t.switching=!1,t.readyStartAnm="Ready_Start",t.readyLoopAnm="Ready_Loop",t.digStartAnm="Dig_Start",t.digLoopAnm="Dig_Loop",t.idleAnm="Idle",t.randomAnm=["Random"],t._grown=!1,t.growingCD=10,t.PP_Slot=void 0,t.PM_Slot=void 0,t.CB_Slot=void 0,t.GS_Slot=void 0,t.shownSlot=void 0,t.showPlantType=0,e(t,"grapeExplParticle",V,o(t)),e(t,"grapeExplSounds",Z,o(t)),e(t,"cherryChargeSound",J,o(t)),e(t,"grapeProjectile",X,o(t)),t.detector=void 0,e(t,"foodThrowCount",$,o(t)),t.foodLeftCount=2,t.foodThrowCD=3,t}i(t,n);var r=t.prototype;return r.animationListener=function(n){var t;if("Explode"==n.name)this.explode(),null==(t=this.shownSlot)||null==(t=t.childArmature)||null==(t=t.animation)||t.play("Idle");else if("Show"==n.name)this.showExplosivePlant(Math.floor(4*Math.random()));else if("charge"==n.name){var i;null==(i=this.shownSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("Attack"),this.showPlantType>=2&&S.play(this.cherryChargeSound,1,.2)}else"unWrapSound"==n.name&&this.soundRes.playUnwrapQuick()},r.onObjdataSet=function(n,t){this.growingCD=t.ChargeTime*this._cdScale},r.specialSniperPlantOnEnable=function(){this.eaterDetectable=!0,this.smasherDetectable=!0,this.switching=!1,this.grown=!1,this.anmControl.playAnimation("Baby_Start",1,0,1),this.growingCD=this._objdataOwn.ChargeTime*this._cdScale,this.shownSlot=null,[this.GS_Slot,this.PP_Slot,this.PM_Slot,this.CB_Slot].forEach((function(n){null==n||n._setDisplayIndex(-1)})),this.soundRes.playSpawn()},r.animationOnComplete=function(){this.switching=!1},r.specialSniperPlantTrigger=function(n){var t=this,i=n.putPlantAvailable(this.TYPE,!1,this.ID),e=[];if(i&&(n.plantInSquare.length?n.plantInSquare.concat().forEach((function(n){i&&(n.leapDisable()||n==t||n.endangered?i=!1:e.push(n))})):i=!1),i){e.forEach((function(n){n.leapTo(t.inLnC,0,0,!1,!1)}));var o=n.spawnPlantByPlantEnum(this.ID,!0,!1,!0,!1);this.deathAnm="Death_Silently",this.playSoundWhenCancel=!1;var a=this.endangered;this.die(!0,!1,!1),this.node.setSiblingIndex(this.node.parent.children.length),o.grown=!0,o.endangered=a,o.anmControl.playAnimation("Dig_End",1,0,1),o.soundRes.playDigEnd(),o.switching=!0}else this.locateCancel()},r.sniperPlantLocatable=function(){return!this.switching&&!this.fooding},r.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim=this.readyLoopAnm,this.anmControl.RandomAnim=[],this.anmControl.playAnimation(this.readyStartAnm,1,0,1),this.soundRes.playLocate()},r.specialSniperPlantLocateCancel=function(){this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.anmControl.playRandom()},r.waterable=function(){return this.grown&&!this.switching&&!this.locatorNode},r.grow=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.grown=!0,this.switching=!0,this.anmControl.playAnimation("Baby_End",1,0,1),this.soundRes.playUnwrap()},r.specialPlantUpdate=function(n){this.locatorNode||this.switching||this.grown||(this.growingCD-=n,this.growingCD<=0&&this.grow()),!this.grown||this.switching||this.fooding||this.detectEnemy()},r.specialPlantUpdateForce=function(n){this.fooding&&(this.foodThrowCD-=n,this.foodThrowCD<=0&&(this.foodLeftCount<=0?this.foodEnd():this.throwOneChild()&&(this.foodThrowCD=3,this.foodLeftCount--)))},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("Dig_End",1,0,1),this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.soundRes.playDigEnd()},r.specialPlantOnLoad=function(){var n=this;this.anmControl.body.armature().getSlots().forEach((function(t){"PPM"==t.name?n.PP_Slot=t:"PM"==t.name?n.PM_Slot=t:"GS"==t.name?n.GS_Slot=t:"CB"==t.name&&(n.CB_Slot=t)}))},r.showExplosivePlant=function(n){var t,i;this.showPlantType=n;var e=this.PM_Slot;switch(n){case 1:e=this.PP_Slot;break;case 2:e=this.CB_Slot;break;case 3:e=this.GS_Slot}null==(t=e)||t._setDisplayIndex(0),this.shownSlot=e,null==(i=this.shownSlot)||null==(i=i.childArmature)||null==(i=i.animation)||i.play("Idle")},r.explode=function(){var n=this._objdataOwn.Damage*this._dmgScale;switch(this.showPlantType){case 1:this.inLnC.explodeSpudow3x3(n);break;case 2:this.inLnC.explodeCherry3x3(n,!0);break;case 3:this.inLnC.explodeCherry3x3(n,!1,this.grapeExplParticle,f.getRandom(this.grapeExplSounds)),this.grapeShoot();break;default:this.inLnC.explodeSqudow1x1(n)}},r.grapeShoot=function(){var n=this;[-1,0,1].forEach((function(t){[-1,0,1].forEach((function(i){if(0!=t||0!=i){var e=new c(t,i*g.SquareDisH/g.SquareDisW).multiplyScalar(30),o=m(n.grapeProjectile);y.shootOnePea(o,n.node.worldPosition.clone(),n.height+1,n.inLane.prjLayer,e,w.zombie)}}))}))},r.specialPlantOnSquareChange=function(n,t){this.detector=b.createRectangleNodeCenter(t.node,g.SquareDisW,g.SquareDisH),this.foodParent=this.plantInLnC.plantPoint},r.detectEnemy=function(){var n,t=this,i=!1;null==(n=this.inLane)||n.zombiePool().forEach((function(n){i||n.flying||!n.plantDetectorRec.judgeCrossRec(t.bodyRec)&&!n.bodyRec.judgeCrossRec(t.detector)||(i=!0)})),i&&(this.switching=!0,this.die())},r.specialSniperFood=function(n){this.anmControl.playAnimation(this.digStartAnm,1,0,1),this.grown=!0,this.anmControl.IdleAnim=this.digLoopAnm,this.anmControl.RandomAnim=[],this.foodLeftCount=this.foodThrowCount,this.foodThrowCD=.5},r.throwOneChild=function(){var n=!1,t=this.plantInLnC;if(C.inLawnPool().length)for(var i=f.randomize(C.inLawnPool()),e=0;e<i.length;e++)if(!i[e].flying&&i[e].inLnC.isInLawn()&&i[e].inLnC.putPlantAvailable(this.TYPE,!1,this.ID)){t=i[e].inLnC;break}var o=t.spawnPlantByPlantEnum(this.ID,!0,!1,!1);if(o)n=!0,o.deathAnm="Death_Dig_End",o.die(!0,!1,!1);else if(t==this.plantInLnC){var a=t.spawnPlantByPlantEnum(this.ID,!1,!1,!1);n=!0,a.deathAnm="Death_Dig_End",a.die(!0,!1,!1)}return n},a(t,[{key:"grown",get:function(){return this._grown},set:function(n){this.readyStartAnm=n?"Ready_Start":"Baby_Ready_Start",this.readyLoopAnm=n?"Ready_Loop":"Baby_Ready_Loop",this.digStartAnm=n?"Dig_Start":"Baby_Dig_Start",this.idleAnm=n?"Idle":"Baby_Loop",this.randomAnm=n?["Random"]:[],this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.deathAnm=n?"Death":"Baby_Death",this.eaterDetectable=!n,this.smasherDetectable=!n,this._grown=n}}]),t}(d)).prototype,"soundRes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new en}}),V=t(Y.prototype,"grapeExplParticle",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(Y.prototype,"grapeExplSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(Y.prototype,"cherryChargeSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Y.prototype,"grapeProjectile",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(Y.prototype,"foodThrowCount",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),H=Y))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/ExplodeONut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts","./SoundRescourses.ts"],(function(n){var t,e,a,i,o,r,l,s,u,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,l=n.AudioClip},function(n){s=n.WallNutPlant,u=n.WallnutProps},function(n){d=n.sounds}],execute:function(){var h,c,p,m,f;o._RF.push({},"75559DG/TFO15Yqsd6uHojz","ExplodeONut",void 0);var g=r.ccclass,A=r.property,y=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).Damage=1800,t.ArmorDamage=1800,t}return e(t,n),t}(u);n("ExplodeONutPlant",(h=g("ExplodeONutPlant"),c=A([l]),h((f=t((m=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new y,a(t,"explCountdownSounds",f,i(t)),t}e(t,n);var o=t.prototype;return o.onArmorDestroy=function(){var n=this._dmgScale*this._objdataOwn.ArmorDamage;this.inLnC.explodeCherry3x3(n,!1)},o.specialPlantOnKilled=function(){var n=this._dmgScale*this._objdataOwn.Damage;this.inLnC.explodeCherry3x3(n,!1)},o.setAnimation=function(n){if(void 0===n&&(n=0),this.hurtStage!=n){this.hurtStage=n;var t,e=this.anmControl;switch(n){case 1:e.IdleAnim="Rand21",e.RandomAnim=["Rand22"],this.deathAnm="";break;case 2:e.IdleAnim="Idle3",e.RandomAnim=["Rand31"],this.deathAnm="";break;case 3:e.IdleAnim="Idle4",e.RandomAnim=[],this.deathAnm="";break;default:e.IdleAnim="Idle1",e.RandomAnim=["Rand11"],this.deathAnm="",this.hurtStage=0}if(!this.dead)e.playRandom(),null==(t=this.plantInLnC)||t.readIndex()}},o.specialWallnutOnDamaged=function(n,t,e){if(3==this.hurtStage){var a=this.explCountdownSounds.length;if(a>0){for(var i=this.explCountdownSounds[0],o=0;o<a;o++)if(e<this.toughness/4*((o+1)/a)){i=this.explCountdownSounds[a-1-o];break}d.play(i,1,this.health/750+.1)}}},t}(s)).prototype,"explCountdownSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=m))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/fanMadeLevelWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./KeyListener.ts"],(function(e){var n,t,o,i,a,l,r,s,u,c,p,d,f,v,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Label,s=e.JsonAsset,u=e.EditBox,c=e.ScrollView,p=e.instantiate,d=e.Node,f=e.Component},function(e){v=e.MultiLanguage},function(e){g=e.KeyListener}],execute:function(){var m,y,b,L,h,N,w,M,T,B,S,j,C;a._RF.push({},"6db99jCIgJNl47QfJypaJ5m","fanMadeLevelWindow",void 0);var J=l.ccclass,W=l.property;e("fanmadeLevelsWindow",(m=J("fanmadeLevelsWindow"),y=W(r),b=W([s]),L=W(r),h=W(u),N=W(c),m((T=n((M=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,o(n,"title",T,i(n)),o(n,"fanMadeLevelJsons",B,i(n)),o(n,"fanMadeLevelName0",S,i(n)),o(n,"UUIDShower",j,i(n)),o(n,"contents",C,i(n)),n}t(n,e);var a=n.prototype;return a.pushLevels=function(){var e=this;this.fanMadeLevelJsons.forEach((function(n,t){var o,i,a,l=JSON.stringify(n),s=JSON.parse(l).json,u=e.fanMadeLevelName0;if(0!=t){var c=p(u.node.parent);c.parent=u.node.parent.parent,u=c.getChildByName("LevelName").getComponent(r)}var f=null==s||null==(o=s.objects[0])||null==(o=o.objdata)?void 0:o.Name,m=v.getString(null==s||null==(i=s.objects[0])||null==(i=i.objdata)?void 0:i.NameMultiLanguage,!1);u.string=f.concat();var y=u.node.parent.getChildByName("WrittenBy").getComponent(r);u.node.parent.getChildByName("LevelInGameName").getComponent(r).string=m||f;var b=null==s||null==(a=s.objects[0])||null==(a=a.objdata)?void 0:a.WritenBy;b||(b=""),y.string=b,u.node.parent.on(d.EventType.TOUCH_END,(function(){g.goToLevel(n)}),e),u.node.parent.on(d.EventType.MOUSE_DOWN,(function(){e.UUIDShower.string=null==n?void 0:n.uuid}),e)}))},a.onLoad=function(){this.pushLevels()},a.scrollToBottom=function(){this.contents.scrollToBottom()},a.scrollToTop=function(){this.contents.scrollToTop()},a.start=function(){this.title.string=v.getStringByPropsWithoutTricks("FanmadeWindow","Title")},n}(f)).prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(M.prototype,"fanMadeLevelJsons",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=n(M.prototype,"fanMadeLevelName0",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(M.prototype,"UUIDShower",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(M.prototype,"contents",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/FirePeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./GroundFire.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var n,t,e,i,a,r,d,s,u,l,c,f,h,p,S,y,m;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,d=o.AudioClip,s=o.Vec2},function(o){u=o.peashooterSound,l=o.PeashooterPlant,c=o.PeashooterProps},function(o){f=o.GroundFireColorEnum,h=o.GroundFireSpreadStyleEnum},function(o){p=o.zombieDamageType},function(o){S=o.Rectangle},function(o){y=o.Square},function(o){m=o.sounds}],execute:function(){var P,g,b,w,v,C,F,D,L,R,E,z,_,j,A,q;a._RF.push({},"67fa4yb6mdHHpWZItQHTXzE","FirePeashooter",void 0);var x=r.ccclass,H=r.property,I=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).PlantfoodDuration=5,n.PlantfoodDamageInterval=.25,n.PlantfoodDamagePerHit=80,n}return t(n,o),n}(c),M=(P=x("firePeashooterSound"),g=H([d]),b=H([d]),w=H(d),P((F=n((C=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"foodStartSounds",F,i(n)),e(n,"foodEndSounds",D,i(n)),e(n,"foodLoopSound",L,i(n)),n}t(n,o);var a=n.prototype;return a.playFoodStartSound=function(){m.playArray(this.foodStartSounds,1.4,.1)},a.playFoodEndSound=function(){m.playArray(this.foodEndSounds,1,.1)},a.playFoodLoopSound=function(){var o;m.play(this.foodLoopSound,1,null==(o=this.foodLoopSound)?void 0:o.getDuration())},n}(u)).prototype,"foodStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(C.prototype,"foodEndSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(C.prototype,"foodLoopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v);o("FirePeashooterPlant",(R=x("FirePeashooterPlant"),E=H(M),z=H(d),R((A=n((j=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"soundRes",A,i(n)),n._objdataOwn=new I,n.foodCountDown=0,n.foodStarted=!1,e(n,"foodShootSound",q,i(n)),n.foodFire=[],n}t(n,o);var a=n.prototype;return a.specialPlantOnEnable=function(){this.initialize(),this.soundRes.volumeScale=.3},a.specialPeashooterUpdate=function(o){var n=this;if(this.fooding&&this.foodStarted)if(this.foodCountDown>0){var t=this.foodCountDown+0;this.foodCountDown-=o;var e=this.foodCountDown+0,i=Math.max(this._objdataOwn.PlantfoodDamageInterval,1e-5),a=Math.floor(t/i)-Math.floor(e/i),r=this._objdataOwn.PlantfoodDamagePerHit;this._dmgScale&&(r*=this._dmgScale*a),this.soundRes.playFoodLoopSound(),r&&(this.inLane.zombiePool().forEach((function(o){var t=!1;if(n.foodFire.forEach((function(n){if(!t){var e=n.inLnC.rec;8==n.inLnC.cIndex&&(e=S.createRectangleSide(new s(n.inLnC.node.worldPosition.x-y.SquareDisW/2,n.inLnC.node.worldPosition.y),9*y.SquareDisW,y.SquareDisH)),e.judgeCrossRec(o.bodyRec)&&(t=!0)}})),!t){var e=n.inLnC.rec;8==n.inLnC.cIndex&&(e=S.createRectangleSide(new s(n.inLnC.node.worldPosition.x-y.SquareDisW/2,n.inLnC.node.worldPosition.y),9*y.SquareDisW,y.SquareDisH)),e.judgeCrossRec(o.bodyRec)&&(t=!0)}t&&o.dealDamage(r,!1,!1,!1,null,p.fire,!0,!0)})),this.foodFire.forEach((function(o){var n;null==(n=o.inLnC)||null==(n=n.tombStone)||n.dealDamage(r)})))}else this.foodEnd()},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playRandom(),this.foodFire=[]},a.animationListenerAdd=function(o){if("playFooding"==o.name){var n;this.foodStarted=!0,this.anmControl.playAnimation("Food",1/0);var t=this._objdataOwn.PlantfoodDuration;this.foodFire=null==(n=this.inLnC.righter)?void 0:n.addLaneFire(t,10,f.yellow,h.right,18,9),this.foodCountDown=t}else"foodStartSound"==o.name&&this.soundRes.playFoodStartSound()},a.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2),this.foodStarted=!1},a.detectEnemy=function(){var o,n=this,t=!1;return this.inLane.zombiePool().forEach((function(o){!t&&n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t||(this.inLane.tombPool().forEach((function(o){!t&&n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t||(null!=(o=this.inLane)&&o.iceTile&&(t=!0),t||this.inLane.iceTiles.forEach((function(o){!t&&o.node.worldPosition.x>n.node.worldPosition.x&&(t=!0)})),t))},n}(l)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),q=n(j.prototype,"foodShootSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=j))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/FloawerPot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./FrontYard.ts","./SniperPlant.ts","./SoundRescourses.ts","./Plant.ts"],(function(n){var t,o,i,a,e,l,s,r,d,h,p,m,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,l=n._decorator,s=n.Node,r=n.Vec3},function(n){d=n.TileType},function(n){h=n.FrontYard},function(n){p=n.SniperPlant},function(n){m=n.sounds},function(n){c=n.PlantProps}],execute:function(){var P,u,C,f,w;e._RF.push({},"9a1e3m5hj5FhKdZE8VBqGLq","FloawerPot",void 0);var I=l.ccclass,y=l.property,A=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).ToughnessPlantfooded=900,t.MoveToPosTime=2.5,t}return o(t,n),t}(c);n("FloawerPotPlant",(P=I("FloawerPotPlant"),u=y(s),P((w=t((f=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return t=n.call.apply(n,[this].concat(e))||this,i(t,"plantPoint",w,a(t)),t.planted=!1,t._objdataOwn=new A,t.ironed=!1,t.idle="Idle",t.idlePlanted="Idle_Planted",t.plant="Plant",t.recover="Recover",t.random=[],t}o(t,n);var e=t.prototype;return e.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1,this.eaterDetectable=!1,this.fooding||this.anmControl.playAnimation(this.plant),this.anmControl.IdleAnim=this.idlePlanted,this.anmControl.RandomAnim=[])},e.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!this.ironed,this.eaterDetectable=!0,this.fooding||this.anmControl.playAnimation(this.recover),this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random)},e.specialSniperPlantDie=function(){this.plantInLnC.orgPlantPoint.worldPosition=this.plantInLnC.plantPoint.worldPosition,this.plantInLnC.returnPlantPoint()},e.specialSniperFood=function(n){this.foodable=!1,this.ironed=!0,this.anmControl.playAnimation("Food"),this.deathAnm="Death_Iron",this.idle="Idle_Iron",this.random=["Rand1_Iron"],this.recover="Recover_Iron",this.plant="Plant_Iron",this.idlePlanted="Idle_Planted_Iron",this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.toughness=this._objdataOwn.ToughnessPlantfooded,this.health=this.toughness},e.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},e.specialSniperPlantOnEnable=function(){this.planted=!1,this.random=this.anmControl.RandomAnim,this.idle=this.anmControl.IdleAnim},e.sniperPlantLocatable=function(){return this.ironed&&!this.planted},e.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim="Locating",this.anmControl.RandomAnim=[],this.anmControl.playRandom()},e.specialSniperPlantLocateCancel=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom()},e.onLeapEnd=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom()},e.specialSniperPlantTrigger=function(n){if(n.floawerPotable()){var t=this._objdataOwn.MoveToPosTime;this._cdScale&&(t*=this._cdScale),this.leapTo(n,t,0,!0,!1,"quadOut"),this.anmControl.IdleAnim="Moving",this.anmControl.RandomAnim=[],this.anmControl.playRandom()}else this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playRandom(),m.playSniperPlantCancelSound()},e.specialPlantUpdateForce=function(n){if(!this.dead&&this.plantInLnC){this.anmControl.potFront.node.worldPosition=this.anmControl.body.node.worldPosition,!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant(),this.plantInLnC.setPPWdPos(this.plantInLnC.plantPoint.worldPosition.clone().add(new r(0,this.plantPoint.worldPosition.y-this.worldPositionY,0)));var t=this.inLnC.getTileType();t==d.water?this.body.worldPosition=new r(this.worldPositionX,this.worldPositionY-20*h.depth(this.node.worldPosition.x),0):t==d.sky?this.body.worldPosition=new r(this.worldPositionX,this.worldPositionY-20,0):this.body.worldPosition=new r(this.worldPositionX,this.worldPositionY,0)}},t}(p)).prototype,"plantPoint",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));e._RF.pop()}}}));

System.register("chunks:///_virtual/flowerLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts","./UI.ts"],(function(e){var n,t,i,a,o,r,s,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){a=e.Character},function(e){o=e.Rectangle},function(e){r=e.Square},function(e){s=e.sounds},function(e){l=e.LevelPlay},function(e){c=e.UIInGame}],execute:function(){var d,u;t._RF.push({},"710dfN9ySNCvJZktd3JMKYw","flowerLine",void 0);var h=i.ccclass;i.property,e("flowerLine",h("flowerLine")(((u=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).group=[],n.IdleAnmMode=0,n.dead=!1,n.tip="",n}n(t,e);var i=t.prototype;return i.characterUpdate=function(e){var n=this;if(!this.dead){if(l.component.gameWon)return void this.celebrate();var i=o.createRectangleCenter(this.worldPosition.clone(),r.SquareDisW/10,r.SquareDisH),a=o.createRectangleCenter(this.worldPosition.clone(),1.5*r.SquareDisW,r.SquareDisH),s=!1;this.inLane.zombiePool().forEach((function(e){n.dead||!e.flying&&e.walking&&e.willTrampleFlower()&&e.shouldSpeedScale()>0&&(e.bodyRec.judgeCrossRec(i)?n.die():!s&&e.bodyRec.judgeCrossRec(a)&&(s=!0,t.warning=!0,n.warn()))})),this.dead||(t.warning?this.warn():this.idle())}},i.die=function(e){var n=this;void 0===e&&(e=!0),this.dead||(this.dead=!0,e&&this.group.forEach((function(e){e!=n&&e.die(!1)})),s.playLevelTaskFail(),this.db.playAnimation("Die",1),c.uiingame.loseDarken(null,"",this.tip))},i.warn=function(e){var n=this;void 0===e&&(e=!0),1!=this.IdleAnmMode&&(this.IdleAnmMode=1,e&&this.group.forEach((function(e){e!=n&&e.warn(!1)})),this.db.playAnimation("Nervous",1))},i.idle=function(e){0!=this.IdleAnmMode&&(this.IdleAnmMode=0,t.warning||this.db.playAnimation("Idle",1))},i.celebrate=function(){2!=this.IdleAnmMode&&(this.IdleAnmMode=2,this.db.playAnimation("Grow",1),s.playLevelTaskComplete())},i.characterOnEnable=function(){this.dead=!1,this.IdleAnmMode=1,this.idle()},i.characterLateUpdate=function(e){t.warning=!1},t}(a)).warning=!1,d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/foodLinkTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Square.ts","./NodePools.ts","./Tiles.ts","./Cards.ts","./CardFeatureTotal.ts","./Plants.ts","./GridItem.ts"],(function(t){var i,e,o,n,a,r,s,l,h,u,f,c,d,p,m,T,g,v,y,b,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.Color,u=t.tween,f=t.Vec3},function(t){c=t.Tile},function(t){d=t.Square},function(t){p=t.instantiatePooly},function(t){m=t.tiles,T=t.TileEnum},function(t){g=t.Cards},function(t){v=t.CardFeatureTotal},function(t){y=t.PlantEnum,b=t.plants},function(t){L=t.GridItemEnum}],execute:function(){var P,k,w,C,D,S,I;t("judgeLitAllFalse",(function(){t("judgeLitAll",!1)})),r._RF.push({},"21d58/qMh5PO5QxcnK65/it","foodLinkTile",void 0);var _=s.ccclass,X=s.property,Y=t("FoodLinkTileTypeEnum",function(t){return t[t.alpha=0]="alpha",t[t.beta=1]="beta",t[t.delta=2]="delta",t[t.gamma=3]="gamma",t[t.epsilon=4]="epsilon",t[t.amount=5]="amount",t}({})),x=function(){function t(){this.fromTile=void 0,this.toTile=void 0,this.intervalX=d.SquareDisW/4,this.intervalY=d.SquareDisH/4,this.dotPar=void 0,this.fromX=0,this.toX=0,this._x=0,this.fromY=0,this.toY=0,this._y=0}return t.prototype.start=function(t,i,e,o){var n=this;void 0===o&&(o=16),this.dotPar=e,this.fromTile=t,this.toTile=i,this.fromX=t.node.worldPosition.x,this.fromY=t.node.worldPosition.y,this.toX=i.node.worldPosition.x,this.toY=i.node.worldPosition.y,this._x=this.fromX,this._y=this.fromY;var a=Math.abs(this.toX-this.fromX),r=Math.abs(this.toY-this.fromY);u(this).to(a/o/d.SquareDisW,{x:this.toX}).to(r/o/d.SquareDisH,{y:this.toY}).call((function(){var t;null!=(t=n.toTile)&&null!=(t=t.inLnC)&&t.isInLawn()&&(n.toTile.flash(),n.toTile.inLnC.getAllPlants().forEach((function(t){t.food()})))})).start()},a(t,[{key:"x",get:function(){return this._x},set:function(t){var i=this._x-this.fromX,e=t-this.fromX;this._x=t;for(var o=Math.floor(Math.abs(i/this.intervalX)),n=Math.floor(Math.abs(e/this.intervalX)),a=0;a<Math.abs(n-o);a++){var r=this.fromX+(o+a+1)*this.intervalX*(this.toX<this.fromX?-1:1),s=this.y,l=p(this.dotPar);l.parent=d.getLaneComponent(0).tileLayer,l.worldPosition=new f(r,s,10),l.setSiblingIndex(0)}}},{key:"y",get:function(){return this._y},set:function(t){var i=this._y-this.fromY,e=t-this.fromY;this._y=t;for(var o=Math.floor(Math.abs(i/this.intervalY)),n=Math.floor(Math.abs(e/this.intervalY)),a=0;a<Math.abs(n-o);a++){var r=this.fromY+(o+a+1)*this.intervalY*(this.toY<this.fromY?-1:1),s=this.x,l=p(this.dotPar);l.parent=d.getLaneComponent(0).tileLayer,l.worldPosition=new f(s,r,10),l.setSiblingIndex(0)}}}]),t}();t("judgeLitAll",!1);t("foodLinkTile",(P=_("foodLinkTile"),k=X(l),w=X(l),P((S=i((D=function(i){function r(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=i.call.apply(i,[this].concat(a))||this).foodLinkID=0,t.propagationDelay=0,t.locatingZomboss=void 0,o(t,"dotPar",S,n(t)),o(t,"flashLight",I,n(t)),t._lit=!1,t}e(r,i);var s=r.prototype;return s.onFoodedByPlayer=function(){var t=this;this.scheduleOnce((function(){t.spreadFood()}),this.propagationDelay),this.locatingZomboss&&(this.locatingZomboss.foodLinkerShootInterupt(),this.locatingZomboss=null)},s.replayAll=function(){t("judgeLitAll",!0)},s.spreadFood=function(){var t=this;this.flash();var i=[];m.tilePool().forEach((function(e){if(e.tileID==T.foodLinker){var o=e;o.foodLinkID==t.foodLinkID&&o!=t&&-1==i.indexOf(o)&&i.push(o)}})),i.forEach((function(i){(new x).start(t,i,t.dotPar)}))},s.judgeLit=function(t){if(t){var i=!1;i=!!t.getAllPlants()[0],this.lit=i}else this.lit=!1},s.onLnCCall=function(t){this.judgeLit(t)},s.onLnCChange=function(t,i){var e;this.judgeLit(i),null==(e=this.gridItemCP)||e.setGridItemType([L.powertile,this.GridType])},s.flash=function(){if(this.inLnC){var t=p(this.flashLight);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.worldScale=this.node.worldScale}},s.specialDie=function(){var t,i=0;switch(this.foodLinkID){case Y.alpha:i=y.TileTurnipAlpha;break;case Y.beta:i=y.TileTurnipBeta;break;case Y.gamma:i=y.TileTurnipGamma;break;case Y.delta:i=y.TileTurnipDelta;break;case Y.epsilon:i=y.TileTurnipEpsilon}b.registerPlant(i,-1),null==(t=g.cardsController)||null==(t=t.seedPackets)||t.forEach((function(t){var e=t.getComponent(v);i==e.ID&&(e.SUNCOST=e.SUNCOST)}))},s.tileOnEnable=function(){var t;this.lit=!1,this.locatingZomboss=null;var i=0;switch(this.foodLinkID){case Y.alpha:i=y.TileTurnipAlpha;break;case Y.beta:i=y.TileTurnipBeta;break;case Y.gamma:i=y.TileTurnipGamma;break;case Y.delta:i=y.TileTurnipDelta;break;case Y.epsilon:i=y.TileTurnipEpsilon}b.registerPlant(i,1),null==(t=g.cardsController)||null==(t=t.seedPackets)||t.forEach((function(t){var e=t.getComponent(v);i==e.ID&&(e.SUNCOST=e.SUNCOST)}))},a(r,[{key:"lit",get:function(){return this._lit},set:function(t){var i=this._lit;this._lit=t,i!=t&&(this.flash(),this.replayAll())}},{key:"foodLightColor",get:function(){switch(this.foodLinkID){case Y.alpha:return new h(31,255,0,255);case Y.beta:return new h(255,0,0,255);case Y.delta:return new h(255,235,0,255);case Y.gamma:return new h(0,245,255,255);case Y.epsilon:return new h(194,0,255,255);default:return new h(255,255,255,255)}}},{key:"GridType",get:function(){return L.powertile+this.foodLinkID+1}}]),r}(c)).prototype,"dotPar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(D.prototype,"flashLight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=D))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/FrontYard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tide.ts","./Square.ts","./stageEffect.ts","./lawn.ts","./SoundsController.ts","./CharacterManager.ts","./SoundManager.ts","./Zombies.ts","./MultiLanguage.ts","./GridItem.ts"],(function(e){var t,r,n,a,i,o,u,l,c,s,d,f,p,b,g,h,y,m,Y,w,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,u=e.Enum,l=e.JsonAsset,c=e.Prefab,s=e.instantiate,d=e.Component},function(e){f=e.Tide},function(e){p=e.Square},function(e){b=e.StageEffect},function(e){g=e.lawn},function(e){h=e.MusicController},function(e){y=e.ZombiePool},function(e){m=e.WorldMusic},function(e){Y=e.zombies},function(e){w=e.MultiLanguage},function(e){k=e.GridItem}],execute:function(){var L,v,F,S,C,T,E,_,z,M,N,B,D,I,A,W,P,R,H,O,Z,G,x,U,q,J,j,V,K,Q,X,$,ee,te,re,ne,ae,ie,oe,ue,le,ce,se,de,fe,pe,be,ge,he,ye,me,Ye,we,ke,Le,ve,Fe,Se,Ce,Te,Ee,_e,ze,Me,Ne,Be,De,Ie;i._RF.push({},"02e9e6yW1pACZVbPL+GWHAz","FrontYard",void 0);var Ae=o.ccclass,We=o.property,Pe=function(){this.CODENAME="",this.BASIC_ZOMBIE="tutorial",this.FLAG_ZOMBIE="tutorial_flag",this.RALLY_ZOMBIE="tutorial_flag_veteran",this.GRAVESTONE="gravestone_tutorial",this.RAILCART="railcart_tutorial",this.WORLDNAME="Frontyard"},Re=e("yardType",function(e){return e[e.modern=0]="modern",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.kongfu=4]="kongfu",e[e.kongfu_veteran=5]="kongfu_veteran",e[e.future=6]="future",e[e.dark=7]="dark",e[e.beach=8]="beach",e[e.ice=9]="ice",e[e.iceUlt=10]="iceUlt",e[e.lost=11]="lost",e[e.lostNight=12]="lostNight",e[e.sky=13]="sky",e[e.stage=14]="stage",e[e.dino=15]="dino",e[e.frontYardCircus=16]="frontYardCircus",e[e.frontYardDark=17]="frontYardDark",e[e.frontYardStage=18]="frontYardStage",e[e.frontYardDino=19]="frontYardDino",e[e.frontYardSummerNight=20]="frontYardSummerNight",e[e.frontYardLunar=21]="frontYardLunar",e[e.frontYardHalloween=22]="frontYardHalloween",e[e.frontYardFarm=23]="frontYardFarm",e[e.frontYardHeroes=24]="frontYardHeroes",e[e.frontYardPaddys=25]="frontYardPaddys",e[e.frontYardFalls=26]="frontYardFalls",e[e.lostInTime=27]="lostInTime",e[e.arena=28]="arena",e[e.yardAmount=29]="yardAmount",e}({})),He=e("stageEffects",function(e){return e[e.punk=0]="punk",e[e.pop=1]="pop",e[e.rap=2]="rap",e[e.eightbit=3]="eightbit",e[e.metal=4]="metal",e[e.none=5]="none",e}({}));u(Re);e("FrontYard",(L=Ae("FrontYard"),v=We(l),F=We(c),S=We({type:Re}),C=We(c),T=We(c),E=We(c),_=We(c),z=We(c),M=We(c),N=We(c),B=We(c),D=We(c),I=We(c),A=We(c),W=We(c),P=We(c),R=We(c),H=We(c),O=We(c),Z=We(c),G=We(c),x=We(c),U=We(c),q=We(c),J=We(c),j=We(c),V=We(c),K=We(c),Q=We(c),X=We(c),$=We(c),ee=We(c),L(((Ie=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"frontyardFeatureJson",ne,a(t)),n(t,"tide",ae,a(t)),n(t,"yardType",ie,a(t)),n(t,"modern",oe,a(t)),n(t,"egypt",ue,a(t)),n(t,"pirate",le,a(t)),n(t,"cowboy",ce,a(t)),n(t,"kongfu",se,a(t)),n(t,"kongfu_boss",de,a(t)),n(t,"future",fe,a(t)),n(t,"dark",pe,a(t)),n(t,"beach",be,a(t)),n(t,"ice",ge,a(t)),n(t,"iceUlt",he,a(t)),n(t,"lost",ye,a(t)),n(t,"lostNight",me,a(t)),n(t,"sky",Ye,a(t)),n(t,"stage",we,a(t)),n(t,"dino",ke,a(t)),n(t,"frontYardCircus",Le,a(t)),n(t,"frontYardDark",ve,a(t)),n(t,"frontYardStage",Fe,a(t)),n(t,"frontYardDino",Se,a(t)),n(t,"frontYardSummerNight",Ce,a(t)),n(t,"frontYardLunar",Te,a(t)),n(t,"frontYardHalloween",Ee,a(t)),n(t,"frontYardPaddys",_e,a(t)),n(t,"frontYardFalls",ze,a(t)),n(t,"frontYardFarm",Me,a(t)),n(t,"frontYardHeroes",Ne,a(t)),n(t,"lostInTime",Be,a(t)),n(t,"arena",De,a(t)),t.currentStageType=He.none,t.tide_=null,t}r(t,e),t.getWorldMapLyricsByLawn=function(e){switch(e){case Re.egypt:return w.getWorldMapLyrics("Egypt");case Re.pirate:return w.getWorldMapLyrics("Pirate");case Re.cowboy:return w.getWorldMapLyrics("Cowboy");case Re.future:return w.getWorldMapLyrics("Future");case Re.dark:return w.getWorldMapLyrics("Dark");default:return w.getWorldMapLyrics("")}},t.levelPlayStart=function(){t.component.levelPlayStart()},t.addTide=function(e){void 0===e&&(e=9),t.component._addTide(e)},t.pushTide=function(e){var r;null==(r=t.component.tide_)||r.pushTide(e)},t.pullTide=function(e){var r;null==(r=t.component.tide_)||r.pullTide(e)},t.moveTide=function(e){var r;null==(r=t.component.tide_)||r.moveTide(e)},t.depth=function(e){var r=t.component;return r.tide_?r.tide_.x>e?0:Math.min(1,(e-r.tide_.x)/p.SquareDisW):0},t.getTidePos=function(){return this.component.tide_?this.component.tide_.pos:-2},t.getLawnFeature=function(e){return this.frontYardFeatures[e]?this.frontYardFeatures[e]:new Pe},t.getLawnRailCart=function(e){return this.frontYardFeatures[e]?k.getGridItemEnumByCodeName(this.frontYardFeatures[e].RAILCART):0},t.getLawnFlagZombie=function(e){return this.frontYardFeatures[e]?Y.getZombieEnumByString(this.frontYardFeatures[e].FLAG_ZOMBIE):0},t.getLawnRallyZombie=function(e){return this.frontYardFeatures[e]?Y.getZombieEnumByString(this.frontYardFeatures[e].RALLY_ZOMBIE):0},t.getFrontYardEnumByString=function(e){for(var t=0;t<this.frontYardFeatures.length;t++)if(this.frontYardFeatures[t].CODENAME==e)return t;return 0},t.getFrontYardEnumByRTID=function(e){var t=e.concat(),r=t.indexOf("RTID("),n=t.indexOf("@LevelModules)"),a="";return-1!=r&&(a=t.slice(r+5,n)),this.getFrontYardEnumByString(a)},t.changeFrontYard=function(e,t){var r;return void 0===t&&(t=!0),null==(r=this.component)?void 0:r.changeLawn(e,t)},t.removeTide=function(){var e;null==(e=this.component)||e.removeTide()};var i=t.prototype;return i.removeTide=function(){var e;null==(e=this.tide_)||null==(e=e.node)||e.destroy(),this.tide_=null},i.changeLawn=function(e,r){var n;void 0===r&&(r=!0),t.currentLawnYardType=e,null==(n=t.currentLawn)||null==(n=n.node)||n.destroy(),r&&this.removeTide();var a=null;switch(e){case Re.egypt:a=s(this.egypt);break;case Re.sky:a=s(this.sky);break;case Re.frontYardCircus:a=s(this.frontYardCircus);break;case Re.frontYardDark:a=s(this.frontYardDark);break;case Re.frontYardStage:a=s(this.frontYardStage);break;case Re.frontYardSummerNight:a=s(this.frontYardSummerNight);break;case Re.frontYardLunar:a=s(this.frontYardLunar);break;case Re.lostInTime:a=s(this.lostInTime);break;case Re.cowboy:a=s(this.cowboy);break;case Re.pirate:a=s(this.pirate);break;case Re.frontYardHalloween:a=s(this.frontYardHalloween);break;case Re.frontYardPaddys:a=s(this.frontYardPaddys);break;case Re.frontYardFalls:a=s(this.frontYardFalls);break;case Re.frontYardFarm:a=s(this.frontYardFarm);break;case Re.frontYardHeroes:a=s(this.frontYardHeroes);break;case Re.future:a=s(this.future);break;case Re.kongfu:a=s(this.kongfu);break;case Re.kongfu_veteran:a=s(this.kongfu_boss);break;case Re.arena:a=s(this.arena);break;case Re.dark:a=s(this.dark);break;case Re.beach:a=s(this.beach);break;case Re.ice:a=s(this.ice);break;case Re.iceUlt:a=s(this.iceUlt);break;case Re.lost:a=s(this.lost);break;case Re.lostNight:a=s(this.lostNight);break;case Re.stage:a=s(this.stage);break;case Re.dino:a=s(this.dino);break;case Re.frontYardDino:a=s(this.frontYardDino);break;default:a=s(this.modern),e=Re.modern}a.parent=this.node.getChildByName("lawn"),a.setSiblingIndex(0);var i=a.getComponent(g);return t.currentLawn=i,i.ID=e,this.currentStageType==He.none&&h.switchWorldMusic(i.worldMusic),this.scheduleOnce(p.setSquareType,0),i},t.getStageEffect=function(){var e;return null==(e=this.component)?void 0:e.currentStageType},t.setStageEffect=function(e){var t=this.component;if(t){var r=t.node.getChildByName("stageEffect");if(e!=t.currentStageType)switch(t.currentStageType=e,e){case He.punk:h.switchWorldMusic(m.Punk),r.children.forEach((function(e){e.getComponent(b).playEnd()})),r.getChildByName("punk").getComponent(b).playStart();break;case He.pop:h.switchWorldMusic(m.Pop),r.children.forEach((function(e){e.getComponent(b).playEnd()})),r.getChildByName("pop").getComponent(b).playStart();break;case He.rap:h.switchWorldMusic(m.Rap),r.children.forEach((function(e){e.getComponent(b).playEnd()})),r.getChildByName("rap").getComponent(b).playStart();break;case He.eightbit:h.switchWorldMusic(m.Eightbit),r.children.forEach((function(e){e.getComponent(b).playEnd()})),r.getChildByName("eightBit").getComponent(b).playStart();break;case He.metal:h.switchWorldMusic(m.Metal),r.children.forEach((function(e){e.getComponent(b).playEnd()})),r.getChildByName("metal").getComponent(b).playStart();break;default:h.switchWorldMusic(this.currentLawn.worldMusic),r.children.forEach((function(e){e.getComponent(b).playEnd()}))}}},i._addTide=function(e){return void 0===e&&(e=0),this.tide_||(this.tide_=s(this.tide).getComponent(f),this.tide_.node.parent=this.node.getChildByName("tide"),this.tide_.standardize(e)),this.tide_},i.onLoad=function(){t.frontYardFeatures=this.frontyardFeatureJson.json.LAWNS,t.railLayer=this.node.getChildByName("rail"),t.cartLayer=this.node.getChildByName("cart"),t.component=this,t.currentLawnYardType=Re.modern,t.currentLawn=null},i.update=function(e){t.windy>0&&(y.pool().concat().forEach((function(e){e.flying&&e.blowAway()})),t.windy-=e),t.windy<0&&(t.windy=0)},i.start=function(){this.changeLawn(this.yardType),t.currentLawn.busyDropsun=1/0},i.levelPlayStart=function(){t.currentLawn.busyDropsun=3},t}(d)).component=void 0,Ie.windy=0,Ie.currentLawnYardType=void 0,Ie.currentLawn=void 0,Ie.railLayer=void 0,Ie.cartLayer=void 0,Ie.frontYardFeatures=void 0,ne=t((re=Ie).prototype,"frontyardFeatureJson",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(re.prototype,"tide",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(re.prototype,"yardType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.modern}}),oe=t(re.prototype,"modern",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(re.prototype,"egypt",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(re.prototype,"pirate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(re.prototype,"cowboy",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(re.prototype,"kongfu",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(re.prototype,"kongfu_boss",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(re.prototype,"future",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(re.prototype,"dark",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(re.prototype,"beach",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(re.prototype,"ice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(re.prototype,"iceUlt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(re.prototype,"lost",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(re.prototype,"lostNight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(re.prototype,"sky",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(re.prototype,"stage",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(re.prototype,"dino",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(re.prototype,"frontYardCircus",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(re.prototype,"frontYardDark",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(re.prototype,"frontYardStage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(re.prototype,"frontYardDino",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(re.prototype,"frontYardSummerNight",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(re.prototype,"frontYardLunar",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(re.prototype,"frontYardHalloween",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(re.prototype,"frontYardPaddys",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(re.prototype,"frontYardFalls",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(re.prototype,"frontYardFarm",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(re.prototype,"frontYardHeroes",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(re.prototype,"lostInTime",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(re.prototype,"arena",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=re))||te));i._RF.pop()}}}));

System.register("chunks:///_virtual/FumeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var o,e,n,i,a,r,s,l,c,u,h,d,f,m,S,b,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Node,u=t.dragonBones,h=t.Vec3},function(t){d=t.Plant,f=t.PlantProps},function(t){m=t.Rectangle},function(t){S=t.NodePools},function(t){b=t.Square},function(t){p=t.sounds}],execute:function(){var y,P,g,D,w,v,R,_,C,j,L,E,O,z,q,A,F,W,k,H;a._RF.push({},"55aa7VHxuJJmr3RtpmhWyai","FumeShroom",void 0);var x=r.ccclass,M=r.property,N=(y=x("fumeshroomSound"),P=M([s]),g=M(s),y((v=o((w=function(){function t(){n(this,"shootSounds",v,this),n(this,"foodSound",R,this)}var o=t.prototype;return o.playShootSound=function(){p.playArray(this.shootSounds)},o.playFoodSound=function(){p.play(this.foodSound)},t}()).prototype,"shootSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=o(w.prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=w))||D),I=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).Damage=40,o.ShootInterval=2.4,o.ShootIntervalAdditional=.2,o.PlantfoodDPS=700,o.PlantfoodKnockbackSPS=3,o.PlantfoodDuration=3,o.DetectDistance=4.5,o.ShootDistance=5.5,o}return e(o,t),o}(f);t("FumeShroomPlant",(_=x("FumeShroomPlant"),C=M(N),j=M(l),L=M(l),E=M(l),O=M(c),_((A=o((q=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new I,o.busy=0,o.shooting=!1,n(o,"soundRes",A,i(o)),o.oldTimeScale=1,o.foodShooting=!1,n(o,"shootParticle",F,i(o)),n(o,"foodParticle",W,i(o)),n(o,"hitParticle",k,i(o)),o.enemyDetector=null,o.shootDetector=null,o.foodDetector=null,n(o,"mouth",H,i(o)),o}e(o,t);var a=o.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.foodShooting=!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantOnEnable=function(){var t=this;this.busy=0,this.foodShooting=!1,this.anmControl.body.addEventListener(u.EventObject.COMPLETE,(function(){t.shooting=!1}),this)},a.animationListener=function(t){if("shoot"==t.name&&this._shoot(),"shootSound"==t.name&&this.soundRes.playShootSound(),"foodStart"==t.name){var o=Math.max(.1,this._objdataOwn.PlantfoodDuration);this.oldTimeScale=this.anmControl.body.timeScale,this.anmControl.body.timeScale=3/o,this.spawnParticle(this.foodParticle).getComponent(u.ArmatureDisplay).timeScale=3/o,this.foodShooting=!0}"foodEnd"==t.name&&(this.anmControl.body.timeScale=this.oldTimeScale,this.foodEnd())},a.spawnParticle=function(t){var o=S.instantiatePooly(t);return o.parent=this.inLane.prjLayer,o.setWorldPosition(this.mouth.getWorldPosition()),o},a.spawnHitParticle=function(t){var o=S.instantiatePooly(this.hitParticle);return o.parent=this.inLane.prjLayer,o.setWorldPosition(new h(t.getWorldPosition().x,this.mouth.getWorldPosition().y)),o},a._shoot=function(){var t=this;this.spawnParticle(this.shootParticle);var o=this._objdataOwn.Damage;this._dmgScale&&(o*=this._dmgScale),this.inLane.zombiePool().forEach((function(e){t.shootDetector.judgeCrossRec(e.bodyRec)&&(e.dealDamage(o,!0,!1,!1),t.spawnHitParticle(e.node))})),this.inLane.tombPool().forEach((function(e){t.shootDetector.judgeCrossRec(e.bodyRec)&&(e.dealDamage(o),t.spawnHitParticle(e.node))}))},a.setDetecter=function(){this.enemyDetector=m.createRectangleNodeSide(this.inLnC.node,b.SquareDisW*this._objdataOwn.DetectDistance,b.SquareDisH),this.shootDetector=m.createRectangleNodeSide(this.inLnC.node,b.SquareDisW*this._objdataOwn.ShootDistance,b.SquareDisH),this.foodDetector=m.createRectangleNodeSide(this.inLnC.node,20*b.SquareDisW,b.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.enemyDetector.judgeCrossRec(t[o].bodyRec))return!0;for(var e=this.inLane.tombPool(),n=0;n<e.length;n++)if(this.enemyDetector.judgeCrossRec(e[n].bodyRec))return!0;return!1},a.shootAnimation=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.8/this.busy,1))},a.waterable=function(){return!this.shooting},a.specialPlantUpdate=function(t){var o=this;if(this.busy>0&&(this.busy-=t),this.busy<=0&&this.detectShootEnemy()&&!this.fooding&&this.shootAnimation(),this.foodShooting){var e=this._objdataOwn.PlantfoodDPS,n=b.getSquareWorldPosition(0,8,1).x;this._dmgScale&&(e*=this._dmgScale),this.inLane.zombiePool().forEach((function(i){o.foodDetector.judgeCrossRec(i.bodyRec)&&(i.dealDamage(e*t,!0,!1,!1),i.knockBackable&&i.worldPositionX<n&&(i.worldPositionX+=o._objdataOwn.PlantfoodKnockbackSPS*t*b.SquareDisW))})),this.inLane.tombPool().forEach((function(n){o.foodDetector.judgeCrossRec(n.bodyRec)&&n.dealDamage(e*t)}))}},o}(d)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),F=o(q.prototype,"shootParticle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=o(q.prototype,"foodParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(q.prototype,"hitParticle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(q.prototype,"mouth",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=q))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./Zombies.ts","./GargantuarZombie.ts","./Square.ts","./Zombie.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var t,i,o,n,a,s,r,h,l,u,y,d,c,p,m,S,b,P,f,g,D,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,h=e.AudioClip,l=e.Node,u=e.Prefab,y=e.Vec2,d=e.Vec3,c=e.HALF_PI,p=e.TWO_PI},function(e){m=e.MechZombie},function(e){S=e.sounds},function(e){b=e.ZombieEnum},function(e){P=e.gargantuar},function(e){f=e.Square},function(e){g=e.zombieDamageType},function(e){D=e.Rectangle},function(e){w=e.ParticleSelfdestroy},function(e){_=e.instantiatePooly}],execute:function(){var L,R,v,j,E,C,A,I,z,x,M,T,F,Z,X,k,q,W,G,H,O,B,V,N,U,Y,K,J,Q,$,ee,te,ie,oe,ne,ae,se,re,he;s._RF.push({},"7bd7dTjMXtFsoi1KZtXV/4n","FutureGargantuarZombie",void 0);var le=r.ccclass,ue=r.property;e("FutureGargantuarZombie",(L=le("FutureGargantuarZombie"),R=ue([h]),v=ue([h]),j=ue([h]),E=ue([h]),C=ue(h),A=ue(h),I=ue(h),z=ue(h),x=ue(h),M=ue(h),T=ue(h),F=ue(h),Z=ue(l),X=ue(l),k=ue(l),q=ue(u),W=ue(u),G=ue(u),L((B=t((O=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"stepSounds",B,n(t)),o(t,"stepRiseSounds",V,n(t)),o(t,"smashSounds",N,n(t)),o(t,"saySounds",U,n(t)),o(t,"throwSound",Y,n(t)),o(t,"throwPrepareSound",K,n(t)),o(t,"riseSound",J,n(t)),o(t,"shootStartSound",Q,n(t)),o(t,"shootEndSound",$,n(t)),o(t,"rayStartSound",ee,n(t)),o(t,"rayLoopSound",te,n(t)),o(t,"rayEndSound",ie,n(t)),t.sweepTo=new y(0,0),t.sweepFrom=new y(0,0),t.shootPos=new y(0,0),t._shooting=0,t._shootDuration=1,t.impEnum=b.future_imp,t._haveImp=!0,t._impSlots=[],o(t,"impThrower",oe,n(t)),o(t,"eyeL",ne,n(t)),o(t,"eyeR",ae,n(t)),o(t,"eyePar",se,n(t)),o(t,"hitPar",re,n(t)),o(t,"rayPar",he,n(t)),t.eyeL_PSD=void 0,t.eyeR_PSD=void 0,t.hit_PSD=void 0,t.ray_PSD=void 0,t.shootCountDown=0,t}i(t,e);var s=t.prototype;return s._say=function(){S.playArray(this.saySounds,1,.5)},s.specialMechAnimationListener=function(e){if("step"==e.name)S.playArray(this.stepSounds,1,.1);else if("stepRise"==e.name)S.playArray(this.stepRiseSounds,1,.5);else if("throw"==e.name)S.play(this.throwSound,1,.1),this._throwImp();else if("throw_prepare"==e.name)S.play(this.throwPrepareSound,1,.5);else if("rise"==e.name)S.play(this.riseSound,1,.5);else if("smash"==e.name)S.playArray(this.smashSounds,1,.1),this._say(),this._smash();else if("shootStart"==e.name){this.body.playAnimation("ShootLoop",1/0);var t=f.getSquareWorldPosition(0,this.reversed?8-this.objdata.EyeLaserMaxColumn:this.objdata.EyeLaserMaxColumn).x,i=this.worldPositionX+(this.reversed?1:-1)*this.objdata.EyeLaserMinDistance*f.SquareDisW,o=0,n=f.getSquareWorldPosition(0,0,0).x;this.reversed?(n+=9*f.SquareDisW,o=Math.max(t,i)):o=Math.min(t,i),this.sweepFrom=new y(n+Math.random()*(o-n),f.Square00WorldPosition().y-4*f.SquareDisH*Math.random());var a=p*Math.random();if(this.sweepTo=this.sweepFrom.clone().add(new y(Math.cos(a),Math.sin(a)).multiplyScalar(f.SquareDisH*this.objdata.EyeLaserSweepLength)),this._shootDuration=this.objdata.EyeLaserSweepTime,this.shooting=this._shootDuration,this.ray_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var s=_(this.rayPar);s.parent=this.inLane.prjLayer,s.worldPosition=this.eyeL.worldPosition,s.setSiblingIndex(0),this.ray_PSD=s.getComponent(w),this.ray_PSD.db.playAnimation("Idle",1/0),s.scale=new d(0,s.scale.y,10)}if(this.hit_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var r=_(this.hitPar);r.parent=this.inLane.prjLayer,r.worldPosition=new d(this.shootPos.x,this.shootPos.y),this.hit_PSD=r.getComponent(w),this.hit_PSD.db.playAnimation("Idle",1/0)}}},s.onEmpStunStart=function(){this.shooting=0},s.specialZombieOnLoad=function(){var e=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_IMP")&&e._impSlots.push(t)}))},s._throwImp=function(e,t,i){if(void 0===e&&(e=this.lIndex),void 0===t&&(t=this.reversed?6:2),void 0===i&&(i=350),this._haveImp){this.haveImp=!1;var o=P.throwOneImpToLnC(this.impEnum,this.inLane,new y(this.impThrower.worldPosition.x,this._worldPositionY),f.getLnC(e,t),this.impThrower.worldPosition.y-this._worldPositionY,i,1.5);return o.body.playAnimation("Fly",1/0),o.reversed=this.reversed,o.hypno=this.hypno,o}return null},s.playEat=function(e){this.walking=!1},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){var i=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.tombPool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),i?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Smash",1)):this.playWalk()}}else this.playWalk()},s.specialMechOnEnable=function(){this.shootCountDown=this.objdata.EyeLaserDelayBetweenShots,this.haveImp=!0},s.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},s.canShoot=function(){return!(this.empCD>0)&&(!!this.switching||(this.reversed?!(this.cIndex>8-this.objdata.EyeLaserMinDistance):!(this.cIndex<this.objdata.EyeLaserMinDistance)))},s.clearAllPSD=function(){this.eyeL_PSD&&(this.eyeL_PSD.db.playAnimation("Die"),this.eyeL_PSD=null),this.eyeR_PSD&&(this.eyeR_PSD.db.playAnimation("Die"),this.eyeR_PSD=null),this.hit_PSD&&(this.hit_PSD.db.playAnimation("Die"),this.hit_PSD=null),this.ray_PSD&&(this.ray_PSD.db.playAnimation("Die"),this.ray_PSD=null)},s.playSpecialMechDieForced=function(){this.shooting=0,this.clearAllPSD()},s.specialZombieUpdateForced=function(e,t,i){this.shooting<=0&&this.clearAllPSD()},s.specialMechUpdate=function(e){var t=this;if(!this.switching&&this.isInLawn()&&this.canShoot())if(this.shootCountDown>0)this.shootCountDown-=e;else{if(this.shootCountDown=this.objdata.EyeLaserDelayBetweenShots,this.switching=!0,this.walking=!1,this.shooting=1/0,this.body.playAnimation("ShootStart",1/0),this._say(),S.play(this.shootStartSound,2,.1),S.play(this.rayStartSound,2,.1),this.eyeL_PSD)this.eyeL_PSD.db.playAnimation("Start",1/0);else{var i=_(this.eyePar);i.parent=this.inLane.prjLayer,i.worldPosition=this.eyeL.worldPosition,this.eyeL_PSD=i.getComponent(w),this.eyeL_PSD.db.playAnimation("Start",1/0)}if(this.eyeR_PSD)this.eyeR_PSD.db.playAnimation("Start",1/0);else{var o=_(this.eyePar);o.parent=this.inLane.prjLayer,o.worldPosition=this.eyeR.worldPosition,this.eyeR_PSD=o.getComponent(w),this.eyeR_PSD.db.playAnimation("Start",1/0)}}if(this.eyeL_PSD&&(this.eyeL_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeL_PSD.node.worldPosition=this.eyeL.worldPosition),this.eyeR_PSD&&(this.eyeR_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeR_PSD.node.worldPosition=this.eyeR.worldPosition),e>0&&!this.switching&&this._haveImp&&this.health<this.toughness/2&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1)),this.shooting>0){this.shooting-=e,S.play(this.rayLoopSound,1,this.rayLoopSound.getDuration());var n=D.createRectangleCenter(this.shootPos,30,30),a=f.judgeLIndex(this.shootPos.y),s=f.getLaneComponent(a);if(null==s||s.plantPool().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.objdata.EyeLaserTotalDamage*e,3)})),null==s||s.zombiePool().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.objdata.EyeLaserTotalDamage*e,!0,!1,!1,null,g.ray)})),null==s||s.hypnoZombiePool().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.objdata.EyeLaserTotalDamage*e,!0,!1,!1,null,g.ray)})),null==s||s.tombPool().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.objdata.EyeLaserTotalDamage*e)})),this.ray_PSD){this.ray_PSD.node.setParent(this.lIndex>a?this.inLane.prjLayer:s.prjLayer,!0),this.ray_PSD.node.worldPosition=this.eyeL.worldPosition;var r=new y(this.shootPos.x-this.eyeL.worldPosition.x,this.shootPos.y-this.eyeL.worldPosition.y),h=r.length(),l=90*Math.atan2(r.y,r.x)/c;this.ray_PSD.node.scale=new d(h/200,this.ray_PSD.node.scale.y,10),this.ray_PSD.node.angle=l}this.hit_PSD&&(this.hit_PSD.node.setParent(s.prjLayer,!0),this.hit_PSD.node.worldPosition=new d(this.shootPos.x,this.shootPos.y)),this.empCD>0&&(this.shooting=0),this.shooting<=0&&(this.body.playAnimation("ShootEnd",1/0),S.play(this.shootEndSound,2,.1),S.play(this.rayEndSound,2,.1),this.shootCountDown=this.objdata.EyeLaserDelayBetweenShots)}},s.onSmashing=function(){},s._smash=function(){var e,t=this,i=null,o=null,n=null;if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var i=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i<a&&(o=e,a=i)})),this.inLane.tombPool().forEach((function(e){var i=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i<a&&(n=e,a=i)}))}else{this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(!i||i.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(i=e)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var i=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i>s&&(o=e,s=i)}))}o?o.dealDamage(1500,!0,!0,!0,new y(o.worldPositionX-this.worldPositionX,o.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20)):i?null==(e=i)||e.smash(this,!0):n&&n.dealDamage(1500),this.onSmashing()},a(t,[{key:"shooting",get:function(){return this._shooting},set:function(e){var t=this.sweepFrom.clone().add(this.sweepFrom.clone().add(this.sweepTo.clone().negative()).multiplyScalar(e/(this._shootDuration+.01)));this.shootPos=t,this._shooting=e}},{key:"haveImp",get:function(){return this._haveImp},set:function(e){this._haveImp=e,this._impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(m)).prototype,"stepSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(O.prototype,"stepRiseSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(O.prototype,"smashSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(O.prototype,"saySounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(O.prototype,"throwSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(O.prototype,"throwPrepareSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(O.prototype,"riseSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(O.prototype,"shootStartSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(O.prototype,"shootEndSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(O.prototype,"rayStartSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(O.prototype,"rayLoopSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(O.prototype,"rayEndSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(O.prototype,"impThrower",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(O.prototype,"eyeL",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(O.prototype,"eyeR",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(O.prototype,"eyePar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(O.prototype,"hitPar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(O.prototype,"rayPar",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=O))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var i,e,n,a,o,l,u,r,h,p,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,u=t.AudioClip,r=t.Vec2},function(t){h=t.Zombie},function(t){p=t.sounds},function(t){s=t.ArrayGet}],execute:function(){var d,c,m,y,b,S,f,g,w,D,v,k,A,C,I,F,z,Z,L,R,x,E,H;o._RF.push({},"96cefTTA/tLI4qg9YkvQnSt","FutureImpZombie",void 0);var _=l.ccclass,j=l.property;t("FutureImpZombie",(d=_("FutureImpZombie"),c=j([u]),m=j([u]),y=j(u),b=j(u),S=j(u),f=j(u),g=j(u),w=j(u),D=j(u),v=j(u),d((C=i((A=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this).hopping=!1,i.walkIdleDuration=2.107,i.walkIdleCD=0,i.chewSoundWhenEat=!1,i.empCD=0,n(i,"eatSound",C,a(i)),n(i,"hopSound",I,a(i)),n(i,"deathFallSound",F,a(i)),n(i,"landSound",z,a(i)),n(i,"expandSound",Z,a(i)),n(i,"fallSound",L,a(i)),n(i,"activateSound",R,a(i)),n(i,"deactivateSound",x,a(i)),n(i,"mouthActivateSound",E,a(i)),n(i,"mouthDeactivateSound",H,a(i)),i}e(i,t);var o=i.prototype;return o.playSpecialZombieDie=function(t){this.judgeDeath(.2)},o.playFallFromSky=function(t){var i=this;this.height=600,this.switching=!0,this.walking=!1,this.body.playAnimation("Fall",1/0),this.flying=!0,this.height=600,t<0&&(t=0),this.scheduleOnce((function(){p.play(i.fallSound,1,1),i.isAlive()&&i.leapBy(new r(0,0),!0,1,600,!0,!1,!1,!1)}),t)},o.playDirtSpawn=function(t){this.playFallFromSky(t)},o.onWalkStart=function(){this.hopping=!1,this.walkIdleCD=1/0},o.walkDisScale=function(){return this.hopping?8:0},o.specialAnimationListener=function(t){"walkStart"==t.name?(this.hopping=!0,p.play(s.getRandom(this.hopSound),.7,.1)):"walkEnd"==t.name?(this.hopping=!1,this.walkIdleCD=1/0):"walkIdle"==t.name?(this.hopping=!1,this.walkIdleCD=this.walkIdleDuration,this.body.playAnimation("Idle",1/0)):"chew"==t.name?p.play(s.getRandom(this.eatSound),.7,.1):"deathFall"==t.name?p.play(this.deathFallSound,.7,.1):"expand"==t.name?p.play(this.expandSound,1,.1):"mouthHitDeactivate"==t.name?p.play(this.mouthDeactivateSound,1,.1):"mouthHitActivate"==t.name?p.play(this.mouthActivateSound,1,.1):"mouthHit"==t.name?p.play(s.getRandom([this.mouthActivateSound,this.mouthDeactivateSound]),1,.1):"mechStun"==t.name&&this.body.playAnimation("StunLoop",1/0)},o.chilibeanFart=function(){},o.specialZombieUpdate=function(t,i,e){this.empCD>0&&(this.empCD-=t,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),p.play(this.activateSound,1,.1))),this.walking&&this.walkIdleCD>0&&(this.walkIdleCD-=t,this.walkIdleCD<=0&&(this.body.playAnimation("Walk",1/0),this.walkIdleCD=1/0))},o.empStun=function(t){void 0===t&&(t=10),this.empCD<=0&&(this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),p.play(this.deactivateSound,1,.1)),this.empCD=this.empCD<t?t:this.empCD},o.specialZombieOnEnable=function(){this.hopping=!1,this.empCD=0,this.walkIdleCD=1/0},o.specialZombieOnLanding=function(){!this.isAlive()||"Fly"!=this.body.currentAnimationName&&"Fall"!=this.body.currentAnimationName?this.judgeDeath(0):(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1),p.play(this.landSound,.7,.1))},i}(h)).prototype,"eatSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(A.prototype,"hopSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(A.prototype,"deathFallSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(A.prototype,"landSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(A.prototype,"expandSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(A.prototype,"fallSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(A.prototype,"activateSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(A.prototype,"deactivateSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(A.prototype,"mouthActivateSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(A.prototype,"mouthDeactivateSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=A))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/FutureInfiNutShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FutureProtectorShieldZombie.ts"],(function(t){var e,i,n,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator},function(t){r=t.FutureProtectorShieldZombie}],execute:function(){var o;n._RF.push({},"0c89dloB/ZEOqdPgFvmbi+U","FutureInfiNutShieldZombie",void 0);var s=a.ccclass;a.property,t("FutureInfiNutShieldZombie",s("FutureInfiNutShieldZombie")(o=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).masterPlant=void 0,e._hurtStage=0,e}e(n,t);var a=n.prototype;return a.detectPlant=function(t){var e=this;this.inLane&&this.hypno&&this.inLane.zombiePool().forEach((function(t){t.tallNutBlock&&t.knockBackTween&&t.leapHeightTween&&e.bodyRec.judgeCrossRec(t.bodyRec)&&(t._onKnockBackEnd(),t.onLeapEnd(!0),t.height=0,t.onTallNutBlocked())}))},a.shieldDieForced=function(){var t;null==(t=this.masterPlant)||t.shieldOnDamaged(this,-1),this.masterPlant=null},a.readStage=function(t){for(var e=0,i=2;i>=0;i--)if(t>i/3*this.toughness){e=2-i;break}this.hurtStage!=e&&(this.hurtStage=e)},a.onDamaged=function(t,e,i){var n;this.readStage(e),null==(n=this.masterPlant)||n.shieldOnDamaged(this,e)},a.shieldOnEnable=function(){this.masterPlant=null},i(n,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:this.idleAnm="Idle1";break;case 2:this.idleAnm="Idle2";break;default:this.idleAnm="Idle",t=0}t!=this._hurtStage&&(this.body.playAnimation(this.idleAnm,1/0),this._hurtStage=t),this._hurtStage=t}}]),n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/FutureJetpackZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var i,n,e,o,a,s,l,r,c,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){r=t.Zombie},function(t){c=t.PlantType},function(t){u=t.ArrayGet},function(t){h=t.sounds}],execute:function(){var p,d,y,b,f,m,g;a._RF.push({},"37be5lN91pBzp7ia+0w4ui3","FutureJetpackZombie",void 0);var k=s.ccclass,R=s.property;t("FutureJetpackZombie",(p=k("FutureJetpackZombie"),d=R([l]),y=R([l]),p((m=i((f=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this).rosen=!1,e(i,"bounceSound",m,o(i)),e(i,"steadySound",g,o(i)),i}n(i,t);var a=i.prototype;return a.specialAnimationListener=function(t){"walk"==t.name?(this.switching=!1,this.isAlive()&&this.playWalk()):"steady"==t.name?h.play(u.getRandom(this.steadySound),1,.5):"bounce"==t.name&&this.playOneShot(u.getRandom(this.bounceSound))},a.lockedTimeScale=function(){return this.fallingInSky?.001:-1},a.playDirtSpawn=function(t){this.walking=!1,this.switching=!0,this.body.playAnimation("Summon",1)},a.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_High")},a.land=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1),this.body.WalkAnm="Walk",this.rosen=!1)},a.detectPlant=function(t){var i;if(this.inLane){if(0!=t&&this.detectPlantOn()){var n=this.plantDetectorRec,e=null,o=null,a=null;if(!this.ignorePlants())if(this.hypno){var s=1/0;this.inLane.zombiePool().forEach((function(t){var i=t.bodyRec.prjX().x;i<s&&t.bodyRec.judgeCrossRec(n)&&(s=i,o=t)})),s=1/0,this.inLane.tombPool().forEach((function(t){var i=t.bodyRec.prjX().x;i<s&&t.bodyRec.judgeCrossRec(n)&&(s=i,a=t)}))}else{this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&!t.short_&&n.judgeCrossRec(t.bodyRec)&&(e&&t.plantType!=c.vine&&t.plantType!=c.plant&&t.plantType!=c.lilyPad&&t.plantType!=c.pot||(!e||e&&!e.tall_)&&(e=t))}));var l=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var i=t.bodyRec.prjX().y;i>l&&t.bodyRec.judgeCrossRec(n)&&(l=i,o=t)}))}null!=(i=e)&&i.tall_||o||a?this.rosen?this.land():(o?o.dealDamage(this.dps*t,!0,!1,!1,null):a?a.dealDamage(this.dps*t):e&&e.eat(this.dps*t,this),this.playEat(t)):e?this.rosen||this.rise():this.rosen?this.land():this.playWalk()}}else this.playWalk()},a.specialZombieOnEnable=function(){this.rosen=!1,this.body.WalkAnm="Walk",this.walking=!1,this.playWalk()},i}(r)).prototype,"bounceSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=i(f.prototype,"steadySound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechConeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var e,n,o,s,i,a,u,r,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,u=t._decorator,r=t.AudioClip},function(t){l=t.MechZombie},function(t){c=t.sounds},function(t){p=t.ArrayGet}],execute:function(){var h,b,S,d,f,m,y,g,_,v,D,F,M,w,z;a._RF.push({},"19faf7nOJtA/oOIUU5b1ULA","FutureMechConeZombie",void 0);var E=u.ccclass,I=u.property;t("FutureMechConeZombie",(h=E("FutureMechConeZombie"),b=I([r]),S=I([r]),d=I([r]),f=I([r]),m=I([r]),y=I([r]),h((v=e((_=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,o(e,"deathFallSounds",v,s(e)),o(e,"curveSounds",D,s(e)),o(e,"footStepsSounds",F,s(e)),o(e,"eatStartSounds",M,s(e)),o(e,"mouthOpenSounds",w,s(e)),o(e,"armBackSounds",z,s(e)),e}n(e,t);var a=e.prototype;return a.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},a.specialMechOnEnable=function(){this.hurtStage=0},a.onDamaged=function(t,e,n){for(var o=6,s=0;s<7;s++)if(e>(7-s-1)/7*this.toughness){o=s;break}o!=this.hurtStage&&(this.hurtStage=o)},a.specialMechAnimationListener=function(t){"mouthOpen"==t.name?c.play(p.getRandom(this.mouthOpenSounds),1,.1):"eatStart"==t.name?c.play(p.getRandom(this.eatStartSounds),1,.1):"footStep"==t.name?c.play(p.getRandom(this.footStepsSounds),1,.1):"curveSound"==t.name?c.play(p.getRandom(this.curveSounds),3,.1):"deathFall"==t.name&&c.play(p.getRandom(this.deathFallSounds),1,.1)},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(l)).prototype,"deathFallSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(_.prototype,"curveSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(_.prototype,"footStepsSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(_.prototype,"eatStartSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(_.prototype,"mouthOpenSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(_.prototype,"armBackSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=_))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechDiscoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./NodePools.ts","./Zombie.ts","./Square.ts","./Zombies.ts","./SoundsController.ts"],(function(t){var e,i,n,s,o,a,u,l,c,r,h,p,d,m,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,u=t._decorator,l=t.AudioClip},function(t){c=t.MechZombie},function(t){r=t.sounds},function(t){h=t.ArrayGet},function(t){p=t.zombieDamageType},function(t){d=t.Square},function(t){m=t.zombies,b=t.ZombieEnum},function(t){f=t.MusicController}],execute:function(){var S,y,D,g,C,_,E,w,Z,M,k,v,x,I,A,z,F;a._RF.push({},"3d801ZA4tZFC4XqxIZXa16M","FutureMechDiscoZombie",void 0);var P=u.ccclass,j=u.property;t("FutureMechDiscoZombie",(S=P("FutureMechDiscoZombie"),y=j([l]),D=j([l]),g=j([l]),C=j(l),_=j(l),E=j(l),w=j(l),S((k=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,e.danceCD=6,e.danceEndCD=1,n(e,"chewSounds",k,s(e)),n(e,"stepSounds",v,s(e)),n(e,"summonEndSounds",x,s(e)),n(e,"pullSound",I,s(e)),n(e,"summonSound",A,s(e)),e._summonedZombies=[],n(e,"musicClip",z,s(e)),n(e,"musicClipWeak",F,s(e)),e}i(e,t);var a=e.prototype;return a.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},a.specialMechOnEnable=function(){this.hurtStage=0,this.danceEndCD=1/0,this.danceCD=this.objdata.DanceCountdown,this._summonedZombies=[]},a.onDamaged=function(t,e,i){for(var n=6,s=0;s<7;s++)if(e>(7-s-1)/7*this.toughness){n=s;break}n!=this.hurtStage&&(this.hurtStage=n)},a.specialMechAnimationListener=function(t){"chew"==t.name?r.play(h.getRandom(this.chewSounds),1,.1):"step"==t.name?r.play(h.getRandom(this.stepSounds),1,.1):"pull"==t.name?r.play(this.pullSound,1,.1):"summonStart"==t.name&&(this.body.playAnimation("SummonLoop",1/0),r.play(this.summonSound,1,.1),this.danceEndCD=this.objdata.SummonDuration,this._summonJetpacks())},a._summonJetpacks=function(){var t=this;if(this.inLane){var e={lane:this.lIndex,offset:1.2*-d.SquareDisW},i={lane:this.lIndex,offset:1.2*d.SquareDisW},n={lane:this.lIndex-1,offset:0},s={lane:this.lIndex+1,offset:0};this._summonedZombies=[],[e,i,n,s].forEach((function(e){if(e.lane>=0&&e.lane<=4){var i=m.createZombie(e.lane,b.future_jetpack_disco);i.hypno=t.hypno,i.reversed=t.reversed,i.worldPositionX=t.worldPositionX+e.offset,i.playDirtSpawn(0),t._summonedZombies.push(i)}}))}},a.playSpecialMechDie=function(t){isFinite(this.danceEndCD)&&this.killAllSummoned()},a.playMusic=function(){f.discoPlayed?r.play(this.musicClipWeak,1,1.5*this.musicClipWeak.getDuration()):(f.insertMusic(this.musicClip),f.discoPlayed=!0)},a.killAllSummoned=function(){this._summonedZombies.forEach((function(t){t.isAlive()&&t.playDie(!1,null,!0,p.physicle,!0,!0,!0)})),this._summonedZombies=[]},a.onEmpStunStart=function(){this.danceCD=this.objdata.DanceDuration/2,isFinite(this.danceEndCD)&&this.killAllSummoned(),this.danceEndCD=1/0},a.specialMechUpdate=function(t){this.empCD<=0&&this.enteredLawn&&(!this.switching&&this.walking&&this.cIndex<9?this.danceCD>0?this.danceCD-=t:(this.correctShadeWP(),this.walking=!1,this.switching=!0,this.body.playAnimation("SummonStart",1/0),this.playMusic(),this.danceEndCD=1/0,this.danceCD=this.objdata.DanceDuration):this.danceEndCD>0?this.danceEndCD-=t:(this.body.playAnimation("SummonEnd",1/0,.1),this._summonedZombies=[],r.play(h.getRandom(this.summonEndSounds),1,.1),this.danceCD=this.objdata.DanceDuration,this.danceEndCD=1/0))},o(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(c)).prototype,"chewSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(M.prototype,"stepSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(M.prototype,"summonEndSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(M.prototype,"pullSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"summonSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(M.prototype,"musicClip",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(M.prototype,"musicClipWeak",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=M))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechFootballZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./NodePools.ts","./SoundRescourses.ts","./Zombies.ts"],(function(t){var e,n,a,o,i,s,l,r,c,u,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.AudioClip},function(t){c=t.MechZombie},function(t){u=t.ArrayGet},function(t){h=t.sounds},function(t){p=t.ZombieEnum}],execute:function(){var f,b,d,y,g,S,v,m,P,R,D;s._RF.push({},"fe1bcEG9ulHEr2IDVzU8cHN","FutureMechFootballZombie",void 0);var E=l.ccclass,L=l.property,I=t("footballmech",function(){function t(){}return t.pushPlantLeft=function(t,e){var n=this;if(void 0===e&&(e=0),!t||!t.plantInLnC)return!1;var a=t.plantInLnC.getAllPlants(!0,!1),o=!0;if(a.forEach((function(t){o&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(o=!1)})),!o)return e>0&&a[0].dealDamage(e,0),!1;var i=t.plantInLnC.lefter;if(!i.isInLawn())return a.forEach((function(t){t.throwAway()})),!0;for(var s,l=function(){var t=!0;if(a.forEach((function(e){t&&(i.putPlantAvailable(e.TYPE,!1,e.ID)||(t=!1))})),t){var e=i.getAllPlants(!0,!1),o=!1;return e.length>0&&(o=!n.pushPlantLeft(e[0],0)),o?a.forEach((function(t){t.throwAway()})):a.forEach((function(t){t.leapTo(i,.5,t.plantInLnC.cIndex-i.cIndex==1?0:100,!0,!1)})),{v:!0}}if(!(i=i.lefter).isInLawn())return a.forEach((function(t){t.throwAway()})),{v:!0}};;)if(s=l())return s.v},t.pushPlantRight=function(t,e){var n=this;if(void 0===e&&(e=0),!t||!t.plantInLnC)return!1;var a=t.plantInLnC.getAllPlants(!0,!1),o=!0;if(a.forEach((function(t){o&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(o=!1)})),!o)return e>0&&a[0].dealDamage(e,0),!1;var i=t.plantInLnC.righter;if(!i.isInLawn())return a.forEach((function(t){t.throwAway(!1)})),!0;for(var s,l=function(){var t=!0;if(a.forEach((function(e){t&&(i.putPlantAvailable(e.TYPE,!1,e.ID)||(t=!1))})),t){var e=i.getAllPlants(!0,!1),o=!1;return e.length>0&&(o=!n.pushPlantRight(e[0],0)),o?a.forEach((function(t){t.throwAway(!1)})):a.forEach((function(t){t.leapTo(i,.5,t.plantInLnC.cIndex-i.cIndex==-1?0:100,!0,!1)})),{v:!0}}if(!(i=i.righter).isInLawn())return a.forEach((function(t){t.throwAway(!1)})),{v:!0}};;)if(s=l())return s.v},t}());t("FutureMechFootballZombie",(f=E("FutureMechFootballZombie"),b=L(r),d=L(r),y=L([r]),g=L([r]),f((m=e((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,a(e,"deathFallSound",m,o(e)),a(e,"deactivateFallSound",P,o(e)),a(e,"stepSounds",R,o(e)),a(e,"pushSounds",D,o(e)),e}n(e,t);var s=e.prototype;return s.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},s.specialMechOnEnable=function(){this.hurtStage=0},s.onDamaged=function(t,e,n){for(var a=6,o=0;o<7;o++)if(e>(7-o-1)/7*this.toughness){a=o;break}a!=this.hurtStage&&(this.hurtStage=a)},s.specialMechAnimationListener=function(t){"step"==t.name?h.play(u.getRandom(this.stepSounds),1,.2):"push"==t.name?(h.play(u.getRandom(this.pushSounds),1,.1),this._pushPlants()):"deactivateFall"==t.name?h.play(this.deactivateFallSound,1,.1):"deathSound"==t.name&&h.play(this.deathFallSound,1,.1)},s.detectPlant=function(t){var e=this;if(this.detectPlantOn())if(this.inLane){if(!(t<=0)){var n=!1;this.hypno?(this.inLane.zombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.tombPool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))):(this.inLane.plantPool().forEach((function(t){n||t.eaterDetectable&&!t.short_&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))),n?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Push",1/0)):this.playWalk()}}else this.playWalk()},s._pushPlants=function(){var t=this,e=null,n=null,a=null;if(this.hypno){var o=1/0;this.inLane.zombiePool().forEach((function(e){var a=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&a<o&&(n=e,o=a)})),this.inLane.tombPool().forEach((function(e){var n=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&n<o&&(a=e,o=n)}))}else{this.inLane.plantPool().forEach((function(n){!n.short_&&n.eaterDetectable&&n.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(!e||e.bodyRec.prjX().y<n.bodyRec.prjX().y)&&(e=n)}));var i=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var a=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&a>i&&(n=e,i=a)}))}if(n){var s=this.objdata.PushFailDamage;n.ID==p.future_infinut_shield&&(s=n.toughness/3),n.dealDamage(s,!0,!0,!0)}else e?this.reversed?I.pushPlantRight(e,this.objdata.PushFailDamage):I.pushPlantLeft(e,this.objdata.PushFailDamage):a&&a.dealDamage(this.objdata.PushFailDamage)},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(c)).prototype,"deathFallSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(v.prototype,"deactivateFallSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(v.prototype,"stepSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(v.prototype,"pushSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=v))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts"],(function(n){var t,o,i,e,s,a,u,r,l,c,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized,s=n.createClass},function(n){a=n.cclegacy,u=n._decorator,r=n.AudioClip},function(n){l=n.Zombie},function(n){c=n.sounds},function(n){h=n.ArrayGet},function(n){p=n.Rectangle}],execute:function(){var d,f,S,w,m,y,b;a._RF.push({},"d88a7MgmMpG14bO0whEAs2Y","FutureProtectorShieldZombie",void 0);var _=u.ccclass,g=u.property;n("FutureProtectorShieldZombie",(d=_("FutureProtectorShieldZombie"),f=g([r]),S=g(r),d((y=t((m=function(n){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=n.call.apply(n,[this].concat(s))||this).isRealZombie=!1,i(t,"spawnSounds",y,e(t)),i(t,"loopSound",b,e(t)),t.idleAnm="Idle",t.master=void 0,t.potatoMineDisappear=!1,t.finalWaveVictoryCountdown=0,t._upSlots=[],t._upShown=!0,t.brainEater=!1,t._downSlots=[],t._downShown=!0,t.leapable=!1,t._pos=3,t}o(t,n);var a=t.prototype;return a.setChiliStun=function(n){return!1},a.setChill=function(n){return!1},a.setFreeze=function(n,t){return!1},a.chilibeanFart=function(){},a.addArmor=function(n){return null},a.playDirtSpawn=function(n){},a.setButter=function(n,t){return!1},a.setPoison=function(n,t,o){},a.setPerfume=function(n){},a.setSunBeanParticleCD=function(n){},a.stun=function(n){},a.triggerGameLose=function(){},a.playTeleportSpawn=function(){},a.playPopOut=function(){},a.detectPlant=function(n){},a.knockBackBy=function(n,t,o,i,e,s){},a.knockBackTo=function(n,t,o,i,e){},a.leapBy=function(n,t,o,i,e,s,a,u){},a.leapTo=function(n,t,o,i,e,s,a){},a.dealHurrikale=function(n){},a.specialZombieOnEnable=function(){this.walking=!1,this.master=null,this.setRandomSpeed(this.squarePerSec,0),this.body.playAnimation("Spawn",1/0),this.playOneShot(h.getRandom(this.spawnSounds),1,!0),this.upShown=!0,this.downShown=!0,this.idleAnm="Idle",this.shieldOnEnable()},a.shieldOnEnable=function(){},a.specialAnimationListener=function(n){"idle"==n.name&&this.body.playAnimation(this.idleAnm,1/0)},a.onDamaged=function(n,t,o){var i;t>0&&"Hit"!=this.body.body.animationName&&this.body.playAnimation("Hit"),null==(i=this.master)||i.shieldOnDamaged(this,t)},a.onLaneSpawnSettled=function(n){this.worldPositionY=n.midY},a.playSpecialZombieDie=function(n){this.judgeDeath()},a.playSpecialZombieDieForced=function(){var n;null==(n=this.master)||n.shieldOnDamaged(this,-1),this.master=null,this.shieldDieForced()},a.shieldDieForced=function(){},a.blowAway=function(n){},a.tossAway=function(){this.playDie()},a.playSandStorm=function(n,t){this.worldPositionX=n},a.willTrampleFlower=function(){return!1},a.playFall=function(){},a.specialZombieOnLoad=function(){var n,t=this;this._upSlots=[],this._downSlots=[],null==(n=this.body.body.armature())||null==(n=n.getSlots())||n.forEach((function(n){n.name.includes("U")?t._upSlots.push(n):n.name.includes("D")&&t._downSlots.push(n)}))},a.dropSea=function(){},a.setPlantDetectorRec=function(){this.plantDetectorRec=new p},a.specialZombieUpdate=function(n,t,o){this.loopSound&&c.play(this.loopSound,1,this.loopSound.getDuration()-.2)},s(t,[{key:"upShown",get:function(){return this._upShown},set:function(n){this._upSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._upShown=n}},{key:"downShown",get:function(){return this._downShown},set:function(n){this._downSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._downShown=n}},{key:"pos",get:function(){return this._pos},set:function(n){switch(n){case 0:this.upShown=!1,this.downShown=!1;break;case 1:this.upShown=!0,this.downShown=!1;break;case 2:this.upShown=!1,this.downShown=!0;break;default:n=3,this.upShown=!0,this.downShown=!0}this._pos=n}}]),t}(l)).prototype,"spawnSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(m.prototype,"loopSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts","./Zombies.ts"],(function(t){var i,e,s,l,o,n,a,h,r,u,c,d,p,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,a=t._decorator,h=t.AudioClip},function(t){r=t.MechZombie},function(t){u=t.sounds},function(t){c=t.ArrayGet},function(t){d=t.Square},function(t){p=t.zombies,S=t.ZombieEnum}],execute:function(){var b,f,m,y,D,w,g,v,k,_,C,I,E;n._RF.push({},"fd28dWhY1tBca3P2QNvrbHq","FutureProtectorZombie",void 0);var x=a.ccclass,P=a.property;t("FutureProtectorZombie",(b=x("FutureProtectorZombie"),f=P([h]),m=P(h),y=P(h),D=P(h),w=P(h),b((k=i((v=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return i=t.call.apply(t,[this].concat(o))||this,s(i,"cutSounds",k,l(i)),s(i,"mouthOpenSound",_,l(i)),s(i,"mouthCloseSound",C,l(i)),s(i,"armBackSound",I,l(i)),s(i,"walkLoopSound",E,l(i)),i.mechDeathFadeInTime=0,i._hurtStage=0,i.shields=[],i.shieldDistance=.95,i.spawnShieldCD=0,i.shieldKillWalkCD=0,i.bp0Slots=[],i.bp1Slots=[],i.bp2Slots=[],i.bp3Slots=[],i.bp4Slots=[],i.bp5Slots=[],i.hatSlot=null,i}e(i,t);var n=i.prototype;return n.specialMechAnimationListener=function(t){"cut"==t.name?u.play(c.getRandom(this.cutSounds),1):"mouthOpen"==t.name?u.play(this.mouthOpenSound,1,.2):"mouthClose"==t.name?u.play(this.mouthCloseSound,1,.2):"armBack"==t.name&&u.play(this.armBackSound,1,.2)},n.playSpecialMechDieForced=function(){this.killAllShields()},n.specialZombieUpdateForced=function(t,i,e){this.hatSlot&&this.hatSlot._setDisplayIndex(this.shields[0]?1:0)},n.specialMechOnEnable=function(){this.shields=[],this.hurtStage=0,this.shieldKillWalkCD=0,this.spawnShieldCD=0},n.canHaveShield=function(){return!(this.leapHeightTween||this.knockBackTween||this.empCD>0||this.changeLaneTween||this.hypno)&&(!!this.isAlive()&&!!this.isInLawn())},n.killAllShields=function(){this.shields[0]&&(this.spawnShieldCD=this.objdata.ShieldRecoverTime,this.shieldKillWalkCD=this.objdata.ShieldKillStunTime,this.isAlive()&&!this.switching&&this.playIdle(),this.switching=!0),this.shields.forEach((function(t){t.playDie()})),this.shields=[]},n.shieldOnDamaged=function(t,i){i>0?this.shields.forEach((function(e){e!=t&&(e.health=i,"Hit"!=e.body.body.animationName&&e.body.playAnimation("Hit",1/0))})):this.killAllShields()},n.spawnShields=function(){var t=this;if(!this.shields[0]){this.shieldKillWalkCD=this.objdata.ShieldKillStunTime,this.switching=!0,this.spawnShieldCD,this.playIdle(),u.play(this.activateSound,1,.1);var i=[],e=p.createZombie(this.lIndex,S.future_protector_shield);if(i.push(e),e.pos=0,this.lIndex>0){var s=p.createZombie(this.lIndex-1,S.future_protector_shield);i.push(s),s.pos=1}else e.pos=1;if(this.lIndex<4){var l=p.createZombie(this.lIndex+1,S.future_protector_shield);i.push(l),l.pos=2}else e.pos=2;i.forEach((function(i){i.master=t,i.reversed=t.reversed,i.worldPositionX=t.worldPositionX+(t.reversed?1:-1)*t.shieldDistance*d.SquareDisW})),this.shields=i}},n.onDamaged=function(t,i,e){for(var s=6,l=0;l<7;l++)if(i>(7-l-1)/7*this.toughness){s=l;break}s!=this.hurtStage&&(this.hurtStage=s)},n.specialMechZombieOnLoad=function(){var t=this;this.bp0Slots=[],this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.body.body.armature().getSlots().forEach((function(i){i.name.includes("_bp0")?t.bp0Slots.push(i):i.name.includes("_bp1")?t.bp1Slots.push(i):i.name.includes("_bp2")?t.bp2Slots.push(i):i.name.includes("_bp3")?t.bp3Slots.push(i):i.name.includes("_bp4")?t.bp4Slots.push(i):i.name.includes("_bp5")?t.bp5Slots.push(i):"hat"==i.name&&(t.hatSlot=i)}))},n.onEmpStunStart=function(){this.spawnShieldCD=0,this.shieldKillWalkCD=0},n.specialMechUpdate=function(t){var i=this;t>0&&this.empCD<=0&&(u.play(this.walkLoopSound,1,this.walkLoopSound.getDuration()-.2),this.shieldKillWalkCD>0&&(this.shieldKillWalkCD-=t,this.shieldKillWalkCD<=0&&(this.switching=!1,this.detectPlant(t)))),this.canHaveShield()&&!this.body.currentAnimationName.includes("Stun")?this.shields[0]?this.shields.forEach((function(t){t.worldPositionX=i.worldPositionX+(i.reversed?1:-1)*i.shieldDistance*d.SquareDisW,t.reversed!=i.reversed&&(t.reversed=i.reversed)})):this.spawnShieldCD>0?this.walking&&(this.spawnShieldCD-=t):t>0&&this.spawnShields():this.shields[0]&&this.killAllShields()},o(i,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp0Slots.forEach((function(i){i._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(i){i._setDisplayIndex(t>1?0:-1)})),this.bp2Slots.forEach((function(i){i._setDisplayIndex(t>2?0:-1)})),this.bp3Slots.forEach((function(i){i._setDisplayIndex(t>3?0:-1)})),this.bp4Slots.forEach((function(i){i._setDisplayIndex(t>4?0:-1)})),this.bp5Slots.forEach((function(i){i._setDisplayIndex(t>5?0:-1)})),this._hurtStage=t}}]),i}(r)).prototype,"cutSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(v.prototype,"mouthOpenSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(v.prototype,"mouthCloseSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(v.prototype,"armBackSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(v.prototype,"walkLoopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/FutureZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./CowboyZombossMechZombie.ts","./foodLinkTile.ts","./Tiles.ts"],(function(o){var e,n,t,i,u,a,l,r,s,d,h,S,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,a=o._decorator,l=o.AudioClip},function(o){r=o.ZombossMechZombie},function(o){s=o.sounds},function(o){d=o.CowboyZombossFireProps},function(o){h=o.FoodLinkTileTypeEnum},function(o){S=o.tiles,p=o.TileEnum}],execute:function(){var c,b,m,y,f,g,L,B,w,k,C,z,O,F,M,Z,E,P,v,R,T,H,_,D,I,A,x,W,j,G,U,V,X,q,J,K,N,Q,Y,$,oo,eo,no,to,io,uo,ao,lo,ro,so,ho;u._RF.push({},"27b07oFkjFB0pL1BxX6DVhU","FutureZombossMechZombie",void 0);var So=a.ccclass,po=a.property;o("FutureZombossMechZombie",(c=So("FutureZombossMechZombie"),b=po(l),m=po(l),y=po(l),f=po(l),g=po(l),L=po(l),B=po(l),w=po(l),k=po(l),C=po(l),z=po(l),O=po(l),F=po(l),M=po(l),Z=po(l),E=po(l),P=po(l),v=po(l),R=po(l),T=po(l),H=po(l),_=po(l),D=po([d]),I=po([d]),c((W=e((x=function(o){function e(){for(var e,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=o.call.apply(o,[this].concat(u))||this,t(e,"stunStartSound",W,i(e)),t(e,"stunStartLandSound",j,i(e)),t(e,"stunEndSound",G,i(e)),t(e,"stunEndLandSound",U,i(e)),t(e,"mouthOpenBodyFallSound",V,i(e)),t(e,"mouthOpenBodyHitSound",X,i(e)),t(e,"mouthOpenSound",q,i(e)),t(e,"mouthCloseSound",J,i(e)),t(e,"mouthCloseBodyRiseSound",K,i(e)),t(e,"mouthCloseBodyCallSound",N,i(e)),t(e,"riseOnSound",Q,i(e)),t(e,"riseOffSound",Y,i(e)),t(e,"sparkSound",$,i(e)),t(e,"shootStartSound",oo,i(e)),t(e,"shootBodyPushSound",eo,i(e)),t(e,"shootBodyFallSound",no,i(e)),t(e,"eyeBackSound",to,i(e)),t(e,"shootMissilePushSound",io,i(e)),t(e,"deathStartSound",uo,i(e)),t(e,"introFlySound",ao,i(e)),t(e,"introSuckSound",lo,i(e)),t(e,"introSuckHitSound",ro,i(e)),t(e,"MissileLocator",so,i(e)),t(e,"MissileLocator2",ho,i(e)),e}n(e,o);var u=e.prototype;return u.specialZombossMechAnimationListener=function(o){"stunEndSound"==o.name?s.play(this.stunEndSound,1,.1):"stunEndLandSound"==o.name?s.play(this.stunEndLandSound,1,.1):"headAppear"==o.name?(s.play(this.introFlySound,1,.1),this.shadeAlphaScale=1):"introSuckSound"==o.name?s.play(this.introSuckSound,1,.1):"introSuckHitSound"==o.name?s.play(this.introSuckHitSound,1,.1):"mouthOpenBodyFallSound"==o.name?s.play(this.mouthOpenBodyFallSound,1,.1):"mouthOpenBodyHitSound"==o.name?s.play(this.mouthOpenBodyHitSound,1,.1):"mouthOpenSound"==o.name?s.play(this.mouthOpenSound,1,.1):"mouthCloseSound"==o.name?s.play(this.mouthCloseSound,1,.1):"mouthCloseBodyRiseSound"==o.name?s.play(this.mouthCloseBodyRiseSound,1,.1):"mouthCloseBodyCallSound"==o.name?s.play(this.mouthCloseBodyCallSound,1,.1):"stunStartSound"==o.name?s.play(this.stunStartSound,1,.1):"stunStartLandSound"==o.name?s.play(this.stunStartLandSound,1,.1):"riseOnSound"==o.name?s.play(this.riseOnSound,1,.1):"riseOffSound"==o.name?s.play(this.riseOffSound,1,.1):"sparkSound"==o.name?s.play(this.sparkSound,1,.1):"shootStartSound"==o.name?s.play(this.shootStartSound,1,.1):"shootBodyPushSound"==o.name?s.play(this.shootBodyPushSound,1,.1):"shootBodyFallSound"==o.name?s.play(this.shootBodyFallSound,1,.1):"eyeBackSound"==o.name?s.play(this.eyeBackSound,1,.1):"shootMissilePushSound"==o.name?s.play(this.shootMissilePushSound,1,.1):"deathStartSound"==o.name&&s.play(this.deathStartSound,1,.1)},u.specialZombossMechOnEnable=function(){this.shadeAlphaScale=0},u.foodLinkerShootInterupt=function(){this.shootInterupt(!1)},u.getShootTargetLnCs=function(){var o=this,e=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,n=e[this.currentStage]?e[this.currentStage]:new d,t=n.shootPlantEmptyRate,i=n.shootRailWeight/(n.shootRailWeight+n.shootPlantWeight);if(Math.random()>i)return this.defaultGetShootTargetLnCs(t);var u=[],a=0,l=[0,0,0,0,0];S.tilePool().forEach((function(o){o.tileID==p.foodLinker&&l[o.foodLinkID]++}));var r=0;if(l.forEach((function(o,e){o>r&&(a=e,r=o)})),r&&S.tilePool().forEach((function(e){if(!(u.length>=n.shootRailCount)&&e.tileID==p.foodLinker){var t,i=e;i.foodLinkID==a&&null!=(t=i.inLnC)&&t.isInLawn()&&-1==u.indexOf(i.inLnC)&&(u.push(i.inLnC),i.locatingZomboss=o)}})),u.length){var s="Shoot_alpha";switch(a){case h.beta:s="Shoot_beta";break;case h.gamma:s="Shoot_gamma";break;case h.delta:s="Shoot_delta";break;case h.epsilon:s="Shoot_epsilon"}return this.body.playAnimation(s,1),u}return this.defaultGetShootTargetLnCs(t)},e}(r)).prototype,"stunStartSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(x.prototype,"stunStartLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(x.prototype,"stunEndSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"stunEndLandSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(x.prototype,"mouthOpenBodyFallSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(x.prototype,"mouthOpenBodyHitSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(x.prototype,"mouthOpenSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(x.prototype,"mouthCloseSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(x.prototype,"mouthCloseBodyRiseSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(x.prototype,"mouthCloseBodyCallSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(x.prototype,"riseOnSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(x.prototype,"riseOffSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(x.prototype,"sparkSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=e(x.prototype,"shootStartSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=e(x.prototype,"shootBodyPushSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=e(x.prototype,"shootBodyFallSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=e(x.prototype,"eyeBackSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=e(x.prototype,"shootMissilePushSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=e(x.prototype,"deathStartSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=e(x.prototype,"introFlySound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=e(x.prototype,"introSuckSound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=e(x.prototype,"introSuckHitSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=e(x.prototype,"MissileLocator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ho=e(x.prototype,"MissileLocator2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=x))||A));u._RF.pop()}}}));

System.register("chunks:///_virtual/futureZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var e,t,o,u;return{setters:[function(s){e=s.inheritsLoose},function(s){t=s.cclegacy,o=s._decorator,u=s.Component}],execute:function(){var r;t._RF.push({},"8bf81cuw3NGk5t9cFu6Yllv","futureZombossMissile",void 0);var i=o.ccclass;o.property,s("futureZombossMissile",i("futureZombossMissile")(r=function(s){function t(){return s.apply(this,arguments)||this}return e(t,s),t}(u))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundsController.ts","./Zombies.ts","./Square.ts"],(function(e){var t,n,i,o,a,s,r,h,l,u,c,d,p,m,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,h=e.AudioClip,l=e.Node,u=e.Vec2},function(e){c=e.Zombie},function(e){d=e.ArrayGet},function(e){p=e.SoundFXController},function(e){m=e.zombies,f=e.ZombieEnum},function(e){g=e.Square}],execute:function(){var y,S,b,w,v,R,I,P,L,T,_,D,z,O,C,E,j,Z,A,F,x,G,X;s._RF.push({},"c2c47hz+DBG6rPjf1JE6vJA","GargantuarZombie",void 0);var W=r.ccclass,k=r.property,q=e("gargantuar",function(){function e(){}return e.throwOneImpToLnC=function(e,t,n,i,o,a,s,r){void 0===r&&(r=0);var h=new u(g.getSquareWorldPosition(i.lIndex,i.cIndex).x,i.inLane.floorY).add(new u(r,0));return this.throwOneImpToWP(e,t,n,h,o,a,s)},e.throwOneImpByLnC=function(e,t,n,i,o,a,s){var r=n.clone().add(new u(i.x*g.SquareDisW,i.y*g.SquareDisH));return this.throwOneImpToWP(e,t,n,r,o,a,s)},e.throwOneImpToWP=function(e,t,n,i,o,a,s){var r=m.getZombie(e);r.parent=t.zombieLayer;var h=r.getComponent(c);h.worldPosition=n;var l=i.clone();return h.flying=!0,h.height=o,h.leapTo(l,!0,s,a),h},e}());e("GargantuarZombie",(y=W("GargantuarZombie"),S=k([h]),b=k([h]),w=k([h]),v=k([h]),R=k([h]),I=k([h]),P=k([h]),L=k([h]),T=k([h]),_=k(l),y((O=t((z=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"stepSounds",O,o(t)),i(t,"deathPoleSounds",C,o(t)),i(t,"deathFallSounds",E,o(t)),i(t,"swingSounds",j,o(t)),i(t,"smashSounds",Z,o(t)),i(t,"afterSmashSaySounds",A,o(t)),i(t,"ImpThrowSaySounds",F,o(t)),i(t,"ImpThrowSounds",x,o(t)),i(t,"throwSounds",G,o(t)),t.isGargantuar=!0,i(t,"impThrower",X,o(t)),t.impEnum=f.modern_imp,t._haveImp=!0,t._impSlots=[],t}n(t,e);var s=t.prototype;return s.playEat=function(e){this.walking=!1},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){var n=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)})),this.inLane.tombPool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)}))):(this.inLane.plantPool().forEach((function(e){n||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){n||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(n=!0)}))),n?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Smash",1)):this.playWalk()}}else this.playWalk()},s.playSpecialZombieDie=function(e){this.judgeDeath()},s.specialZombieOnLoad=function(){var e=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_IMP")&&e._impSlots.push(t)}))},s.specialGargantuarOnEnable=function(){},s.specialZombieOnEnable=function(){this.haveImp=!0,this.specialGargantuarOnEnable()},s.throwImp=function(){this._throwImp()},s._throwImp=function(e,t,n){if(void 0===e&&(e=this.lIndex),void 0===t&&(t=this.reversed?6:2),void 0===n&&(n=250),this._haveImp){this.haveImp=!1;var i=q.throwOneImpToLnC(this.impEnum,this.inLane,new u(this.impThrower.worldPosition.x,this._worldPositionY),g.getLnC(e,t),this.impThrower.worldPosition.y-this._worldPositionY,n,1.5);return i.body.playAnimation("Fly",1/0),i.reversed=this.reversed,i.hypno=this.hypno,i}return null},s.specialAshPlayed=function(e){this._haveImp},s.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},s.specialZombieUpdate=function(e,t,n){e>0&&!this.switching&&this._haveImp&&this.health<this.toughness/2&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1),this.ImpThrowSaySounds.length&&this.audioSource.playOneShot(d.getRandom(this.ImpThrowSaySounds),p.SoundFXVolume))},s.onSmashing=function(){},s._smash=function(){var e,t=this,n=null,i=null,o=null;if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(e){var n=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&n<a&&(i=e,a=n)})),this.inLane.tombPool().forEach((function(e){var n=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&n<a&&(o=e,a=n)}))}else{this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(!n||n.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(n=e)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var n=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&n>s&&(i=e,s=n)}))}i?i.dealDamage(1500,!0,!0,!0,new u(i.worldPositionX-this.worldPositionX,i.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20)):n?null==(e=n)||e.smash(this,!0):o&&o.dealDamage(1500),this.onSmashing()},s.specialGargantuarAnimationListener=function(e){},s.specialAnimationListener=function(e){"step"==e.name&&this.stepSounds.length?this.playOneShot(d.getRandom(this.stepSounds),1,!0):"deathPole"==e.name&&this.deathPoleSounds.length?this.playOneShot(d.getRandom(this.deathPoleSounds),1,!0):"deathFall"==e.name&&this.deathFallSounds.length||"deathFall"==e.name&&this.deathFallSounds.length?this.playOneShot(d.getRandom(this.deathFallSounds),1,!0):"swing"==e.name&&this.swingSounds.length?this.playOneShot(d.getRandom(this.swingSounds),1,!0):"smash"==e.name?(this.smashSounds.length&&this.playOneShot(d.getRandom(this.smashSounds),1,!0),this._smash()):"afterSmash"==e.name&&this.afterSmashSaySounds.length?this.playOneShot(d.getRandom(this.afterSmashSaySounds)):"switchingFalse"==e.name?(this.switching=!1,this.isAlive()&&this.detectPlant(.001)):"impThrow"==e.name&&(this.throwImp(),this.throwSounds.length&&this.playOneShot(d.getRandom(this.throwSounds),1,!0),this.ImpThrowSounds.length&&this.playOneShot(d.getRandom(this.ImpThrowSounds))),this.specialGargantuarAnimationListener(e)},a(t,[{key:"haveImp",get:function(){return this._haveImp},set:function(e){this._haveImp=e,this._impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(c)).prototype,"stepSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(z.prototype,"deathPoleSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(z.prototype,"deathFallSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(z.prototype,"swingSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(z.prototype,"smashSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(z.prototype,"afterSmashSaySounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(z.prototype,"ImpThrowSaySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(z.prototype,"ImpThrowSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(z.prototype,"throwSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(z.prototype,"impThrower",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=z))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/GatlingPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,s,l,r,h,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Prefab,r=t.Node,h=t.Vec2},function(t){u=t.PeashooterPlant},function(t){p=t.ArrayGet}],execute:function(){var d,c,g,f,S,m,y;a._RF.push({},"7c304jCsOFJf6EXcGQQEYBT","GatlingPea",void 0);var b=s.ccclass,P=s.property;t("GatlingPeaPlant",(d=b("GatlingPeaPlant"),c=P([l]),g=P(r),d((m=n((S=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,i(n,"randomFoodPrj",m,e(n)),i(n,"peaSpawnpoint2",y,e(n)),n.gatlingSlots=[],n.gatlingTubeSlots=[],n}o(n,t);var a=n.prototype;return a.specialPeashooterOnEnable=function(){this.projectileSpeed=1},a.specialFightAloneStrengthen=function(t){t.Gunned&&this.upgrade()},a.specialPlantOnLoad=function(){var t=this;this.gatlingSlots=[],this.gatlingTubeSlots=[],this.anmControl.body.armature().getSlots().forEach((function(n){n.name.includes("_GUN")&&(n.name.includes("_GUNTUBE")&&t.gatlingTubeSlots.push(n),t.gatlingSlots.push(n))}))},a.onFoodLeftPeaCountDec=function(){var t=p.getRandom(this.randomFoodPrj.concat([this.pea]));if(this._shoot(!0,!0,t),this.lIndex>0){var n=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);n.linearVelocity=new h(15,17),n.deceleration=new h(0,-.9)}if(this.lIndex<4){var o=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);o.linearVelocity=new h(15,-17),o.deceleration=new h(0,.9)}},a.specialPlantFood=function(t){this.upgraded?(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0):(this.upgrade(),this.anmControl.playAnimation("FoodStart",2))},a.gunTubeIgnite=function(t){void 0===t&&(t=!0),this.upgraded&&this.gatlingTubeSlots.forEach((function(n){var o;null==(o=n.childArmature)||o.animation.play(t?"Shooting":"Idle",1/0)}))},a.specialPlantDie=function(){this.gunTubeIgnite(!1)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.gunTubeIgnite(!1),this.busy=0,this.soundRes.playFoodEnd()},a.animationListenerAdd=function(t){"Shoot"==t.name?this.soundRes.playShootSound(1.5):"ShootSide"==t.name?this.upgraded&&(this._shoot(!1,!1,this.pea,15,new h(1,-1.2),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,-.5),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,.5),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,1.2),this.peaSpawnpoint2)):"ShootStart"==t.name?this.gunTubeIgnite(!0):"ShootEnd"==t.name?this.gunTubeIgnite(!1):"foodStart"==t.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0)},a.animationCompleteAdd=function(){this.gunTubeIgnite(!1)},a.upgrade=function(){this.upgraded=!0,this.soundRes.playUpgrade(),this.gatlingSlots.forEach((function(t){t.displayIndex=0}))},n}(u)).prototype,"randomFoodPrj",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(S.prototype,"peaSpawnpoint2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=S))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/gem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./GemCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var e,o,t,r,i,u,c,a,l,p,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.dropping},function(n){l=n.GemCount},function(n){p=n.sounds},function(n){s=n.CoinCollecterInGame}],execute:function(){var d,f,m,g,C;i._RF.push({},"9c82ddzQiBIoIrReCwl2WVY","gem",void 0);var y=u.ccclass,h=u.property;n("gem",(d=y("gem"),f=h(c),d((C=e((g=function(n){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=n.call.apply(n,[this].concat(i))||this,t(e,"dropSound",C,r(e)),e}o(e,n);var i=e.prototype;return i.specialOnGroundHit=function(){p.play(this.dropSound,1,0)},i.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/GemSlot"},i.specialGoToUI=function(n){var e;s.component.hidden=!1,null==(e=l.component)||e.addGemCount(1)},e}(a)).prototype,"dropSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/GemCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,n,o,r,u,i,c,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,c=e.AudioClip},function(e){l=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var p,f,d,h,m,y;u._RF.push({},"e255fGKX6hKqqtVL4jk61z+","GemCount",void 0);var C=i.ccclass,v=i.property;e("GemCount",(p=C("GemCount"),f=v(c),p(((y=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,o(t,"gemCollectSound",m,r(t)),t}n(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.gem)?0:s.currentPlayer.gem,this.value=this._shownValue},u.addGemCount=function(e){this.value+=e,a.play(this.gemCollectSound,1,.1)},u.decGemCount=function(e){this.value-=e},u.buyGem=function(){this.addGemCount(1)},u.onValueSet=function(e){s.currentPlayer.gem=e,s.savePP()},u.onLoad=function(){t.component=this},t}(l)).component=void 0,m=t((h=y).prototype,"gemCollectSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./levelController.ts","./Zombie.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,n,o,i,a,r,l,s,u,c,h,d,f,p,m,y,C,b,g,w,S,z,P,k,E,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.AudioClip,s=e.Prefab,u=e.Color,c=e.AnimationComponent,h=e.input,d=e.Input,f=e.KeyCode,p=e.tween,m=e.dragonBones,y=e.Vec3},function(e){C=e.Plant,b=e.PlantProps},function(e){g=e.ZombiePool,w=e.TombPool,S=e.Rectangle},function(e){z=e.LevelPlay},function(e){P=e.zombieDamageType},function(e){k=e.Square},function(e){E=e.NodePools},function(e){F=e.sounds}],execute:function(){var v,I,L,D,_,R,A,O,x,T,B,j,W,q,G,H,M,N,U,K,Z,V,Y,J,Q,X,$,ee,te;a._RF.push({},"567d2qH5vZJW6Vx5t9S4QgI","GlacierShroom",void 0);var ne=r.ccclass,oe=r.property,ie=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).FreezeDuration=5,t.ChillDuration=5,t.ChillDurationAmbience=2,t.FreezeDamage=20,t.EatFreezeDuration=3,t.EatChillDuration=3,t.EatFreezeInterval=3.5,t.WakeTime=25,t}return n(t,e),t}(b),ae=(v=ne("glaciershroomSound"),I=oe([l]),L=oe([l]),D=oe([l]),_=oe(l),R=oe(l),A=oe(l),v((T=t((x=function(){function e(){o(this,"freezeSound",T,this),o(this,"steadySound",B,this),o(this,"eatFreezeSound",j,this),o(this,"tornadoSound",W,this),o(this,"wakeSound",q,this),o(this,"wakeCoffeeSound",G,this)}var t=e.prototype;return t.playFreezeSound=function(){F.playArray(this.freezeSound,1,.1)},t.playSteadySound=function(){F.playArray(this.steadySound,1,.1)},t.playEatFreezeSound=function(){F.playArray(this.eatFreezeSound,1,.1)},t.playTornadoSound=function(){F.play(this.tornadoSound,1,.1)},t.playWakeSound=function(){F.play(this.wakeSound,1,.1),F.play(this.wakeCoffeeSound,1,.1)},e}()).prototype,"freezeSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(x.prototype,"steadySound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"eatFreezeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(x.prototype,"tornadoSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"wakeSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(x.prototype,"wakeCoffeeSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=x))||O);e("GlacierShroomPlant",(H=ne("GlacierShroomPlant"),M=oe(ae),N=oe(s),U=oe(s),K=oe(u),Z=oe(u),H(((te=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new ie,o(t,"soundRes",J,i(t)),t.lit=!1,t.eatFreezeCooldown=0,o(t,"splatParticle",Q,i(t)),t.awaken=!0,t.sleeping=0,t.switching=!1,o(t,"tileChillBuff",X,i(t)),t.tileBuffParticles=[],o(t,"freezeColor1",$,i(t)),o(t,"freezeColor2",ee,i(t)),t.detector=void 0,t.screenColor=new u(0,0,0,0),t}n(t,e);var a=t.prototype;return a.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1),this.getComponent(c).stop(),this.anmControl.body.color=new u(255,255,255,255)},a.specialPlantOnEnable=function(){this.lit=!1,this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(-1)})),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"]},a.splat=function(e){void 0===e&&(e=!1);var t=E.instantiatePooly(this.splatParticle);t.parent=this.inLane.node,t.worldPosition=this.node.worldPosition.clone().add3f(0,e?40:0,0),e||t.setSiblingIndex(0)},a.specialPlantOnEaten=function(e,t,n,o){if(this.lit&&this.eatFreezeCooldown<=0){this.eatFreezeCooldown=this._objdataOwn.EatFreezeInterval;var i=this._objdataOwn.EatFreezeDuration,a=this._objdataOwn.EatChillDuration;this.detectInRangeEnemies().forEach((function(e){e.flying||e.setFreeze(i),e.setChill(a)})),this.splat(!0),this.soundRes.playEatFreezeSound()}},a.specialPlantOnLoad=function(){var e=this;h.on(d.EventType.KEY_DOWN,(function(n){z.gameStarted&&n.keyCode==f.KEY_I&&!t.keyListenCooldown&&(e.specialPlantOnMouseDown()&&(t.keyListenCooldown=!0))}),this)},a.animationListener=function(e){switch(e.name){case"Freeze":this.fooding&&(this.lit=!0,this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(0)})),this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.soundRes.playTornadoSound()),this.soundRes.playFreezeSound();var t=this._objdataOwn.FreezeDuration,n=this._objdataOwn.ChillDuration,o=this._objdataOwn.FreezeDamage;this._dmgScale&&(o*=this._dmgScale),g.pool().concat().forEach((function(e){e.flying||e.setFreeze(t),e.setChill(n),e.dealDamage(o,!1,!1,!1,null,P.physicle,!0,!0)})),w.pool().concat().forEach((function(e){e.dealDamage(o)}));var i=p(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(i);break;case"screenFlashStart":this.screenColor=new u(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var a=p(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(a);break;case"foodEnd":this.foodEnd();break;case"sleepStart":this.switching=!1,this.awaken=!1;var r=this._objdataOwn.WakeTime;this._cdScale&&(r*=this._cdScale),this.sleeping=r,this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[],this.getComponent(c).play("plantCooldown");break;case"steadySound":this.soundRes.playSteadySound();break;case"wakeSound":this.soundRes.playWakeSound();break;case"splat":this.splat();break;case"splatHigh":this.splat(!0)}},a.waterable=function(){return this.sleeping<=0&&!this.switching},a.specialPlantOnSquareChange=function(e,t){var n=this;this.detector=S.createRectangleNodeCenter(t.node,3*k.SquareDisW,3*k.SquareDisH),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)})),this.tileBuffParticles=[],[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){if(e.LaneIndex>=0&&e.LaneIndex<=4){var t=E.instantiatePooly(n.tileChillBuff);t.parent=e.node;var o=t.getComponent(m.ArmatureDisplay);o.playAnimation("Spawn",1);var i=k.getSquareWorldPosition(e.LaneIndex,n.inLnC.cIndex);t.worldPosition=new y(i.x,i.y,4),t.setSiblingIndex(0),n.tileBuffParticles.push(o)}})),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(n.lit?0:-1)}))}))},a.detectInRangeEnemies=function(){var e=this,t=[];return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){var o;null!=(o=e.detector)&&o.judgeCrossRec(n.bodyRec)&&t.push(n)})),t},a.specialPlantLateUpdate=function(e){t.keyListenCooldown=!1,0!=this.screenColor.a&&z.gaming&&z.screenFlashColors.push(this.screenColor)},a.specialPlantUpdate=function(e){var t=this;this.eatFreezeCooldown>0&&(this.eatFreezeCooldown-=e),this.fooding||(this.sleeping>0&&(this.getComponent(c).getState("plantCooldown").speed=this._objdataOwn.WakeTime/(this.sleeping+.5),this.sleeping-=e),this.sleeping<0&&!this.awaken&&(this.awaken=!0,this.anmControl.playAnimation("Wake",1),this.soundRes.playWakeSound(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.getComponent(c).stop(),this.anmControl.body.color=new u(255,255,255,255)),this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(t.lit?0:-1)}))),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(t.lit?0:-1)}))})),this.detectInRangeEnemies().forEach((function(e){e.setChill(2)}))},a.specialPlantDie=function(){this.getComponent(c).stop(),this.anmControl.body.color=new u(255,255,255,255),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)}))},a.specialPlantOnMouseDown=function(){return this.sleeping<=0&&!this.switching&&!this.fooding&&(this.anmControl.playAnimation("Freeze",1),this.switching=!0,!0)},t}(C)).keyListenCooldown=!1,J=t((Y=te).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ae}}),Q=t(Y.prototype,"splatParticle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(Y.prototype,"tileChillBuff",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"freezeColor1",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0,0)}}),ee=t(Y.prototype,"freezeColor2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0,0)}}),V=Y))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var e,n,t,i,a,r,s,c,l,d,u,h,p,f,b,P,g;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,c=o.Prefab,l=o.Vec2,d=o.dragonBones},function(o){u=o.Plant,h=o.PlantProps},function(o){p=o.Rectangle},function(o){f=o.Square},function(o){b=o.zombieDamageType},function(o){P=o.NodePools},function(o){g=o.sounds}],execute:function(){var y,m,w,S,L,k,D,C,R,j,v,z,B,q,E,H,_,A,O,T,x,M,U,F;a._RF.push({},"5105cpihGRCsI7JLSfvlvOf","GloomShroom",void 0);var W=r.ccclass,X=r.property,G=(y=W("gloomshroomSound"),m=X([s]),w=X([s]),S=X([s]),L=X(s),y((C=e((D=function(){function o(){t(this,"shootSounds",C,this),t(this,"shootSoundsAdd",R,this),t(this,"preShootSounds",j,this),t(this,"foodSound",v,this)}var e=o.prototype;return e.playShootSound=function(o){g.playArray(this.shootSounds,1,.1),o&&g.playArray(this.shootSoundsAdd,1,.1)},e.playPreShootSound=function(){g.playArray(this.preShootSounds,1,.1)},e.playFoodPushSound=function(){g.play(this.foodSound,1,.1)},o}()).prototype,"shootSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(D.prototype,"shootSoundsAdd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(D.prototype,"preShootSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(D.prototype,"foodSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k),I=function(o){function e(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=o.call.apply(o,[this].concat(t))||this).DPS=160,e.ShootInterval=1.5,e.DamageDuration=.5,e.DPSPlantfood=1543,e.PoisonDPS=60,e}return n(e,o),e}(h);o("GloomShroomPlant",(z=W("GloomShroomPlant"),B=X(G),q=X(c),E=X(c),H=X(c),_=X(c),z((T=e((O=function(o){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new I,t(e,"soundRes",T,i(e)),e.attackCD=0,e.bubbleCountDown=0,e.detector=p.createRectangleCenter(new l(0,0),0,0),e.attacking=!1,e.dragging=0,t(e,"shootParticleHere",x,i(e)),t(e,"shootParticleThere",M,i(e)),t(e,"foodParticleHere",U,i(e)),t(e,"foodParticleThere",F,i(e)),e}n(e,o);var a=e.prototype;return a.waterable=function(){return!this.attacking},a.specialPlantOnSquareChange=function(o,e){this.setDetector(o,e)},a.setDetector=function(o,e){this.detector=p.createRectangleNodeCenter(e.node,3*f.SquareDisW,3*f.SquareDisH)},a.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},a.attack=function(o){var e=this,n=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(o){-1==n.indexOf(o)&&o.bodyRec.judgeCrossRec(e.detector)&&n.push(o)})),n.forEach((function(e){e.dealDamage(o,!0,!1,!1,null,b.physicle,!0)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(e.detector)&&n.dealDamage(o)}))},a.specialPlantUpdateForce=function(o){var e=this;if(this.bubbleCountDown>0){this.bubbleCountDown-=o,this.fooding&&this.push();var n=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*o;this._dmgScale&&(n*=this._dmgScale),this.detectEnemies(n),this.darkModeOn&&this.inLnC.get3x3().forEach((function(n){n!=e.inLnC&&n.setShadowBuff(20*o,!1)}))}this.dragging>0&&(this.dragging-=o,this.drag())},a.detectEnemies=function(o){var e=this;void 0===o&&(o=0);var n=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){n&&o<=0||t.bodyRec.judgeCrossRec(e.detector)&&(n=!0,o>0&&(t.dealDamage(o,!0,!1,!1,null,b.physicle),e.darkModeOn&&t.setPoison(e._objdataOwn.PoisonDPS*e._dmgScale,.1)))})),(!n||o>0)&&this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){n&&o<=0||t.bodyRec.judgeCrossRec(e.detector)&&(n=!0,o>0&&t.dealDamage(o))})),n},a.specialPlantUpdate=function(o){if(!this.fooding&&(this.attackCD>0&&(this.attackCD-=o),this.attackCD<=0&&this.detectEnemies())){var e=this._objdataOwn.DamageDuration;this.attackCD=e,this.anmControl.playAnimation("Attack",1,.1,Math.max(1,1.7/e)),this.attacking=!0}},a.specialPlantFood=function(o){this.bubbleCountDown=0,this.dragging=0,this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},a.drag=function(){var o=this,e=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+2*f.SquareDisH),3*f.SquareDisW,f.SquareDisH),n=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-2*f.SquareDisH),3*f.SquareDisW,f.SquareDisH),t=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+f.SquareDisH),5*f.SquareDisW,f.SquareDisH),i=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-f.SquareDisH),5*f.SquareDisW,f.SquareDisH),a=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y),5*f.SquareDisW,f.SquareDisH);this.inLane.UpperLane.UpperLane.zombiePool().forEach((function(o){!o.knockBackTween&&o.bodyRec.judgeCrossRec(e)&&o.knockBackBy(new l(0,1),!1,.4)})),this.inLane.LowerLane.LowerLane.zombiePool().forEach((function(o){!o.knockBackTween&&o.bodyRec.judgeCrossRec(n)&&o.knockBackBy(new l(0,-1),!1,.4)})),this.inLane.UpperLane.zombiePool().forEach((function(e){e.knockBackTween||!e.bodyRec.judgeCrossRec(t)||e.bodyRec.judgeCrossRec(o.detector)||e.knockBackBy(new l(e.bodyRec.prjX().y>o._worldPositionX?-1:1,0),!1,.4)})),this.inLane.zombiePool().forEach((function(e){e.knockBackTween||!e.bodyRec.judgeCrossRec(a)||e.bodyRec.judgeCrossRec(o.detector)||e.knockBackBy(new l(e.bodyRec.prjX().y>o._worldPositionX?-1:1,0),!1,.4)})),this.inLane.LowerLane.zombiePool().forEach((function(e){e.knockBackTween||!e.bodyRec.judgeCrossRec(i)||e.bodyRec.judgeCrossRec(o.detector)||e.knockBackBy(new l(e.bodyRec.prjX().y>o._worldPositionX?-1:1,0),!1,.4)}))},a.push=function(){var o=this;this.inLane.zombiePool().forEach((function(e){if(!e.knockBackTween&&e.bodyRec.judgeCrossRec(o.bodyRec)){var n=Math.round(Math.random())+Math.round(Math.random());(e.inLane.LaneIndex+n-1>4||e.inLane.LaneIndex+n-1<0)&&(n=2-n),e.knockBackBy(new l(1,n-1),!1,.4)}}))},a.animationListener=function(o){"foodEnd"==o.name?this.foodEnd():"ShootStart"==o.name?(this.soundRes.playShootSound(this.darkModeOn),this.bubbleCountDown=this._objdataOwn.DamageDuration,this.attacking=!1,this.spawnParticle(!1)):"push"==o.name?(this.bubbleCountDown=3,this.spawnParticle(!0)):"shootSound"==o.name?this.soundRes.playPreShootSound():"drag"==o.name?(this.dragging=1,this.soundRes.playPreShootSound()):"foodSound"==o.name&&this.soundRes.playFoodPushSound()},a.spawnParticle=function(o){var e=this;void 0===o&&(o=!1);var n=P.instantiatePooly(o?this.foodParticleHere:this.shootParticleHere),t=P.instantiatePooly(o?this.foodParticleThere:this.shootParticleThere);n.parent=this.inLane.prjLayer,n.worldPosition=this.shadeSocket.worldPosition.clone(),t.parent=this.inLane.UpperLane.prjLayer,t.worldPosition=this.shadeSocket.worldPosition.clone(),[n.getComponent(d.ArmatureDisplay),t.getComponent(d.ArmatureDisplay)].forEach((function(o){o.playAnimation("Play"+(e.darkModeOn?"Dark":""),1)}))},e}(u)).prototype,"soundRes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),x=e(O.prototype,"shootParticleHere",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(O.prototype,"shootParticleThere",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(O.prototype,"foodParticleHere",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"foodParticleThere",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=O))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,e,a,i,r,c,s,l,u,d,h,f,p,P,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.AudioClip,s=t.Prefab,l=t.Vec2},function(t){u=t.Plant,d=t.PlantProps},function(t){h=t.Rectangle},function(t){f=t.Square},function(t){p=t.zombieDamageType},function(t){P=t.NodePools},function(t){m=t.sounds}],execute:function(){var b,g,y,S,L,w,k,D,v,C,R,z,A,_,j,E;i._RF.push({},"fa3ccoDNupO5rmnQnpQqZMp","GloomVine",void 0);var O=r.ccclass,F=r.property,q=(b=O("gloomvineSound"),g=F([c]),y=F(c),b((w=o((L=function(){function t(){e(this,"shootSounds",w,this),e(this,"foodSound",k,this)}var o=t.prototype;return o.playShootSound=function(){m.playArray(this.shootSounds)},o.playFoodSound=function(){m.play(this.foodSound)},t}()).prototype,"shootSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(L.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=L))||S),U=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).Damage=45,o.AttackInterval=2.7,o.AttackIntervalAdditional=.15,o.DPSPlantfood=1543,o}return n(o,t),o}(d);t("GloomVinePlant",(D=O("GloomVinePlant"),v=F(q),C=F(s),R=F(s),D((_=o((A=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,e(o,"soundRes",_,a(o)),o.attackCD=0,o.detector=h.createRectangleCenter(new l(0,0),0,0),o._objdataOwn=new U,o.attacking=!1,o.foodStarted=!1,e(o,"shootParticle",j,a(o)),e(o,"foodParticle",E,a(o)),o}n(o,t);var i=o.prototype;return i.waterable=function(){return!this.attacking},i.specialPlantOnSquareChange=function(t,o){this.setDetector(t,o)},i.setDetector=function(t,o){this.detector=h.createRectangleNodeCenter(o.node,3*f.SquareDisW,3*f.SquareDisH)},i.specialPlantDie=function(){var t;null==(t=this.inLnC)||t.addBuff("darkBuff",!1)},i.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},i.attack=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale),this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRec.judgeCrossRec(o.detector)&&n.dealDamage(t,!0,!1,!1,null,p.physicle,!0)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(o.detector)&&n.dealDamage(t)}))},i.detectEnemies=function(){var t=this,o=!1;if(this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o){var n=this._objdataOwn.AttackInterval+Math.random()*this._objdataOwn.AttackIntervalAdditional;this._cdScale&&(n*=this._cdScale),this.attackCD=n,this.anmControl.playAnimation("Attack",1,.1*n,Math.max(1,2.7/n)),this.attacking=!0,this.soundRes.playShootSound()}},i.specialPlantUpdateForce=function(t){var o;null==(o=this.inLnC)||o.setShadowBuff(20*t)},i.specialPlantUpdate=function(t){this.fooding?this.foodStarted&&this.attack(this._objdataOwn.DPSPlantfood*t):(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&this.detectEnemies())},i.specialPlantFood=function(t){this.foodStarted=!1,this.soundRes.playFoodSound(),this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},i.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"attack"==t.name?(this.attack(this._objdataOwn.Damage),this.attacking=!1,this.spawnParticle(!1)):"foodStart"==t.name&&(this.foodStarted=!0,this.spawnParticle(!0))},i.spawnParticle=function(t){void 0===t&&(t=!1);var o=P.instantiatePooly(t?this.foodParticle:this.shootParticle);o.parent=this.inLnC.particleLowerPoint,o.worldPosition=this.node.worldPosition},o}(u)).prototype,"soundRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),j=o(A.prototype,"shootParticle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=o(A.prototype,"foodParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/GrapeShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./Square.ts","./Peashooter.ts","./Character.ts"],(function(e){var t,r,o,i,n,a,l,c,s,u,p,h,f,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Prefab,c=e.AudioClip,s=e.Vec2},function(e){u=e.CherryBombPlant},function(e){p=e.ArrayGet,h=e.instantiatePooly},function(e){f=e.Square},function(e){d=e.peaShooter},function(e){y=e.CharacterType}],execute:function(){var S,b,P,g,m,x,v,D,w;n._RF.push({},"31eccpYildMeKc/D2SGDYxZ","GrapeShot",void 0);var C=a.ccclass,_=a.property;e("GrapeShotPlant",(S=C("GrapeShotPlant"),b=_(l),P=_([c]),g=_(l),S((v=t((x=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"explParticle",v,i(t)),o(t,"explSounds",D,i(t)),o(t,"projectile",w,i(t)),t}r(t,e);var n=t.prototype;return n.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!1,this.explParticle,p.getRandom(this.explSounds)),this.shoot()},n.shoot=function(){var e=this;[-1,0,1].forEach((function(t){[-1,0,1].forEach((function(r){if(0!=t||0!=r){var o=new s(t,r*f.SquareDisH/f.SquareDisW).multiplyScalar(30),i=h(e.projectile);d.shootOnePea(i,e.node.worldPosition.clone(),e.height+1,e.inLane.prjLayer,o,y.zombie)}}))}))},t}(u)).prototype,"explParticle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"explSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(x.prototype,"projectile",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/grapeshotProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./Zombie.ts","./Square.ts"],(function(t){var e,i,n,o,a,s,l,r,c,h,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.AudioClip},function(t){c=t.ProjectileEnemyType,h=t.commonShot},function(t){u=t.sounds},function(t){d=t.Zombie},function(t){f=t.Square}],execute:function(){var y,g,p,L,m;s._RF.push({},"14409SOIL5Jn4q+YpsqIGKx","grapeshotProjectile",void 0);var C=l.ccclass,b=l.property;t("grapeshotProjectile",(y=C("grapeshotProjectile"),g=b([r]),y((m=e((L=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).detectOffInThisLane=!1,e.maxHitCount=5,e._leftHitCount=5,n(e,"onLeftHitCountChangeSounds",m,o(e)),e}i(e,t);var s=e.prototype;return s.onLinearVelocitySet=function(t){var e="";e=t.x>0?"WalkR":t.x<0?"WalkL":t.y>0?"WalkU":"WalkD",this.db.playAnimation(e,1/0)},s.onEnable=function(){this.initialize(),this.leftHitCount=this.maxHitCount,this.detectOffInThisLane=!1},s.turnVelocity=function(){if(0==this.linearVelocity.y){var t=1;t=this.lIndex<=0?-1:this.lIndex>=4?1:2*Math.round(Math.random())-1,this.linearVelocity.y=Math.abs(this.linearVelocity.x)*f.SquareDisH/f.SquareDisW*t}else this.linearVelocity.y*=-1,(this.lIndex<=0&&this.linearVelocity.y>0||this.lIndex>=4&&this.linearVelocity.y<0)&&(this.linearVelocity.y*=-1);this.leftHitCount--},s.detectEnemy=function(t){var e,i,n=this;if(this.inLane&&this.detectEnemyOn&&!this.detectOffInThisLane)if(null!=(e=this.targetLocked)&&null!=(e=e.getComponent(d))&&e.dead&&(this.targetLocked=null),this.enemyType==c.zombie){var o,a=null;if(null==(o=this.inLane)||o.zombiePool().forEach((function(t){var e;n.targetLocked&&(null==(e=a)?void 0:e.node)==n.targetLocked||t.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&(!a||t.bodyRec.prjX().x<a.bodyRec.prjX().x)&&(a=t)})),a&&a.commonShotPopOnTouch(this))this.dealDamageToTarget(a),this.detectOffInThisLane=!0,this.turnVelocity();else{var s,l=null;null==(s=this.inLane)||s.tombPool().forEach((function(t){t.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&(l=t)})),l&&(l.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,l),this.detectOffInThisLane=!0,this.turnVelocity())}}else this.enemyType==c.plant&&(null==(i=this.inLane)||i.plantPool().forEach((function(t){n.dead||t.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&(n.dealDamageToTargetPlant(t),n.pop())})))},s.specialOnLaneChange=function(t,e){(e.LaneIndex>4&&this.linearVelocity.y<0||e.LaneIndex<0&&this.linearVelocity.y>0)&&(this.linearVelocity.y*=-1,this.leftHitCount--),this.detectOffInThisLane=!1},s.onSquareChange=function(t,e){-1==e.cIndex&&this.linearVelocity.x<0&&(this.linearVelocity.x*=-1,this.leftHitCount--)},a(e,[{key:"leftHitCount",get:function(){return this._leftHitCount},set:function(t){if(t<=0)this.pop();else if(t<this._leftHitCount){var e=this.onLeftHitCountChangeSounds.length;if(e>0){for(var i=this.onLeftHitCountChangeSounds[0],n=0;n<e;n++)if(t<this.maxHitCount*((n+1)/e)){i=this.onLeftHitCountChangeSounds[e-n-1];break}u.play(i,.3,.1)}}this._leftHitCount=t}}]),e}(h)).prototype,"onLeftHitCountChangeSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=L))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/GraveBuster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(n){var t,i,e,o,a,r,s,l,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip},function(n){l=n.Plant,c=n.PlantProps},function(n){u=n.sounds}],execute:function(){var h,p,d,m,b;a._RF.push({},"031f9TWSP1Ie4Y6Gu8MduTD","GraveBuster",void 0);var f=r.ccclass,S=r.property,y=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).BustTime=4,t}return i(t,n),t}(c);n("GraveBusterPlant",(h=f("GraveBusterPlant"),p=S(s),h((b=t((m=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new y,e(t,"chompSound",b,o(t)),t}i(t,n);var a=t.prototype;return a.leapDisable=function(n){return!0},a.specialPlantOnEnable=function(){this.foodable=!1,this.anmControl.playAnimation("Spawn",1),this.deathAnm="",this._invincible=!1,u.play(this.chompSound,1,0)},a.specialPlantDie=function(){this.inLnC.tombStone&&this.inLnC.tombStone.hidden&&(this.inLnC.tombStone.hidden=!1,this.inLnC.tombStone.body.playAnimation("Spawn",1))},a.animationListener=function(n){if("bust"==n.name){this.inLnC.tombStone&&(this.inLnC.tombStone.hidden=!0);var t=this._objdataOwn.BustTime;this._cdScale&&(t*=this._cdScale),t=Math.max(.1,t),this.anmControl.playAnimation("Busting",1,0,4/t)}else"finish"==n.name?(this.inLnC.tombStone&&this.inLnC.tombStone.die(!1),this.invincible=!0,this.smasherDetectable=!1,this.eaterDetectable=!1):"die"==n.name&&this.die()},t}(l)).prototype,"chompSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GridItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSONs.ts"],(function(t){var e,r,i,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator,o=t.Component},function(t){a=t.CommonFeatures}],execute:function(){var n;r._RF.push({},"c8c9d9VWJRLqYWI9mIGXkGL","GridItem",void 0);var l=i.ccclass,u=(i.property,t("GridItemPool",function(){function t(){}return t.pool=function(){return this._pool.concat()},t.poolByID=function(t){var e=[];return this.pool().forEach((function(r){-1!=r.GridItemTypes.indexOf(t)&&e.push(r)})),e},t.registerGridItem=function(t){-1==this._pool.indexOf(t)&&this._pool.push(t)},t.deleteGridItem=function(t){var e=this._pool.indexOf(t);-1!=e&&this._pool.splice(e,1)},t}()));u._pool=[];t("GridItemEnum",function(t){return t[t.none=0]="none",t[t.rail=1]="rail",t[t.rail_tutorial=2]="rail_tutorial",t[t.rail_egypt=3]="rail_egypt",t[t.rail_pirate=4]="rail_pirate",t[t.rail_cowboy=5]="rail_cowboy",t[t.rail_future=6]="rail_future",t[t.rail_dark=7]="rail_dark",t[t.rail_sky=8]="rail_sky",t[t.railcart=9]="railcart",t[t.railcart_tutorial=10]="railcart_tutorial",t[t.railcart_egypt=11]="railcart_egypt",t[t.railcart_pirate=12]="railcart_pirate",t[t.railcart_cowboy=13]="railcart_cowboy",t[t.railcart_future=14]="railcart_future",t[t.railcart_dark=15]="railcart_dark",t[t.railcart_sky=16]="railcart_sky",t[t.powertile=17]="powertile",t[t.powertile_alpha=18]="powertile_alpha",t[t.powertile_beta=19]="powertile_beta",t[t.powertile_delta=20]="powertile_delta",t[t.powertile_gamma=21]="powertile_gamma",t[t.powertile_epsilon=22]="powertile_epsilon",t[t.protect_plant=23]="protect_plant",t[t.gravestone=24]="gravestone",t[t.gravestone_tutorial=25]="gravestone_tutorial",t[t.gravestone_egypt=26]="gravestone_egypt",t[t.gravestone_pirate=27]="gravestone_pirate",t[t.gravestone_cowboy=28]="gravestone_cowboy",t[t.gravestone_future=29]="gravestone_future",t[t.gravestone_dark=30]="gravestone_dark",t[t.gravestone_dark_sun=31]="gravestone_dark_sun",t[t.gravestone_dark_pf=32]="gravestone_dark_pf",t[t.tile_liquid=33]="tile_liquid",t[t.sap=34]="sap",t[t.butter=35]="butter",t[t.goopuddle=36]="goopuddle",t[t.moltenpool=37]="moltenpool",t[t.amount=38]="amount",t}({})),t("GridItemFeature",(function(){this.CODENAME=""})),t("GridItem",l("GridItem")(n=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).GridItemTypes=[],e._component=void 0,e}e(r,t),r.getGridItemEnumByCodeName=function(t){var e=NaN;return a.GridItemFeatures.forEach((function(r,i){isNaN(e)&&r.CODENAME==t&&(e=i)})),isNaN(e)?0:e},r.getGridItemEnumByRTID=function(t){if(!t)return 0;var e=t.concat(),r=e.indexOf("RTID("),i=e.indexOf("@GridItemTypes)"),o="";return-1!=r&&(o=e.slice(r+5,i)),this.getGridItemEnumByCodeName(o)};var i=r.prototype;return i.zombieSpawn=function(t,e){var r,i=null==(r=this._component)?void 0:r.spawnZombie(t,e);return null!=i&&i.length?i:[]},i.setGridItemType=function(t){this.GridItemTypes=t},i.register=function(){u.registerGridItem(this)},i.delete=function(){u.deleteGridItem(this)},r}(o))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(t){var i,n,e,o,r,s,a;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,o=t._decorator,r=t.Vec3},function(t){s=t.ParticleSelfdestroy},function(t){a=t.destroyPooly}],execute:function(){var l;e._RF.push({},"4eea59rJcFBK7blXRdNZ8tG","GroundFire",void 0);var d=o.ccclass;o.property,t("GroundFireColorEnum",function(t){return t[t.yellow=0]="yellow",t}({})),t("GroundFireSpreadStyleEnum",function(t){return t[t.split=0]="split",t[t.left=1]="left",t[t.right=2]="right",t[t.cross=3]="cross",t}({})),t("GroundFire",d("GroundFire")(l=function(t){function e(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).db=void 0,i._height=20,i.horizontal=!0,i.spawnDelay=0,i.duration=10,i.dead=!1,i.inLnC=void 0,i}i(e,t);var o=e.prototype;return o.specialOnLoad=function(){this.height=20},o.specialOnEnable=function(){this.dead=!1,this.db.playAnimation("Spawn",1),this.spawnDelay>0&&(this.db.timeScale=0)},o.die=function(){this.dead||(this.dead=!0,this.db.playAnimation("Fade"))},o.animationOnComplete=function(t){this.dead&&a(this.node)},o.update=function(t){var i,n;(this.spawnDelay>0&&(this.spawnDelay-=t),this.spawnDelay<=0)&&(this.db.timeScale=1,null==(i=this.inLnC)||null==(i=i.iceTile)||i.die(),this.horizontal&&8==this.inLnC.cIndex&&(null==(n=this.inLnC)||null==(n=n.inLane)||null==(n=n.iceTile)||n.die()));this.duration>0&&this.spawnDelay<=0&&(this.duration-=t),this.duration<=0&&this.die()},n(e,[{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.node.worldScale=new r(.24,.24*t/20,.24)}}]),e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFiresManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(n){var e,i,o,a,t,r,l,s;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,a=n.Vec2,t=n.Component},function(n){r=n.Rectangle},function(n){l=n.Square},function(n){s=n.zombieDamageType}],execute:function(){var c,u;i._RF.push({},"8b17c4ftPhKSr6LGmdzBGzc","GroundFiresManager",void 0);var d=o.ccclass;o.property,n("GroundFiresManager",d("GroundFiresManager")(((u=function(n){function i(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).jalapenoFires=[],e}e(i,n);var o=i.prototype;return o.onLoad=function(){i.component=this},o.registerJalapenoFire=function(n){-1==this.jalapenoFires.indexOf(n)&&this.jalapenoFires.push(n)},o.update=function(n){var e=this;this.jalapenoFires.concat().forEach((function(i){if(i.duration>0&&(i.duration-=n),i.groundFires.forEach((function(n){if(n.spawnDelay<=0&&!n.dead){var e,o,t,c,u;if(n.inLnC.inLane.zombiePool().length){var d=r.createRectangleNodeCenter(n.inLnC.node,l.SquareDisW,l.SquareDisH);n.horizontal&&0==n.inLnC.cIndex?d=r.createRectangleSide(new a(n.inLnC.node.worldPosition.x+l.SquareDisW/2,n.inLnC.node.worldPosition.y),9*-l.SquareDisW,l.SquareDisH):n.horizontal&&8==n.inLnC.cIndex&&(d=r.createRectangleSide(new a(n.inLnC.node.worldPosition.x-l.SquareDisW/2,n.inLnC.node.worldPosition.y),9*l.SquareDisW,l.SquareDisH)),n.inLnC.inLane.zombiePool().concat().forEach((function(n){-1==i.dealtZombies.indexOf(n)&&d.judgeCrossRec(n.bodyRec)&&(n.dealDamage(i.damage,i.armorProtection,!1,!1,null,s.fire,!0,!0),n.isAlive()&&i.dealtZombies.push(n))}))}if(null==(e=n.inLnC)||null==(e=e.iceTile)||e.die(),n.horizontal&&8==n.inLnC.cIndex)null==(c=n.inLnC)||null==(c=c.inLane)||null==(c=c.iceTile)||c.die();if(null!=(o=n.inLnC)&&o.tombStone&&-1==i.dealtTombs.indexOf(null==(t=n.inLnC)?void 0:t.tombStone))n.inLnC.tombStone.dealDamage(i.damage),null!=(u=n.inLnC.tombStone)&&u.isAlive()&&i.dealtTombs.push(n.inLnC.tombStone)}})),i.dealtZombies.concat().forEach((function(n){if(!n.isAlive()){var e=i.dealtZombies.indexOf(n);i.dealtZombies.splice(e,1)}})),i.dealtTombs.concat().forEach((function(n){if(null==n||!n.isAlive()){var e=i.dealtTombs.indexOf(n);i.dealtZombies.splice(e,1)}})),i.duration<=0){var o=e.jalapenoFires.indexOf(i);e.jalapenoFires.splice(o,1)}}))},i}(t)).component=void 0,c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/HeavenlyPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(n){var i,t,a,e,o,l,r,s,c,u,h,d,f,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){c=n.Plant,u=n.PlantProps},function(n){h=n.ParticleSelfdestroy},function(n){d=n.instantiatePooly,f=n.ArrayGet},function(n){p=n.sounds}],execute:function(){var y,P,b,g,v,m,S,w,C,D,H,E,A,L,R,F,x,O,z,_,j,I;o._RF.push({},"784dcobiGZOmZaqrOZR0BKq","HeavenlyPeach",void 0);var Z=l.ccclass,q=l.property,B=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=n.call.apply(n,[this].concat(a))||this).PlantfoodDuration=10,i.HealthPerHeal=150,i.HealthPlantfoodHeal=450,i.HealInterval=10,i}return t(i,n),i}(u),G=(y=Z("heavenlypeachSound"),P=q([r]),b=q([r]),g=q([r]),y((S=i((m=function(){function n(){a(this,"foodStartSounds",S,this),a(this,"foodEndSounds",w,this),a(this,"foodRaySounds",C,this)}var i=n.prototype;return i.playFoodStart=function(){p.playArray(this.foodStartSounds,1,.1)},i.playFoodEnd=function(){p.playArray(this.foodEndSounds,1,.1)},i.playFoodRay=function(){p.playArray(this.foodRaySounds,1,.1)},n}()).prototype,"foodStartSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(m.prototype,"foodEndSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=i(m.prototype,"foodRaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=m))||v);n("HeavenlyPeachPlant",(D=Z("HeavenlyPeachPlant"),H=q(G),E=q(s),A=q(s),L=q(r),R=q([r]),D((O=i((x=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=n.call.apply(n,[this].concat(o))||this,a(i,"soundRes",O,e(i)),i._objdataOwn=new B,a(i,"invinciblePar",z,e(i)),i.invinciblePars=[],a(i,"healingPar",_,e(i)),a(i,"healingSound",j,e(i)),a(i,"healingDripSounds",I,e(i)),i.healCD=0,i.foodCD=0,i.playingHeal=!1,i}t(i,n);var o=i.prototype;return o.specialPlantOnEnable=function(){this.invinciblePars=[],this.healCD=0,this.playingHeal=!1},o.heal3x3=function(n){var i=this;void 0===n&&(n=this._objdataOwn.HealthPerHeal),this.inLnC.get3x3().forEach((function(t){if(null!=t&&t.isInLawn()){var a=t.getAllPlants(),e=!1;if(a.forEach((function(i){i.health<i.toughness&&(i.heal(n),e=!0)})),e){var o=d(i.healingPar);o.parent=t.inLane.prjLayer,o.worldPosition=t.plantPoint.worldPosition}}})),p.play(this.healingSound),p.play(f.getRandom(this.healingDripSounds),1,.1)},o.detect3x3=function(){var n=!1;return this.inLnC.get3x3().forEach((function(i){!n&&i.isInLawn()&&i.getAllPlants().forEach((function(i){n||i.health<i.toughness&&(n=!0)}))})),n},o.animationOnComplete=function(){this.playingHeal=!1},o.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"heal"==n.name?this.heal3x3():"foodStart"==n.name&&(this.heal3x3(3*this._objdataOwn.HealthPlantfoodHeal),this.soundRes.playFoodRay())},o.specialPlantFood=function(n){this.anmControl.playAnimation("FoodStart",1),this.foodCD=this._objdataOwn.PlantfoodDuration,this.soundRes.playFoodStart()},o.specialPlantUpdateForce=function(n){var i=this;this.invinciblePars.concat().forEach((function(n){(!i.fooding||n.inLnC.getAllPlants().length<=0)&&(n.psd.db.playAnimation("Die"),i.invinciblePars.splice(i.invinciblePars.indexOf(n),1))}))},o.specialPlantFoodEnd=function(){this.invinciblePars.concat().forEach((function(n){n.psd.db.playAnimation("Die")})),this.invinciblePars=[]},o.waterable=function(){return!this.playingHeal},o.specialPlantUpdate=function(n){var i=this;if(this.fooding)this.foodCD>0&&(this.foodCD-=n,this.inLnC.get3x3().forEach((function(n){var t=n.getAllPlants(),a=t.length>0,e=!1;if(i.invinciblePars.concat().forEach((function(t){e||t.inLnC==n&&(e=!0,a||(t.psd.db.playAnimation("Die"),i.invinciblePars.splice(i.invinciblePars.indexOf(t),1)))})),t.forEach((function(n){n.countDownInvincible=2})),a&&!e){var o=d(i.invinciblePar);o.parent=n.inLane.prjLayer,o.worldPosition=n.plantPoint.worldPosition;var l=o.getComponent(h);l.db.playAnimation("Idle",1/0),i.invinciblePars.push({psd:l,inLnC:n})}})),this.foodCD<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEnd()));else if(this.healCD>0&&(this.healCD-=n),this.healCD<=0&&this.detect3x3()){var t=this._objdataOwn.HealInterval*this._cdScale;this.anmControl.playAnimation("Heal",1,.1,Math.max(1,1/t)),this.playingHeal=!0,this.healCD=t}},i}(c)).prototype,"soundRes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),z=i(x.prototype,"invinciblePar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(x.prototype,"healingPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(x.prototype,"healingSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(x.prototype,"healingDripSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=x))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomingThistle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./commonShot.ts","./SoundRescourses.ts"],(function(o){var i,t,e,n,a,l,s,r,c,u,d,h,y,p,f;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,s=o.AudioClip,r=o.Prefab,c=o.Vec2,u=o.TWO_PI},function(o){d=o.PeashooterPlant},function(o){h=o.ZombiePool,y=o.TombPool},function(o){p=o.ProjectileEnemyType},function(o){f=o.sounds}],execute:function(){var m,S,b,g,P,w,v,z,T,V,_,E,F,H,A,R;a._RF.push({},"7bf93alJXlEGIcGkJdrzX2H","HomingThistle",void 0);var x=l.ccclass,C=l.property,j=o("homingThistleSound",(m=x("homingThistleSound"),S=C([s]),b=C([s]),g=C([s]),m((v=i((w=function(){function o(){e(this,"shootSound",v,this),e(this,"steadySound",z,this),e(this,"foodSound",T,this)}var i=o.prototype;return i.playShootSound=function(){f.playArray(this.shootSound,1,.1)},i.playSteadySound=function(){f.playArray(this.steadySound,1,.1)},i.playFoodSound=function(){f.playArray(this.foodSound,1,.1)},o}()).prototype,"shootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(w.prototype,"steadySound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(w.prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=w))||P));o("HomingThistlePlant",(V=x("HomingThistle"),_=C(j),E=C(r),V((A=i((H=function(o){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=o.call.apply(o,[this].concat(a))||this,e(i,"soundResHomingThistle",A,n(i)),e(i,"peaFood",R,n(i)),i.css=[],i}t(i,o);var a=i.prototype;return a.setDetecter=function(o,i){},a.specialPlantOnEnable=function(){this.initialize(),this.css=[]},a.specialPlantFoodEnd=function(){this.busy=0},a.specialPlantFood=function(){this.busy=1/0,this.anmControl.playAnimation("FoodStart",0),this.soundResHomingThistle.playFoodSound()},a.detectEnemy=function(){return h.pool().length>0||y.pool().length>0},a._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.busy,1)),this.soundResHomingThistle.playSteadySound()},a.specialPlantUpdate=function(o){var i=this;this.busy>0&&(this.busy-=o),this.busy<=0&&!this.dead&&(this.busy=0,this.detectEnemy()&&this.startShooting());var t=h.bodyRecLeftest(),e=y.leftest();t?this.css.concat().forEach((function(e){if(e.dead||e.enemyType!=p.zombie){var n=i.css.indexOf(e);-1!=n&&i.css.splice(n,1)}else if(e.targetLocked=null==t?void 0:t.node,t){var a=new c(t._worldPositionX-e._worldPositionX,t._worldPositionY-e._worldPositionY),l=2.5*o*60,s=e.linearVelocity.cross(a);s>0&&(l*=-1),(s>100||s<-100)&&(e.linearVelocity.add(new c(e.linearVelocity.y,-e.linearVelocity.x).normalize().multiplyScalar(l)),e.linearVelocity=e.linearVelocity.normalize().multiplyScalar(15*i.projectileSpeed))}})):e?this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=p.zombie){var n=i.css.indexOf(t);-1!=n&&i.css.splice(n,1)}else{t.targetLocked=null==e?void 0:e.node;var a=2.5*o*60,l=new c(e._worldPositionX-t._worldPositionX,e._worldPositionY-t._worldPositionY),s=t.linearVelocity.cross(l);s>0&&(a*=-1),(s>100||s<-100)&&(t.linearVelocity.add(new c(t.linearVelocity.y,-t.linearVelocity.x).normalize().multiplyScalar(a)),t.linearVelocity=t.linearVelocity.normalize().multiplyScalar(15*i.projectileSpeed))}})):this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=p.zombie){var e=i.css.indexOf(t);-1!=e&&i.css.splice(e,1)}else{var n=1.5*o*60;t.linearVelocity.add(new c(t.linearVelocity.y,-t.linearVelocity.x).normalize().multiplyScalar(n)),t.linearVelocity=t.linearVelocity.normalize().multiplyScalar(15*i.projectileSpeed)}}))},a.shotInitialize=function(o){this.css.push(o)},a.animationListener=function(o){var i=this;if("Shoot"==o.name&&(this._shoot(),this.soundResHomingThistle.playShootSound()),"foodStart"==o.name){this.anmControl.playAnimation("Fooding",1/0);var t=0,e=this._objdataOwn.PlantfoodPeaCount;this.schedule((function(){i._shoot(!1,!1,i.peaFood,15,new c(Math.cos(t*u/e),Math.sin(t*u/e))),++t>=e&&i.anmControl.playAnimation("FoodEnd",1)}),1/e,e,.01)}"foodEnd"==o.name&&this.foodEnd()},i}(d)).prototype,"soundResHomingThistle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),R=i(H.prototype,"peaFood",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=H))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/Hurrikale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var t,i,n,r,a,o,l,u,s,c,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.AudioClip,u=e.Prefab},function(e){s=e.Plant,c=e.PlantProps},function(e){p=e.sounds},function(e){h=e.instantiatePooly,f=e.ArrayGet}],execute:function(){var d,P,b,y,w,v,m,S,g,L,z;a._RF.push({},"ffcd79hUvxHrq4UyrOtMG98","Hurrikale",void 0);var D=o.ccclass,k=o.property,H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).PushDuration=3,t}return i(t,e),t}(c);e("HurrikalePlant",(d=D("HurrikalePlant"),P=k(l),b=k(l),y=k(u),w=k(u),d((S=t((m=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new H,n(t,"pushSound",S,r(t)),n(t,"prePushSound",g,r(t)),n(t,"upperParticle",L,r(t)),n(t,"lowerParticle",z,r(t)),t}i(t,e);var a=t.prototype;return a.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),p.play(this.prePushSound,1,.1),this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1},a.animationListener=function(e){var t=this;if("die"==e.name)this.die(!0);else if("push"==e.name){var i;p.play(this.pushSound,.5,.1),null==(i=this.inLane)||i.setHurrikaleDuration(this._objdataOwn.PushDuration);var n=h(this.upperParticle),r=h(this.lowerParticle);n.parent=this.inLane.prjLayer,r.parent=this.inLane.zombieLayer,r.setSiblingIndex(0),[r,n].forEach((function(e){e.worldPosition=t.node.worldPosition,e.worldScale=t.node.worldScale}));var a=f.randomize(this.inLane.plantPool()),o=0;a.forEach((function(e,t){o>=4||e.blowStart()&&o++}))}},t}(s)).prototype,"pushSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(m.prototype,"prePushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(m.prototype,"upperParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(m.prototype,"lowerParticle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/HypnoShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./LnC.ts","./SoundRescourses.ts"],(function(n){var o,t,i,e,a,r,l,s,u,p,d,h;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip},function(n){s=n.Plant,u=n.PlantProps},function(n){p=n.NodePools},function(n){d=n.LnCSpawnZombieStyleEnum},function(n){h=n.sounds}],execute:function(){var c,y,f,m,b,S,g,w,P,v,R,H,G,C,T,A,D,z;a._RF.push({},"867779XQtNKJIQ2AeRH9uvv","HypnoShroom",void 0);var _=r.ccclass,F=r.property,O=function(n){function o(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).HypnoedZombieDamageScale=.95,o}return t(o,n),o}(u),B=(c=_("hypnoshroomSound"),y=F(l),f=F(l),m=F(l),b=F(l),S=F(l),c((P=o((w=function(){function n(){i(this,"foodSound",P,this),i(this,"tranSound",v,this),i(this,"hypnoBGSound",R,this),i(this,"hyponoTurnSound",H,this),i(this,"transGargSound",G,this)}var o=n.prototype;return o.playFood=function(){h.play(this.foodSound,1,.1)},o.playTrans=function(){h.play(this.tranSound,1,.1)},o.playTransGarg=function(){h.play(this.transGargSound,1,.1)},o.playHypnoBG=function(){h.play(this.hypnoBGSound,1,.1)},o.playHyponoTurn=function(){h.play(this.hyponoTurnSound,1,.1)},n}()).prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(w.prototype,"tranSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(w.prototype,"hypnoBGSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(w.prototype,"hyponoTurnSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(w.prototype,"transGargSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w))||g);n("HypnoShroomPlant",(C=_("HypnoShroomPlant"),T=F(B),C((z=o((D=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new O,i(o,"soundRes",z,e(o)),o.fooded=!1,o}t(o,n);var a=o.prototype;return a.specialPlantOnEaten=function(n,o,t,i){var e=this;if(i<=0){if(this.fooded){var a;o.playDie(!0);var r=o.getGargantuarName();(null==(a=this.inLnC)?void 0:a.spawnZombie(r,d.fromLane)).forEach((function(n){n.hypno=!0,n.playPopOut(),n.worldPositionX=o.worldPositionX,n.dealDamageScale.push(e._objdataOwn.HypnoedZombieDamageScale)})),p.destroyPooly(o.node),this.soundRes.playTransGarg()}else o.hypno=!0,o.dealDamageScale.push(this._objdataOwn.HypnoedZombieDamageScale),this.soundRes.playTrans();this.soundRes.playHypnoBG(),this.soundRes.playHyponoTurn(),this.die(),this.node.destroy()}},a.specialPlantFood=function(n){this.soundRes.playFood(),this.anmControl.playAnimation("Food",1),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[]},a.waterable=function(){return!this.fooded},a.animationOnComplete=function(){this.fooding&&this.foodEnd()},a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},o}(s)).prototype,"soundRes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),A=D))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/IcebergLettuce.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./levelController.ts","./SoundRescourses.ts"],(function(e){var o,t,n,r,i,a,l,s,c,u,f,d,h,p,b,C,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.CCFloat,c=e.Color,u=e.tween},function(e){f=e.Plant,d=e.PlantProps},function(e){h=e.Rectangle,p=e.ZombiePool},function(e){b=e.Square},function(e){C=e.LevelPlay},function(e){y=e.sounds}],execute:function(){var m,g,z,S,w,v,D,P,R,L,j,E,F;i._RF.push({},"c95deH5SAZNJKYtUXfY8hsa","IcebergLettuce",void 0);var q=a.ccclass,x=a.property,_=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).FreezeDuration=10,o.ChillDuration=0,o}return t(o,e),o}(d);e("IcebergLettucePlant",(m=q("IcebergLettuce"),g=x(l),z=x(l),S=x(s),w=x(c),v=x(c),m((R=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"foodSound",R,r(o)),n(o,"foodBlastSound",L,r(o)),o._objdataOwn=new _,n(o,"chillDuration",j,r(o)),n(o,"freezeColor1",E,r(o)),n(o,"freezeColor2",F,r(o)),o.detector=void 0,o.screenColor=new c(0,0,0,0),o}t(o,e);var i=o.prototype;return i.specialPlantOnEnable=function(){this.eatDamagable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,.8),y.play(this.foodSound,1,.1),this.screenColor=new c(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var o=u(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(o)},i.freezeZombie=function(e){e.setFreeze(this._objdataOwn.FreezeDuration),e.setChill(this._objdataOwn.ChillDuration)},i.specialPlantOnSquareChange=function(e,o){this.detector=h.createRectangleNodeCenter(o.node,.5*b.SquareDisW,b.SquareDisH)},i.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&C.screenFlashColors.push(this.screenColor)},i.animationListener=function(e){var o=this;if("explode"==e.name){var t,n=h.createRectangleNodeCenter(this.inLnC.node,b.SquareDisW,b.SquareDisH),r=null,i=[];null==(t=this.inLane)||t.zombiePool().forEach((function(e){!e.flying&&e.setFreeze(-1)&&e.bodyRec.judgeCrossRec(n)&&(!r||r.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(e.shouldSpeedScale()*e.randomSpeed>0?r=e:i.push(e))})),r||i.forEach((function(e){(!r||r.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(r=e)})),r&&this.freezeZombie(r)}if("foodExplode"==e.name){y.play(this.foodBlastSound,1,.1),p.pool().concat().forEach((function(e){e.flying||o.freezeZombie(e)}));var a=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(a)}"foodEnd"==e.name&&this.foodEnd()},i.detectEnemy=function(){var e,o=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&!e.flying&&e.bodyRec.judgeCrossRec(o.detector)&&(t=!0)})),t&&this.die()},i.specialPlantUpdate=function(e){this.fooding||this.detectEnemy()},o}(f)).prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(P.prototype,"foodBlastSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(P.prototype,"chillDuration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=o(P.prototype,"freezeColor1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),F=o(P.prototype,"freezeColor2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),D=P))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/Icetile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./NodePools.ts","./Square.ts"],(function(t){var e,n,i,o,s,l,a,r,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,s=t.tween,l=t.Sprite,a=t.Color,r=t.Component},function(t){h=t.Icetiles},function(t){c=t.NodePools},function(t){d=t.Square}],execute:function(){var u;n._RF.push({},"9855dVIa2dFjLIZERgm5/ph","Icetile",void 0);var p=i.ccclass;i.property,t("Icetile",p("Icetile")(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).master=null,e.length=0,e.dead=!1,e.lane=void 0,e.lnc=void 0,e}e(n,t);var i=n.prototype;return i.onDisable=function(){this.getComponent(o).width=0,this.length=0},i.onEnable=function(){h.registerIce(this),this.dead=!1},i.die=function(){var t=this;this.dead||(this.dead=!0,s(this.node.getComponent(l).color).to(.5,{a:0}).call((function(){t.length=0,t.getComponent(o).width=0,t.node.getComponent(l).color=new a(255,255,255,255),c.destroyPooly(t.node)})).start(),this.master&&(this.master=null),this.lnc&&(this.lnc.inLane.deleteIceTile(this),this.lnc.iceTile=null,this.lnc.readIndex(),this.lnc=null),this.lane&&(this.lane.deleteIceTile(this),this.lane.iceTile=null,this.lane=null),h.deleteIce(this))},i.update=function(t){if(!this.dead&&this.master&&this.master.isAlive()){var e=(this.lane?2:1)*d.SquareDisW;this.length=Math.min(e,Math.max(this.node.worldPosition.x-this.master.node.worldPosition.x,this.length))}this.dead||(this.getComponent(l).color=new a(255,255,255,255));var n=164.5*this.length/d.SquareDisW;this.getComponent(o).width=n},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Imitater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Plants.ts","./SoundRescourses.ts","./NodePools.ts","./levelController.ts"],(function(t){var n,i,e,a,l,r,s,o,u,h,c,p,d,m,I;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,o=t.Color,u=t.tween},function(t){h=t.Plant},function(t){c=t.PlantEnum,p=t.plants},function(t){d=t.sounds},function(t){m=t.ArrayGet},function(t){I=t.LevelPlay}],execute:function(){var f,P,y,v,C;l._RF.push({},"5b8e0YOZhdAJ4Rb0eBnr91b","Imitater",void 0);var b=r.ccclass,D=r.property;t("ImitaterPlant",(f=b("ImitaterPlant"),P=D(s),f((C=n((v=function(t){function n(){for(var n,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(n=t.call.apply(t,[this].concat(l))||this).willImitateID=NaN,e(n,"imitateSound",C,a(n)),n.played=!1,n}i(n,t);var l=n.prototype;return l.specialPlantOnEnable=function(){this.invincible=!0,this.played=!1,this.willImitateID=NaN},l.specialPlantOnSquareChange=function(t,n){var i,e;this.played||(this.anmControl.playAnimation("Death",1),this.played=!0,isNaN(this.willImitateID)&&(this.die(!1,!1,!1),-1==(null==(i=this.plantInLnC)||null==(i=i.imitaterInSquare)?void 0:i.indexOf(this))&&(null==(e=this.plantInLnC)||null==(e=e.imitaterInSquare)||e.push(this))))},l.waterable=function(){return!1},l.getRandomPlantID=function(){for(var t=[],n=0;n<c.amount;n++)t.push(n);for(var i=m.randomize(t),e=0;e<i.length;e++){var a,l=i[e];if(-1==I.component.imitaterExcludePlantList.indexOf(l)&&null!=(a=this.plantInLnC)&&a.putPlantAvailable(p.getPlantFeature(l).TYPE,!0,l)&&l!=this.ID)return l}return NaN},l.specialPlantOnDisable=function(){var t=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=t&&this.plantInLnC.imitaterInSquare.splice(t,1)},l.animationListener=function(t){if("showPlant"==t.name){if(this.die(!1,!1,!1),isNaN(this.willImitateID)&&(this.willImitateID=this.getRandomPlantID()),!isNaN(this.willImitateID)){var n=this.plantInLnC.spawnPlantByPlantEnum(this.willImitateID,!0,!0,!1,!0);n&&(n.anmControl.body.color=new o(255,255,255,0),u(n.anmControl.body.color).to(.5,{a:255}).start()),this.node.setSiblingIndex(this.node.parent.children.length)}var i=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=i&&this.plantInLnC.imitaterInSquare.splice(i,1)}else if("die"==t.name){this.die(),this.deathAnm="";var e=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=e&&this.plantInLnC.imitaterInSquare.splice(e,1),this.node.destroy()}else"sound"==t.name&&d.play(this.imitateSound,1,.1)},n}(h)).prototype,"imitateSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/ImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(i){var t,e,n,o;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){o=i.Zombie}],execute:function(){var s;e._RF.push({},"7c5a7mtHJ9G076mDgpxjpzb","ImpZombie",void 0);var c=n.ccclass;n.property,i("ImpZombie",c("ImpZombie")(s=function(i){function e(){return i.apply(this,arguments)||this}return t(e,i),e.prototype.specialZombieOnLanding=function(){this.isAlive()&&"Fly"==this.body.currentAnimationName?(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1)):this.judgeDeath(0)},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/InfiNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Zombies.ts"],(function(t){var e,n,i,o,a,s,r,l,h,u,c,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){h=t.Plant},function(t){u=t.sounds},function(t){c=t.ArrayGet},function(t){d=t.zombies,f=t.ZombieEnum}],execute:function(){var m,p,S,g,y,b,v;s._RF.push({},"1f182wTA1BO5by4RJW9lE5N","InfiNut",void 0);var C=r.ccclass,D=r.property,A=function(){this.DelayBeforeRegenFromDamage=15,this.DelayBeforeRecoverFromDeath=15};t("InfiNutPlant",(m=C("InfiNutPlant"),p=D(l),S=D([l]),m((b=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new A,e.foodShields=[],i(e,"shieldSound",b,o(e)),e._hurtStage=0,e.recoverCD=0,i(e,"appearSounds",v,o(e)),e}n(e,t);var s=e.prototype;return s.onDamagedToHealthO=function(){this.hurtStage=3,this.anmControl.playAnimation("Fade",1),this.recoverCD=this._objdataOwn.DelayBeforeRecoverFromDeath*this._cdScale},s.shieldOnDamaged=function(t,e){e<t.toughness&&(this.foodable=!0),e<=0?this.killAllShields():this.foodShields.forEach((function(t){t.health=e,t.readStage(e)}))},s.specialPlantDie=function(){this.killAllShields()},s.spawnShields=function(){this.killAllShields(),u.play(this.shieldSound,1,.1),this.foodable=!1;for(var t=0;t<5;t++){var e=d.createZombie(t,f.future_infinut_shield);e.canBeKilledByRule=!1,e.worldPositionX=this.worldPositionX,e.coloredWhenHypnoed=!1,e.hypno=!0,e.masterPlant=this,this.foodShields.push(e)}},s.killAllShields=function(){this.foodShields.forEach((function(t){t.playDie()})),this.foodShields=[]},s.onDamaged=function(t,e,n){for(var i=0,o=2;o>=0;o--)if(n>o/3*this.toughness){i=2-o;break}this.hurtStage!=i&&(this.hurtStage=i),n<this.toughness&&(this.recoverCD=this._objdataOwn.DelayBeforeRegenFromDamage*this._cdScale)},s.specialPlantFood=function(t){this.hurtStage=0,this.anmControl.playAnimation("Food",1)},s.specialPlantFoodEnd=function(){this.anmControl.playRandom()},s.animationListener=function(t){"shield"==t.name?this.spawnShields():"foodEnd"==t.name&&this.foodEnd()},s.waterable=function(){return 0==this.hurtStage},s.replantable=function(){return 0!=this.hurtStage},s.replant=function(){this.recover()},s.recover=function(){this.health=this.toughness,this.anmControl.playAnimation("Recover",1),this.hurtStage=0},s.specialPlantOnEnable=function(){this._hurtStage=3,this.hurtStage=0,this.recoverCD=0},s.specialPlantUpdateForce=function(t){var e=this;this.health<this.toughness&&this.recoverCD>0&&(this.recoverCD-=t,this.recoverCD<=0&&this.recover()),this.foodShields.forEach((function(t){t.worldPositionX=e.worldPositionX}))},a(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){var e,n=!1;switch(t){case 1:this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=[];break;case 2:this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=[];break;case 3:this.anmControl.IdleAnim="Idle_Faded",this.anmControl.RandomAnim=[],n=!0;break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],t=0}(this.eaterDetectable=!n,this.smasherDetectable=!n,t!=this._hurtStage)&&(0==t&&3==this._hurtStage?(u.play(c.getRandom(this.appearSounds),1,.1),this.anmControl.playAnimation("Appear",1)):0==t&&3!=this._hurtStage?this.anmControl.playAnimation("Recover",1):this.anmControl.playRandom(),this._hurtStage=t,null==(e=this.plantInLnC)||e.readIndex());this._hurtStage=t}}]),e}(h)).prototype,"shieldSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"appearSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/InfoWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,i,e,r,c,l,a,s,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,l=n.RichText,a=n.JsonAsset,s=n.ScrollView,f=n.Component}],execute:function(){var u,p,h,b,y,d,g,w,m;r._RF.push({},"264e8wD7/5ECYfL1zW1QkK+","InfoWindow",void 0);var v=c.ccclass,T=c.property;n("InfoWindow",(u=v("InfoWindow"),p=T(l),h=T(a),b=T(s),u((g=o((d=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,i(o,"info",g,e(o)),i(o,"infojson",w,e(o)),i(o,"contents",m,e(o)),o}t(o,n);var r=o.prototype;return r.readObject=function(n){var o="";return n.GameInfo.forEach((function(n){o+="\t"+n+"\n"})),o+="\n\nFaQ: \n",n.FaQ.forEach((function(n){o+="<color=#ff0000>Q: "+n.Q+"</color>",o+="\n",o+="<color=#00a700>A:\n",n.A.forEach((function(n){o+="\t    "+n+"\n"})),o+="\n",o+="</color>"})),o+="\n",o+="<color=#ff0000>"+n.AboutSetting.Title+"\n</color>",n.AboutSetting.Elements.forEach((function(n){o+=n+"\n"})),o+=n.WritenBy},r.scrollToBottom=function(){this.contents.scrollToBottom()},r.scrollToTop=function(){this.contents.scrollToTop()},r.start=function(){var n=this.infojson.json,o=this.readObject(n);this.info&&(this.info.string=o)},o}(f)).prototype,"info",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(d.prototype,"infojson",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o(d.prototype,"contents",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/inGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts"],(function(o){var t,e,n,i,r,s,c,a,u;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,i=o.Enum,r=o.director,s=o.AudioSource,c=o.Component},function(o){a=o.ZombieEnum,u=o.zombies}],execute:function(){var m,p;e._RF.push({},"9e3748CYdtChpr6tMbGa862","inGame",void 0);var f=n.ccclass;n.property;i(a);o("inGame",f("inGame")(((p=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).FrontYard=void 0,t.sceneSwitching=!0,t.speedFlag=!0,t.oldTick=r.tick,t.f1BlackList=[a.egypt_zomboss,a.egypt_zomboss2,a.pirate_zomboss,a.pirate_zomboss2,a.cowboy_zomboss,a.cowboy_zomboss2,a.future_zomboss,a.future_zomboss2,a.future_infinut_shield,a.future_protector_shield],t}t(e,o);var n=e.prototype;return n.onLoad=function(){e.component=this,this.getComponent(s)||this.addComponent(s)},n.start=function(){this.sceneSwitching=!1},n.loadZombies=function(){for(var o=0;o<5;o++)for(var t=0;t<3;t++){var e=Math.floor(Math.random()*a.zombieAmount);-1==this.f1BlackList.indexOf(e)&&u.createZombie(o,e)}},e}(c)).component=void 0,m=p))||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/JackOLantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./GroundFire.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./jackOLanternFoodFireParticle.ts","./SoundRescourses.ts"],(function(t){var o,n,i,e,r,a,s,h,c,l,u,d,f,g,p,m,y,S,C,b,E,D;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.AudioClip,c=t.Prefab},function(t){l=t.Plant,u=t.PlantProps},function(t){d=t.GroundFireColorEnum,f=t.GroundFireSpreadStyleEnum},function(t){g=t.Rectangle,p=t.ZombiePool,m=t.TombPool},function(t){y=t.Square},function(t){S=t.zombieDamageType},function(t){C=t.ArrayGet,b=t.instantiatePooly},function(t){E=t.jackOLanternFoodFireParticle},function(t){D=t.sounds}],execute:function(){var P,L,w,A,R,v,F,O,_,j,z,T,k,I,x,q,X,G,J,M,H,N,W,Z;a._RF.push({},"0bb569MPntDr4CPceVEWXbi","JackOLantern",void 0);var B=s.ccclass,U=s.property,V=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).DPS=300,o.DPSPlantfood=300,o.ShootDuration=4.3,o.RechargeTime=5,o.Distance=3,o.PlantfoodFireCount=9,o}return n(o,t),o}(u),K=(P=B("jackOLanternSound"),L=U([h]),w=U([h]),A=U(h),R=U([h]),v=U([h]),F=U([h]),P((j=o((_=function(){function t(){i(this,"shootStartSay",j,this),i(this,"shootStart",z,this),i(this,"shootLoop",T,this),i(this,"shootEndSay",k,this),i(this,"shootEnd",I,this),i(this,"foodSay",x,this)}var o=t.prototype;return o.playShootStartSay=function(){D.playArray(this.shootStartSay,.5,1)},o.playShootStart=function(){D.playArray(this.shootStart,.5,1)},o.playShootLoop=function(){var t;D.play(this.shootLoop,.5,(null==(t=this.shootLoop)?void 0:t.getDuration())-.1)},o.playShootEndSay=function(){D.playArray(this.shootEndSay,.5,1)},o.playShootEnd=function(){D.playArray(this.shootEnd,.5,1)},o.playFoodSay=function(){D.playArray(this.foodSay,.5,1)},t}()).prototype,"shootStartSay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=o(_.prototype,"shootStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(_.prototype,"shootLoop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(_.prototype,"shootEndSay",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(_.prototype,"shootEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(_.prototype,"foodSay",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=_))||O);t("JackOLanternPlant",(q=B("JackOLanternPlant"),X=U(c),G=U(c),J=U(K),q((N=o((H=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=t.call.apply(t,[this].concat(r))||this).fireAnimation=void 0,o._objdataOwn=new V,i(o,"groundFire",N,e(o)),i(o,"foodFire",W,e(o)),o.groundFireParticles=[],i(o,"soundRes",Z,e(o)),o.fireThrowAmount=9,o.switching=!1,o.shooting=!1,o.rechargeDuration=5,o.rechargeCD=0,o.fireStage=0,o.shootDuration=4.3,o._shootEndCD=0,o.detectDistance=3,o.detector=new g,o.waterAnmFadeinTime=0,o}n(o,t);var a=o.prototype;return a.specialPlantOnLoad=function(){this.fireAnimation=this.anmControl.body.armature().getSlot("headfire").childArmature.animation},a.specialPlantOnEnable=function(){this.switching=!1,this.shooting=!1,this.groundFireParticles=[],this.rechargeCD=0,this.fireStage=0,this.shootEndCD=this.shootDuration,this.fireAnimation.play("0",1/0)},a.specialPlantDie=function(){this.shootEnd(!1)},a.specialPlantFood=function(t){var o=this;this.shootEnd(!1),this.restEnd(!1),this.anmControl.playAnimation("Food",1),this.rechargeCD=0,this.soundRes.playFoodSay();var n=[];if(p.inLawnPool().forEach((function(t){n.length>=o.fireThrowAmount||t.inLnC.isInLawn()&&-1==n.indexOf(t.inLnC)&&n.push(t.inLnC)})),n.length<this.fireThrowAmount&&m.pool().forEach((function(t){n.length>=o.fireThrowAmount||t.inLnC.isInLawn()&&-1==n.indexOf(t.inLnC)&&n.push(t.inLnC)})),n.length<this.fireThrowAmount)for(var i=C.randomize(y.getAllLnC()),e=0;n.length<this.fireThrowAmount&&e<i.length;e++){var r=i[e];-1==n.indexOf(r)&&n.push(r)}n.forEach((function(t){var n=b(o.foodFire);n.parent=t.inLane.prjLayer,n.worldPosition=t.plantPoint.worldPosition;var i=n.getComponent(E);i.dps=o._objdataOwn.DPSPlantfood,o._dmgScale&&(i.dps*=o._dmgScale),i.inLnC=t}))},a.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"Shoot"==t.name&&this._shoot()},a.waterable=function(){return!this.switching&&!this.shooting&&this.rechargeCD<=0},a.shootStart=function(){this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[],this.switching=!0,this.soundRes.playShootStartSay()},a._shoot=function(){var t;this.shooting=!0;var o=null==(t=this.inLnC)||null==(t=t.righter)?void 0:t.addLaneFire(1/0,10,d.yellow,f.right,9,this.detectDistance,!1,this.groundFire);this.groundFireParticles=o,this.soundRes.playShootStart()},a.shootEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("AttackEnd",1),this.switching=!0,this.soundRes.playShootEndSay()),this.shooting&&this.soundRes.playShootEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.shooting=!1,this.groundFireParticles.forEach((function(t,o){t.duration=.1*o})),this.groundFireParticles=[]},a.restStart=function(){this.switching=!0,this.anmControl.playAnimation("Out",1),this.anmControl.IdleAnim="Idle_Out",this.anmControl.RandomAnim=[],this.rechargeCD=this.rechargeDuration,this.shootEndCD=0},a.restEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("Recharge",1),this.switching=!0),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.rechargeCD=0,this.shootEndCD=this.shootDuration},a.onObjdataSet=function(t,o){this.shootDuration=o.ShootDuration,this.rechargeDuration=o.RechargeTime,this.detectDistance=o.Distance,this.fireThrowAmount=o.PlantfoodFireCount},a.animationOnComplete=function(){this.switching=!1},a.specialPlantOnSquareChange=function(t,o){this.shooting&&this.shootEnd(),this.detector=g.createRectangleNodeSide(this.inLnC.node,(this.detectDistance+.5)*y.SquareDisW,y.SquareDisH)},a.detectEnemy=function(){for(var t=this,o=!1,n=this.inLnC,i=0;i<this.detectDistance;i++){var e,r,a,s;if(null!=(r=n=null==(e=n)?void 0:e.righter)&&r.iceTile)return!0;if(9==(null==(a=n)?void 0:a.cIndex)&&null!=(s=this.inLane)&&s.iceTile)return!0}return this.inLane.zombiePool().forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o||this.inLane.tombPool().forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o},a.burnEnemies=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale);var n=[],i=[];this.inLane.zombiePool().forEach((function(t){-1==n.indexOf(t)&&t.bodyRec.prjX().y>o.worldPositionX&&t.bodyRec.judgeCrossRec(o.inLnC.rec)&&n.push(t)})),this.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.prjX().y>o.worldPositionX&&t.bodyRec.judgeCrossRec(o.inLnC.rec)&&i.push(t)})),this.groundFireParticles.forEach((function(t){var e=t.inLnC.rec;o.inLane.zombiePool().forEach((function(t){-1==n.indexOf(t)&&t.bodyRec.judgeCrossRec(e)&&n.push(t)})),o.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.judgeCrossRec(e)&&i.push(t)}))})),n.forEach((function(o){o.dealDamage(t,!0,!1,!1,null,S.fire)})),i.forEach((function(o){o.dealDamage(t)}))},a.specialPlantUpdate=function(t){if(!this.fooding&&!this.switching)if(this.rechargeCD<=0){if(this.shooting?(this.burnEnemies(this._objdataOwn.DPS*t),this._cdScale>0&&(this.shootEndCD-=t),this.shootEndCD<=0&&this.shootEnd(),this.soundRes.playShootLoop()):this.shootEndCD<=0?this.restStart():this.shootEndCD=Math.min(this.shootEndCD+t,this.shootDuration),!this.switching){var o=this.detectEnemy();o&&!this.shooting?this.shootStart():!o&&this.shooting&&this.shootEnd()}}else this.rechargeCD-=.5*t,this.rechargeCD<=0&&this.restEnd()},r(o,[{key:"shootEndCD",get:function(){return this._shootEndCD},set:function(t){this._shootEndCD=t;for(var o=0;o<=3;o++)if(t<=this.shootDuration/3*o){var n=this.fireStage+0;this.fireStage=3-o;var i=this.fireStage.toString();n!=this.fireStage&&(n>this.fireStage&&0==this.fireStage&&(i="Recharge"),this.fireAnimation.play(i));break}}}]),o}(l)).prototype,"groundFire",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=o(H.prototype,"foodFire",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(H.prototype,"soundRes",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),M=H))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/jackOLanternFoodFireParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var n,i,t,a,o,l,r,s,d,u,c,f,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.AudioClip},function(e){s=e.ParticleSelfdestroy},function(e){d=e.TileType},function(e){u=e.zombieDamageType},function(e){c=e.sounds},function(e){f=e.NodePools,h=e.ArrayGet}],execute:function(){var p,y,m,S,b,L,g,C,v;o._RF.push({},"da443j0zuND9LBTmZC7YR6d","jackOLanternFoodFireParticle",void 0);var D=l.ccclass,P=l.property;e("jackOLanternFoodFireParticle",(p=D("jackOLanternFoodFireParticle"),y=P([r]),m=P([r]),S=P(r),p((g=n((L=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=e.call.apply(e,[this].concat(o))||this).shadeSlot=void 0,n.lifeSpan=7.5,n.lifeCD=5,t(n,"spawnSounds",g,a(n)),t(n,"fadeSounds",C,a(n)),t(n,"flameSound",v,a(n)),n.faded=!1,n.inLnC=null,n.dps=300,n}i(n,e);var o=n.prototype;return o.animationOnComplete=function(e){if(this.faded)f.destroyPooly(this.node);else{var n="Idle";n+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(n,1)}},o.specialOnLoad=function(){var e;this.shadeSlot=null==(e=this.db)||null==(e=e.armature())?void 0:e.getSlot("shade")},o.animationListener=function(e){"flame"==e.name&&c.play(this.flameSound,1,.3)},o.specialOnEnable=function(){this.lifeCD=this.lifeSpan,c.play(h.getRandom(this.spawnSounds),1,.3),this.faded=!1;var e="Start";e+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(e,1)},o.fadeAway=function(){this.faded||(c.play(h.getRandom(this.fadeSounds),1,.3),this.db.playAnimation("Fade",1/0),this.faded=!0)},o.update=function(e){var n,i,t,a=this;if(this.lifeCD>0&&(this.lifeCD-=e,this.lifeCD<=0&&this.fadeAway()),!this.faded&&null!=(n=this.inLnC)&&n.isInLawn()){var o,l,r,s=this.inLnC.rec,c=[];null==(o=this.inLnC)||null==(o=o.inLane)||o.zombiePool().forEach((function(e){-1==c.indexOf(e)&&e.bodyRec.judgeCrossRec(s)&&c.push(e)})),c.forEach((function(n){n.dealDamage(a.dps*e,!0,!1,!1,null,u.fire)})),null==(l=this.inLnC)||null==(l=l.tombStone)||l.dealDamage(this.dps*e),null==(r=this.inLnC)||null==(r=r.iceTile)||r.die()}var f=null==(i=this.inLnC)?void 0:i.getTileType(),h=!1;f!=d.sea&&f!=d.sky||(h=!0),null==(t=this.shadeSlot)||t._setDisplayIndex(h?-1:0)},n}(s)).prototype,"spawnSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(L.prototype,"fadeSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(L.prototype,"flameSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=L))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Jalapeno.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./GroundFire.ts","./GroundFiresManager.ts","./SoundsController.ts"],(function(n){var r,o,t,e,i,a,u,l,s,c,d,p,h;return{setters:[function(n){r=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,u=n.AudioClip},function(n){l=n.CherryBombPlant,s=n.CherryBombProps},function(n){c=n.GroundFireColorEnum,d=n.GroundFireSpreadStyleEnum},function(n){p=n.GroundFiresManager},function(n){h=n.SoundFXController}],execute:function(){var m,f,y,b,F;i._RF.push({},"348e8m5FjRGQpOqtrn3/MP2","Jalapeno",void 0);var g=a.ccclass,v=a.property,S=n("jalapeno",function(){function n(){}return n.burnFromLnC=function(n,r,o,t,e,i,a,u,l){void 0===e&&(e=10),void 0===i&&(i=c.yellow),void 0===a&&(a=d.cross),void 0===u&&(u=9),void 0===l&&(l=9);var s=n.addLaneFire(t,e,i,a,u,l),h=new w;h.groundFires=s,h.damage=r,h.duration=t,h.armorProtection=o,p.component.registerJalapenoFire(h)},n}()),w=n("jalapenoFire",(function(){this.groundFires=[],this.recs=[],this.damage=1800,this.duration=3,this.armorProtection=!1,this.dealtZombies=[],this.dealtTombs=[]})),C=function(n){function r(){for(var r,o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return(r=n.call.apply(n,[this].concat(t))||this).Duration=5,r}return o(r,n),r}(s);n("JalapenoPlant",(m=g("JalapenoPlant"),f=v(u),m((F=r((b=function(n){function r(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(r=n.call.apply(n,[this].concat(i))||this)._objdataOwn=new C,t(r,"burnSound",F,e(r)),r}return o(r,n),r.prototype.explode=function(){var n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale),this.deathAnm="Death",this.audioSource.playOneShot(this.burnSound,h.SoundFXVolume),S.burnFromLnC(this.inLnC,n,!1,this._objdataOwn.Duration,15,c.yellow,d.split,18,9),this.die()},r}(l)).prototype,"burnSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/JSONs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,o,n,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.JsonAsset,u=e.Component}],execute:function(){var a,c,p,d,f,m,v;n._RF.push({},"0f436UEidtBjp4rKi+hdKBo","JSONs",void 0);var h=s.ccclass,y=s.property,b=e("CommonFeatures",(function(){}));b.LevelModules=[],b.GridItemFeatures=[];a=h("JSONs"),c=y(l),p=y(l),a((m=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,i(t,"LevelModules",m,o(t)),i(t,"GridItemFeatures",v,o(t)),t}return r(t,e),t.prototype.onLoad=function(){b.LevelModules=this.LevelModules.json.objects,b.GridItemFeatures=this.GridItemFeatures.json.GRIDITEMS},t}(u)).prototype,"LevelModules",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"GridItemFeatures",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f));n._RF.pop()}}}));

System.register("chunks:///_virtual/KernelPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts"],(function(t){var n,e,a,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){r=t.CabbagePultPlant,o=t.CabbagePultProps}],execute:function(){var l;e._RF.push({},"81c6aTRPtdNfY/ovuQuiSLQ","KernelPult",void 0);var i=a.ccclass,c=(a.property,function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).ChanceToButter=.3,n}return n(e,t),e}(o));t("KernelPultPlant",i("KernelPultPlant")(l=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new c,n}n(e,t);var a=e.prototype;return a._lobCabbageAnimation=function(){var t=Math.random()>this._objdataOwn.ChanceToButter?"Lob":"Lob_Butter";this.anmControl.playAnimation(t,1,.1,Math.max(2.7/this.lobInterval,1))},a.specialAnimationListener=function(t){"Lob_Butter"==t.name&&(this.detectEnemy(!0),this._lob(this.targetLock,this.cabbageMega),this.targetLock=null)},e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/KeyListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./MouseBlocker.ts","./SoundsController.ts"],(function(e){var r,n,t,s,a,c,u,o,i,l,_,h,T,p,E,f,S,L,I,C,N,F,D,d,g,K,R,w,v,U;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){c=e.cclegacy,u=e._decorator,o=e.Prefab,i=e.UIOpacity,l=e.director,_=e.Sprite,h=e.Color,T=e.tween,p=e.input,E=e.Input,f=e.instantiate,S=e.find,L=e.Vec3,I=e.Label,C=e.KeyCode,N=e.game,F=e.resources,D=e.Component},function(e){d=e.default},function(e){g=e.Setting,K=e.SettingWindow},function(e){R=e.LevelPlay},function(e){w=e.setExitToMapScene},function(e){v=e.MouseBlocker},function(e){U=e.MusicController}],execute:function(){var m,M,y,A,Y,b,P,k;c._RF.push({},"2d802LSjHZPFZ2AdbHZD499","KeyListener",void 0);var G=u.ccclass,H=u.property,O=e("CursorStyleEnum",function(e){return e[e.default=0]="default",e[e.soft=1]="soft",e[e.unchanged=2]="unchanged",e}({}));e("KeyListener",(m=G("KeyListener"),M=H(o),y=H(i),m(((k=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=e.call.apply(e,[this].concat(a))||this).canvasWidget=void 0,t(r,"fpsShower",b,s(r)),r.fpsLabel=void 0,t(r,"screenSplash",P,s(r)),r.screenColorTweening=!1,r.fpsInSec=[],r.fpsCD=1,r}n(r,e),r.gotoScene=function(e,n){r.screenColorTweening||l.loadScene(e,n)},r.goToLevel=function(e){var n=this;r.screenColorTweening||(R.setLevelData(e),w(l.getScene().name),this.darken((function(){n.gotoScene("inGameScene")})))},r.darken=function(e){this.cp.darken(e)};var c=r.prototype;return c.darken=function(e){var r=this;if(!this.screenColorTweening)if(this.screenSplash){this.screenSplash.node.active=!0,this.screenColorTweening=!0;var n=this.screenSplash.getComponent(_);n&&(n.color=new h(0,0,0,255)),this.screenSplash.opacity=0,T(this.screenSplash).to(1,{opacity:255}).call((function(){r.screenColorTweening=!1,e()})).start(),T(U).to(1,{_volumeScalePause:0}).start()}else e()},c.lighten=function(){var e=this;if(this.screenSplash){this.screenSplash.node.active=!0;var r=this.screenSplash.getComponent(_);r&&(r.color=new h(0,0,0,255)),this.screenSplash.opacity=255,T(this.screenSplash).to(1,{opacity:0}).call((function(){e.screenSplash.node.active=!1})).start()}},c.onLoad=function(){var e,n;p.on(E.EventType.KEY_DOWN,this.onKeyDown,this),p.on(E.EventType.KEY_UP,this.onKeyUp,this),r.cp=this,null!=(e=this.screenSplash)&&e.getComponent(v)||null==(n=this.screenSplash)||n.addComponent(v)},c.start=function(){this.lighten();var e=f(this.fpsShower);e.parent=S("Canvas"),e.worldPosition=new L(0,0,0),this.fpsLabel=e.getComponent(I);var n=g.getSettings().cursor;isNaN(n)&&(n=O.default),r.loadCursor(n)},r.keycodeToString=function(e){switch(e){case C.ESCAPE:return"Escape";case C.F1:return"F1";case C.F2:return"F2";case C.F3:return"F3";case C.F4:return"F4";case C.F5:return"F5";case C.F6:return"F6";case C.F7:return"F7";case C.F8:return"F8";case C.F9:return"F9";case C.F10:return"F10";case C.F11:return"F11";case C.F12:return"F12";case C.INSERT:return"Insert";case C.DELETE:return"Delete";case C.HOME:return"Home";case C.END:return"End";case C.PAGE_UP:return"PgUp";case C.PAGE_DOWN:return"PgDn";case C.DIGIT_0:return"0";case C.DIGIT_1:return"1";case C.DIGIT_2:return"2";case C.DIGIT_3:return"3";case C.DIGIT_4:return"4";case C.DIGIT_5:return"5";case C.DIGIT_6:return"6";case C.DIGIT_7:return"7";case C.DIGIT_8:return"8";case C.DIGIT_9:return"9";case C.EQUAL:return"=";case C.BACKSPACE:return"BackSpace";case C.TAB:return"Tab";case C.CAPS_LOCK:return"CapsLk";case C.SHIFT_LEFT:return"Left Shift";case C.SHIFT_RIGHT:return"Right Shift";case C.CTRL_LEFT:return"Left Ctrl";case C.CTRL_RIGHT:return"Right Ctrl";case C.ALT_LEFT:return"Left Alt";case C.ALT_RIGHT:return"Right Alt";case C.SPACE:return"Space";case C.ARROW_LEFT:return"Left";case C.ARROW_RIGHT:return"Right";case C.ARROW_UP:return"Up";case C.ARROW_DOWN:return"Down";case C.KEY_Q:return"Q";case C.KEY_W:return"W";case C.KEY_E:return"E";case C.KEY_R:return"R";case C.KEY_T:return"T";case C.KEY_Y:return"Y";case C.KEY_U:return"U";case C.KEY_I:return"I";case C.KEY_O:return"O";case C.KEY_P:return"P";case C.KEY_A:return"A";case C.KEY_S:return"S";case C.KEY_D:return"D";case C.KEY_F:return"F";case C.KEY_G:return"G";case C.KEY_H:return"H";case C.KEY_J:return"J";case C.KEY_K:return"K";case C.KEY_L:return"L";case C.KEY_Z:return"Z";case C.KEY_X:return"X";case C.KEY_C:return"C";case C.KEY_V:return"V";case C.KEY_B:return"B";case C.KEY_N:return"N";case C.KEY_M:return"M";case C.ENTER:return"Enter";case C.BRACKET_LEFT:return"[";case C.BRACKET_RIGHT:return"]";case C.BACKSLASH:return"\\";case C.SEMICOLON:return";";case C.QUOTE:return"'";case C.COMMA:return",";case C.PERIOD:return".";case C.SLASH:return"/";case C.NUM_LOCK:return"NumLk";case C.NUM_DIVIDE:return"Num /";case C.NUM_PLUS:return"Num +";case C.NUM_MULTIPLY:return"Num *";case C.NUM_SUBTRACT:return"Num -";case C.NUM_DECIMAL:return"Num .";case C.NUM_ENTER:return"Num Enter";case C.NUM_MULTIPLY:return"Num *";case C.NUM_0:return"Num 0";case C.NUM_1:return"Num 1";case C.NUM_2:return"Num 2";case C.NUM_3:return"Num 3";case C.NUM_4:return"Num 4";case C.NUM_5:return"Num 5";case C.NUM_6:return"Num 6";case C.NUM_7:return"Num 7";case C.NUM_8:return"Num 8";case C.NUM_9:return"Num 9"}return""},r.loadCursor=function(e){var r="cursor";switch(e){case O.default:r="cursor";break;case O.soft:r="cursor_soft";break;default:e=O.unchanged}e==O.unchanged?N.canvas.style.cursor="":F.load(r,(function(e,r){var n=r.nativeUrl;N.canvas.style.cursor="url("+n+") , auto"})),K.cursor=e},c.update=function(e){var r=1/N.deltaTime;if(this.fpsCD>0&&(this.fpsInSec.push(r),this.fpsCD-=e),this.fpsCD<=0){var n=0;this.fpsCD=1,this.fpsInSec.forEach((function(e,r,t){n+=e/t.length})),this.fpsInSec=[];var t="";K.showFPS&&(t="FPS: "+Math.round(n).toString()),this.fpsLabel&&(this.fpsLabel.string=t)}},c.onKeyDown=function(e){switch(e.keyCode){case C.F4:K.fullScreen();break;case C.F12:d.openDevTools();break;case C.F10:break;case C.INSERT:d.closeDevTools();break;case C.CTRL_LEFT:case C.CTRL_RIGHT:r.ctrlDown=!0;break;case C.SHIFT_LEFT:case C.SHIFT_RIGHT:r.shiftDown=!0;break;case C.ALT_LEFT:case C.ALT_RIGHT:r.altDown=!0;break;case C.NUM_ENTER:r.numEnterDown=!0}},c.onKeyUp=function(e){switch(e.keyCode){case C.CTRL_LEFT:case C.CTRL_RIGHT:r.ctrlDown=!1;break;case C.SHIFT_LEFT:case C.SHIFT_RIGHT:r.shiftDown=!1;break;case C.ALT_LEFT:case C.ALT_RIGHT:r.altDown=!1;break;case C.NUM_ENTER:r.numEnterDown=!1}},a(r,null,[{key:"screenColorTweening",get:function(){return this.cp&&this.cp.screenColorTweening}}]),r}(D)).cp=null,k.ctrlDown=!1,k.shiftDown=!1,k.altDown=!1,k.numEnterDown=!1,b=r((Y=k).prototype,"fpsShower",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(Y.prototype,"screenSplash",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Y))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var t,o,n,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){r=e.Zombie},function(e){i=e.armorEnum}],execute:function(){var c;o._RF.push({},"cbe10vRMZ5LzpEqODGorh/U","KongfuBasicZombie",void 0);var u=n.ccclass;n.property,e("KongfuBasicZombie",u("KongfuBasicZombie")(c=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).helmetThereSlot=void 0,t}t(o,e);var n=o.prototype;return n.specialZombieOnLoad=function(){this.helmetThereSlot=this.body.body.armature().getSlot("HELMET_THERE_HEAD")},n.judgeHelmetThere=function(){var e=!1;this.armors.forEach((function(t){e||t.ID==i.kongfu_helmet&&t.stage<2&&(e=!0)})),this.helmetThereSlot&&(this.helmetThereSlot.displayIndex=e?0:-1)},n.playSpecialZombieDieForced=function(){this.judgeHelmetThere()},n.onDamaged=function(e,t,o){this.judgeHelmetThere()},n.onArmorDamaged=function(e,t){this.judgeHelmetThere()},n.onArmorThrown=function(e){this.judgeHelmetThere()},n.onArmorAdded=function(e){this.judgeHelmetThere()},n.specialZombieOnEnable=function(){this.judgeHelmetThere()},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuChiZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./FutureMechFootballZombie.ts","./SoundRescourses.ts"],(function(i){var t,e,n,o,a,r,s,h,c,l,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.AudioClip},function(i){h=i.Zombie},function(i){c=i.Square},function(i){l=i.footballmech},function(i){u=i.sounds}],execute:function(){var d,f,p,b,g,v,m;a._RF.push({},"25dd3ArlwFC2INV9Ekx2eVu","KongfuChiZombie",void 0);var C=r.ccclass,y=r.property;i("KongfuChiZombie",(d=C("KongfuChiZombie"),f=y(s),p=y(s),d((v=t((g=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"chargeSound",v,o(t)),n(t,"chiSound",m,o(t)),t.chiCD=6,t}e(t,i);var a=t.prototype;return a.areaChiable=function(){var i=this,t=!1;return this.inLane.plantPool().forEach((function(e){t||e.eaterDetectable&&(i.reversed?-1:1)*(i.shadeSocket.worldPosition.x-e.worldPositionX)>0&&(t=!0)})),t},a.playSpecialZombieDie=function(i){this.switching&&this.judgeDeath(.2)},a.specialZombieOnEnable=function(){this.chiCD=this.objdata.ChiIntervalStart},a._chi=function(){var i=this;if(this.isInLawn()&&this.inLane&&this.isAlive()&&!this.reversed&&!this.hypno)for(var t=function(){var t=c.getLnC(i.lIndex,e),n=!0;if(t.getAllPlants().forEach((function(t){n&&(t.canBeChied()||(n=!1,t.onChiedFailed(i)))})),!n)return 1;var o=t.getAllPlants();if(o.length){var a=o[0];l.pushPlantRight(a,0)}},e=this.cIndex;e>=0&&!t();e--);},a.onReversedSet=function(i){i&&this.switching&&(this.switching=!1,this.detectPlant(.01))},a.chiAnimation=function(){this.correctShadeWP(),this.chiCD=this.objdata.ChiInterval,this.switching=!0,this.walking=!1,this.body.playAnimation("Absorb")},a.specialAnimationListener=function(i){"absorb"==i.name?(this._chi(),u.play(this.chiSound,2,.5)):"charge"==i.name&&u.play(this.chargeSound,3,.7)},a.specialZombieUpdate=function(i,t,e){var n;!this.hypno&&this.isInLawn()&&!this.reversed&&this.walking&&(null==(n=this.inLnC)?void 0:n.cIndex)>2&&this.areaChiable()&&(this.chiCD>0&&(this.chiCD-=i),this.chiCD<=0&&this.chiAnimation())},t}(h)).prototype,"chargeSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"chiSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuHammerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./commonShot.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var i,e,n,o,r,a,s,u,h,c,l,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.CCFloat,u=t.AudioClip},function(t){h=t.Zombie},function(t){c=t.ProjectileEnemyType},function(t){l=t.sounds},function(t){m=t.ArrayGet}],execute:function(){var p,y,g,d,b,f,D,w,C,S,v;r._RF.push({},"bf343WWxIZGua012JXDDgtc","KongfuHammerZombie",void 0);var A=a.ccclass,Z=a.property;t("KongfuHammerZombie",(p=A("KongfuHammerZombie"),y=Z(s),g=Z(s),d=Z(u),b=Z([u]),p((w=i((D=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"hammerDuration",w,o(i)),i.hammerCountDown=0,n(i,"restingDuration",C,o(i)),i.restingCountDown=0,n(i,"rotateSound",S,o(i)),n(i,"hitSounds",v,o(i)),i}e(i,t);var r=i.prototype;return r.commonShotPopOnTouch=function(t){return this.restingCountDown>0||(this.shouldSpeedScale()<=0||(this.hammerCountDown>0?!t.canbeJesterReversed||0!=t.gravity||0!=t.bodyLinearVelocity||(t.linearVelocity.negative(),t.targetLocked=null,t.enemyType=this.hypno?c.zombie:c.plant,l.play(m.getRandom(this.hitSounds),.5,.1),!1):!(this.hammerCountDown<=0&&!this.switching)||(t.canbeJesterReversed&&0==t.gravity&&0==t.bodyLinearVelocity&&t.linearVelocity.x*(this.reversed?-1:1)>0&&Math.abs(t.linearVelocity.y/t.linearVelocity.x)<=1&&(this.switching=!0,this.walking=!1,this.correctShadeWP(),this.body.playAnimation("RotateStart",1)),!0)))},r.specialAnimationListener=function(t){"rotateStart"==t.name?(this.body.playAnimation("RotateLoop",1/0),this.hammerCountDown=this.hammerDuration):"rest"==t.name&&(this.body.playAnimation("Resting",1/0),this.restingCountDown=this.restingDuration),this.hammerZombieAnimationListenerAdd(t)},r.hammerZombieAnimationListenerAdd=function(t){},r.playSpecialZombieDie=function(t){this.switching&&(this.judgeDeath(.2),this.switching=!1)},r.specialZombieUpdate=function(t,i,e){this.hammerCountDown>0&&(this.hammerCountDown-=t,t>0&&l.play(this.rotateSound,1,.25),this.hammerCountDown<=0&&(this.body.playAnimation("RotateEnd",1/0,.2),this.walking=!1,this.restingCountDown=1/0)),this.restingCountDown>0&&(this.restingCountDown-=t,this.restingCountDown<=0&&(this.switching=!1,this.detectPlant(.01)))},r.specialZombieOnEnable=function(){this.hammerCountDown=0,this.restingCountDown=0},i}(h)).prototype,"hammerDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),C=i(D.prototype,"restingDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),S=i(D.prototype,"rotateSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(D.prototype,"hitSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=D))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts","./Square.ts","./Particles.ts"],(function(e){var t,i,n,o,s,a,l,r,h,c,u,d,p,m,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,l=e._decorator,r=e.instantiate,h=e.Vec3,c=e.dragonBones,u=e.find,d=e.Component},function(e){p=e.zombies,m=e.ZombieEnum},function(e){f=e.Square},function(e){b=e.particle}],execute:function(){var y,L,g,P,w;a._RF.push({},"8064d2YiT1BVZfACEdbiboA","Lane",void 0);var C=l.ccclass,v=l.property;e("Lane",(y=C("Lane"),L=v(Number),y((w=t((P=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).Lower=null,t.tileLayer=null,t.tileLiquidLayer=null,t.foodPlantLayer=null,t.floorY=0,t.midY=0,t.toLeft=null,t.toRight=null,t.zombieLayer=null,t.hypnoZombieLayer=null,t.prjLayer=null,t.tombLayer=null,t.iceTile=void 0,t.iceTiles=[],t.UpperLane=null,t.LowerLane=null,t.hurrikaleDuration=0,t.isSea=!1,n(t,"LaneIndex",w,o(t)),t.zombies=[],t.hypnoZombies=[],t.plantUpperLayer=void 0,t.plants=[],t.tombStones=[],t.zombieSpawnOffset=0,t.fenceHere=void 0,t.fenceThere=void 0,t._fenceIgnited=!1,t.plantProjectiles=[],t.spawnPoint=void 0,t.meltCountdown=0,t}i(t,e);var a=t.prototype;return a.setHurrikaleDuration=function(e){this.hurrikaleDuration=e>this.hurrikaleDuration?e:this.hurrikaleDuration},a.hurrikaleBlowing=function(){return this.hurrikaleDuration>0},a.addZombie=function(e){e.hypno?-1==this.hypnoZombies.indexOf(e)&&this.hypnoZombies.push(e):-1==this.zombies.indexOf(e)&&this.zombies.push(e)},a.deleteZombie=function(e){var t=this.zombies.indexOf(e);-1!=t&&this.zombies.splice(t,1);var i=this.hypnoZombies.indexOf(e);-1!=i&&this.hypnoZombies.splice(i,1)},a.zombiePool=function(){return this.zombies.concat()},a.hypnoZombiePool=function(){return this.hypnoZombies.concat()},a.addPlant=function(e){-1==this.plants.indexOf(e)&&this.plants.push(e)},a.deletePlant=function(e){var t=this.plants.indexOf(e);-1!=t&&this.plants.splice(t,1)},a.plantPool=function(){return this.plants.concat()},a.addTomb=function(e){-1==this.tombStones.indexOf(e)&&this.tombStones.push(e)},a.deleteTomb=function(e){var t=this.tombStones.indexOf(e);-1!=t&&this.tombStones.splice(t,1)},a.tombPool=function(){return this.tombStones.concat()},a.addCowboyFence=function(){var e=this,t=r(b.cowboyFence().FenceHere),i=r(b.cowboyFence().FenceThere),n=f.getSquareWorldPosition(this.LaneIndex,8,1.2,1),o=.45;[t,i].forEach((function(t){t.parent=e.node,t.worldPosition=new h(n.x,n.y),t.scale=new h(o,o,o)})),t.setSiblingIndex(this.node.children.length-1),i.setSiblingIndex(0),this.fenceHere=t.getComponent(c.ArmatureDisplay),this.fenceThere=i.getComponent(c.ArmatureDisplay),this.fenceIgnited=!1},a.camelTouchRegrouper=function(){},a.addPlantPrj=function(e){-1==this.plantProjectiles.indexOf(e)&&this.plantProjectiles.push(e)},a.deletePlantPrj=function(e){var t=this.plantProjectiles.indexOf(e);-1!=t&&this.plantProjectiles.splice(t,1)},a.prjPool=function(){return this.plantProjectiles.concat()},a.addIceTile=function(e){-1==this.iceTiles.indexOf(e)&&this.iceTiles.push(e)},a.deleteIceTile=function(e){var t=this.iceTiles.indexOf(e);-1!=t&&this.iceTiles.splice(t,1)},a.clearIce=function(){this.iceTiles.concat().forEach((function(e){e.die()})),this.iceTiles=[]},a.lateUpdate=function(e){this.zombieSpawnOffset=0},a.onLoad=function(){var e,i;this.node.children.length&&(this.Lower=u("Canvas/FrontYard/tiles/"+this.node.name),this.tileLiquidLayer=u("Canvas/FrontYard/tileLiquid/"+this.node.name),this.tileLayer=u("Canvas/FrontYard/tiles/"+this.node.name),this.toLeft=this.node.getChildByName("toLeft"),this.toRight=this.node.getChildByName("toRight"),this.UpperLane=null==(e=f.getLane(this.LaneIndex-1))?void 0:e.getComponent(t),this.LowerLane=null==(i=f.getLane(this.LaneIndex+1))?void 0:i.getComponent(t),this.foodPlantLayer=this.node.getChildByName("food"),this.zombieLayer=this.node.getChildByName("zombies"),this.hypnoZombieLayer=this.node.getChildByName("hypnoZombies"),this.LaneIndex>=-1&&this.LaneIndex<=5&&(this.prjLayer=this.node.getChildByName("prj"),this.tombLayer=this.node.getChildByName("tomb")),this.plantUpperLayer=this.node.getChildByName("plantUpper"),this.spawnPoint=this.node.getChildByName("SpawnPoint"),this.floorY=this.spawnPoint?this.spawnPoint.worldPosition.y:0);this.plants=[],this.zombies=[],this.iceTiles=[],this.plantProjectiles=[],this.tombStones=[]},a.summonBobsledTeam=function(){p.createZombie(this.LaneIndex,m.modern_bobSled_team)},a.iceListener=function(e){if(this.meltCountdown>0){var t=this.meltCountdown+0;this.meltCountdown-=e,this.iceTiles.length||(this.meltCountdown=0),(t>75&&this.meltCountdown<=75||t>55&&this.meltCountdown<=55||t>35&&this.meltCountdown<=35||t>15&&this.meltCountdown<=15)&&this.iceTile&&this.iceTile.length>1.8*f.SquareDisW&&this.summonBobsledTeam()}this.meltCountdown<=0&&this.clearIce()},a.update=function(e){this.iceListener(e),this.fenceIgnited=this.zombiePool().length<=0,this.hurrikaleDuration>0&&(this.hurrikaleDuration-=e)},s(t,[{key:"fenceIgnited",get:function(){return this._fenceIgnited},set:function(e){var t;e!=this._fenceIgnited&&(null==(t=this.fenceThere)||t.playAnimation(e?"Ignite":"Out",1/0));this._fenceIgnited=e}}]),t}(d)).prototype,"LaneIndex",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-2}}),g=P))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/LaserBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./NodePools.ts","./Particles.ts"],(function(o){var t,i,e,n,a,s,r,l,h,d,c,f,u,m,p,S,b,g,P,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized,a=o.createClass},function(o){s=o.cclegacy,r=o._decorator,l=o.Node,h=o.Prefab,d=o.AudioClip,c=o.Vec2,f=o.Vec3},function(o){u=o.Plant,m=o.PlantProps},function(o){p=o.TileType},function(o){S=o.Rectangle},function(o){b=o.Square},function(o){g=o.sounds},function(o){P=o.instantiatePooly},function(o){w=o.particle}],execute:function(){var y,v,C,x,L,D,_,A,O,F,R,E,j,H,I;s._RF.push({},"a37f4cixElPLrEGGPlSjbe2","LaserBean",void 0);var z=r.ccclass,X=r.property,T=function(o){function t(){for(var t,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(t=o.call.apply(o,[this].concat(e))||this).Damage=40,t.ShootInterval=2.7,t.ShootIntervalAdditional=.15,t.DamagePlantfood=1800,t}return i(t,o),t}(m);o("LaserBeanPlant",(y=z("LaserBeanPlant"),v=X(l),C=X(l),x=X(h),L=X(h),D=X(d),_=X(d),y((F=t((O=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this).detector=new S,t._objdataOwn=new T,t.shooting=!1,t.shootCD=0,t.foodHitOldx=0,t._foodShootFromXOffset=0,t.foodShootArmatures=[],t.switching=!1,t.foodShooting=!1,t.foodShotZombies=[],t.foodShotTombs=[],e(t,"foodHitPoint",F,n(t)),e(t,"beamPoint",R,n(t)),e(t,"beamParticle",E,n(t)),e(t,"dirtParticle",j,n(t)),e(t,"shootSound",H,n(t)),e(t,"foodSound",I,n(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detector=S.createRectangleNodeSide(t.node,b.SquareDisW*(9-t.cIndex),b.SquareDisH)},s.detectEnemies=function(){var o=this,t=!1;return this.inLane.zombiePool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRec)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRec)&&(t=!0)})),t)},s.animationListener=function(o){"foodEnd"==o.name?(this.foodEnd(),this.switching=!0,this.anmControl.playAnimation("FoodEnd",1)):"foodStart"==o.name?(this.anmControl.playAnimation("Food",1/0),this.foodShooting=!0):"shoot"==o.name&&this._shoot()},s.waterable=function(){return!this.switching&&!this.shooting},s.animationOnComplete=function(){this.switching=!1,this.shooting=!1},s._shoot=function(){var o=this,t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale),this.inLane.zombiePool().forEach((function(i){i.bodyRec&&i.bodyRec.prjX().y>=o.worldPositionX&&i.dealDamage(t,!0,!1,!0)})),this.inLane.tombPool().forEach((function(i){i.bodyRec&&i.bodyRec.prjX().y>=o.worldPositionX&&i.dealDamage(t)}))},s.specialPlantOnEnable=function(){this.switching=!1,this.shootCD=0,this.shooting=!1},s.specialPlantOnLoad=function(){var o=this;this.foodShootArmatures=[],this.anmControl.body.armature().getSlots().forEach((function(t){t.name.includes("_FS")&&t.childArmature&&o.foodShootArmatures.push(t.childArmature)})),this._foodShootFromXOffset=this.foodHitPoint.worldPosition.x-this.node.worldPosition.x},s.specialPlantFood=function(o){this.foodShooting=!1,this.anmControl.playAnimation("FoodStart",1/0,0,1),g.play(this.foodSound,1,.1),this.foodHitOldx=this.foodShootFromX,this.foodShotZombies=[],this.foodShotTombs=[],this.switching=!1},s.specialFloawerpotHeightScale=function(){return this.fooding&&this.foodShooting?0:1},s.specialPlantUpdateForce=function(o){var t=this;if(this.fooding){if(this.foodShooting){var i=this.foodHitPoint.worldPosition.x,e=b.judgeCIndex(i),n=b.getLnC(this.lIndex,e).getTileType(),a="Sky";n==p.water||n==p.sea?a="Water":n!=p.floor&&n!=p.deck||(a="Floor"),this.foodShootArmatures.forEach((function(o){o&&o.animation.lastAnimationName!=a&&o.animation.play(a,1/0)}));var s=S.createRectangleCenter(new c((i+this.foodHitOldx)/2,this.worldPositionY),b.SquareDisW/2+i-this.foodHitOldx,1e4),r=this._objdataOwn.DamagePlantfood;this._dmgScale&&(r*=this._dmgScale),this.inLane.zombiePool().forEach((function(o){s.judgeCrossRec(o.bodyRec)&&(-1==t.foodShotZombies.indexOf(o)&&(o.dealDamage(r,!0,!1,!0),null!=o&&o.isAlive()&&t.foodShotZombies.push(o)))})),this.inLane.tombPool().forEach((function(o){s.judgeCrossRec(o.bodyRec)&&(-1==t.foodShotTombs.indexOf(o)&&(o.dealDamage(r),null!=o&&o.isAlive()&&t.foodShotTombs.push(o)))}));for(var l=b.SquareDisW,h=Math.floor(Math.abs(this.foodHitOldx-this.foodShootFromX)/l),d=Math.floor(Math.abs(i-this.foodShootFromX)/l),u=0;u<Math.abs(d-h);u++){var m=this.foodShootFromX+h*(u+1)*l,g=b.getLnC(this.lIndex,b.judgeCIndex(m)).getTileType();if(g==p.deck||g==p.floor){var y=P(this.dirtParticle);y.parent=this.inLane.zombieLayer,y.setSiblingIndex(0),y.worldPosition=new f(m,this.worldPositionY,10)}else g==p.sea?w.spawnSeaSplash(this.lIndex,new f(m,this.worldPositionY,10)):g==p.water&&w.spawnWaterSplash(this.lIndex,new f(m,this.worldPositionY,10))}this.foodHitOldx=i}}else this.foodShootArmatures.forEach((function(o){o&&o.animation.play("Floor",1/0)}))},s.specialPlantUpdate=function(o){if(this.fooding);else if(!this.switching)if(this.shootCD>0)this.shootCD-=o;else if(this.detectEnemies()){var t=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(t*=this._cdScale),this.shootCD=t,this.anmControl.playAnimation("Shoot",1,0,Math.max(1,.5/t)),g.play(this.shootSound,1,.2);var i=P(this.beamParticle);i.parent=this.inLane.prjLayer,i.worldPosition=this.beamPoint.worldPosition,this.shooting=!0}},a(t,[{key:"foodShootFromX",get:function(){return this.worldPositionX}}]),t}(u)).prototype,"foodHitPoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(O.prototype,"beamPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(O.prototype,"beamParticle",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"dirtParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(O.prototype,"shootSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(O.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=O))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/lawn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Square.ts","./SoundsController.ts","./LnC.ts","./SoundManager.ts","./levelController.ts","./Sunflower.ts","./SandBoxLevelSettingWindow.ts"],(function(e){var n,t,i,o,r,a,l,u,c,s,p,h,b,m,d,f,y,w,g,S,v,U,A,L,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Enum,c=e.UITransform,s=e.Prefab,p=e.AudioClip,h=e.instantiate,b=e.find,m=e.AudioSource,d=e.Vec3,f=e.Vec2,y=e.Component},function(e){w=e.ArrayGet},function(e){g=e.Square},function(e){S=e.SoundFXController},function(e){v=e.TileType},function(e){U=e.WorldMusic},function(e){A=e.LevelPlay},function(e){L=e.sunflower},function(e){T=e.SandBoxLevelSettingWindow}],execute:function(){var R,_,C,O,z,M,P,V,E,F,B,D,N,q,k,x,I,W,X,G,j;a._RF.push({},"d459cG8REdFa6yufUgn/5Zy","lawn",void 0);var H=l.ccclass,Z=l.property;u(U);e("lawn",(R=H("lawn"),_=Z(c),C=Z(Boolean),O=Z(s),z=Z(s),M=Z(Boolean),P=Z({type:U}),V=Z([p]),E=Z([p]),F=Z([p]),R((N=n((D=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"zombieShower",N,o(n)),n.oldSquaresTypes=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],i(n,"atNight",q,o(n)),n.atNight_=!1,i(n,"lawnUpper",k,o(n)),n.lawnUpper_=null,i(n,"lawnThereUpper",x,o(n)),n.lawnThereUpper_=null,i(n,"tideOnLoad",I,o(n)),i(n,"worldMusic",W,o(n)),i(n,"ambienceLoop",X,o(n)),i(n,"ambienceOccasional",G,o(n)),n.busyAmbOcc=0,i(n,"ambienceRare",j,o(n)),n.busyAmbRare=0,n.ID=0,n.busyDropsun=3,n}t(n,e);var a=n.prototype;return a.initialize=function(){var e=this;this.lawnUpper&&(this.lawnUpper_=h(this.lawnUpper),this.lawnUpper_.parent=b("Canvas/LawnCommon/LawnUpper"),this.lawnUpper_.worldPosition=this.node.worldPosition,this.lawnUpper_.worldScale=this.node.worldScale),this.lawnThereUpper&&(this.lawnThereUpper_=h(this.lawnThereUpper),this.lawnThereUpper_.parent=this.node.parent.parent.getChildByName("upper"),this.lawnThereUpper_.worldPosition=this.node.worldPosition,this.lawnThereUpper_.worldScale=this.node.worldScale),[-2,-1,0,1,2,3,4,5].forEach((function(e){[-2,-1,0,1,2,3,4,5,6,7,8,9].forEach((function(n){var t;null==(t=g.getLnC(e,n))||t.setTileType(v.floor)}))})),[-2,-1,0,1,2,3,4,5].forEach((function(e){g.getLaneComponent(e).isSea=!1})),this.specialInitialize(),[0,1,2,3,4].forEach((function(n){[0,1,2,3,4,5,6,7,8].forEach((function(t){var i,o=null==(i=g.getLnC(n,t))?void 0:i.getTileType();o&&(e.oldSquaresTypes[n][t]=o)}))}))},a.onDisable=function(){var e,n;null==(e=this.lawnUpper_)||e.destroy(),null==(n=this.lawnThereUpper_)||n.destroy(),this.lawnUpper_=null,this.lawnThereUpper_=null},a.specialInitialize=function(){},a.playAmbience=function(){var e=this.getComponent(m);e.volume=.6*S.SoundFXVolume,this.ambienceLoop.length&&(e.clip=w.getRandom(this.ambienceLoop),e.play(),e.loop=!1)},a.playAmbienceRare=function(){var e=10+Math.round(10*Math.random()),n=this.getComponent(m);this.busyAmbRare=60*e,n.playOneShot(w.getRandom(this.ambienceRare),S.SoundFXVolume/n.volume)},a.playAmbienceOccasional=function(){var e=5+Math.round(5*Math.random());this.busyAmbOcc=60*e;var n=this.getComponent(m);n.playOneShot(w.getRandom(this.ambienceOccasional),S.SoundFXVolume/n.volume)},a.onEnable=function(){this.atNight_=this.atNight,this.getComponent(m)||this.addComponent(m)},a.dropSun=function(){var e;if(T.skySunDrop){var n=Math.round(300*Math.random()),t=Math.round(200*Math.random()),i=new d(g.getSquareWorldPosition(2,4).x-150+n,g.getSquareWorldPosition(2,4).y-150+t,0);if(null!=(e=A.component)&&e.sunbombProps){var o=L.dropOneSunBomb(new f(i.x,i.y));o.linearVelocity=new f(0,0),o.bodyLinearVelocity=-3,o.gravity=0,o.height=700-t}else{L.produceSun(50,i,700-t,!1).forEach((function(e){e.linearVelocity=new f(0,0),e.bodyLinearVelocity=-3,e.gravity=0}))}}},a.specialLawnUpdate=function(e){},a.update=function(e){var n=this.getComponent(m);n.playing?n.volume=.6*S.SoundFXVolume:this.playAmbience(),this.busyAmbRare>0&&(this.busyAmbRare-=60*e),this.busyAmbRare<=0&&(this.busyAmbRare=0,this.ambienceRare.length&&this.playAmbienceRare()),this.busyAmbOcc>0&&(this.busyAmbOcc-=60*e),this.busyAmbOcc<=0&&(this.busyAmbOcc=0,this.ambienceOccasional.length&&this.playAmbienceOccasional()),this.specialLawnUpdate(e)},r(n,[{key:"PlankRows",get:function(){return[]},set:function(e){}},{key:"SeaRows",get:function(){return[0,1,2,3,4]}}]),n}(y)).prototype,"zombieShower",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(D.prototype,"atNight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=n(D.prototype,"lawnUpper",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(D.prototype,"lawnThereUpper",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(D.prototype,"tideOnLoad",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=n(D.prototype,"worldMusic",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.Modern}}),X=n(D.prototype,"ambienceLoop",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(D.prototype,"ambienceOccasional",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(D.prototype,"ambienceRare",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/lawnPirate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lawn.ts","./Square.ts","./LnC.ts","./levelController.ts","./UI.ts","./SoundRescourses.ts"],(function(e){var n,t,a,i,s,o,l,c,r,h,k,u,p,L,f,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,r=e.AudioClip,h=e.dragonBones},function(e){k=e.lawn},function(e){u=e.Square},function(e){p=e.TileType},function(e){L=e.LevelPlay},function(e){f=e.UIInGame},function(e){d=e.sounds}],execute:function(){var w,D,P,y,g,m,v,R,C;o._RF.push({},"3f6296qtA9AC6TtFNKlvPXc","lawnPirate",void 0);var b=l.ccclass,S=l.property;e("lawnPirate",(w=b("lawnPirate"),D=S(c),P=S(r),y=S(r),w((v=n((m=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))||this).Lane0Deck=!1,n.Lane1Deck=!1,n.Lane2Deck=!1,n.Lane3Deck=!1,n.Lane4Deck=!1,a(n,"buttons",v,i(n)),a(n,"plankBreak",R,i(n)),a(n,"plankAdd",C,i(n)),n}t(n,e);var o=n.prototype;return o.addPlankRow=function(e){var n=this.PlankRows;-1==this.PlankRows.indexOf(e)&&e>=0&&e<=4&&(n.push(e),d.play(this.plankAdd,1,0)),this.PlankRows=n},o.removePlankRow=function(e){var n=this.PlankRows,t=this.PlankRows.indexOf(e);-1!=t&&(n.splice(t,1),d.play(this.plankBreak,1,0)),this.PlankRows=n},o.switchLanePlank=function(e){-1!=this.PlankRows.indexOf(e)?this.removePlankRow(e):this.addPlankRow(e)},o.switchLane0Plank=function(){this.switchLanePlank(0)},o.switchLane1Plank=function(){this.switchLanePlank(1)},o.switchLane2Plank=function(){this.switchLanePlank(2)},o.switchLane3Plank=function(){this.switchLanePlank(3)},o.switchLane4Plank=function(){this.switchLanePlank(4)},o.specialInitialize=function(){this.PlankRows=[0,1,2,3,4]},o.specialLawnUpdate=function(e){this.buttons.active=L.sandBoxModeOn&&!f.uiingame.uiHidden},s(n,[{key:"PlankRows",get:function(){return[].concat(this.Lane0Deck?[0]:[],this.Lane1Deck?[1]:[],this.Lane2Deck?[2]:[],this.Lane3Deck?[3]:[],this.Lane4Deck?[4]:[])},set:function(e){this.Lane0Deck=-1!=e.indexOf(0),this.Lane1Deck=-1!=e.indexOf(1),this.Lane2Deck=-1!=e.indexOf(2),this.Lane3Deck=-1!=e.indexOf(3),this.Lane4Deck=-1!=e.indexOf(4);for(var n=[this.Lane0Deck,this.Lane1Deck,this.Lane2Deck,this.Lane3Deck,this.Lane4Deck],t=0;t<n.length;t++){if(n[t]){u.getLaneComponent(t).isSea=!1;for(var a=5;a<9;a++)u.getLnC(t,a).setTileType(p.deck)}else{u.getLaneComponent(t).isSea=!0;for(var i=5;i<9;i++)u.getLnC(t,i).setTileType(p.sea)}[-1,5].forEach((function(e){u.getLaneComponent(e).isSea=!0})),this.getComponent(h.ArmatureDisplay).armature().getSlot("DECKSHADE"+t.toString()).displayIndex=n[t]?0:-1,this.node.getChildByName("Lane"+t.toString()).getComponent(h.ArmatureDisplay).playAnimation(n[t]?"On":"Off")}u.getLnC(-1,0).setTileType(p.sea),u.getLnC(5,0).setTileType(p.sea)}},{key:"SeaRows",get:function(){return[].concat(this.Lane0Deck?[]:[0],this.Lane1Deck?[]:[1],this.Lane2Deck?[]:[2],this.Lane3Deck?[]:[3],this.Lane4Deck?[]:[4])}}]),n}(k)).prototype,"buttons",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(m.prototype,"plankBreak",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(m.prototype,"plankAdd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/lawnSky.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./LnC.ts","./lawn.ts"],(function(n){var e,t,w,i,r,o,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,w=n._decorator,i=n.Vec2},function(n){r=n.Square},function(n){o=n.LnC,s=n.TileType},function(n){c=n.lawn}],execute:function(){var u;t._RF.push({},"7b7f5kDzBFOA7szLKIjO+gU","lawnSky",void 0);var a=w.ccclass;w.property,n("lawnSky",a("lawnSky")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var w=t.prototype;return w.skyTiles=function(){return[new i(-1,0),new i(5,0),new i(0,9),new i(0,3),new i(0,4),new i(0,5),new i(0,6),new i(0,7),new i(0,8),new i(1,3),new i(1,4),new i(1,5),new i(1,6),new i(1,7),new i(1,8),new i(2,3),new i(2,4),new i(2,5),new i(2,6),new i(2,7),new i(2,8),new i(3,3),new i(3,4),new i(3,5),new i(3,6),new i(3,7),new i(3,8),new i(4,3),new i(4,4),new i(4,5),new i(4,6),new i(4,7),new i(4,8)]},w.specialInitialize=function(){this.skyTiles().forEach((function(n){r.getSquare(n.x,n.y).getComponent(o).setTileType(s.sky)}))},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/levelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./Cards.ts","./UI.ts","./SoundRescourses.ts","./ShovelUIController.ts","./SunCount.ts","./PlantFoodCount.ts","./Zombies.ts","./Zombie.ts","./NodePools.ts","./Tombs.ts","./Square.ts","./LnC.ts","./Plants.ts","./lawnPirate.ts","./SoundsController.ts","./SoundManager.ts","./Conveyor.ts","./PowerupFingers.ts","./PlayerProperties.ts","./CharacterManager.ts","./Particles.ts","./Droppings.ts","./Prizes.ts","./levelPrize.ts","./LevelTaskCount.ts","./DangerroomCardChooser.ts","./MultiLanguage.ts","./Tiles.ts","./foodLinkTile.ts","./Shovel.ts","./GridItem.ts","./SettingWindow.ts","./LevelObjectiveScreen.ts","./Projectiles.ts","./Character.ts"],(function(e){var a,n,t,i,o,r,s,l,u,c,h,m,d,v,g,p,P,f,b,S,w,N,C,y,M,L,W,T,D,E,R,B,x,G,I,Z,k,F,O,j,_,A,z,H,U,Y,V,X,J,K,q,Q,$,ee,ae,ne,te,ie,oe,re,se,le,ue,ce,he,me,de,ve,ge,pe,Pe,fe,be;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.createClass,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Label,u=e.Color,c=e.ProgressBar,h=e.Sprite,m=e.JsonAsset,d=e.Node,v=e.Camera,g=e.UITransform,p=e.Vec3,P=e.tween,f=e.instantiate,b=e.Vec2,S=e.Component,w=e.HALF_PI},function(e){N=e.FrontYard,C=e.yardType},function(e){y=e.Cards},function(e){M=e.UIInGame},function(e){L=e.sounds},function(e){W=e.ShovelUIController},function(e){T=e.SunCount},function(e){D=e.PlantFoodCount},function(e){E=e.zombies,R=e.ZombieEnum},function(e){B=e.zombieDamageType,x=e.Zombie},function(e){G=e.ArrayGet,I=e.instantiatePooly,Z=e.NodePools},function(e){k=e.tombs,F=e.TombEnum},function(e){O=e.Square},function(e){j=e.LnC,_=e.LnCSpawnZombieStyleEnum,A=e.TileType},function(e){z=e.plants,H=e.PlantEnum},function(e){U=e.lawnPirate},function(e){Y=e.MusicController},function(e){V=e.MusicSortEnum,X=e.SoundManager},function(e){J=e.Conveyor,K=e.ConveyorPlant},function(e){q=e.PowerupFingers},function(e){Q=e.EndlessZoneProperties,$=e.EndlessZonePropertyEnum,ee=e.EndlessZoneMiniGameProperties,ae=e.AllPlayerProperties},function(e){ne=e.ZombiePool,te=e.PlantPool},function(e){ie=e.particle},function(e){oe=e.droppings},function(e){re=e.prizeRes},function(e){se=e.levelPrize},function(e){le=e.LevelTaskCountModeEnum},function(e){ue=e.DangerroomCardChooser},function(e){ce=e.MultiLanguage},function(e){he=e.TileEnum},function(e){me=e.FoodLinkTileTypeEnum},function(e){de=e.Shovel},function(e){ve=e.GridItem,ge=e.GridItemPool},function(e){pe=e.Setting},function(e){Pe=e.LevelObjectiveScreen},function(e){fe=e.ProjectileEnum},function(e){be=e.CharacterType}],execute:function(){var Se,we,Ne,Ce,ye,Me,Le,We,Te,De,Ee,Re,Be,xe,Ge,Ie,Ze,ke,Fe,Oe,je,_e,Ae,ze,He,Ue,Ye,Ve,Xe,Je,Ke,qe,Qe,$e,ea,aa,na,ta,ia,oa,ra,sa,la,ua,ca,ha,ma,da;r._RF.push({},"69a37XH3A9DBa468NxIslYS","levelController",void 0);var va=s.ccclass,ga=s.property,pa=e("SunBombProperties",(function(){this.PlantBombExplosionRadius=25,this.ZombieBombExplosionRadius=80,this.PlantDamage=1e3,this.ZombieDamage=500})),Pa=function(){this.SuppressParticle=!1,this.List=[]},fa=function(){this.ID=H.Peashooter,this.NewObjdata={}},ba=function(){this.SuppressFlagZombie=!1,this.MinNextWaveHealthPercentage=.5,this.MaxNextWaveHealthPercentage=.7,this.FlagWaveInterval=1,this.IgnoreFlagCarriers=!1,this.WaveCount=0,this.WaveSpendingPointIncrement=10,this.WaveSpendingPoints=100,this.Waves=[],this.ZombieCountdownFirstWaveSecs=10},Sa=function(){this.DynamicZombies=[]},wa=function(){this.zombieName=R.modern_basic,this.amount=0},Na=function(){this.l=-1,this.c=-1,this.tombEnum=F.tutorial},Ca=(Se=va("inGameSceneToolTips"),we=ga(l),Ne=ga(l),Se((Me=a((ye=function(){function e(){i(this,"LetsRock",Me,this),i(this,"PresetLetsRock",Le,this)}return e.prototype.setString=function(){this.LetsRock&&(this.LetsRock.string=ce.getString(ce.lyrics.InGameScene.LetsRock,!1)),this.PresetLetsRock&&(this.PresetLetsRock.string=ce.getString(ce.lyrics.InGameScene.PresetLetsRock,!1))},e}()).prototype,"LetsRock",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=a(ye.prototype,"PresetLetsRock",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=ye))||Ce),ya=function(){this.ColumnEnd=8,this.ColumnStart=0,this.GroupSize=1,this.SpiderCount=0,this.SpiderZombie=R.future_imp,this.TimeBeforeFullSpawn=4,this.TimeBetweenGroups=1,this.ZombieFallTime=1.5,this._leftTimeBetweenGroups=0},Ma=function(){function e(){this.SunCD=2,this.SunCountdownBase=6,this.SunCountdownRange=3,this.SunCountdownIncreasePerSun=.1,this.SunCountdownMax=12,this.ListenToLawn=!1,this.dropped=0}return e.prototype.deal=function(e){if((!this.ListenToLawn||!N.currentLawn.atNight_)&&(this.SunCD-=e,this.SunCD<=0)){var a=this.SunCountdownBase+this.dropped*this.SunCountdownIncreasePerSun+this.SunCountdownRange*Math.random();this.SunCD=Math.min(this.SunCountdownMax,a),N.currentLawn.dropSun(),this.dropped++}},e}(),La=e("LevelPlay",function(){function e(){}return e.gameStart=function(){this.component.gameStart()},e.gameWarn=function(e,a,n,t,i,o,r,s){void 0===a&&(a=6),void 0===n&&(n=4),void 0===t&&(t=.5),void 0===i&&(i=.33),void 0===o&&(o=new u(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new u(0,0,0,255)),this.component.gamingWarn(e,a,n,t,i,o,r,s)},e.shakeScreen=function(e){void 0===e&&(e=.2),this.component.shakeScreen(e)},e.setLevelData=function(e){this.levelData=e.json},n(e,null,[{key:"zombieDamageReceiveScale",get:function(){return this.component?this.component.zombieDamageReceiveScale:1}},{key:"gaming",get:function(){return this.component&&this.component.node.active&&this.component.gaming}},{key:"gameStarted",get:function(){return!!this.component&&this.component.gameStarted},set:function(e){this.component.gameStarted=e}}]),e}());La.component=void 0,La.screenFlashColors=[],La.screenFlashLeftColor=new u(255,255,255,0),La.sandBoxModeOn=!1,La.letsRocked=!1,La.chooseCardMode=!1,La.levelData=null;e("levelController",(We=va("levelController"),Te=ga(Ca),De=ga(l),Ee=ga(c),Re=ga(h),Be=ga(h),xe=ga(h),Ge=ga(c),Ie=ga(l),Ze=ga(m),ke=ga(d),Fe=ga(ue),Oe=ga(de),je=ga(c),_e=ga(v),Ae=ga(d),ze=ga(d),He=ga(g),Ue=ga(Pe),Ye=ga(m),We((Je=a((Xe=function(e){function a(){for(var a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(a=e.call.apply(e,[this].concat(t))||this)._levelWorldName="",i(a,"tooltips",Je,o(a)),i(a,"inGameWarnLabel",Ke,o(a)),a._warnLabelA=0,a.gameWarnTween=[],i(a,"levelProgressBar",qe,o(a)),i(a,"levelProgressHead",Qe,o(a)),i(a,"waveFlag",$e,o(a)),a.waveFlags=[],i(a,"screenFlash",ea,o(a)),a._comment="Tutorial",a.currentLevelObjects=[],a.levelModulesObjects=[],a.graveProps=[],a.waveManagerProps=new ba,a.newWaves=null,a.currentWave=-1,a.currentBigWave=-1,a.conveyor=!1,a.plantMustProtectCount=0,a._plantUnderProtectCount=0,a.imitaterExcludePlantList=[],a.presetSeedToChoose=[],a.presetSeedBank=[],a.ExcludeListSunProducers=!1,a.sunDropper=null,a.plantModifiers=[],a.ExcludePlantList=[],a.PowerUpsForceShow=!1,a.PowerUpsForceHide=!1,a.PFSlotsShow=!1,a.sunbombProps=null,a.isCowboyMinigame=!1,a.cowboyMinigameWaiting=!1,a.fightAlonePlant=void 0,a.fightAlonePlantIndex=0,a.fightAlonePlantList=[],a.fightAlonePlantPoint=0,i(a,"fightAloneProgressBar",aa,o(a)),a.zombieDamageReceiveScale=1,i(a,"levelNameLabel",na,o(a)),a.levelNameString=void 0,a.difficulty=6,a.waveSpawnZombies=[],a.maxCamelTouchType=8,a.lastPushedCamel=NaN,i(a,"Level",ta,o(a)),a.rocked=!1,a.levelVictoryCountDown=1,a.waveEventProcessingAmount=0,a.spiderRainProps=[],a.waveToughness=1,a._zombiesInThisWave=[],a.nextWaveZombieHealthPercentage=.5,a.waveZombieDamageCountdown=4,a.nextWaveCountdown=0,a.isFinalWave=!1,a.rallyBW=[],a.isDangerroom=!1,a.dangerroomProperties=[],a.dangerroomLevel=new Q,a.dangerroomPPEnum=$.default,a.dangerroomExcludePlantList=[],a.isDangerroomMiniGame=!1,a.dangerroomMiniGameProperties=[],a.dangerroomMiniGameLevel=new ee,a.dangerroomMiniGamePPEnum=$.default,a.camelComboCount=0,a.camelComboOn=!1,a.foodAllWhenGameStarted=!1,a.onlyLanesForRandomSpawn=[0,1,2,3,4],a.gameStarted=!1,a.lastStandGameStartButtonOldPos=new p,i(a,"lastStandGameStartButton",ia,o(a)),i(a,"dangerroomCardChooser",oa,o(a)),a.viewingLawn=!1,i(a,"viewButton",ra,o(a)),a.viewLawnDisabled=!1,a.lastStandPrepareStarted=!1,a.bossZombie=null,a.bossProps=null,a.bossMovable=!1,i(a,"bossHealthProgressBar",sa,o(a)),a.zombossHPNotches=[],a.screenShakeVec=new p,a._uiPos=new p(0,0,0),i(a,"camera",la,o(a)),i(a,"ui",ua,o(a)),i(a,"uiUpper",ca,o(a)),a.prizeSpawnWP=null,a.gameWon=!1,a.gameLost=!1,a.gameOver=!1,i(a,"zombieDisplayer",ha,o(a)),a.zombiesOnDisplayed=[],i(a,"levelObjectiveShower",ma,o(a)),a.lastStand=!1,a.chickenThrowers=[],a.startingMusic=NaN,a.growingTime=0,a.PLANTWarnString="",i(a,"levelModuleJson",da,o(a)),a}t(a,e);var r=a.prototype;return r.getLevelName=function(e,a){var n,t=null==e?void 0:e.Name,i=ce.getStringByPropsWithoutTricks("LevelName",t);i||(i=ce.getString(null==e?void 0:e.NameMultiLanguage,!1)),i||(i=e.Name);var o=null==e?void 0:e.LevelNumber;if(!isNaN(o)&&null!=o)if(this.isDangerroomMiniGame){this.getDangerroomMiniGameProperties();o=this.dangerroomMiniGameLevel.level}else if(this.isDangerroom){this.getDangerroomProperties();o=this.dangerroomLevel.level}return(i=null==(n=i)?void 0:n.replace("<LEVELNUMBER>",o.toString()))||""},r.gamingWarn=function(e,a,n,t,i,o,r,s){void 0===e&&(e="A HUGE WAVE OF ZOMBIES IS APPROACHING!"),void 0===a&&(a=5),void 0===n&&(n=4),void 0===t&&(t=.5),void 0===i&&(i=.33),void 0===o&&(o=new u(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new u(0,0,0,255)),this.inGameWarnLabel.string=e,this.gameWarnTween.forEach((function(e){e.stop()})),this.gameWarnTween=[],this.inGameWarnLabel.color=o,this.inGameWarnLabel.outlineColor=s,this.inGameWarnLabel.node.scale=new p(n,n,n),this.gameWarnTween.push(P(this.inGameWarnLabel.node).to(i,{scale:new p(t,t,t)}).call((function(){switch(r){case 1:L.playReadyOrSet();break;case 2:case 3:L.playSandStormWarn();break;case 4:L.playFinalWave();break;default:L.playHugeWave()}})).start(),P(this).to(i/2,{warnLabelA:255}).to(i/2+a,{}).to(.33,{warnLabelA:0}).start())},r.setLevelProgressBar=function(){var e;if(!isNaN(null==(e=this.waveManagerProps)||null==(e=e.Waves)?void 0:e.length)){this.waveFlags=[],this.levelProgressBar.node.active=!0,this.waveFlags.unshift(this.waveFlag);for(var a=this.waveManagerProps.Waves.length/this.waveManagerProps.FlagWaveInterval,n=1;n<a;n++){var t=f(this.waveFlag.node);t.parent=this.waveFlag.node.parent,t.position=new p(2*-this.waveFlag.node.parent.position.x/a*n,this.waveFlag.node.position.y,0),this.waveFlags.unshift(t.getComponent(h))}this.levelProgressBar.node.active=!1}},r.setScreenColor=function(){var e=new u(0,0,0,0);La.screenFlashColors.forEach((function(a){e.r+=a.r,e.g+=a.g,e.b+=a.b,e.a+=a.a})),La.screenFlashLeftColor.a>0&&(e.r+=La.screenFlashLeftColor.r,e.g+=La.screenFlashLeftColor.g,e.b+=La.screenFlashLeftColor.b,e.a+=La.screenFlashLeftColor.a),La.screenFlashColors=[],this.screenFlash.color=e},r.initialGraveSpawn=function(){if(!(this.graveProps.length<=0)){var e=this.graveProps.concat();this.schedule((function(){var a=G.getRandom(e);a&&(O.getLnC(a.l,a.c).addTomb(a.tombEnum,!1,!1),e.splice(e.indexOf(a),1))}),1/this.graveProps.length,this.graveProps.length,.01),this.graveProps=[]}},r.setWaveProperties=function(e){var a,n,t=new ba;for(null!=e&&null!=(a=e.FlagWaveVeteranOverrideTypes)&&a.length&&(this.rallyBW=e.FlagWaveVeteranOverrideTypes),null!=e&&e.SuppressFlagZombie&&(t.SuppressFlagZombie=!0),null!=e&&e.MinNextWaveHealthPercentage&&(t.MinNextWaveHealthPercentage=e.MinNextWaveHealthPercentage),null!=e&&e.MaxNextWaveHealthPercentage&&(t.MaxNextWaveHealthPercentage=e.MaxNextWaveHealthPercentage),null!=e&&e.IgnoreFlagCarriers&&(t.IgnoreFlagCarriers=!0),null!=e&&e.WaveCount&&(t.WaveCount=e.WaveCount),null!=e&&null!=(n=e.SpawnRows)&&n.length&&(this.onlyLanesForRandomSpawn=e.SpawnRows),null!=e&&e.Waves&&(t.Waves=e.Waves);t.Waves.length<t.WaveCount;)t.Waves.push([]);null!=e&&e.FlagWaveInterval&&(t.FlagWaveInterval=e.FlagWaveInterval),null!=e&&e.ZombieCountdownFirstWaveSecs&&(t.ZombieCountdownFirstWaveSecs=e.ZombieCountdownFirstWaveSecs),null!=e&&e.WaveSpendingPointIncrement&&(t.WaveSpendingPointIncrement=e.WaveSpendingPointIncrement),null!=e&&e.WaveSpendingPoints&&(t.WaveSpendingPoints=e.WaveSpendingPoints),this.waveManagerProps=t},r.setWaveManagerModuleProperties=function(e){var a=new Sa;null!=e&&e.DynamicZombies&&(a.DynamicZombies=e.DynamicZombies),this.readModule([null==e?void 0:e.WaveManagerProps]),this.newWaves=a},r.setFrozenPlants=function(e){var a;null==e||null==(a=e.InitialPlantPlacements)||a.forEach((function(e){if(!isNaN(Number(e.GridX))&&!isNaN(Number(e.GridY))&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var a=e.GridX,n=e.GridY;O.getLnC(n,a).spawnPlantByPlantEnum(z.getPlantEnumByString(e.TypeName))}}))},r.setPiratePlanks=function(e){var a,n=null==(a=N.currentLawn)?void 0:a.getComponent(U);if(n){var t,i=[];null!=e&&null!=(t=e.PlankRows)&&t.length&&(i=e.PlankRows),this.scheduleOnce((function(){n.PlankRows=i}),0)}},r.setStartingGraveStones=function(e){var a,n=this,t=null==e?void 0:e.GravestoneCount,i=(null==e?void 0:e.SpawnColumnEnd)-1,o=(null==e?void 0:e.SpawnColumnStart)-1,r=null==e?void 0:e.SpawnRowEnd,s=null==e?void 0:e.SpawnRowStart;t=isNaN(t)?0:t,i=isNaN(i)?8:i,o=isNaN(o)?0:o,r=isNaN(r)?4:r,s=isNaN(s)?0:s;var l=k.getTombEnumByRTID(null==e?void 0:e.Type);isNaN(l)&&(l=k.getTombEnumByLawn(N.currentLawnYardType));for(var u=(Math.abs(i-o)+1)*(Math.abs(r-s)+1),c=[],h=0;c.length<t&&c.length<u&&h++<u;){var m=O.getRandomLnC(s,r,o,i);if(-1==c.indexOf(m)){var d=new Na;d.c=m.cIndex,d.l=m.lIndex,d.tombEnum=l,this.graveProps.push(d),c.push(m)}}null==(a=e.ForceSpawnData)||a.forEach((function(e){if(!isNaN(e.GridX)&&!isNaN(e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var a=NaN;e.TypeName&&(a=k.getTombEnumByGridItemID(ve.getGridItemEnumByCodeName(e.TypeName)));var t=e.GridX,i=e.GridY,o=new Na;o.c=t,o.l=i,o.tombEnum=isNaN(a)?l:a,n.graveProps.push(o)}}))},r.onLoseDarken=function(){this.isDangerroomMiniGame?(ae.getDangerRoomMiniGameProperty(this.dangerroomMiniGamePPEnum,!0),ae.savePP()):this.isDangerroom&&(ae.getDangerRoomProperty(this.dangerroomPPEnum,!0),ae.savePP())},r.setProtectThePlant=function(e){var a,n,t=this;isNaN(null==(a=e.Plants)?void 0:a.length)||(null==(n=e.Plants)||n.forEach((function(a){var n=z.getPlantEnumByString(a.PlantType),i=a.GridX,o=a.GridY;if(!isNaN(i)&&!isNaN(o)){var r=O.getSquare(o,i).getComponent(j);if(r.isInLawn()){var s=r.spawnPlantByPlantEnum(n,!0);s&&(s.endangered=!0),s.enabled&&t._plantUnderProtectCount++}isNaN(e.MustProtectCount)?t.plantMustProtectCount=t._plantUnderProtectCount:t.plantMustProtectCount=e.MustProtectCount}})),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantProtection")))},r.setFoodLinkTiles=function(e){var a;console.log(JSON.stringify(e)),null==(a=e.LinkedTiles)||a.forEach((function(e){if(e.Group){var a=e.Location,n=O.getLnC(a.mY,a.mX);if(null!=n&&n.isInLawn()){var t=0;switch(e.Group){case"beta":t=z.TileTurnipType==me.beta?me.epsilon:me.beta;break;case"delta":t=z.TileTurnipType==me.delta?me.epsilon:me.delta;break;case"gamma":t=z.TileTurnipType==me.gamma?me.epsilon:me.gamma;break;case"epsilon":t=z.TileTurnipType;break;case"alpha":default:t=z.TileTurnipType==me.alpha?me.epsilon:me.alpha}n.putTile(he.foodLinker,{ID:t,PropagationDelay:isNaN(Number(e.PropagationDelay))?0:Number(e.PropagationDelay)},!1)}}}))},r.setRailcart=function(e){var a,n,t=NaN;e.RailcartType&&(t=ve.getGridItemEnumByCodeName(e.RailcartType)),t||(t=NaN),null==e||null==(a=e.Rails)||a.forEach((function(e){var a=null==e?void 0:e.Column,n=null==e?void 0:e.RowStart,i=null==e?void 0:e.RowEnd;if(!(isNaN(a)||isNaN(n)||isNaN(i))){for(var o=[],r=n;r<=i;r++){var s=1;r==n?s=0:r==i&&(s=2);var l=O.getLnC(r,a).addRail(s,t);o.push(l)}o.forEach((function(e){e.group=o.concat()}))}})),null==e||null==(n=e.Railcarts)||n.forEach((function(e){var a=e.Column,n=e.Row;isNaN(a)||isNaN(n)||O.getLnC(n,a).addCart(t)}))},r.setSunUsedLimitProps=function(e){isNaN(null==e?void 0:e.MaximumSun)||(null==e?void 0:e.MaximumSun)<0||M.uiingame.pushLevelTask(le.SunCostLimit,e)},r.setSimultaneousPlantsProps=function(e){isNaN(null==e?void 0:e.MaximumPlants)||(null==e?void 0:e.MaximumPlants)<0||M.uiingame.pushLevelTask(le.PlantCountLimit,e)},r.setPlantsLostProps=function(e){isNaN(null==e?void 0:e.MaximumPlantsLost)||(null==e?void 0:e.MaximumPlantsLost)<0||M.uiingame.pushLevelTask(le.PlantLoseLimit,e)},r.setKillZombiesInTimeProps=function(e){isNaN(null==e?void 0:e.Time)||(null==e?void 0:e.Time)<0||isNaN(null==e?void 0:e.ZombiesToKill)||(null==e?void 0:e.ZombiesToKill)<0||M.uiingame.pushLevelTask(le.ZombieKillCountDown,e)},r.setSpendSunHoldoutProps=function(e){isNaN(null==e?void 0:e.HoldoutSeconds)||(null==e?void 0:e.HoldoutSeconds)<0||M.uiingame.pushLevelTask(le.SunCostCountDownLimit,e)},r.setSunProducedProps=function(e){isNaN(null==e?void 0:e.TargetSun)||(null==e?void 0:e.TargetSun)<0||M.uiingame.pushLevelTask(le.SunProduceRequest,e)},r.setMoldColonies=function(e){var a,n;null==e||null==(a=e.MoldedSquares)||a.forEach((function(e){isNaN(e.GridX)||isNaN(e.GridY)||O.getLnC(e.GridY,e.GridX).addMold()})),null==e||null==(n=e.MoldMatrix)||n.forEach((function(e,a){if(!(a>4))for(var n=0;n<e.length&&n<9;n++)Number(e[n])&&O.getLnC(a,n).addMold()})),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","MoldColonies"))},r.setFlowerLine=function(e){for(var a=e.TargetDistance,n=Math.floor(a),t=a-n,i=[],o=ce.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"),r=0;r<5;r++){var s=O.getLnC(r,n).addFlower(t);i.push(s)}i.forEach((function(e){e.group=i,e.tip=o})),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"))},r.setCamelMinigameProps=function(e){this.PowerUpsForceHide=!0,this.PLANTWarnString=ce.getString(ce.lyrics.InGameScene.GamingWarn.Match),isNaN(e.CardTypesUsed)||(this.maxCamelTouchType=Math.min(this.maxCamelTouchType,e.CardTypesUsed)),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","CamelTouch"))},r.setBeatTheLevel=function(e){var a,n,t;if(null!=(a=e.DescriptiveName)&&a.includes("FINALE")){var i=ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveMassiveAttack");i=i.replace("<WORLDNAME>",this._levelWorldName),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(i)}null==e||null==(n=e.Descriptions)||n.forEach((function(e){e.length&&M.uiingame.pushGamePreStartTip(e)})),null==e||null==(t=e.DescriptionsMultilanguage)||t.forEach((function(e){var a=ce.getString(e,!1);a.length&&M.uiingame.pushGamePreStartTip(a)}))},r.setImitaterPlantList=function(e){var a=[],n=!1;"true"==(null==e?void 0:e.ExcludeListSunProducers)&&(n=!0);for(var t=0;t<H.amount;t++){var i,o,r,s,l=z.getPlantFeature(t);(n&&-1!=l.TYPE.indexOf("sunProducer")||null!=e&&null!=(i=e.RandomPlantExcludeList)&&i.length&&-1!=(null==e||null==(o=e.RandomPlantExcludeList)?void 0:o.indexOf(l.CODENAME))||null!=e&&null!=(r=e.RandomPlantIncludeList)&&r.length&&-1==(null==e||null==(s=e.RandomPlantIncludeList)?void 0:s.indexOf(l.CODENAME)))&&a.push(t)}this.imitaterExcludePlantList=a},r.setSunDropper=function(e){var a=new Ma;a.SunCD=isNaN(null==e?void 0:e.InitialSunDropDelay)?2:null==e?void 0:e.InitialSunDropDelay,a.SunCountdownBase=isNaN(null==e?void 0:e.SunCountdownBase)?2:null==e?void 0:e.SunCountdownBase,a.SunCountdownRange=isNaN(null==e?void 0:e.SunCountdownRange)?2:null==e?void 0:e.SunCountdownRange,a.SunCountdownIncreasePerSun=isNaN(null==e?void 0:e.SunCountdownIncreasePerSun)?2:null==e?void 0:e.SunCountdownIncreasePerSun,a.SunCountdownMax=isNaN(null==e?void 0:e.SunCountdownMax)?2:null==e?void 0:e.SunCountdownMax,a.ListenToLawn=!!e.ListenToLawn,this.sunDropper=a},r.setPlantModifiers=function(e){var a,n=new Pa;e.SuppressParticle&&(n.SuppressParticle=!0),null!=e&&null!=(a=e.List)&&a.length&&(e.List.forEach((function(e){var a=z.getPlantEnumByString(e.Type,!1);if(!(a<0)&&e.NewObjdata){var t=new fa;t.ID=a,t.NewObjdata=e.NewObjdata,n.List.push(t)}})),this.plantModifiers.push(n))},r.setSeedBank=function(e){var a,n,t,i,o,r=this;if("true"==(null==e?void 0:e.ExcludeListSunProducers)&&(this.ExcludeListSunProducers=!0),isNaN(null==e||null==(a=e.PlantExcludeList)?void 0:a.length)||0==(null==e||null==(n=e.PlantExcludeList)?void 0:n.length)||(this.ExcludePlantList=e.PlantExcludeList),isNaN(null==e||null==(t=e.PlantBlackList)?void 0:t.length)||0==(null==e||null==(i=e.PlantBlackList)?void 0:i.length)||(this.ExcludeListSunProducers=!0,this.ExcludePlantList=this.ExcludePlantList.concat(e.PlantBlackList)),"chooser"==(null==e?void 0:e.SelectionMethod))La.chooseCardMode=!0,null!=e&&null!=(o=e.PresetPlantList)&&o.length&&e.PresetPlantList.forEach((function(e){var a=z.getPlantEnumByString(e.PlantType);-1==r.presetSeedToChoose.indexOf(a)&&r.presetSeedToChoose.push(a)}));else if("preset"==(null==e?void 0:e.SelectionMethod)){var s;e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","GivenPlants")),La.chooseCardMode=!1,null!=e&&null!=(s=e.PresetPlantList)&&s.length&&(y.cardsController.maxSlotCount=e.PresetPlantList.length,e.PresetPlantList.forEach((function(e){r.presetSeedBank.push(z.getPlantEnumByString(e.PlantType))})))}else La.chooseCardMode=!1,y.cardsController.maxSlotCount=0},r.setConveyor=function(e){var a;this.conveyor=!0,y.cardsController.maxSlotCount=0,D.component.rotate(!1),La.chooseCardMode=!1;var n=J.component;n.dropDelayConditions=e.DropDelayConditions,n.plantList=[],null==(a=e.InitialPlantList)||a.forEach((function(e){var a=new K;e.ToolType?a.PlantType=z.getPlantEnumByString(e.ToolType):a.PlantType=z.getPlantEnumByString(e.PlantType),isNaN(e.MinCount)||(a.MinCount=e.MinCount),isNaN(e.MinWeightFactor)||(a.MinWeightFactor=e.MinWeightFactor),isNaN(e.MaxCount)||(a.MaxCount=e.MaxCount),isNaN(e.MaxWeightFactor)||(a.MaxWeightFactor=e.MaxWeightFactor),isNaN(e.Weight)||(a.Weight=e.Weight),n.plantList.push(a)})),n.speedConditions=e.SpeedConditions},r.setLastStand=function(e){this.lastStand=!0,isNaN(e.StartingSun)||T.component.setSunCount(e.StartingSun),isNaN(e.StartingPlantfood)?D.component.setPlantFoodNum(0):D.component.setPlantFoodNum(e.StartingPlantfood),e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","LastStand"))},r.setChallenges=function(e){var a=null==e?void 0:e.Challenges[0];this.readModule(a)},r.setZombossBattleModuleProperties=function(e){this.bossProps=e,this.startingMusic=V.ZombossIntro;for(var a=null==e?void 0:e.ReservedColumnCount,n=0;!isNaN(a)&&n<a;n++)for(var t=0;t<5;t++)O.getLnC(t,8-n).setOccupied(1/0);if(null!=this.bossProps){var i;this.bossMovable=!1;var o=E.getZombieEnumByString(this.bossProps.ZombossMechType),r=this.bossProps.ZombossSpawnGridPosition.mY,s=this.bossProps.ZombossSpawnGridPosition.mX,l=null==(i=O.getLnC(r,s))?void 0:i.spawnZombie(o,_.directPut);l[0].isBoss=!0,this.bossZombie=l[0]}},r.setSunBombProperties=function(e){var a=new pa;isNaN(Number(e.PlantBombExplosionRadius))||(a.PlantBombExplosionRadius=Number(e.PlantBombExplosionRadius)),isNaN(Number(e.PlantDamage))||(a.PlantDamage=Number(e.PlantDamage)),isNaN(Number(e.ZombieBombExplosionRadius))||(a.ZombieBombExplosionRadius=Number(e.ZombieBombExplosionRadius)),isNaN(Number(e.ZombieDamage))||(a.ZombieDamage=Number(e.ZombieDamage)),this.sunbombProps=a,e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SunBomb"))},r.cowboyMinigameStopWaiting=function(){this.cowboyMinigameWaiting=!1,this.moveCameraReturn(),ne.pool().forEach((function(e){e.bodyRecHiddenCD=2,e.playWalk(),e.detectPlant(.001)}))},r.setCowboyMinigameProperties=function(e){this.isCowboyMinigame=!0,this.currentWave=0,this.waveZombieDamageCountdown=0;for(var a=0;a<5;a++)O.getLaneComponent(a).addCowboyFence();e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveAttack"))},r.dealFightAlonePlantProgress=function(e){if(!(this.fightAlonePlantIndex>=this.fightAlonePlantList.length-1)){var a=1,n=this.fightAlonePlantList[this.fightAlonePlantIndex];isNaN(Number(n.FullPoint))||(a=Number(n.FullPoint)),this.fightAlonePlantPoint+=e;var t=this.fightAlonePlantPoint/a;t>=1&&(this.switchFightAlonePlantIndex(this.fightAlonePlantIndex+1),t=0),this.fightAloneProgressBar.progress=t}},r.switchFightAlonePlantIndex=function(e){if(this.fightAlonePlant&&!(e>=this.fightAlonePlantList.length)){var a=this.fightAlonePlantList[e],n=this.fightAlonePlant.plantInLnC;this.fightAlonePlant.die(!1,!1,!1,!1),this.fightAlonePlant.node.destroy(),this.fightAlonePlant=n.spawnPlantByPlantEnum(z.getPlantEnumByString(a.Type),!1,!1,!1,!1,!1),this.fightAlonePlant.fightAloneStrengthen(a.UpgradeDetails);var t=I(ie.strengthenPlant());t.parent=n.plantPoint,t.setSiblingIndex(0),L.playPlantStrengthen(),t.worldPosition=n.node.worldPosition,this.fightAlonePlantPoint=0,this.fightAlonePlantIndex=e,e==this.fightAlonePlantList.length-1&&(this.fightAloneProgressBar.node.active=!1)}},r.setFutureMinigameProperties=function(e){if(!this.fightAlonePlant){var a=Number(e.Position.mX),n=Number(e.Position.mY);if(!isNaN(a)&&!isNaN(n)){var t=null==e?void 0:e.PlantUpgradeList;if(null!=t&&t.length){var i=O.getLnC(n,a);if(null!=i&&i.isInLawn()){this.fightAlonePlantList=t;var o=i.spawnPlantByPlantEnum(H.Sunflower,!1,!1,!1,!1,!1);this.fightAlonePlant=o,this.switchFightAlonePlantIndex(0),this.PFSlotsShow=!0,this.fightAloneProgressBar.node.active=!0,this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new p(0,-20,0)),this.fightAloneProgressBar.progress=0,e.SuppressObjectiveTip||M.uiingame.pushGamePreStartTip(ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveFightAlone"))}}}}},r.setZombiesAteYourBrainsProperties=function(e){var a=-1/0;isNaN(Number(e.ZombieWinPositionX))||(a=Number(e.ZombieWinPositionX));var n=!1;e.ZombieDiesInsteadOfWinning&&(n=!0),O.zombieDieInsteadOfWinning=n,O.zombieWinX=O.transFrom_ox_To_gx(a)},r.onDisable=function(){},r.readModule=function(e){var a,n=this;void 0===e&&(e=[]),isNaN(null==(a=e)?void 0:a.length)||e.forEach((function(e){if(e){var a="CurrentLevel";e.includes("@LevelModules")&&(a="LevelModules");var t=e.concat(),i=t.indexOf("RTID("),o=t.indexOf("@"+a+")"),r="";-1!=i&&(r=t.slice(i+5,o)),"CurrentLevel"==a?n.currentLevelObjects.forEach((function(e){e.aliases&&-1!=e.aliases.indexOf(r)&&n.readObj(e)})):"LevelModules"==a&&n.levelModulesObjects.forEach((function(e){e.aliases&&-1!=e.aliases.indexOf(r)&&n.readObj(e)}))}}))},r.readObj=function(e){var a=null==e?void 0:e.objclass,n=null==e?void 0:e.objdata;switch(a){case"LevelDefinition":this.setLevelDefinition(n);break;case"WaveManagerProperties":this.setWaveProperties(n);break;case"WaveManagerModuleProperties":this.setWaveManagerModuleProperties(n);break;case"InitialPlantProperties":this.setFrozenPlants(n);break;case"SeedBankProperties":this.setSeedBank(n);break;case"ConveyorSeedBankProperties":this.setConveyor(n);break;case"PiratePlankProperties":this.setPiratePlanks(n);break;case"GravestoneProperties":this.setStartingGraveStones(n);break;case"LastStandMinigameProperties":this.setLastStand(n);break;case"ProtectThePlantChallengeProperties":this.setProtectThePlant(n);break;case"PowerTileProperties":this.setFoodLinkTiles(n);break;case"RailcartProperties":var t,i;if(this.setRailcart(n),null!=e&&null!=(t=e.objdata)&&null!=(t=t.DynamicRailCarts)&&t.length)this.setRailcart(null==e||null==(i=e.objdata)?void 0:i.DynamicRailCarts[this.difficulty]);break;case"CamelMinigameProperties":this.setCamelMinigameProps(n);break;case"RandomImitaterProperties":this.setImitaterPlantList(n);break;case"PowerupTutorialIntroProperties":this.PowerUpsForceShow=!0;break;case"ZombossBattleModuleProperties":this.setZombossBattleModuleProperties(n);break;case"StarChallengeModuleProperties":this.setChallenges(n);break;case"StarChallengeSunUsedProps":this.setSunUsedLimitProps(n);break;case"StarChallengeSimultaneousPlantsProps":this.setSimultaneousPlantsProps(n);break;case"StarChallengePlantsLostProps":this.setPlantsLostProps(n);break;case"StarChallengeKillZombiesInTimeProps":this.setKillZombiesInTimeProps(n);break;case"StarChallengeSpendSunHoldoutProps":this.setSpendSunHoldoutProps(n);break;case"StarChallengeSunProducedProps":this.setSunProducedProps(n);break;case"MoldColonyChallengeProps":this.setMoldColonies(n);break;case"StarChallengeZombieDistanceProps":this.setFlowerLine(n);break;case"TideProperties":this.setTideProperties(n);break;case"SunDropperProperties":this.setSunDropper(n);break;case"SunBombChallengeProperties":this.setSunBombProperties(n);break;case"CowboyMinigameProperties":this.setCowboyMinigameProperties(n);break;case"FutureMinigameProperties":this.setFutureMinigameProperties(n);break;case"ZombiesAteYourBrainsProperties":this.setZombiesAteYourBrainsProperties(n);break;case"StarChallengeBeatTheLevelProps":this.setBeatTheLevel(n);break;case"PlantModifierProperties":this.setPlantModifiers(n)}},r.setTideProperties=function(e){var a=null==e?void 0:e.StartingWaveLocation;if(!isNaN(a)){var n=9-a;N.addTide(n)}},r.readLevelJson=function(){var e=this,a=this.Level.json;La.levelData&&(a=JSON.parse(JSON.stringify(La.levelData))),this.currentLevelObjects=a.objects,this.currentLevelObjects.concat().forEach((function(a){"LevelDefinition"==(null==a?void 0:a.objclass)&&e.setLevelDefinition(null==a?void 0:a.objdata)}))},r.setLevelDefinition=function(e){var a;if(null!=e&&e.SandBoxMode&&(La.sandBoxModeOn=e.SandBoxMode),La.sandBoxModeOn)this.startingMusic=V.CYS_Start;else switch(null==e?void 0:e.MusicType){case"MiniGame_A":this.startingMusic=V.UltimateBattle;break;case"MiniGame_B":this.startingMusic=V.DemonstrateMinigame;break;default:this.startingMusic=V.CYS_Start}this.levelNameLabel.string="",this.isDangerroom=null==e?void 0:e.IsDangerRoom,this.isDangerroomMiniGame=null==e?void 0:e.IsDangerRoomMiniGame;var n=C.modern;n=null!=e&&null!=(a=e.StageModuleOptions)&&a.length?N.getFrontYardEnumByRTID(G.getRandom(null==e?void 0:e.StageModuleOptions)):N.getFrontYardEnumByRTID(null==e?void 0:e.StageModule),this.levelNameString=this.getLevelName(e,n),this.lastStand||(isNaN(e.StartingSun)?T.component.setSunCount(50):T.component.setSunCount(e.StartingSun)),N.changeFrontYard(n);var t=N.getWorldMapLyricsByLawn(n);this._levelWorldName=ce.getString(t.Name,!1),this.isDangerroomMiniGame?this.setDangerroomMiniGameWaves():this.isDangerroom&&this.setDangerroomWaves(),this.readModule(null==e?void 0:e.Modules)},r.spawnDynamicZombie=function(e,a){var n,t,i=this;if(null!=this&&null!=(n=this.newWaves)&&null!=(n=n.DynamicZombies)&&n.length){var o=this.newWaves.DynamicZombies[Math.min(this.newWaves.DynamicZombies.length,this.difficulty)],r=0,s=0;if(o.StartingWave&&(s=o.StartingWave),!(isNaN(s)||e<=s)){o.StartingPoints&&(r+=o.StartingPoints),o.PointIncrementPerWave&&(r+=o.PointIncrementPerWave*(e-s-1)),a&&(r*=2.5);var l=[];if(o.ZombiePool&&(l=o.ZombiePool),!((null==(t=l)?void 0:t.length)<=0)){var u=1/0,c=[];for(l.forEach((function(e){var a=E.getZombieEnumByRTID(e);c.push(a);var n=E.getZombieWavePointCost(a);n<u&&(u=n)}));r>u;){var h=E.pickZombieByWeight(c),m=E.getZombieWavePointCost(h);if(m<=r){var d=E.createZombie(null,h);(O.getLnC(0,9).getTileType()!=A.sky||d.currentFlyZombie)&&d.judgeInLnC(),d&&(this.registerZombieInThisWave(d),d.additionalZombies().forEach((function(e){i.registerZombieInThisWave(e)}))),r-=m}else{var v=c.indexOf(h);-1!=v&&c.splice(v,1)}}}}}},r.toStatisticWaveSpawnZombies=function(){for(var e=this,a=0;a<this.waveManagerProps.Waves.length;a++){var n;null==(n=this.waveManagerProps.Waves[a])||n.forEach((function(a){e.currentLevelObjects.forEach((function(e){var n;null!=e&&null!=(n=e.aliases)&&n.length&&e.aliases.forEach((function(n){var t;"RTID(".concat(n).concat("@CurrentLevel)")==a&&"SpawnZombiesJitteredWaveActionProps"==e.objclass&&(null==(t=e.objdata.Zombies)||t.forEach((function(e){if(e.Type)E.getZombieEnumByRTID(e.Type)})))}))}))}))}},r.setLevelVictoryCountDown=function(e){this.levelVictoryCountDown=e>this.levelVictoryCountDown?e:this.levelVictoryCountDown},r.readWave_spawnZombies=function(e){var a=this,n=e.Zombies,t=_.dirtSpawn;switch(e.Style){case"appear":t=_.directPut;break;case"sandstorm":t=_.sandStorm;break;case"snowstorm":t=_.snowStorm}null==n||n.forEach((function(e){var n=0,i=NaN,o="";n=isNaN(Number(e.Row))?"???"==e.Row?E.getLessZombieLane([0,1,2,3,4]):NaN:Number(e.Row)-1,i=isNaN(Number(e.Column))?NaN:Number(e.Column)-1,e.Type&&(o=e.Type);var r=E.getZombieEnumByRTID(o),s=O.getLnC(n,i);if(s.isInLawn()){var l=t;switch(e.Style){case"appear":l=_.directPut;break;case"sandstorm":l=_.sandStorm;break;case"snowstorm":l=_.snowStorm}var u=s.spawnZombie(r,l,!0,isNaN(e.xScale)?.5:e.xScale);isNaN(Number(e.CarrySun))||(u[0].haveSun=Number(e.CarrySun)),u.forEach((function(n){e.Reversed?n.reversed=!0:a.registerZombieInThisWave(n),n.judgeInLnC()}))}else{var c=E.createZombie(n,r);(O.getLnC(0,9).getTileType()!=A.sky||c.currentFlyZombie)&&c.judgeInLnC(),"prev"==e.Row&&(c.worldPositionX+=c.prevDistance()),a.registerZombieInThisWave(c),isNaN(Number(e.CarrySun))||(c.haveSun=Number(e.CarrySun)),c.additionalZombies().forEach((function(e){a.registerZombieInThisWave(e)}))}}));for(var i=0;i<5;i++)O.getLaneComponent(i).zombieSpawnOffset=0},r.readWave_spawnGravestones=function(e){var a=e.GravestonePool,n=G.randomize(e.SpawnPositionsPool),t=[];null==a||a.forEach((function(e,a){var i=1;isNaN(e.Count)||(i=e.Count);var o=k.getTombEnumByRTID(e.Type);isNaN(o)&&(o=k.getTombEnumByLawn(N.currentLawnYardType));for(var r=0;r<i&&r<(null==n?void 0:n.length);){var s=n[r],l=s.mX;isNaN(l)&&(l=Math.floor(9*Math.random()));var u=s.mY;isNaN(u)&&(u=Math.floor(5*Math.random())),r++;var c=O.getLnC(u,l);c.addTomb(o,!0,!1,!0),t.push(c)}})),t.forEach((function(e){e.bounceAllPlants()})),L.playTombRiseMagical()},r.readWave_spawnZombiesFromGround=function(e){var a=this,n=null==e?void 0:e.Zombies;if(!isNaN(null==n?void 0:n.length)){var t=(null==e?void 0:e.ColumnEnd)-1,i=(null==e?void 0:e.ColumnStart)-1,o=null==e?void 0:e.RowEnd,r=null==e?void 0:e.RowStart;t=isNaN(t)?8:t,i=isNaN(i)?0:i,o=isNaN(o)?4:o,r=isNaN(r)?0:r;var s=[];n.forEach((function(e){var a,n=E.getZombieEnumByRTID(null==e?void 0:e.Type),l=null==(a=O.getRandomLnC(r,o,i,t))?void 0:a.spawnZombie(n,_.dirtSpawn,!0,Math.random());s=s.concat(l)})),s.forEach((function(e){a.registerZombieInThisWave(e)}))}},r.readWave_modifyConveyor=function(e){var a,n,t,i;isNaN(null==e||null==(a=e.Add)?void 0:a.length)||(null==e||null==(t=e.Add)||t.forEach((function(e){var a=0;a=e.ToolType?z.getPlantEnumByString(e.ToolType):z.getPlantByRTID(e.Type);var n=1/0,t=1,i=0,o=1,r=40;isNaN(e.MaxCount)||(n=e.MaxCount),isNaN(e.MaxWeightFactor)||(t=e.MaxWeightFactor),isNaN(e.MinCount)||(i=e.MinCount),isNaN(e.MinWeightFactor)||(o=e.MinWeightFactor),isNaN(e.Weight)||(r=e.Weight);var s=new K;s.PlantType=a,s.MaxCount=n,s.MaxWeightFactor=t,s.MinCount=i,s.MinWeightFactor=o,s.Weight=r,J.component.addCard(s)})));isNaN(null==e||null==(n=e.Remove)?void 0:n.length)||(null==e||null==(i=e.Remove)||i.forEach((function(e){var a=z.getPlantByRTID(e.Type);J.component.removeCard(a)})))},r.readWave_raidingParty=function(e){var a=this,n=isNaN(e.GroupSize)?5:e.GroupSize,t=isNaN(e.SwashbucklerCount)?1:e.SwashbucklerCount,i=isNaN(e.TimeBetweenGroups)?1:e.TimeBetweenGroups,o=Math.ceil(t/n);if(o>0){this.waveEventProcessingAmount++,La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.RaidingParty),5,4,.5,.33,new u(155,93,40,0),3,new u(58,13,0,255));var r=0;this.schedule((function(){a.schedule((function(){if(!(a.gameWon||t<=0)){var e=E.createZombie(Math.floor(5*Math.random()),R.pirate_swashbuckler);(O.getLnC(0,9).getTileType()!=A.sky||e.currentFlyZombie)&&e.judgeInLnC(),a.registerZombieInThisWave(e),t--}}),.8,n,.1),++r>=o&&(a.waveEventProcessingAmount--,a.levelVictoryCountDown=1)}),i+.8*(n-1),o,.1)}},r.readWave_stormZombies=function(e){var a,n=this;La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.Sandstorm),5,4,.5,.33,new u(255,184,0,0),3,new u(117,52,0,255));var t=4,i=8,o=0,r=4,s=2,l=2;isNaN(Number(null==e?void 0:e.ColumnEnd))||(i=Number(e.ColumnEnd)),isNaN(Number(null==e?void 0:e.ColumnStart))||(t=Number(e.ColumnStart)),isNaN(Number(null==e?void 0:e.RowEnd))||(r=Number(e.RowEnd)),isNaN(Number(null==e?void 0:e.RowStart))||(o=Number(e.RowStart)),isNaN(Number(null==e?void 0:e.GroupSize))||(s=Number(e.GroupSize)),isNaN(Number(null==e?void 0:e.TimeBetweenGroups))||(l=Number(e.TimeBetweenGroups));var c=[];if(isNaN(null==(a=e.Zombies)?void 0:a.length)||e.Zombies.forEach((function(e){c.push(E.getZombieEnumByRTID(e.Type))})),c.length){this.waveEventProcessingAmount++;var h=c.concat(),m=0,d=Math.ceil(c.length/s);this.schedule((function(){if(!(m>=d)){for(var e=0;e<s&&h.length>0;e++){var a,l=G.getRandom(h);h.splice(h.indexOf(l),1);for(var u=[],c=o;c<=r;c++)u.push(c);var v=E.getLessZombieLane(u),g=t+Math.floor((i-t)*Math.random()),p=null==(a=O.getLnC(v,g))?void 0:a.spawnZombie(l,_.sandStorm,!0,.5+.5*Math.random());null==p||p.forEach((function(e){n.registerZombieInThisWave(e),e.judgeInLnC()}))}++m>=d&&(n.waveEventProcessingAmount--,n.levelVictoryCountDown=1)}}),l,d,3)}},r.readWave_tideChange=function(e){var a,n=Number(null==e||null==(a=e.TidalChange)?void 0:a.ChangeAmount);if(!isNaN(n)){var t=9-n;N.moveTide(t)}},r._dealSpiderRains=function(e){var a=this;this.spiderRainProps.length>0&&(this.setLevelVictoryCountDown(.1),this.spiderRainProps.concat().forEach((function(n){if(n.ZombieFallTime>0)n.ZombieFallTime-=e;else{if(n.TimeBeforeFullSpawn>0&&(n.TimeBeforeFullSpawn-=e,n._leftTimeBetweenGroups-=e,n._leftTimeBetweenGroups<=0)){n._leftTimeBetweenGroups=n.TimeBetweenGroups;for(var t=0;t<n.GroupSize&&n.SpiderCount>0;t++){var i=Math.floor(Math.random()*(n.ColumnEnd-n.ColumnStart+1))+n.ColumnStart-1,o=Math.floor(5*Math.random()),r=O.getLnC(o,i);if(r.isInLawn())r.spawnZombie(n.SpiderZombie,_.dirtSpawn,!0,.5).forEach((function(e){e.judgeInLnC(),n.SpiderCount--}))}}if(n.TimeBeforeFullSpawn<=0||n.SpiderCount<=0){var s=a.spiderRainProps.indexOf(n);-1!=s&&a.spiderRainProps.splice(s,1)}}})))},r.readWave_spiderRain=function(e){var a=isNaN(Number(null==e?void 0:e.ColumnStart))?0:Number(e.ColumnStart),n=isNaN(Number(null==e?void 0:e.ColumnEnd))?8:Number(e.ColumnEnd),t=isNaN(Number(null==e?void 0:e.GroupSize))?1:Number(e.GroupSize),i=isNaN(Number(null==e?void 0:e.SpiderCount))?1:Number(e.SpiderCount),o=E.getZombieEnumByString(e.SpiderZombieName),r=isNaN(Number(null==e?void 0:e.TimeBeforeFullSpawn))?1:Number(e.TimeBeforeFullSpawn),s=isNaN(Number(null==e?void 0:e.ZombieFallTime))?1:Number(e.ZombieFallTime),l=isNaN(Number(null==e?void 0:e.TimeBetweenGroups))?1:Number(e.TimeBetweenGroups),u=new ya;u.ColumnEnd=n,u.ColumnStart=a,u.GroupSize=t,u.SpiderCount=i,u.SpiderZombie=o,u.TimeBeforeFullSpawn=r,u.TimeBetweenGroups=l,u.ZombieFallTime=s,this.spiderRainProps.push(u)},r.readWave_waveWarning=function(e){var a=e.String;if(e.StringMultiLanguage&&(a=ce.getString(e.StringMultiLanguage)),a){var n=new u(isNaN(e.LabelR)?255:e.LabelR,isNaN(e.LabelG)?255:e.LabelG,isNaN(e.LabelB)?255:e.LabelB,isNaN(e.LabelAInit)?0:e.LabelAInit),t=new u(isNaN(e.OutLineR)?0:e.OutLineR,isNaN(e.OutLineG)?0:e.OutLineG,isNaN(e.OutLineB)?0:e.OutLineB,255),i=0;switch(e.Sound){case"ReadySet":i=1;break;case"Plant":i=2;break;case"SandStorm":i=3;break;case"FinalWave":i=4}this.gamingWarn(a,isNaN(e.Duration)?5:e.Duration,isNaN(e.LabelInitScale)?4:e.LabelInitScale,isNaN(e.LabelTargetScale)?.5:e.LabelTargetScale,isNaN(e.InitTime)?.5:e.InitTime,n,i,t)}},r.readWave_spawnZombiesFromGridItems=function(e){var a,n=this,t=e.Zombies;if(null!=t&&t.length){var i=[];if(null==e||null==(a=e.GridTypes)||a.forEach((function(e){var a=ve.getGridItemEnumByRTID(e);a&&i.push(a)})),i.length){var o=Number(e.ZombieSpawnWaitTime);o||(o=.2),this.setLevelVictoryCountDown(1.2*o);var r=Number(e.AdditionalPlantfood);isNaN(r)&&(r=0),this.scheduleOnce((function(){var e=[],a=[];i.forEach((function(e){ge.poolByID(e).forEach((function(e){a.push(e)}))})),G.randomize(a).forEach((function(a,n){if(!(n>=t.length)){var i=E.getZombieEnumByRTID(t[n].Type);a.zombieSpawn(i,_.dirtSpawn).forEach((function(a){e.push(a)}))}})),e.forEach((function(e){n.registerZombieInThisWave(e)}))}),o)}}},r.readWave_missileLocate=function(e){var a,n=Number(e.MissileFallCountdown);if(!isNaN(n)){null==e||null==(a=e.Locations)||a.forEach((function(e){var a=Number(e.mX),n=Number(e.mY),t=O.getLnC(n,a);null!=t&&t.isInLawn()&&O.locatePrjOnLnC(t,fe.zomboss_missile_future,5,be.plant)}));var t=Number(e.MissileCount);if(!isNaN(t)){for(var i=isNaN(Number(e.RowStart))?0:Number(e.RowStart),o=isNaN(Number(e.RowEnd))?4:Number(e.RowEnd),r=isNaN(Number(e.ColumnStart))?0:Number(e.ColumnStart),s=isNaN(Number(e.ColumnEnd))?8:Number(e.ColumnEnd),l=[],u=i;u<=o;u++)for(var c=r;c<=s;c++){var h=O.getLnC(u,c);null!=h&&h.isInLawn()&&l.push(h)}(l=G.randomize(l)).forEach((function(e,a){a>=t||O.locatePrjOnLnC(e,fe.zomboss_missile_future,5,be.plant)}))}}},r.readWave=function(e){var a=e.objdata;switch(null==e?void 0:e.objclass){case"SpawnZombiesJitteredWaveActionProps":this.readWave_spawnZombies(a);break;case"SpawnGravestonesWaveActionProps":this.readWave_spawnGravestones(a);break;case"SpawnZombiesFromGroundSpawnerProps":this.readWave_spawnZombiesFromGround(a);break;case"ModifyConveyorWaveActionProps":this.readWave_modifyConveyor(a);break;case"RaidingPartyZombieSpawnerProps":this.readWave_raidingParty(a);break;case"StormZombieSpawnerProps":this.readWave_stormZombies(a);break;case"TidalChangeWaveActionProps":this.readWave_tideChange(a);break;case"SpiderRainZombieSpawnerProps":this.readWave_spiderRain(a);break;case"WaveWarningProps":this.readWave_waveWarning(a);break;case"SpawnZombiesFromGridItemSpawnerProps":this.readWave_spawnZombiesFromGridItems(a);break;case"MissileLocateWaveActionProps":this.readWave_missileLocate(a)}switch(null==a?void 0:a.WaveStartMessage){case"[WARNING_GRAVESTONE_SPAWN]":La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.Necromancy),5,4,.5,.33,new u(235,0,255,0),3,new u(0,21,85,255));break;case"[WARNING_JETPACKRAIN]":La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.JetpackRain),5,4,.5,.33,new u(255,112,0,0),3,new u(0,42,173,255));break;case"[WARNING_SPIDERRAIN]":La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.SpiderRain),5,4,.5,.33,new u(255,214,0,0),3,new u(82,82,82,255));break;case"[WARNING_SAPSPAWN]":La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.SapSpawn),5,4,.5,.33,new u(255,184,0,0),3,new u(255,92,0,255));break;case"[WARNING_MISSILE]":La.gameWarn(ce.getString(ce.lyrics.InGameScene.WaveEvent.MissileLocate),5,4,.5,.33,new u(255,184,0,0),3,new u(0,0,0,255))}},r.conveyorOnPlantSpliced=function(e,a){var n;this.isCowboyMinigame&&(e.hide(),null==(n=q.component)||n.show(),this.cowboyMinigameStopWaiting(),this.viewButton.node.active=!1)},r.registerZombieInThisWave=function(e){this.cowboyMinigameWaiting&&(e.bodyRecHiddenCD=1/0,e.playIdle()),e.countHealthToThisWave&&(this._zombiesInThisWave.push(e),this.waveToughness+=e.toughness)},r.bigWave=function(e){var a=X.component.currentMusicSort;switch(a){case V.Stage1_Start:case V.Stage2_Start:case V.Stage3_Start:case V.Stage4_Start:case V.Stage1_LP:case V.Stage2_LP:case V.Stage3_LP:case V.Stage4_LP:e?a=V.Stage4_Start:a==V.Stage3_Start||a==V.Stage3_LP||a==V.Stage1_Start||a==V.Stage1_LP?a=V.Stage2_Start:a!=V.Stage2_Start&&a!=V.Stage2_LP||(a=V.Stage3_Start),Y.switchMusicSort(a,!1,!0)}this.gamingWarn(ce.getString(ce.lyrics.InGameScene.GamingWarn.HugeWave),5,4,.5,.33,new u(255,0,0,0),0)},r.judgeWaveCount=function(e){var a,n=this;this.waveToughness=.01,this._zombiesInThisWave=[],P(this).to(.8,{levelProgressPercentage:(this.currentWave+1)/this.waveManagerProps.Waves.length},{easing:"cubicInOut"}).start(),this.nextWaveCountdown=this.isCowboyMinigame?1/0:4*Math.random()+20,(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&(this.nextWaveCountdown+=10),this.spawnDynamicZombie(this.currentWave+1,e),null==(a=this.waveManagerProps.Waves[this.currentWave])||a.forEach((function(e){n.currentLevelObjects.forEach((function(a){var t;null!=a&&null!=(t=a.aliases)&&t.length&&a.aliases.forEach((function(t){"RTID(".concat(t).concat("@CurrentLevel)")==e&&(n.readWave(a),n.addPlantFood(a.objdata))}))}))})),this.nextWaveZombieHealthPercentage=this.isCowboyMinigame?0:Math.random()*(this.waveManagerProps.MaxNextWaveHealthPercentage-this.waveManagerProps.MinNextWaveHealthPercentage)+this.waveManagerProps.MinNextWaveHealthPercentage,this.waveZombieDamageCountdown=this.isCowboyMinigame?0:Math.random()+4,this.currentWave++},r.nextWave=function(){var e=this;if(this.isCowboyMinigame&&(this.cowboyMinigameWaiting=!0),-1==this.currentWave){var a=this.waveManagerProps.ZombieCountdownFirstWaveSecs;a||(a=10),this.nextWaveCountdown=a,this.waveZombieDamageCountdown=a,this.currentWave=0}else if(this.currentWave>=0){var n=0==this.currentWave;this.nextWaveCountdown=1/0,this.nextWaveZombieHealthPercentage=-1/0,this.waveZombieDamageCountdown=1/0,n&&(this.levelProgressBar.node.active=!0,L.playAwooga());var t=this.currentWave+1==this.waveManagerProps.Waves.length,i=(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&0!=this.currentWave||t;this.isFinalWave=t;var o,r,s,l=this.isCowboyMinigame?0:5;if(t&&this.setLevelVictoryCountDown(l+.5),this.waveManagerProps.Waves[this.currentWave])if(i){var c=(this.currentWave+1)/this.waveManagerProps.FlagWaveInterval-1;this.bigWave(t),this.scheduleOnce((function(){if(t&&(e.gamingWarn(ce.getString(ce.lyrics.InGameScene.GamingWarn.FinalWave),5,4,.5,.33,new u(255,0,0,0),4),e.isFinalWave=!0,e.levelVictoryCountDown=1,M.uiingame.warnLevelTask(le.SunCostCountDownLimit),M.uiingame.warnLevelTask(le.SunProduceRequest),M.uiingame.warnLevelTask(le.ZombieKillCountDown)),e.judgeWaveCount(!0),!e.waveManagerProps.SuppressFlagZombie){var a=!1;e.rallyBW[c]&&(a=!0);var n=E.createZombie(null,a?N.getLawnRallyZombie(N.currentLawn.ID):N.getLawnFlagZombie(N.currentLawn.ID));(O.getLnC(0,9).getTileType()!=A.sky||n.currentFlyZombie)&&n.judgeInLnC()}if(L.playAwooga(),e.waveFlags.length){var i=e.waveFlags[0];i.getComponent(g).setContentSize(21,74);var o=null==i?void 0:i.node.getChildByName("flagFan");P(o).to(1,{position:new p(o.position.x,14,0)},{easing:"cubicInOut"}).start(),e.waveFlags.splice(0,1)}}),l)}else this.judgeWaveCount(!1);if(this.isCowboyMinigame)null==J||null==(o=J.component)||o.show(),null==q||null==(r=q.component)||r.hide(),null==J||null==(s=J.component)||s.sendOnePlantImmediately(),n||this.moveCameraToRightNReturn(),this.viewingLawn=!1,this.viewButton.node.active=!0,this.viewButton.index=0,this.viewButton.select()}},r.dgr_waveGenerator=function(e,a){var n,t,i=this,o=[];null==e||null==(n=e.MustContainZombie)||n.forEach((function(e){var a=E.getZombieEnumByRTID(e);o.push(a)}));var r=0;isNaN(null==e?void 0:e.MinDynamicZombieType)||(r=Math.max(e.MinDynamicZombieType,r));var s=null==e||null==(t=e.ZombiePool)?void 0:t.length;isNaN(null==e?void 0:e.MaxDynamicZombieType)||(s=Math.min(e.MaxDynamicZombieType,s));for(var l=r+Math.floor(Math.random()*(s-r+1)),u=[],c=0;c<this.waveManagerProps.WaveCount;c++)u.push(c);for(var h=Math.min(Math.ceil(4*(w-Math.atan(30*a))/w),u.length),m=[],d=G.randomize(u),v=0;v<h;v++)m.push(d[v]);for(var g=null==e?void 0:e.StartingPoints,p=(null==e?void 0:e.BasePointIncrementPerLevel)*a,P=g+((null==e?void 0:e.BasePointIncrementPerWave)+p)*this.waveManagerProps.WaveCount,f=G.randomize(null==e?void 0:e.ZombiePool),b=0;b<l;b++){var S=E.getZombieEnumByRTID(f[b]);E.getZombieWavePointCost(S)<=P&&o.push(S)}for(var N=function(){var a="Wave"+(C+1).toString();i.waveManagerProps.Waves.push(["RTID("+a+"@CurrentLevel)"]);var n=[a],t=0;-1!=m.indexOf(C)&&t++;var r=g+((null==e?void 0:e.BasePointIncrementPerWave)+p)*C;(C+1)%i.waveManagerProps.FlagWaveInterval==0&&(t++,r*=2.5);var s=E.getZombiesWithNamesAndPoint(o,r,!0),l=[];s.forEach((function(e){l.push({Type:"RTID("+E.getZombieFeature(e).CODENAME+"@ZombieTypes)"})}));var u={aliases:n,objclass:"SpawnZombiesJitteredWaveActionProps",objdata:{AdditionalPlantfood:t,Zombies:l}};i.currentLevelObjects.push(u)},C=0;C<this.waveManagerProps.WaveCount;C++)N()},r.dgr_gravestoneGenerator=function(e,a){var n=null==e?void 0:e.MinGravestoneCount,t=null==e?void 0:e.BaseGravestoneCountPerLevel,i=null==e?void 0:e.MaxGeneratedGravestones,o=null==e?void 0:e.MinStartingGravestoneSpawnCol,r=null==e?void 0:e.MaxStartingGravestoneSpawnCol,s=null==e?void 0:e.MaxStartingGravestoneSpawnColOffsetPerLevel,l=null==e?void 0:e.MinEndingGravestoneSpawnCol,u=null==e?void 0:e.MaxEndingGravestoneSpawnCol,c=null==e?void 0:e.MaxEndingGravestoneSpawnColOffsetPerLevel;if(!(isNaN(n)||isNaN(t)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c))){var h=null;this.currentLevelObjects.forEach((function(e){"GravestoneProperties"==e.objclass&&(h=e.objdata)})),h&&(h.GravestoneCount=Math.min(i,n+t*a),h.SpawnColumnStart=Math.max(o,r+s*a),h.SpawnColumnEnd=Math.max(l,u+c*a))}},r.dgr_sandstormDesigner=function(e,a){var n=null==e?void 0:e.BaseSandstormCount,t=null==e?void 0:e.BaseSandstormCountPerLevel,i=null==e?void 0:e.MinSandstormCountPerLevel,o=null==e?void 0:e.MaxSandstormsPerFlagWave,r=null==e?void 0:e.BaseSandstormZombiesCount,s=null==e?void 0:e.BaseSandstormZombiesCountPerLevel,l=null==e?void 0:e.MinSandstormZombiesCountPerLevel,u=null==e?void 0:e.MaxSandstormZombies,c=null==e?void 0:e.MinStartingSandstormSpawnCol,h=null==e?void 0:e.MaxStartingSandstormSpawnCol,m=null==e?void 0:e.MaxStartingSandstormSpawnColOffsetPerLevel,d=null==e?void 0:e.MinEndingSandstormSpawnCol,v=null==e?void 0:e.MaxEndingSandstormSpawnCol,g=null==e?void 0:e.MaxEndingSandstormSpawnColOffsetPerLevel,p=null==e?void 0:e.BaseSandstormStartWave;if(!(isNaN(n)||isNaN(t)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h)||isNaN(m)||isNaN(d)||isNaN(v)||isNaN(g)||isNaN(p))){var P=Math.max(i,n+t*a),f=Math.max(c,h+m*a),b=Math.max(d,v+g*a),S=Math.min(r+s*a,u);if(0==S)return;for(var w=[],N=p;N<this.waveManagerProps.Waves.length;N++)w.push(this.waveManagerProps.Waves[N]);for(var C=[],y=0;y<S;y++)C.push({Type:"RTID(mummy@ZombieTypes)"});for(var M=G.randomize(w),L=0;L<M.length&&L<P;L++){var W=this.waveManagerProps.Waves.indexOf(M[L]),T="Wave"+(L+1).toString()+"StormEvent0";this.waveManagerProps.Waves[W].push("RTID("+T+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[T],objclass:"StormZombieSpawnerProps",objdata:{ColumnEnd:Math.ceil(b-1),ColumnStart:Math.ceil(f-1),GroupSize:3,TimeBetweenGroups:1,Type:"sandstorm",Zombies:C}})}}},r.dgr_plankDesigner=function(e,a){var n=G.getRandom(null==e?void 0:e.PlankLayouts);if(n){for(var t=[],i=0;i<5;i++)"1"==n[i]&&t.push(i);var o=null;this.currentLevelObjects.forEach((function(e){"PiratePlankProperties"==e.objclass&&(o=e.objdata)})),o&&(o.PlankRows=t)}},r.dgr_raidingPartyDesigner=function(e,a){var n=null==e?void 0:e.BasePartyCount,t=null==e?void 0:e.BasePartyCountPerLevel,i=null==e?void 0:e.BasePartyZombiesCount,o=null==e?void 0:e.BasePartyZombiesCountPerLevel,r=null==e?void 0:e.MaxPartyZombies,s=null==e?void 0:e.MaxPartyCount,l=null==e?void 0:e.BasePartyStartWave;if(!(isNaN(n)||isNaN(t)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(l))){var u=Math.min(s,Math.floor(n+t*a));if(u<=0)return;var c=Math.min(r,i+o*a);if(c<=0)return;for(var h=[],m=l;m<this.waveManagerProps.Waves.length;m++)h.push(this.waveManagerProps.Waves[m]);for(var d=G.randomize(h),v=0;v<d.length&&v<u;v++){var g=this.waveManagerProps.Waves.indexOf(d[v]),p="Wave"+(v+1).toString()+"RaidingPartyEvent0";this.waveManagerProps.Waves[g].push("RTID("+p+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[p],objclass:"RaidingPartyZombieSpawnerProps",objdata:{GroupSize:11,SwashbucklerCount:Math.floor(c),TimeBetweenGroups:1}})}}},r.dgr_railcartDesigner=function(e,a){var n=null==e?void 0:e.Layouts;if(n){var t=null==e?void 0:e.BaseRailcartCount,i=null==e?void 0:e.BaseRailcartCountPerLevel,o=null==e?void 0:e.MaxGeneratedRailcarts,r=null;if(this.currentLevelObjects.forEach((function(e){"RailcartProperties"==e.objclass&&(r=e.objdata)})),r&&!isNaN(t)&&!isNaN(i)&&!isNaN(o)){for(var s=Math.ceil(Math.random()*Math.min(t+i*a,o)),l=[],u=0;u<9;u++)l.push(u);for(var c=[],h=G.randomize(l),m=0;m<s;m++)for(var d=h[m],v="0",g=0,p=0,P=G.getRandom(n),f=0;f<=5;f++)if(!P[f]||P[f]!=v){p=f-1;var b="0"!=v;v=P[f],g<p&&b&&c.push({Column:d,RowEnd:p,RowStart:g}),"0"!=v&&(g=f)}var S=[];c.forEach((function(e){var a=e.Column,n=e.RowStart+Math.floor((e.RowEnd-e.RowStart)*Math.random());S.push({Column:a,Row:n})})),r.Rails=c,r.Railcarts=S}}},r.dgr_spiderRainDesigner=function(e,a){var n=null==e?void 0:e.BaseSpiderRainCount,t=null==e?void 0:e.BaseSpiderRainZombiesCountPerLevel,i=null==e?void 0:e.BaseSpiderRainZombieCount,o=null==e?void 0:e.BaseSpiderRainCountPerLevel,r=null==e?void 0:e.MaxSpiderRainZombies,s=null==e?void 0:e.MaxSpiderRainCount,l=null==e?void 0:e.BaseSpiderRainStartWave;if(!(isNaN(n)||isNaN(t)||isNaN(i)||isNaN(o)||isNaN(r)||isNaN(s)||isNaN(l))){var u=Math.min(s,Math.floor(n+o*a));if(u<=0)return;var c=Math.min(r,i+t*a);if(c<=0)return;for(var h=[],m=l;m<this.waveManagerProps.Waves.length;m++)h.push(this.waveManagerProps.Waves[m]);for(var d=G.randomize(h),v=0;v<d.length&&v<u;v++){var g=this.waveManagerProps.Waves.indexOf(d[v]),p="Wave"+(v+1).toString()+"SpiderRainEvent0";this.waveManagerProps.Waves[g].push("RTID("+p+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[p],objclass:"SpiderRainZombieSpawnerProps",objdata:{ColumnEnd:7,ColumnStart:4,GroupSize:1,SpiderCount:Math.ceil(c),TimeBeforeFullSpawn:6,SpiderZombieName:"future_imp",TimeBetweenGroups:.2,WaveStartMessage:"[WARNING_SPIDERRAIN]",ZombieFallTime:1.5}})}}},r.dgr_powerTileDesigner=function(e,a){var n=Number(e.ColumnCount),t=Number(e.MaxTileSetCount),i=Number(e.BaseTileSetCount),o=Number(e.BaseTileSetCountPerLevel),r=e.TileSetLayouts;if(!(isNaN(r.length)||isNaN(n)||isNaN(t)||isNaN(i)||isNaN(o))){var s=null;if(this.currentLevelObjects.forEach((function(e){"PowerTileProperties"==e.objclass&&(s=e.objdata)})),s){for(var l=Math.ceil(Math.random()*Math.min(Math.ceil(t),Math.ceil(i+o*a))),u=G.randomize(r),c=[],h=0;h<n;h++)for(var m=0;m<5;m++)c.push(O.getLnC(m,h));c=G.randomize(c);var d=[],v=[],g=0;c.forEach((function(e){if(!(g>=l)){var a=[],n=e.cIndex,t=e.lIndex,i=!1;u.forEach((function(e,o){if(!(i||g>=l)){var r=!0;e.forEach((function(o,s){if(!(!r||g>=l||i))for(var u=0;u<o.length;u++)if("0"!=o[u]){var c=n+u,h=t+s,m=O.getLnC(h,c);if(!m.isInLawn()||-1!=d.indexOf(m)){a=[],r=!1;break}d.push(m);var v="alpha";switch(g%me.amount){case me.alpha:v="alpha";break;case me.beta:v="beta";break;case me.delta:v="delta";break;case me.gamma:v="gamma";break;case me.epsilon:v="epsilon"}if(console.log(g%me.amount,v),a.push({Group:v+"",Location:{mX:c,mY:h},PropagationDelay:1.5}),u+1==o.length&&s+1==e.length){i=!0,g++,r=!1;break}}}))}})),i&&(v=v.concat(a))}})),this.setFoodLinkTiles({LinkedTiles:v})}}},r.setDangerroomWaves=function(e){var a,n=this;void 0===e&&(e=this.dangerroomProperties),this.waveManagerProps=new ba,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(4,this.dangerroomLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var t=this.dangerroomLevel.level;null==(a=e)||a.forEach((function(e){var a=null==e?void 0:e.objdata;switch(null==e?void 0:e.objclass){case"DangerRoomJitteredWaveGenerator":n.dgr_waveGenerator(a,t);break;case"DangerRoomGravestoneGenerator":n.dgr_gravestoneGenerator(a,t);break;case"DangerRoomSandstormDesigner":n.dgr_sandstormDesigner(a,t);break;case"DangerRoomPlankDesigner":n.dgr_plankDesigner(a,t);break;case"DangerRoomRaidingPartyDesigner":n.dgr_raidingPartyDesigner(a,t);break;case"DangerRoomRailcartDesigner":n.dgr_railcartDesigner(a,t);break;case"DangerRoomSpiderRainDesigner":n.dgr_spiderRainDesigner(a,t);break;case"DangerRoomPowerTileDesigner":n.dgr_powerTileDesigner(a,t)}}))},r.saveDangerroomPlayerProperties=function(e){void 0===e&&(e=!1),e?(this.dangerroomLevel.level++,this.dangerroomLevel.plantChosen=!1,this.dangerroomLevel.plantfood=D.plantFoodNum):this.dangerroomLevel.plantfood=Math.max(this.dangerroomLevel.plantfood,D.plantFoodNum)},r.getDangerroomProperties=function(){var e=this,a=[],n=null;if(this.currentLevelObjects.forEach((function(e){"DangerRoomModuleProperties"==e.objclass&&(n=e.objdata)})),n.WorldSpecificProperties){var t,i,o,r=$.default;switch(n.WorldSpecificProperties){case"RTID(EgyptDangerRoomProps@PropertySheets)":r=$.egypt;break;case"RTID(PirateDangerRoomProps@PropertySheets)":r=$.pirate;break;case"RTID(CowboyDangerRoomProps@PropertySheets)":r=$.cowboy;break;case"RTID(FutureDangerRoomProps@PropertySheets)":r=$.future;break;case"RTID(DarkDangerRoomProps@PropertySheets)":r=$.dark}this._uiPos=this.camera.node.position.clone(),this.dangerroomPPEnum=r,this.dangerroomLevel=ae.getDangerRoomProperty(r),this.startingMusic=this.dangerroomLevel.level%2==0?V.DemonstrateMinigame:V.UltimateBattle;var s,l=[];null==(t=n)||null==(t=t.InitialPlants)||t.forEach((function(e){l.push(z.getPlantEnumByString(e))}));for(var u=0;u<l.length;u++)ae.pushPlantToEndlessProperty(l[u],this.dangerroomLevel);if(y.cardsController.plantsCanBeChosen=this.dangerroomLevel.obtainedPlants.concat(),null==(i=n)||null==(i=i.LevelDesigners)||i.forEach((function(n){var t=n.concat(),i=t.indexOf("RTID("),o=t.indexOf("@CurrentLevel)"),r="";-1!=i&&(r=t.slice(i+5,o)),e.currentLevelObjects.forEach((function(e){var n;-1!=(null==(n=e.aliases)?void 0:n.indexOf(r))&&a.push(e)}))})),this.dangerroomExcludePlantList=[],null!=(o=n)&&o.ExcludePlants)(null==(s=n)?void 0:s.ExcludePlants).forEach((function(a){var n=z.getPlantEnumByString(a);null!=n&&e.dangerroomExcludePlantList.push(n)}))}return this.dangerroomProperties=a,a},r.getDangerroomMiniGameProperties=function(){var e=this,a=[],n=null;if(this.currentLevelObjects.forEach((function(e){"DangerRoomMiniGameModuleProperties"==e.objclass&&(n=e.objdata)})),n.WorldSpecificProperties){var t,i=$.default;switch(n.WorldSpecificProperties){case"RTID(EgyptDangerRoomMiniGameProps@PropertySheets)":i=$.egypt;break;case"RTID(PirateDangerRoomMiniGameProps@PropertySheets)":i=$.pirate;break;case"RTID(CowboyDangerRoomMiniGameProps@PropertySheets)":i=$.cowboy;break;case"RTID(FutureDangerRoomMiniGameProps@PropertySheets)":i=$.future}this.dangerroomMiniGamePPEnum=i,this.dangerroomMiniGameLevel=ae.getDangerRoomMiniGameProperty(i),null==(t=n)||null==(t=t.LevelDesigners)||t.forEach((function(n){var t=n.concat(),i=t.indexOf("RTID("),o=t.indexOf("@CurrentLevel)"),r="";-1!=i&&(r=t.slice(i+5,o)),e.currentLevelObjects.forEach((function(e){var n;-1!=(null==(n=e.aliases)?void 0:n.indexOf(r))&&a.push(e)}))})),this.startingMusic=this.dangerroomMiniGameLevel.level%2==0?V.DemonstrateMinigame:V.UltimateBattle}return this.dangerroomMiniGameProperties=a,a},r.saveDangerroomMiniGamePlayerProperties=function(e){void 0===e&&(e=!1),e&&this.dangerroomMiniGameLevel.level++},r.addCamelCombo=function(){if(this.camelComboOn){switch(this.camelComboCount++,this.camelComboCount){case 1:case 2:L.playLevelTaskWarn();break;case 3:L.playLevelTaskComplete()}if(this.camelComboCount>=3){this.clearCamelCombo();for(var e=[],a=2;a<9;a++)for(var n=0;n<5;n++)e.push(O.getLnC(n,a));[O.getLnC(1,0),O.getLnC(3,0)].concat(G.randomize(e)).forEach((function(e,a){a<4&&e.explodeCherry3x3(1800)}))}}},r.clearCamelCombo=function(){0!=this.camelComboCount&&this.scheduleOnce((function(){L.playPowerUpCD(0)}),.3),this.camelComboCount=0},r.setDangerroomMiniGameWaves=function(e){var a,n=this;void 0===e&&(e=this.dangerroomMiniGameProperties),this.waveManagerProps=new ba,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.SuppressFlagZombie=!0;var t=this.maxCamelTouchType;this.maxCamelTouchType=Math.max(3,Math.min(t,1+Math.ceil(this.dangerroomMiniGameLevel.level/5))),this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(2,this.dangerroomMiniGameLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var i=this.dangerroomMiniGameLevel.level;null==(a=e)||a.forEach((function(e){var a=null==e?void 0:e.objdata;switch(null==e?void 0:e.objclass){case"DangerRoomJitteredWaveGenerator":var t,o,r=[];null==a||null==(t=a.MustContainZombie)||t.forEach((function(e){var a=E.getZombieEnumByRTID(e);r.push(a)}));var s=0;isNaN(null==a?void 0:a.MinDynamicZombieType)||(s=Math.max(a.MinDynamicZombieType,s));var l=null==a||null==(o=a.ZombiePool)?void 0:o.length;isNaN(null==a?void 0:a.MaxDynamicZombieType)||(l=Math.min(a.MaxDynamicZombieType,l));for(var u=s+Math.floor(Math.random()*(l-s+1)),c=[],h=0;h<n.waveManagerProps.WaveCount;h++)c.push(h);for(var m=null==a?void 0:a.StartingPoints,d=(null==a?void 0:a.BasePointIncrementPerLevel)*i,v=m+((null==a?void 0:a.BasePointIncrementPerWave)+d)*n.waveManagerProps.WaveCount,g=G.randomize(null==a?void 0:a.ZombiePool),p=0;p<u;p++){var P=E.getZombieEnumByRTID(g[p]);E.getZombieWavePointCost(P)<=v&&r.push(P)}for(var f=0,b=function(){var e="Wave"+(S+1).toString();n.waveManagerProps.Waves.push(["RTID("+e+"@CurrentLevel)"]);var t=[e],i=m+((null==a?void 0:a.BasePointIncrementPerWave)+d)*S*(10/n.waveManagerProps.WaveCount);(i=Math.min(3e3,i))>=2e3&&(f=1);var o=E.getZombiesWithNamesAndPoint(r,i,!0),s=[];if(o.forEach((function(e,a){var t=9;switch(e){case R.egypt_camel_touch:t=9,n.camelComboOn=!0;break;case R.egypt_camel_twohump_touch:t=7,n.camelComboOn=!0;break;case R.egypt_camel_onehump_touch:t=8,n.camelComboOn=!0;break;case R.egypt_camel_manyhump_touch:case R.egypt_camel_threehump_touch:t=6,n.camelComboOn=!0}s.push({Type:"RTID("+E.getZombieFeature(e).CODENAME+"@ZombieTypes)",Column:(t+1).toString(),Row:"???"})})),n.camelComboOn)for(var l=0;l<5;l++)for(var u=0;u<f;u++){var c;if((l+u)%2==0)null==(c=O.getLnC(l,u))||c.spawnPlantByPlantEnum(H.GlacierShroom,!0,!0,!1),n.foodAllWhenGameStarted=!0}var h={aliases:t,objclass:"SpawnZombiesJitteredWaveActionProps",objdata:{Zombies:s}};n.currentLevelObjects.push(h)},S=0;S<n.waveManagerProps.WaveCount;S++)b();break;case"DangerRoomGravestoneGenerator":var w=null==a?void 0:a.MinGravestoneCount,N=null==a?void 0:a.BaseGravestoneCountPerLevel,C=null==a?void 0:a.MaxGeneratedGravestones,y=null==a?void 0:a.MinStartingGravestoneSpawnCol,M=null==a?void 0:a.MaxStartingGravestoneSpawnCol,L=null==a?void 0:a.MaxStartingGravestoneSpawnColOffsetPerLevel,W=null==a?void 0:a.MinEndingGravestoneSpawnCol,T=null==a?void 0:a.MaxEndingGravestoneSpawnCol,D=null==a?void 0:a.MaxEndingGravestoneSpawnColOffsetPerLevel;if(!(isNaN(w)||isNaN(N)||isNaN(C)||isNaN(y)||isNaN(M)||isNaN(L)||isNaN(W)||isNaN(T)||isNaN(D))){var B=null;n.currentLevelObjects.forEach((function(e){"GravestoneProperties"==e.objclass&&(B=e.objdata)})),B&&(B.GravestoneCount=Math.min(C,w+N*i),B.SpawnColumnStart=Math.max(y,M+L*i),B.SpawnColumnEnd=Math.max(W,T+D*i))}break;case"DangerRoomSandstormDesigner":var x=null==a?void 0:a.BaseSandstormCount,I=null==a?void 0:a.BaseSandstormCountPerLevel,Z=null==a?void 0:a.MinSandstormCountPerLevel,k=null==a?void 0:a.MaxSandstormsPerFlagWave,F=null==a?void 0:a.BaseSandstormZombiesCount,j=null==a?void 0:a.BaseSandstormZombiesCountPerLevel,_=null==a?void 0:a.MinSandstormZombiesCountPerLevel,A=null==a?void 0:a.MaxSandstormZombies,z=null==a?void 0:a.MinStartingSandstormSpawnCol,U=null==a?void 0:a.MaxStartingSandstormSpawnCol,Y=null==a?void 0:a.MaxStartingSandstormSpawnColOffsetPerLevel,V=null==a?void 0:a.MinEndingSandstormSpawnCol,X=null==a?void 0:a.MaxEndingSandstormSpawnCol,J=null==a?void 0:a.MaxEndingSandstormSpawnColOffsetPerLevel,K=null==a?void 0:a.BaseSandstormStartWave;if(!(isNaN(x)||isNaN(I)||isNaN(Z)||isNaN(k)||isNaN(F)||isNaN(j)||isNaN(_)||isNaN(A)||isNaN(z)||isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(X)||isNaN(J)||isNaN(K))){var q=Math.max(Z,x+I*i),Q=Math.max(z,U+Y*i),$=Math.max(V,X+J*i),ee=Math.min(F+j*i,A);if(0==ee)return;for(var ae=[],ne=K;ne<n.waveManagerProps.Waves.length;ne++)ae.push(n.waveManagerProps.Waves[ne]);for(var te=[],ie=0;ie<ee;ie++)te.push({Type:"RTID(mummy@ZombieTypes)"});for(var oe=G.randomize(ae),re=0;re<oe.length&&re<q;re++){var se=n.waveManagerProps.Waves.indexOf(oe[re]),le="Wave"+(re+1).toString()+"StormEvent0";n.waveManagerProps.Waves[se].push("RTID("+le+"@CurrentLevel)"),n.currentLevelObjects.push({aliases:[le],objclass:"StormZombieSpawnerProps",objdata:{ColumnEnd:Math.ceil($-1),ColumnStart:Math.ceil(Q-1),GroupSize:3,TimeBetweenGroups:1,Type:"sandstorm",Zombies:te}})}}break;case"DangerRoomPlankDesigner":var ue=G.getRandom(null==a?void 0:a.PlankLayouts);if(!ue)return;for(var ce=[],he=0;he<5;he++)"1"==ue[he]&&ce.push(he);var me=null;n.currentLevelObjects.forEach((function(e){"PiratePlankProperties"==e.objclass&&(me=e.objdata)})),me&&(me.PlankRows=ce);break;case"DangerRoomRaidingPartyDesigner":var de=null==a?void 0:a.BasePartyCount,ve=null==a?void 0:a.BasePartyCountPerLevel,ge=null==a?void 0:a.BasePartyZombiesCount,pe=null==a?void 0:a.BasePartyZombiesCountPerLevel,Pe=null==a?void 0:a.MaxPartyZombies,fe=null==a?void 0:a.MaxPartyCount,be=null==a?void 0:a.BasePartyStartWave;if(!(isNaN(de)||isNaN(ve)||isNaN(fe)||isNaN(ge)||isNaN(pe)||isNaN(Pe)||isNaN(be))){var Se=Math.min(fe,Math.floor(de+ve*i));if(Se<=0)return;var we=Math.min(Pe,ge+pe*i);if(we<=0)return;for(var Ne=[],Ce=be;Ce<n.waveManagerProps.Waves.length;Ce++)Ne.push(n.waveManagerProps.Waves[Ce]);for(var ye=G.randomize(Ne),Me=0;Me<ye.length&&Me<Se;Me++){var Le=n.waveManagerProps.Waves.indexOf(ye[Me]),We="Wave"+(Me+1).toString()+"RaidingPartyEvent0";n.waveManagerProps.Waves[Le].push("RTID("+We+"@CurrentLevel)"),n.currentLevelObjects.push({aliases:[We],objclass:"RaidingPartyZombieSpawnerProps",objdata:{GroupSize:11,SwashbucklerCount:Math.floor(we),TimeBetweenGroups:1}})}}break;case"DangerRoomRailcartDesigner":var Te=null==a?void 0:a.Layouts;if(!Te)return;var De=null==a?void 0:a.BaseRailcartCount,Ee=null==a?void 0:a.BaseRailcartCountPerLevel,Re=null==a?void 0:a.MaxGeneratedRailcarts,Be=null;if(n.currentLevelObjects.forEach((function(e){"RailcartProperties"==e.objclass&&(Be=e.objdata)})),Be&&!isNaN(De)&&!isNaN(Ee)&&!isNaN(Re)){for(var xe=Math.ceil(Math.random()*Math.min(De+Ee*i,Re)),Ge=[],Ie=0;Ie<9;Ie++)Ge.push(Ie);for(var Ze=[],ke=G.randomize(Ge),Fe=0;Fe<xe;Fe++)for(var Oe=ke[Fe],je="0",_e=0,Ae=0,ze=G.getRandom(Te),He=0;He<=5;He++)if(!ze[He]||ze[He]!=je){Ae=He-1;var Ue="0"!=je;je=ze[He],_e<Ae&&Ue&&Ze.push({Column:Oe,RowEnd:Ae,RowStart:_e}),"0"!=je&&(_e=He)}var Ye=[];Ze.forEach((function(e){var a=e.Column,n=e.RowStart+Math.floor((e.RowEnd-e.RowStart)*Math.random());Ye.push({Column:a,Row:n})})),Be.Rails=Ze,Be.Railcarts=Ye,console.log(Be)}}}))},r.addPlantFood=function(e){var a,n=0;if(isNaN(null==e?void 0:e.AdditionalPlantfood)||(n+=e.AdditionalPlantfood),!isNaN(null==e||null==(a=e.DynamicPlantfood)?void 0:a.length)){var t=e.DynamicPlantfood[this.difficulty];n*=isNaN(t)?0:t}for(var i=this._zombiesInThisWave.concat(),o=[];i.length>0&&n>0;){var r=G.getRandom(i);r.allowWaveAddPlantFood?(r.havePlantfood=!0,n--):o.push(r),i.splice(i.indexOf(r),1)}for(;n>0&&o.length>0;){var s=G.getRandom(o);s.havePlantfood=!0,n--,o.splice(o.indexOf(s))}},r.gameStart=function(){if(!this.gameStarted){this.levelNameLabel.string=this.levelNameString,this.viewButton.node.active=!1,this.zombiesOnDisplayed.forEach((function(e){e.playDie(!0,null,!1,B.physicle,!1,!1,!1),Z.destroyPooly(e.node)})),M.gameStart(),N.levelPlayStart(),this.gameStarted=!0,y.cardsController.gameStart(),(y.cardsController.maxSlotCount>0||this.conveyor)&&W.gameStart(),q.gameStart(),(y.cardsController.maxSlotCount>0||this.conveyor)&&(D.show(this.conveyor,D.keyOn),this.isDangerroom&&D.component.setPlantFoodNum(this.dangerroomLevel.plantfood)),this.conveyor&&J.component.show();var e=X.component.currentMusicSort;e!=V.CYS_LP&&e!=V.CYS_Start||Y.switchMusicSort(V.Stage1_Start,!0,!0,!1),this.foodAllWhenGameStarted&&O.foodAllPlants()}},r.judgeMoveCamera=function(){this.uiPos=new p(-70,0,1e3);var e=this.dangerroomLevel.plantsToChoose;if(this.isDangerroom&&!this.dangerroomLevel.plantChosen&&!e){e=[];for(var a=0;a<z.defaultPlantChooserOrder.length;a++){var n=z.defaultPlantChooserOrder[a];-1==this.dangerroomExcludePlantList.indexOf(n)&&-1==this.dangerroomLevel.obtainedPlants.indexOf(n)&&e.push(n)}e=G.randomize(e)}this.isDangerroom&&!this.dangerroomLevel.plantChosen&&e.length>0?(this.dangerroomCardChooser.obtainedPlants=this.dangerroomLevel.obtainedPlants,this.dangerroomCardChooser.node.active=!0,this.dangerroomCardChooser.giveCards(e)):M.uiingame.preStartTips.length?this.levelObjectiveShower.playStart(M.uiingame.preStartTips,this.levelNameString+ce.getStringByPropsWithoutTricks("LevelObjectiveWindow","Goals")):this.moveCamera()},r.moveCamera=function(){var e=this,a=1;this.isCowboyMinigame&&(this.gameStart(),a=0),this.uiPos=new p(-70,0,1e3),P(this.uiPos).by(a,{x:0}).call((function(){L.playCameraMove(),e.initialGraveSpawn()})).to(2,{x:500},{easing:"cubicInOut"}).call((function(){if(e.zombiesOnDisplayed.length)for(var a=0;a<3;a++)E.playGroan(G.getRandom(e.zombiesOnDisplayed).zombieGroanSoundGroup,.3)})).by(.5,{x:0}).call((function(){e.judgeCardChooser()})).start(),La.chooseCardMode&&(y.cardsController.plantsCanBeChosen?y.cardsController.maxSlotCount=Math.min(8,y.cardsController.plantsCanBeChosen.length):y.cardsController.maxSlotCount=8,y.cardsController.createSeedbank())},r.letsRock=function(){this.rocked||y.cardsController.maxSlotCount!=y.cardsController.seedPackets.length||(this.moveCameraToNormal(),this.viewButton.node.active=!1,L.playLetsRock(),La.letsRocked=!0,this.rocked=!0,y.cardsController.pullSeedBank(!0))},r.viewLawnCYS=function(){var e=this;this.viewLawnDisabled||(this.viewingLawn?(this.viewingLawn=!1,this.viewButton&&(this.viewButton.index=0,this.viewButton.select()),this.viewLawnDisabled=!0,P(this.uiPos).to(1,{x:230},{easing:"cubicInOut"}).call((function(){T.show(),D.show(e.conveyor),y.cardsController.showSeedSlots(),y.cardsController.cardButtons.active=!0,y.cardsController.gameStartButton.node.active=!0,y.cardsController.showSeedBank()})).start()):(this.viewingLawn=!0,this.viewButton&&(this.viewButton.index=1,this.viewButton.select()),P(this.uiPos).to(1,{x:0},{easing:"cubicInOut"}).call((function(){e.viewLawnDisabled=!1})).start(),T.hide(),D.hide(),y.cardsController.hideSeedSlots(),y.cardsController.cardButtons.active=!1,y.cardsController.gameStartButton.node.active=!1,this.viewLawnDisabled=!0))},r.viewLawnCowboyMinigameWaiting=function(){this.viewingLawn?(this.viewButton.index=0,this.viewButton.select(),this.moveCameraReturn(),this.viewingLawn=!1):(this.viewButton.index=1,this.viewButton.select(),this.moveCameraToRight(),this.viewingLawn=!0)},r.viewLawn=function(){this.cowboyMinigameWaiting||this.lastStandPrepareStarted?this.viewLawnCowboyMinigameWaiting():this.viewLawnCYS()},r.readySetPlant=function(){this.lastStand&&(this.lastStandPrepareStarted=!1,this.lastStandGameStartButton.active=!1,M.uiingame.tryChangingIndex(-1),y.cardsController.cardsUIUpperRestart(),this.viewingLawn&&this.moveCameraReturn(),this.viewButton.node.active=!1);var e=La.component;e.gamingWarn(ce.getString(ce.lyrics.InGameScene.GamingWarn.Ready),3,.4,.45,.2,new u(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(ce.getString(ce.lyrics.InGameScene.GamingWarn.Set),3,.4,.45,.2,new u(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(e.PLANTWarnString,3,.6,.6,.2,new u(255,0,0,255),3),e.scheduleOnce((function(){e.gameStart()}),1)}),.6)}),.6)},r.lastStandStart=function(){(this.lastStandGameStartButton.active=!0,this.lastStandPrepareStarted)||(this.lastStandPrepareStarted=!0,y.cardsController.cardsUIUpperRestart(),La.component.gamingWarn(ce.getString(ce.lyrics.InGameScene.GamingWarn.PlanYourDefenses),3,.5,.5,.1,new u(255,0,0,255),1),y.cardsController.gameStart(),W.gameStart(!0),M.gameStart(),this.viewButton.node.active=!0)},r.moveCameraToNormal=function(){var e=this;P(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).call((function(){y.cardsController.maxSlotCount>0&&(null==T||T.show()),e.conveyor||((y.cardsController.maxSlotCount>0||e.PFSlotsShow)&&(null==D||D.show(),e.isDangerroom&&D.component.setPlantFoodNum(e.dangerroomLevel.plantfood)),Z.destroyPooly(J.component.node)),y.cardsController.maxSlotCount>0&&(y.cardsController.laySlots(),e.presetSeedBank.forEach((function(e){y.cardsController.addCardByPlantEnum(e)})),y.cardsController.showSeedSlots()),y.cardsController.closeSeedbank(),e.lastStand?e.lastStandStart():e.judgeReadySetPlant()})).start()},r.judgeReadySetPlant=function(){null!=this.bossProps?this.bossMovable=!0:this.gameStarted||this.readySetPlant()},r.fillBossHealthProgressBar=function(e){var a=this;if(this.bossHealthProgressBar.node.active)return this.bossHealthProgressBar;this.zombossHPNotches=[this.bossHealthProgressBar.node.getChildByName("notches").getChildByName("notch")];for(var n=this.zombossHPNotches[0].worldPosition.x-this.bossHealthProgressBar.barSprite.node.worldPosition.x,t=1;t<e;t++){var i=f(this.zombossHPNotches[0]);i.parent=this.zombossHPNotches[0].parent,i.worldPosition=new p(this.zombossHPNotches[0].worldPosition.x-n/e*t,this.zombossHPNotches[0].worldPosition.y,this.zombossHPNotches[0].worldPosition.z),this.zombossHPNotches.push(i)}this.bossHealthProgressBar.node.active=!0,this.bossHealthProgress=0;var o=this.bossHealthProgressBar.node.position.clone();return this.bossHealthProgressBar.node.position.add(new p(0,-1e3,0)),L.playZombossHPFillStart(),P(this.bossHealthProgressBar.node).to(.5,{position:o},{easing:"quadOut"}).call((function(){L.playZombossHPFilling(),P(a).to(2,{bossHealthProgress:1}).call((function(){a.gameStarted||a.readySetPlant()})).start()})).start(),this.bossHealthProgressBar},r.judgeCardChooser=function(){var e=this;La.chooseCardMode&&!this.gameStarted?P(this.uiPos).to(2,{x:230},{easing:"cubicInOut"}).call((function(){e.cardChooserOn(),e.viewButton.node.active=!0})).start():this.moveCameraToNormal()},r.cardChooserOn=function(){y.cardsController.laySlots(),y.cardsController.laySeedBank(),null==T||T.show(),null==D||D.show(),this.isDangerroom&&D.component.setPlantFoodNum(this.dangerroomLevel.plantfood)},r.shakeScreen=function(e){var a=this;void 0===e&&(e=.2),e-=.2,P(this.screenShakeVec).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:0,y:0}).call((function(){e>0&&a.shakeScreen(e)})).start()},r.judgeNextWave=function(){return!this.isFinalWave&&(this.isCowboyMinigame?ne.pool().length<=0:(this.nextWaveCountdown<=0||this.waveLeftHealth/this.waveToughness<=this.nextWaveZombieHealthPercentage)&&this.waveZombieDamageCountdown<=0)},r.update=function(e){var a,n,t=this;if(!this.gameOver){var i;if(!this.gameStarted||this.gameOver||this.gameLost||this.gameWon||this.chickenThrowers.concat().forEach((function(a){if(a.dealChickening(e),a.chickeningLeftTime<=0){var n=t.chickenThrowers.indexOf(a);t.chickenThrowers.splice(n,1)}})),this.growingTime+=e,La.gaming)null==(i=this.sunDropper)||i.deal(e),this.camelComboOn&&!ce.isWhiteList&&(ce.camelGamingTime+=e,pe.saveSettings());if(null!=(a=this.waveManagerProps)&&null!=(a=a.Waves)&&a.length&&(this.waveZombieDamageCountdown>0&&(this.waveZombieDamageCountdown-=e),this.gameStarted&&(this.nextWaveCountdown-=e,this.judgeNextWave()&&this.nextWave())),La.screenFlashLeftColor.a>0?La.screenFlashLeftColor.a-=80*e:La.screenFlashLeftColor.a=0,this.camera.node.position=this.uiPos.clone().add(this.screenShakeVec),this.ui.position=this.uiPos,this.uiUpper.position=this.uiPos,this.setScreenColor(),this._dealSpiderRains(e),this.waveManagerProps.WaveCount&&this.isFinalWave&&this.waveEventProcessingAmount<=0&&!this.gameWon){this.levelVictoryCountDown>0&&(this.levelVictoryCountDown-=.01);var o=[];if(ne.pool().concat().forEach((function(e){if(e.reversed||t.setLevelVictoryCountDown(e.finalWaveVictoryCountdown),t.prizeSpawnWP=e.worldPosition.clone(),e.ID==R.egypt_camel_touch){var a=e.camelTouchType,n=o.indexOf(a);-1==n?o.push(a):o.splice(n,1)}})),o.length)O.getLnC(E.getLessZombieLane([0,1,2,3,4]),6).spawnZombie(R.egypt_camel_touch,_.dirtSpawn,!0,.5,0,{PresetCamelTouchID:o}).forEach((function(e,a){e.judgeInLnC()}));this.levelVictoryCountDown<=0&&M.uiingame.judgeLevelTasksVictory()&&this.victory(this.prizeSpawnWP)}null!=(n=this.fightAlonePlant)&&n.isAlive()&&this.fightAloneProgressBar.node.active&&(this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new p(0,-20,0)))}},r.victory=function(e,a){if(void 0===a&&(a=!0),!this.gameWon&&!this.gameLost){if(this.gameWon=!0,!e){var n=O.getLnC(2,4);e=new b(n.node.worldPosition.x,n.node.worldPosition.y)}te.pool().forEach((function(e){e.scheduleOnce((function(){e.water()}),5*Math.random()+1)})),a&&Y.switchMusicSort(V.Victory);var t=I(ie.prizeSpawn());t.parent=oe.layer,t.worldPosition=new p(e.x,e.y);var i=I(re.coinbag());i.parent=oe.layer;var o=i.getComponent(se);o&&(o.worldPosition=e,null==o||o.leapToPos()),this.saveDangerroomPlayerProperties(!0),this.saveDangerroomMiniGamePlayerProperties(!0),ae.savePP()}},r.onLoad=function(){this.onlyLanesForRandomSpawn=[0,1,2,3,4],La.component=this,this.isDangerroom=!1,this.isDangerroomMiniGame=!1},r.moveCameraToRightNReturn=function(e){void 0===e&&(e=500),P(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).to(2,{x:0},{easing:"cubicInOut"}).start()},r.moveCameraToRight=function(e){void 0===e&&(e=500),P(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).start()},r.moveCameraReturn=function(){P(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).start()},r.showZombies=function(){var e,a=this;if(!this.isCowboyMinigame){var n=[];this.currentLevelObjects.forEach((function(e){var t,i=e.objdata;if("SpawnZombiesJitteredWaveActionProps"==e.objclass||"StormZombieSpawnerProps"==e.objclass||"SpawnZombiesFromGroundSpawnerProps"==e.objclass)null==i||null==(t=i.Zombies)||t.forEach((function(e){e.Type&&n.push(E.getZombieEnumByRTID(e.Type))}));else if("WaveManagerModuleProperties"==e.objclass){var o;if(null!=(o=e.objdata)&&null!=(o=o.DynamicZombies)&&o.length){var r,s=null==(r=e.objdata)?void 0:r.DynamicZombies[a.difficulty],l=null==s?void 0:s.ZombiePool;l&&s&&s.StartingPoints>0&&(null==l||l.forEach((function(e){n.push(E.getZombieEnumByRTID(e))})))}}else"SpiderRainZombieSpawnerProps"==e.objclass&&n.push(R.future_imp)}));var t=[];n.forEach((function(e){var a=!1;if(t.forEach((function(n){a||n.zombieName==e&&(n.amount++,a=!0)})),!a){var n=new wa;n.amount=1,n.zombieName=e,t.push(n)}}));var i=Math.min(3/n.length,.1),o=0;t.forEach((function(e){o+=Math.ceil(i*e.amount)})),t=G.randomize(t);var r=this.zombieDisplayer;null!=(e=N.currentLawn)&&e.zombieShower&&(r=N.currentLawn.zombieShower);var s=r.contentSize,l=r.node.worldPosition.clone().add(new p(-s.width/2,s.height/2,0).multiplyScalar(r.node.worldScale.x)),u=r.node.worldPosition.clone().add(new p(s.width/2,-s.height/2,0).multiplyScalar(r.node.worldScale.x)),c=l.y+0,h=null;t.forEach((function(e){for(var n=0;n<Math.ceil(e.amount*i);n++){var t=E.getZombie(e.zombieName);t.parent=a.zombieDisplayer.node;var r=t.getComponent(x),s=l.x+(u.x-l.x)*Math.random(),m=10*(-45*Math.random()-15)/o+c-(h?Math.max(r.zombieHeight-h.zombieHeight,0):0);m<u.y&&(m=u.y),c=m,r.displayed=!0,r.playIdle(),r.worldPosition=new b(s,m),r.additionalZombies().forEach((function(e){e.displayed=!0,e.playIdle(),a.zombiesOnDisplayed.push(e)})),a.zombiesOnDisplayed.push(r),h=r}}))}},r.start=function(){this.PLANTWarnString=ce.getString(ce.lyrics.InGameScene.GamingWarn.Plant),this.sunDropper=null,this.levelModulesObjects=this.levelModuleJson.json.objects,this.maxCamelTouchType=8,isNaN(ae.currentPlayer.difficulty)&&(ae.currentPlayer.difficulty=3),this.isFinalWave=!1,this.gameWon=!1,this.gameLost=!1,this.gameOver=!1,this.difficulty=ae.currentPlayer.difficulty+3,this.graveProps=[],this.PowerUpsForceShow=!1,this.ExcludeListSunProducers=!1,this.ExcludePlantList=[],this.lastStandGameStartButton.active=!1,this.lastStandPrepareStarted=!1,this.gameStarted=!1,this.lastStand=!1,this.zombiesOnDisplayed=[],this.conveyor=!1,La.chooseCardMode=!1,La.sandBoxModeOn=!1,this.Level&&(this.readLevelJson(),this.toStatisticWaveSpawnZombies(),this.showZombies(),Y.switchMusicSort(this.startingMusic)),Y.discoPlayed=!1,this.growingTime=0,La.letsRocked=!La.chooseCardMode,this.judgeMoveCamera(),this.setLevelProgressBar(),this.tooltips.setString(),this.viewButton.node.active=!1,M.uiingame.setTips()},n(a,[{key:"warnLabelA",get:function(){return this._warnLabelA},set:function(e){var a=this.inGameWarnLabel.color.clone();this.inGameWarnLabel.color=new u(a.r,a.g,a.b,e),this._warnLabelA=e}},{key:"levelProgressPercentage",get:function(){return this.levelProgressBar.progress},set:function(e){var a;this.levelProgressBar.progress=e,null==(a=this.levelProgressHead)||null==(a=a.node)||a.setPosition(this.levelProgressBar.barSprite.node.position.clone().add3f(-this.levelProgressBar.barSprite.getComponent(g).contentSize.width,0,0))}},{key:"plantUnderProtectCount",get:function(){return this._plantUnderProtectCount},set:function(e){e<this.plantMustProtectCount&&M.uiingame.loseDarken(null,ce.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),this._plantUnderProtectCount=e}},{key:"waveLeftHealth",get:function(){var e=0;return this._zombiesInThisWave.forEach((function(a){a.isAlive()&&!a.hypno&&a.countHealthToThisWave&&a.health>0&&(e+=a.health)})),e}},{key:"bossHealthProgress",get:function(){return this.bossHealthProgressBar.progress},set:function(e){var a=this;this.bossHealthProgressBar.progress=e,this.zombossHPNotches.forEach((function(n){n.active=a.bossHealthProgressBar.totalLength*e*a.bossHealthProgressBar.node.worldScale.x+a.bossHealthProgressBar.barSprite.node.worldPosition.x>n.worldPosition.x}))}},{key:"uiPos",get:function(){return this._uiPos},set:function(e){this.camera.node.position=e,this.ui.position=e,this.uiUpper.position=e,this._uiPos=e}},{key:"gaming",get:function(){return(!this.isCowboyMinigame||!this.cowboyMinigameWaiting)&&(this.gameStarted&&!this.gameLost&&!this.gameOver&&!this.gameWon)}}]),a}(S)).prototype,"tooltips",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=a(Xe.prototype,"inGameWarnLabel",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=a(Xe.prototype,"levelProgressBar",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=a(Xe.prototype,"levelProgressHead",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=a(Xe.prototype,"waveFlag",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=a(Xe.prototype,"screenFlash",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),aa=a(Xe.prototype,"fightAloneProgressBar",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=a(Xe.prototype,"levelNameLabel",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=a(Xe.prototype,"Level",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ia=a(Xe.prototype,"lastStandGameStartButton",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=a(Xe.prototype,"dangerroomCardChooser",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ra=a(Xe.prototype,"viewButton",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa=a(Xe.prototype,"bossHealthProgressBar",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la=a(Xe.prototype,"camera",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ua=a(Xe.prototype,"ui",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ca=a(Xe.prototype,"uiUpper",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=a(Xe.prototype,"zombieDisplayer",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=a(Xe.prototype,"levelObjectiveShower",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=a(Xe.prototype,"levelModuleJson",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Xe))||Ve));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNodes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,i,o,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Component}],execute:function(){var s,c,p,d,f,g,m,N,h,b,v;o._RF.push({},"874a2FYkoZC+LHvY/x2+M4w","LevelNodes",void 0);var y=a.ccclass,L=a.property,w=e("levelNodeRes",function(){function e(){}return e.normalNode=function(){return this.res.normalNode},e.gargantuarNode=function(){return this.res.gargantuarNode},e.minigameNode=function(){return this.res.minigameNode},e.path=function(){return this.res.path},e}());w.res=void 0;e("LevelNodes",(s=y("LevelNodes"),c=L(l),p=L(l),d=L(l),f=L(l),s((N=r((m=function(e){function r(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,t(r,"normalNode",N,i(r)),t(r,"gargantuarNode",h,i(r)),t(r,"minigameNode",b,i(r)),t(r,"path",v,i(r)),r}return n(r,e),r.prototype.onLoad=function(){w.res=this},r}(u)).prototype,"normalNode",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=r(m.prototype,"gargantuarNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=r(m.prototype,"minigameNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(m.prototype,"path",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelObjectiveScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./levelController.ts"],(function(e){var i,n,t,o,r,a,l,s,c,u,p,h,m,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.UIOpacity,c=e.tween,u=e.Vec3,p=e.instantiate,h=e.Component},function(e){m=e.MultiLanguage},function(e){y=e.LevelPlay}],execute:function(){var v,f,g,b,d,T,w,S,L,j,z,B,C,k,O,P,E,F,N,W;r._RF.push({},"efce8jAa81JtrcA+yEz9jcb","LevelObjectiveScreen",void 0);var _=a.ccclass,A=a.property,D=(v=_("LevelObjectiveScreenToolTips"),f=A(l),g=A(l),v((T=i((d=function(){function e(){t(this,"Title",T,this),t(this,"Continue",w,this)}return e.prototype.start=function(){this.Title.string=m.getStringByPropsWithoutTricks("LevelObjectiveWindow","Title"),this.Continue.string=m.getStringByPropsWithoutTricks("LevelObjectiveWindow","Continue")},e}()).prototype,"Title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(d.prototype,"Continue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b);e("LevelObjectiveScreen",(S=_("LevelObjectiveScreen"),L=A(D),j=A(s),z=A(s),B=A(l),C=A(l),S((P=i((O=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"toolTips",P,o(i)),t(i,"mainScreen",E,o(i)),t(i,"mouseBlocker",F,o(i)),i.playingTween=null,t(i,"mission0",N,o(i)),t(i,"screenName",W,o(i)),i.missions=[],i}n(i,e);var r=i.prototype;return r.start=function(){this.toolTips.start()},r.onEnable=function(){this.playingTween=null},r.playStart=function(e,i){var n=this;void 0===i&&(i=""),this.node.active=!0,this.mainScreen.opacity=0,this.mouseBlocker.opacity=0,this.setTips(e,i),this.playingTween=c(this.mouseBlocker).to(1,{opacity:255}).call((function(){n.playingTween=null,n.mainScreen.opacity=255,n.mainScreen.node.position=new u(0,0,0)})).start()},r.playFade=function(){var e,i=this;this.mainScreen.opacity=0,this.mainScreen.node.position=new u(0,1e3,0),this.mainScreen.node.active=!1,this.playingTween=c(this.mouseBlocker).to(1,{opacity:0}).call((function(){i.playingTween=null,i.node.active=!1})).start(),null==(e=y.component)||e.moveCamera()},r.continue=function(){this.playingTween||this.playFade()},r.setTips=function(e,i){var n=this;if(void 0===i&&(i=""),this.missions.forEach((function(e,i){var n;i>0&&(null==(n=e.node)||null==(n=n.parent)||n.destroy())})),this.missions=[this.mission0],e.length){var t=[this.mission0];e.forEach((function(e,i){var o=n.mission0;if(i>0){var r=p(n.mission0.node.parent);r.parent=n.mission0.node.parent.parent,o=r.getChildByName(n.mission0.node.name).getComponent(l),t.push(o)}o.string=e})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1;this.screenName.string=i},i}(h)).prototype,"toolTips",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(O.prototype,"mainScreen",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(O.prototype,"mouseBlocker",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(O.prototype,"mission0",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(O.prototype,"screenName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/levelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts","./Mouse.ts","./UI.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./SoundsController.ts","./SoundManager.ts","./Materials.ts"],(function(t){var e,i,o,n,l,r,s,a,c,u,d,h,p,f,g,w,y,S,b,v,P,z,m,C,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,a=t.Size,c=t.Vec2,u=t.tween,d=t.Vec3,h=t.Color},function(t){p=t.Character},function(t){f=t.Square},function(t){g=t.sounds},function(t){w=t.Rectangle},function(t){y=t.Mouse},function(t){S=t.UIInGame},function(t){b=t.destroyPooly,v=t.instantiatePooly},function(t){P=t.particle},function(t){z=t.ParticleSelfdestroy},function(t){m=t.MusicController},function(t){C=t.MusicSortEnum},function(t){L=t.materialRes}],execute:function(){var T,M,E,I,R,x,q,A,O,_,D;l._RF.push({},"5772bmaeBtG0ZS9CVEYQSIA","levelPrize",void 0);var U=r.ccclass,V=r.property;t("levelPrize",(T=U("levelPrize"),M=V(s),E=V(s),I=V(a),R=V(s),T((A=e((q=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this).leapTween=[],o(e,"landSound",A,n(e)),o(e,"collectSound",O,n(e)),e.collected=!1,o(e,"bodySize",_,n(e)),e.collectTween=[],e.light=void 0,o(e,"spawnSound",D,n(e)),e}i(e,t);var l=e.prototype;return l.stopLeap=function(){var t;null==(t=this.leapTween)||t.forEach((function(t){t.stop()})),this.leapTween=[]},l.leapToPos=function(t,e,i,o){var n=this;void 0===t&&(t=1),void 0===e&&(e=4),void 0===i&&(i=180),void 0===o&&(o=1.5);var l=f.getLnC(t,e);if(this.stopLeap(),l){var r=new c(l.node.worldPosition.x,l.node.worldPosition.y);this.leapTween.push(u(this).to(o,{worldPositionX:r.x,worldPositionY:r.y}).start(),u(this).to(o/2,{height:i},{easing:"quadOut"}).to(o/2,{height:0},{easing:"quadIn"}).call((function(){n.onLeapEnd(),g.play(n.landSound)})).start())}},l.onLeapEnd=function(){},l.characterOnEnable=function(){var t;(this.collected=!1,this.collectTween=[],this.leapTween=[],g.play(this.spawnSound),this.light)&&(b(null==(t=this.light)?void 0:t.node),this.light=null)},l.bodyRec=function(){return w.createRectangleNodeCenter(this.node,this.bodySize.width,this.bodySize.height)},l.collect=function(){var t=S.uiingame.node.parent.worldPosition;this.collectTween.forEach((function(t){t.stop()})),this.collectTween=[],this.collectTween.push(u(this).to(3,{worldPositionX:t.x,worldPositionY:t.y,height:0},{easing:"quadOut"}).start(),u(this.node).by(3,{scale:new d(.3,.3,1)},{easing:"quadOut"}).call((function(){S.uiingame.victoryExit()})).start()),m.switchMusicSort(C.Leave),this.showPriceLight()},l.showPriceLight=function(){var t=v(P.prizeCollectLight());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()),this.light=t.getComponent(z),this.light.db.playAnimation("Play",1)},l.characterUpdate=function(t){this.collected?this.db.color=new h(255,255,255,255):(this.db.color=L.rewardColor,this.bodyRec().judgeCrossLine(y.moveLine)&&(this.collected=!0,this.collect(),g.play(this.collectSound),this.stopLeap())),this.light&&(this.light.node.worldPosition=this.node.worldPosition)},e}(p)).prototype,"landSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(q.prototype,"collectSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(q.prototype,"bodySize",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(70,70)}}),D=e(q.prototype,"spawnSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=q))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelTaskCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./SoundRescourses.ts","./MultiLanguage.ts","./levelController.ts"],(function(t){var e,i,o,n,a,s,r,l,u,c,h,m,d,p,g,b,S,C,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.SpriteFrame,u=t.Sprite,c=t.Label,h=t.ProgressBar,m=t.Color,d=t.Vec3,p=t.tween,g=t.Component},function(t){b=t.UIInGame},function(t){S=t.sounds},function(t){C=t.MultiLanguage},function(t){L=t.LevelPlay}],execute:function(){var f,T,P,v,j,w,y,k,O,K,Z,I,D,W,z,F,R,M,U,B,N,q,G,x,_,A,E;s._RF.push({},"1fbadP0WfJMW6dxenrWbUfI","LevelTaskCount",void 0);var H=r.ccclass,V=r.property,J=t("LevelTaskCountModeEnum",function(t){return t[t.PlantCountLimit=0]="PlantCountLimit",t[t.PlantLoseLimit=1]="PlantLoseLimit",t[t.SunCostLimit=2]="SunCostLimit",t[t.SunProduceRequest=3]="SunProduceRequest",t[t.SunCostCountDownLimit=4]="SunCostCountDownLimit",t[t.ZombieKillCountRequest=5]="ZombieKillCountRequest",t[t.ZombieKillCountDown=6]="ZombieKillCountDown",t}({}));t("LevelTaskCount",(f=H("LevelTaskCount"),T=V(l),P=V(l),v=V(l),j=V(l),w=V(l),y=V(l),k=V(l),O=V(l),K=V(u),Z=V(u),I=V(c),D=V(h),f((F=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"plantCountLimit",F,n(e)),o(e,"plantLoseLimit",R,n(e)),o(e,"sunCostLimit",M,n(e)),o(e,"sunProduceRequest",U,n(e)),o(e,"sunCostCountDownLimit",B,n(e)),o(e,"zombieKillCount",N,n(e)),o(e,"completeIcon",q,n(e)),o(e,"failIcon",G,n(e)),o(e,"completeOrFailSlot",x,n(e)),o(e,"icon",_,n(e)),o(e,"count",A,n(e)),o(e,"progress",E,n(e)),e.mode=0,e.objdata=void 0,e.startingObjdata=void 0,e.completed=!1,e.failed=!1,e._red=0,e.warnTween=[],e.tip="",e}i(e,t);var s=e.prototype;return s.complete=function(){this.completed||this.failed||(this.completed=!0,this.count.color=new m(0,255,0,255),this.completeOrFailSlot.spriteFrame=this.completeIcon,S.playLevelTaskComplete())},s.fail=function(){this.failed||this.completed||(b.uiingame.loseDarken(null,"",this.tip),this.failed=!0,this.count.color=new m(255,0,0,255),this.completeOrFailSlot.spriteFrame=this.failIcon,S.playLevelTaskFail())},s.judgeVictory=function(){switch(this.mode){case J.PlantCountLimit:case J.PlantLoseLimit:break;case J.SunCostCountDownLimit:if(!this.completed)return this.fail(),!1;break;case J.SunCostLimit:break;case J.SunProduceRequest:if(!this.completed)return this.fail(),!1;break;case J.ZombieKillCountRequest:break;case J.ZombieKillCountDown:if(!this.completed)return this.fail(),!1}return!0},s.playWarn=function(){this.completed||this.failed||(this.warnTween.forEach((function(t){t.stop()})),this.icon.node.scale=new d(1.2,1.2,1),this.red=200,this.warnTween=[p(this.icon.node).to(.5,{scale:new d(1,1,1)}).start(),p(this).to(.5,{red:0}).start()],S.playLevelTaskWarn())},s.changeObjdata=function(t,e){var i=this;if(t==this.mode&&!this.completed&&!this.failed)switch(t){case J.PlantCountLimit:var o=this.startingObjdata.MaximumPlants-e.AllPlantCount,n=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=n.replace("<COUNT>",o.toString());break;case J.PlantLoseLimit:if(this.objdata.LeftPlantsToLose--,this.objdata.LeftPlantsToLose<0){this.objdata.LeftPlantsToLose=0;this.startingObjdata.MaximumPlantsLost;this.fail()}else 0==this.objdata.LeftPlantsToLose&&this.playWarn();var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=a.replace("<COUNT>",this.objdata.LeftPlantsToLose.toString());break;case J.SunCostCountDownLimit:this.objdata.LeftTime=this.startingObjdata.HoldoutSeconds;break;case J.SunCostLimit:this.objdata.LeftSun-=e.CostSun,this.objdata.LeftSun<0?(this.fail(),this.objdata.LeftSun=0):this.objdata.LeftSun<=100&&this.playWarn();var s=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=s.replace("<COUNT>",this.objdata.LeftSun.toString());break;case J.SunProduceRequest:this.objdata.SunProduced+=e.SunProduceAdd,this.objdata.SunProduced>=this.startingObjdata.TargetSun&&(this.complete(),this.objdata.SunProduced=this.startingObjdata.TargetSun),this.count.string=this.objdata.SunProduced.toString()+"/"+this.startingObjdata.TargetSun.toString();break;case J.ZombieKillCountRequest:break;case J.ZombieKillCountDown:this.scheduleOnce((function(){i.completed||(i.objdata.KilledZombiesCount--,i.progress.progress=i.objdata.KilledZombiesCount/i.startingObjdata.ZombiesToKill,i.count.string=i.objdata.KilledZombiesCount.toString()+"/"+i.startingObjdata.ZombiesToKill.toString())}),this.startingObjdata.Time),this.objdata.KilledZombiesCount++;var r=this.objdata.KilledZombiesCount/this.startingObjdata.ZombiesToKill;r>=1&&this.complete(),this.progress.progress=r,this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+this.startingObjdata.ZombiesToKill.toString()}},s.switchMode=function(t,e){var i;switch(t){case J.PlantCountLimit:this.icon.spriteFrame=this.plantCountLimit,this.count.node.active=!0,this.progress.node.active=!1;var o=e.MaximumPlants,n=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=n.replace("<COUNT>",o.toString()),this.objdata={};var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantCountLimit");a=(a=a.replace("<PLANTCOUNT>",o.toString())).replace("<S>",o>1?"s":""),this.tip=a;break;case J.PlantLoseLimit:this.icon.spriteFrame=this.plantLoseLimit,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={LeftPlantsToLose:e.MaximumPlantsLost};var s=this.objdata.LeftPlantsToLose,r=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=r.replace("<COUNT>",s.toString());var l=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantLoseLimit");l=(l=l.replace("<PLANTCOUNT>",s.toString())).replace("<S>",s>1?"s":""),this.tip=l;break;case J.SunCostCountDownLimit:this.icon.spriteFrame=this.sunCostCountDownLimit,this.count.node.active=!0,this.progress.node.active=!1;var u=e.HoldoutSeconds;this.count.string=this.getTimeStr(u),this.objdata={LeftTime:u};var c=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostCountdown");c=(c=c.replace("<TIME>",u.toString())).replace("<S>",u>1?"s":""),this.tip=c;break;case J.SunCostLimit:this.icon.spriteFrame=this.sunCostLimit,this.count.node.active=!0,this.progress.node.active=!1;var h=e.MaximumSun,m=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=m.replace("<COUNT>",h.toString()),this.objdata={LeftSun:h};var d=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostLimit");d=d.replace("<SUNCOUNT>",h.toString()),this.tip=d;break;case J.SunProduceRequest:this.icon.spriteFrame=this.sunProduceRequest,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={SunProduced:0};var p=e.TargetSun;this.count.string=this.objdata.SunProduced.toString()+"/"+p.toString();var g=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunProduceRequest");g=g.replace("<SUNCOUNT>",p.toString()),this.tip=g;break;case J.ZombieKillCountRequest:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!1;break;case J.ZombieKillCountDown:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!0,this.objdata={KilledZombiesCount:0},this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+e.ZombiesToKill.toString(),this.progress.progress=0;var S=e.ZombiesToKill,L=e.Time,f=C.getStringByPropsWithoutTricks("InGameScene","Challenge","ZombieKillCountDown");f=(f=(f=(f=f.replace("<ZOMBIECOUNT>",S.toString())).replace("<ZS>",S>1?"s":"")).replace("<TIME>",L.toString())).replace("<TS>",L>1?"s":""),this.tip=f}this.mode=t,this.startingObjdata=e,null!=(i=this.tip)&&i.length&&b.uiingame.pushGamePreStartTip(this.tip)},s.getTimeStr=function(t){t<0&&(t=0);var e=Math.floor(t/60),i=e.toString();1==i.length?i="0"+i:0==i.length&&(i="00");var o=t-60*e,n=Math.floor(o).toString();return 1==n.length?n="0"+n:0==n.length&&(n="00"),i+":"+n},s.update=function(t){if(L.gaming&&!this.completed)switch(this.mode){case J.SunCostCountDownLimit:this.objdata.LeftTime-=t,this.count.string=this.getTimeStr(this.objdata.LeftTime),this.objdata.LeftTime<=0&&this.complete()}},a(e,[{key:"red",get:function(){return this._red},set:function(t){this.icon.color=new m(255,255-t,255-t,255),this.count.color=new m(255,255-t,255-t,255),this._red=t}}]),e}(g)).prototype,"plantCountLimit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"plantLoseLimit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(z.prototype,"sunCostLimit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"sunProduceRequest",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(z.prototype,"sunCostCountDownLimit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"zombieKillCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(z.prototype,"completeIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(z.prototype,"failIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"completeOrFailSlot",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(z.prototype,"icon",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(z.prototype,"count",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"progress",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=z))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/lightningCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundsController.ts"],(function(t){var o,i,n,e,a,r,l,s,u,h,d,c,g,f,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,s=t.AudioSource,u=t.dragonBones,h=t.tween},function(t){d=t.Character},function(t){c=t.zombieDamageType},function(t){g=t.ZombiePool},function(t){f=t.ArrayGet},function(t){p=t.SoundFXController}],execute:function(){var m,v,b,y,L,w,S,C,T,k,A;a._RF.push({},"ca725n3XwpDrbvOa/hbYx8P","lightningCloud",void 0);var D=r.ccclass,I=r.property;t("lightningCloud",(m=D("lightningCloud"),v=I(Number),b=I(Number),y=I([l]),L=I([l]),m((C=o((S=function(t){function o(){for(var o,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).audioSource=void 0,o.targetLock=void 0,o.moveCooldown=1/0,o.tweening=null,o.fading=!1,n(o,"dps",C,e(o)),n(o,"liveDuration",T,e(o)),o.leftTime=15,n(o,"thunderSound",k,e(o)),n(o,"fadeSound",A,e(o)),o}i(o,t);var a=o.prototype;return a.characterOnLoad=function(){this.getComponent(s)||this.addComponent(s),this.audioSource=this.getComponent(s),this.db.on(u.EventObject.FRAME_EVENT,this.animationListener,this)},a.hideLightnings=function(t){var o=this.db.armature();["LIGHTNING0","LIGHTNING1","LIGHTNING2"].forEach((function(i){var n;null==(n=o.getSlot(i))||n._setDisplayIndex(t)}))},a.animationListener=function(t){"move"==t.name&&(this.moveCooldown=0,this.db.playAnimation("Idle")),"die"==t.name&&(this.db.playAnimation("Idle"),this.node.destroy())},a.characterOnEnable=function(){this.db.armature().getSlots().forEach((function(t){t.displayIndex=0})),this.fading=!1,this.targetLock=null,this.moveCooldown=1/0,this.leftTime=this.liveDuration,this.db.playAnimation("Spawn")},a.moveToTarget=function(t){var o=this,i=t.worldPosition.clone();this.moveCooldown=1/0;this.tweening=h(this).to(.5,{worldPositionX:i.x,worldPositionY:i.y}).call((function(){o.targetLock||o.playThunderSound(),o.targetLock=t,o.moveCooldown=1,o.hideLightnings(0)})).start()},a.characterOnDisable=function(){var t;null==(t=this.tweening)||t.stop()},a.fade=function(){var t;this.playFadeSound(),null==(t=this.tweening)||t.stop(),this.fading=!0,this.db.playAnimation("Fade"),this.hideLightnings(0)},a.characterOnLaneChange=function(t,o){this.node.setParent(o.prjLayer,!0)},a.characterUpdate=function(t){if(!this.fading){if(this.moveCooldown>0&&(this.moveCooldown-=t),this.targetLock&&(this.targetLock.dealDamage(this.dps*t,!0,!1,!1,null,c.electricity),this.targetLock.isAlive()||(this.targetLock=null,this.tweening.stop(),this.moveCooldown=0),this.targetLock&&this.moveCooldown<=0&&this.moveToTarget(this.targetLock)),(!this.targetLock||!this.targetLock.isAlive())&&(this.targetLock=null,this.hideLightnings(-1),this.moveCooldown<=0&&g.pool().length)){var o=f.getRandom(g.pool());o&&this.moveToTarget(o)}this.leftTime-=t,this.leftTime<=0&&this.fade()}},a.playThunderSound=function(){this.audioSource.playOneShot(f.getRandom(this.thunderSound),p.SoundFXVolume)},a.playFadeSound=function(){this.audioSource.playOneShot(f.getRandom(this.fadeSound),p.SoundFXVolume)},o}(d)).prototype,"dps",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),T=o(S.prototype,"liveDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),k=o(S.prototype,"thunderSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(S.prototype,"fadeSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=S))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/LightningReed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Tomb.ts","./lightningCloud.ts","./SoundRescourses.ts"],(function(n){var t,e,o,i,a,r,l,s,u,c,d,p,h,f,g,y,b,m,P,w,S,L,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Node,c=n.instantiate,d=n.Vec3,p=n.Vec2,h=n.dragonBones},function(n){f=n.Plant,g=n.PlantProps},function(n){y=n.Zombie,b=n.zombieDamageType},function(n){m=n.NodePools},function(n){P=n.Rectangle},function(n){w=n.Square},function(n){S=n.Tomb},function(n){L=n.lightningCloud},function(n){v=n.sounds}],execute:function(){var C,A,D,x,R,_,j,z,k,E,O,F,q,I,M,N,T,U,B,H,W,V;a._RF.push({},"ccf60n8TrRPVbF6qWd8WsSa","LightningReed",void 0);var X=r.ccclass,Z=r.property,Y=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).Damage=10,t.SplashDamage=10,t.SplashCount=3,t.AttackInterval=.95,t.AttackIntervalAdditional=.1,t.PlantfoodDPS=200,t.PlantfoodDuration=15,t}return e(t,n),t}(g),G=(C=X("lightningreedSound"),A=Z([l]),D=Z([l]),x=Z([l]),C((j=t((_=function(){function n(){o(this,"attackSound",j,this),o(this,"foodSound",z,this),o(this,"foodEndSound",k,this)}var t=n.prototype;return t.playAttackSound=function(){v.playArray(this.attackSound,1,.2)},t.playFoodSound=function(){v.playArray(this.foodSound,1,.1)},t.playFoodEndSound=function(){v.playArray(this.foodEndSound,1,.1)},n}()).prototype,"attackSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(_.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(_.prototype,"foodEndSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=_))||R);n("LightningReedPlant",(E=X("LightningReed"),O=Z(G),F=Z(s),q=Z(s),I=Z(s),M=Z(u),E((U=t((T=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new Y,o(t,"soundRes",U,i(t)),o(t,"lightningCloud",B,i(t)),t.detector=void 0,o(t,"hitParticle",H,i(t)),o(t,"linkParticle",W,i(t)),o(t,"particleSpawnPoint",V,i(t)),t.busy=0,t}e(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},a.playAttack=function(){var n=this;if(this.inLane){var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());if(t.length<=0&&e.length<=0)return;var o=null,i=1/0;if(t.forEach((function(t){var e=t.bodyRec,a=e.prjX().x;t.isAlive()&&e.judgeCrossRec(n.detector)&&a<i&&(o=t.node,i=a)})),e.forEach((function(t){var e=t.bodyRec,a=e.prjX().x;null!=t&&t.isAlive()&&e.judgeCrossRec(n.detector)&&a<i&&(o=t.node,i=a)})),o){var a,r;this.anmControl.playAnimation("Attack"),this.soundRes.playAttackSound(),this.busy=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale);var l=this.spawnParticle(this.particleSpawnPoint.worldPosition,o),s=this._objdataOwn.Damage,u=this._objdataOwn.SplashDamage;this._dmgScale&&(s*=this._dmgScale,u*=this._dmgScale),null==(a=o)||null==(a=a.getComponent(y))||a.dealDamage(s,!0,!1,!1,null,b.electricity),null==(r=o)||null==(r=r.getComponent(S))||r.dealDamage(s);for(var c=[o],d=this._objdataOwn.SplashCount,h=function(){var n=null,t=c[f].getComponent(y),e=c[f].getComponent(S);t&&(n=t),e&&(n=e);var o=P.createRectangleCenter(new p(n.node.worldPosition.x,n.inLane.midY),3*w.SquareDisW,3*w.SquareDisH),i=[].concat(n.inLane.zombiePool(),n.inLane.UpperLane.zombiePool(),n.inLane.LowerLane.zombiePool(),n.inLane.tombPool(),n.inLane.UpperLane.tombPool(),n.inLane.LowerLane.tombPool()),a=null,r=1/0;if(i.forEach((function(n){var t=n.bodyRec,e=t.prjX().x;-1==c.indexOf(n.node)&&t.judgeCrossRec(o)&&e<r&&(a=n.node,r=e)})),!a)return 1;c.push(a)},f=0;f<d&&!h();f++);for(var g=1;g<c.length;g++){var m,L,v=this.spawnParticle(l,c[g]);null==(m=c[g])||null==(m=m.getComponent(y))||m.dealDamage(u,!0,!1,!1,null,b.electricity),null==(L=c[g])||null==(L=L.getComponent(S))||L.dealDamage(u),l=v}}}},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food");var t=c(this.lightningCloud);t.parent=this.inLane.prjLayer;var e=t.getComponent(L);e.leftTime=this._objdataOwn.PlantfoodDuration,e.dps=this._objdataOwn.PlantfoodDPS,this._dmgScale&&(e.dps*=this._dmgScale),e.worldPosition=this.worldPosition,this.busy=1/0,this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.soundRes.playFoodEndSound()},a.setDetector=function(n){this.detector=P.createRectangleNodeSide(n.node,(9-n.cIndex)*w.SquareDisW,3*w.SquareDisH)},a.specialPlantOnSquareChange=function(n,t){this.setDetector(t)},a.spawnParticle=function(n,t){var e=30,o=t.getComponent(y);o?e=o.zombieHeight/2:o=t.getComponent(S);var i=new d(t.worldPosition.x,t.worldPosition.y+e,1),a=m.instantiatePooly(this.linkParticle);a.parent=o.inLane.prjLayer,a.worldPosition=n,a.angle=Math.atan2(i.y-n.y,i.x-n.x)/Math.PI*180;for(var r=a.getChildByName("tail").worldPosition.clone(),l=new p(r.x-n.x,r.x-n.x),s=new p(i.x-r.x,i.y-r.y),u=0;l.y*s.y+l.x*s.x>0&&u<10;){var c=m.instantiatePooly(this.linkParticle);c.parent=a.parent,c.worldPosition=r,c.angle=a.angle,c.getComponent(h.ArmatureDisplay).playAnimation("Play"+(Math.round(Math.random())+1).toString()),r=c.getChildByName("tail").worldPosition.clone(),s=new p(i.x-r.x,i.y-r.y),l=new p(r.x-n.x,r.y-n.y),u++}var f=m.instantiatePooly(this.hitParticle);return f.parent=o.inLane.prjLayer,f.worldPosition=i,i},a.specialPlantUpdate=function(n){this.busy>0&&(this.busy-=n),this.busy<=0&&(this.busy=0,this.playAttack())},t}(f)).prototype,"soundRes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),B=t(T.prototype,"lightningCloud",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"hitParticle",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(T.prototype,"linkParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(T.prototype,"particleSpawnPoint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=T))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/LilyPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./Plants.ts"],(function(n){var t,a,i,l,e,o,s,d,r,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,a=n.inheritsLoose,i=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){e=n.cclegacy,o=n._decorator,s=n.Node,d=n.Vec3},function(n){r=n.Plant},function(n){h=n.TileType},function(n){p=n.PlantEnum}],execute:function(){var u,c,P,m,f;e._RF.push({},"1b9c3GHtI9PObuuX4YmxksO","LilyPad",void 0);var L=o.ccclass,y=o.property;n("LilyPadPlant",(u=L("LilyPad"),c=y(s),u((f=t((m=function(n){function t(){for(var t,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return t=n.call.apply(n,[this].concat(e))||this,i(t,"plantPoint",f,l(t)),t.planted=!1,t.oldIdle="",t.oldRand=[],t.animationWatered=!1,t}a(t,n);var e=t.prototype;return e.specialPlantDie=function(){this.plantInLnC.returnPlantPoint()},e.specialPlantFood=function(n){n&&[this.plantInLnC,this.plantInLnC.upper,this.plantInLnC.lefter,this.plantInLnC.righter,this.plantInLnC.lower].forEach((function(n){var t,a;(null!=n&&n.isInLawn()&&null!=n&&n.lilyPadable()&&(null==n||n.spawnPlantByPlantEnum(p.LilyPad)),null!=n&&n.haveLilyPad&&null!=n&&null!=(t=n.lilyPad)&&t.isValid)&&(null==n||null==(a=n.lilyPad)||null==(a=a.getComponent(r))||a.food(!1))})),this.foodEnd()},e.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1)},e.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!0)},e.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},e.specialPlantOnEnable=function(){this.planted=!1,this.animationWatered=!1,this.oldRand=this.anmControl.RandomAnim,this.oldIdle=this.anmControl.IdleAnim},e.changeAnimation=function(n){n!=h.water||this.animationWatered?n!=h.water&&this.animationWatered&&(this.animationWatered=!1,this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRand,this.anmControl.playRandom()):(this.animationWatered=!0,this.anmControl.IdleAnim="Idle_Water",this.anmControl.RandomAnim=["Rand1_Water","Rand2_Water","Rand3_Water","Rand4_Water","Rand5_Water"],this.anmControl.playRandom())},e.specialPlantUpdateForce=function(n){!this.dead&&this.plantInLnC&&this.plantInLnC.setPPWdPos(this.plantInLnC.plantPoint.worldPosition.clone().add(new d(0,this.plantPoint.worldPosition.y-this.worldPositionY,0)));var t=this.inLnC.getTileType();this.changeAnimation(t),!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant(),this.eaterDetectable=!this.planted&&t==h.water},t}(r)).prototype,"plantPoint",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=m))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/LnC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./UI.ts","./NodePools.ts","./AnimationController.ts","./CharacterManager.ts","./Particles.ts","./Plant.ts","./Lane.ts","./SoundRescourses.ts","./Zombie.ts","./levelController.ts","./PlantFoodCount.ts","./Tombs.ts","./Tomb.ts","./Plants.ts","./Sunflower.ts","./GroundFire.ts","./SandBoxLevelSettingWindow.ts","./Zombies.ts","./SandBoxZombieCards.ts","./Cards.ts","./CardFeatureTotal.ts","./PowerupFingers.ts","./LevelTaskCount.ts","./moldSquare.ts","./Tiles.ts","./flowerLine.ts","./railway.ts","./FrontYard.ts","./cart.ts","./Mouse.ts","./GridItem.ts","./TileLiquid.ts"],(function(t){var i,e,n,o,a,l,r,s,h,d,c,u,p,f,P,v,m,w,y,g,L,I,S,T,C,b,x,E,D,k,q,B,F,A,O,M,G,U,_,z,N,R,j,J,Y,W,H,Z,X,V,K,Q,$,tt,it;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t._decorator,a=t.Vec3,l=t.find,r=t.dragonBones,s=t.Vec2,h=t.instantiate,d=t.math,c=t.EventMouse,u=t.Component},function(t){p=t.Square},function(t){f=t.UIInGame},function(t){P=t.NodePools,v=t.instantiatePooly,m=t.ArrayGet},function(t){w=t.AnimationController},function(t){y=t.Rectangle,g=t.PlantPool},function(t){L=t.groundFireParticles,I=t.tileLiquids,S=t.particle},function(t){T=t.PlantType,C=t.Plant},function(t){b=t.Lane},function(t){x=t.sounds},function(t){E=t.zombieDamageType},function(t){D=t.LevelPlay},function(t){k=t.PlantFoodCount},function(t){q=t.tombs},function(t){B=t.Tomb},function(t){F=t.plants,A=t.PlantEnum},function(t){O=t.sunflower},function(t){M=t.GroundFireColorEnum,G=t.GroundFire,U=t.GroundFireSpreadStyleEnum},function(t){_=t.SandBoxLevelSettingWindow},function(t){z=t.zombies},function(t){N=t.SandBoxZombieCards},function(t){R=t.Cards},function(t){j=t.CardFeatureTotal},function(t){J=t.PowerupFingers},function(t){Y=t.LevelTaskCountModeEnum},function(t){W=t.moldSquare},function(t){H=t.TileEnum,Z=t.tiles},function(t){X=t.flowerLine},function(t){V=t.railway},function(t){K=t.FrontYard},function(t){Q=t.cart},function(t){$=t.Mouse},function(t){tt=t.GridItemEnum},function(t){it=t.TileLiquid}],execute:function(){var et;n._RF.push({},"d770bq07m9CtYSeiXYu7H9t","LnC",void 0);var nt=o.ccclass,ot=(o.property,t("LnCSpawnZombieStyleEnum",function(t){return t[t.directPut=0]="directPut",t[t.fromLane=1]="fromLane",t[t.dirtSpawn=2]="dirtSpawn",t[t.sandStorm=3]="sandStorm",t[t.snowStorm=4]="snowStorm",t[t.amount=5]="amount",t}({}))),at=t("TileType",function(t){return t[t.floor=0]="floor",t[t.sky=1]="sky",t[t.water=2]="water",t[t.sea=3]="sea",t[t.deck=4]="deck",t}({})),lt=t("TileLiquidEnum",function(t){return t[t.none=0]="none",t[t.saplingJuice=1]="saplingJuice",t[t.butterJuice=2]="butterJuice",t[t.cranJellyJuice=3]="cranJellyJuice",t[t.softLava=4]="softLava",t[t.deadlyLava=5]="deadlyLava",t}({}));t("LnC",nt("LnC")(et=function(t){function n(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).iceTile=null,i.cIndex=-2,i.lIndex=-2,i.squareLower=void 0,i.RowParent=void 0,i.UIInGame=null,i.rec=y.createRectangleCenter(new s(0,0),0,0),i.oldTileLiquid=void 0,i.currentTileLiquid=lt.none,i.tileLiquidCountdown=0,i._tileType=at.floor,i.index=0,i.indexPoint=0,i.ghostPoint=null,i.plantPoint=null,i.orgPlantPoint=null,i.particleLowerPoint=null,i.potPoint=null,i.potPointUpper=null,i.vinePoint=null,i.vineBackPoint=null,i.buffParticlePoint=null,i.havePeaBuff=!1,i.peaBuffParticle=null,i.darkBuffParticle=null,i._shadowCD=0,i.plantInSquare=[],i.vineInSquare=[],i.tilePlantInSquare=[],i.imitaterInSquare=[],i.haveGrave=void 0,i.haveLilyPad=void 0,i.haveFloawerPot=void 0,i.crackedTile=null,i.crackedTileSparkle=null,i._crackleCountdown=0,i.delayMouseDownPlantsOnCart=[],i.tilesInSquare=[],i.lefter=void 0,i.righter=void 0,i.upper=void 0,i.lower=void 0,i.inLane=null,i.floawerPot=void 0,i.lilyPad=void 0,i.ppOldPos=void 0,i.tombStone=void 0,i.selectionDB=void 0,i.mold=null,i.rail=void 0,i.occupied=0,i.verticalElectricCountdown=0,i.verticalElectricDB=void 0,i.verticalElectricFooded=0,i.horizontalElectricCountdown=0,i.horizontalElectricDB=void 0,i.horizontalElectricFooded=0,i.centerElectricCountdown=0,i.centerElectricDB=void 0,i.centerElectricFooded=0,i.electricLineDamage=10,i}i(n,t);var o=n.prototype;return o.addGroundFire=function(t,i,e,n,o){if(void 0===i&&(i=20),void 0===e&&(e=M.yellow),void 0===n&&(n=0),void 0===o&&(o=null),this.isInLawn()){var l=o;l||(l=L.getParticleByGFEnum(e));var r=P.instantiatePooly(l),s=r.getComponent(G);return s.spawnDelay=n,r.parent=this.inLane.prjLayer,r.worldPosition=this.node.worldPosition.clone().add(new a(0,-p.SquareDisH/2,0)),s.height=i,s.duration=t,s.inLnC=this,s}},o.addLaneFire=function(t,i,e,n,o,a,l,r){var s=this;void 0===i&&(i=20),void 0===e&&(e=M.yellow),void 0===n&&(n=U.split),void 0===o&&(o=9),void 0===a&&(a=9),void 0===l&&(l=!1),void 0===r&&(r=null);var h=[],d=[],c=this.addGroundFire(t,i,e,0,r);c&&d.push(c);for(var u=0;u<a;u++){if(n!=U.right){for(var p,f=this,P=0;P<u;P++){var v;f=null==(v=f)?void 0:v.lefter}null!=(p=f)&&p.isInLawn()&&(l||f.tileType!=at.sky&&f.tileType!=at.sea)&&h.push(f)}if(n!=U.left){for(var m,w=this,y=0;y<u;y++){var g;w=null==(g=w)?void 0:g.righter}null!=(m=w)&&m.isInLawn()&&(l||w.tileType!=at.sky&&w.tileType!=at.sea)&&h.push(w)}if(n==U.cross){for(var L,I,S=this,T=0;T<u;T++){var C;S=null==(C=S)?void 0:C.upper}null!=(L=S)&&L.isInLawn()&&(l||S.tileType!=at.sky&&S.tileType!=at.sea)&&h.push(S);for(var b=this,x=0;x<u;x++){var E;b=null==(E=b)?void 0:E.lower}null!=(I=b)&&I.isInLawn()&&(l||b.tileType!=at.sky&&b.tileType!=at.sea)&&h.push(b)}}return h.forEach((function(n){if(n!=s){var a=Math.max(Math.abs(n.cIndex-s.cIndex),Math.abs(n.lIndex-s.lIndex))/o,l=n.lIndex==s.lIndex,h=n.addGroundFire(t,i,e,a,r);h.horizontal=l,d.push(h)}})),d},o.onLoad=function(){var t;switch(this.UIInGame=l("Canvas/UIInGame").getComponent(f),this.node.name){case"SquaresThere":this.lIndex=-1;break;case"SquaresHere":this.lIndex=5;break;case"SquaresLeft":this.cIndex=-1;break;case"SquaresRight":this.cIndex=9}this.selectionDB=null==(t=this.node)||null==(t=t.getChildByName("Select"))?void 0:t.getComponent(r.ArmatureDisplay),this.plantInSquare=[],this.rail=null,this.vineInSquare=[],this.tilePlantInSquare=[],this.haveGrave=!1,this.haveLilyPad=!1,this.haveFloawerPot=!1,this.occupied=0,this.mold=null,this.havePeaBuff=!1,this.peaBuffParticle=null,this.shadowCD=0,this.darkBuffParticle=null,this.tombStone=null,this.indexPoint=0,this.ghostPoint=this.node.getChildByName("PlantPoint")},o.addTileLiquid=function(t,i){if(this.isInLawn()&&(this.tileType==at.deck||this.tileType==at.floor)){if(t>this.currentTileLiquid){var e;null==(e=this.oldTileLiquid)||e.die();var n=null;switch(t){case lt.saplingJuice:n=P.instantiatePooly(I.sapflingJuice());break;case lt.butterJuice:n=P.instantiatePooly(I.butterJuice());break;case lt.cranJellyJuice:n=P.instantiatePooly(I.cranJellyJuice());break;case lt.softLava:n=P.instantiatePooly(I.softLava())}n&&(n.parent=this.inLane.tileLiquidLayer,n.worldPosition=this.node.worldPosition,this.oldTileLiquid=n.getComponent(it),this.tileLiquidCountdown=i,this.oldTileLiquid&&(this.oldTileLiquid.liquidID=t,this.oldTileLiquid.setInLnC(this),this.currentTileLiquid=t))}else t==this.currentTileLiquid&&(this.tileLiquidCountdown=this.tileLiquidCountdown>i?this.tileLiquidCountdown:i);this.readIndex()}},o.getAllPlants=function(t,i,e){void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===e&&(e=!0);return t?this.vineInSquare.concat(this.plantInSquare,this.imitaterInSquare,e&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],i&&this.haveLilyPad&&this.lilyPad?[this.lilyPad]:[],this.tilePlantInSquare):this.tilePlantInSquare.concat(i&&this.haveLilyPad&&this.lilyPad?[this.lilyPad]:[],e&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],this.imitaterInSquare,this.plantInSquare,this.vineInSquare)},o.setTileType=function(t){if(this.tileType!=t){var i=this.tileType;this.tileType=t,this.readTileType(i,t)}},o.readTileType=function(t,i){var e,n,o=this;(void 0===t&&(t=this.tileType),void 0===i&&(i=this.tileType),this.getAllPlants().forEach((function(e){e.onTileTypeChange(o,t,i,o.plantable(!1,e.ID),o.vineable(!1),o.floawerPotable(!1),o.flyable(!1))})),this.tilesInSquare.forEach((function(t){o.tileExistable(t.tileID,!1)||(t.inLnC=null)})),i!=at.deck&&i!=at.floor)&&(this.iceTile&&this.iceTile.die(),9==this.cIndex&&[0,1,2,3,4].forEach((function(t){var i;null==(i=p.getLane(t).getComponent(b).iceTile)||i.die()})),null==(n=this.oldTileLiquid)||n.die(),this.oldTileLiquid=null,this.currentTileLiquid=lt.none,this.tileLiquidCountdown=0);this.tombStone&&!this.tombable(!1)&&(null==(e=this.tombStone)||e.die()),this.readIndex()},o.getTileType=function(){return this.tileType},o.explodeSqudow1x1=function(t){var i,e,n=this,o=y.createRectangleNodeCenter(this.node,2*p.SquareDisW,p.SquareDisH);D.shakeScreen(),null==(i=this.inLane)||i.zombiePool().forEach((function(i){!i.flying&&o.judgeCrossRec(i.bodyRec)&&i.dealDamage(t,!1,!1,!1,new s(i.worldPositionX-n.node.worldPosition.x,i.zombieHeight+i.height).normalize().multiplyScalar(25),E.potatoMine,!0,!0)})),null==(e=this.tombStone)||e.dealDamage(t),x.playSpudow();var a=P.instantiatePooly(S.spudow());a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition},o.explodeCherry3x3=function(t,i,e,n){var o,a=this;void 0===i&&(i=!1),void 0===e&&(e=null),void 0===n&&(n=null);var l=y.createRectangleNodeCenter(this.node,3*p.SquareDisW,3*p.SquareDisH);D.shakeScreen();var r=[];null==(o=this.inLane)||o.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){l.judgeCrossRec(t.bodyRec)&&-1==r.indexOf(t)&&r.push(t)})),r.forEach((function(i){i.dealDamage(t,!1,!1,!1,new s(i.worldPositionX-a.node.worldPosition.x,i.zombieHeight+i.height).normalize().multiplyScalar(25),E.fire,!0,!0)})),this.get3x3().forEach((function(i){var e;null==(e=i.tombStone)||e.dealDamage(t)})),n?x.play(n,1,.1):x.playExplosion(),e||(e=S.explosion(i));var h=P.instantiatePooly(e);if(h.parent=this.inLane.prjLayer,h.worldPosition=this.plantPoint.worldPosition,this.tileType==at.floor||this.tileType==at.deck||this.tileType==at.water){var d=P.instantiatePooly(S.explosionRear());d.parent=this.inLane.tileLiquidLayer,d.worldPosition=this.node.worldPosition}},o.explodeSpudow3x3=function(t){var i,e=this,n=y.createRectangleNodeCenter(this.node,3*p.SquareDisW,3*p.SquareDisH);D.shakeScreen();var o=[];null==(i=this.inLane)||i.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){!t.flying&&n.judgeCrossRec(t.bodyRec)&&-1==o.indexOf(t)&&o.push(t)})),o.forEach((function(i){i.dealDamage(t,!1,!1,!1,new s(i.worldPositionX-e.node.worldPosition.x,i.zombieHeight+i.height).normalize().multiplyScalar(25),E.potatoMine,!0,!0)})),this.get3x3().forEach((function(i){var e;null==(e=i.tombStone)||e.dealDamage(t)})),x.playSpudow(),x.playExplosion();var a=P.instantiatePooly(S.spudowPrimal());a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition},o.update=function(t){var i=this;if(this.dealElectric(),this.crackleCountdown>0&&(this.tileType==at.floor||this.tileType==at.deck||this.tileType==at.water?this.crackleCountdown-=t:this.crackleCountdown=0),this.tileLiquidCountdown>0){var e=this.tileLiquidCountdown+0;this.tileLiquidCountdown-=t;var n,o=this.tileLiquidCountdown+0;if(this.currentTileLiquid==lt.saplingJuice)this.inLane.zombiePool().forEach((function(t){t.flying||t.sapflingProof||!i.rec.judgeCrossRec(t.bodyRec)||(t.sapflingCD=4)}));else if(this.currentTileLiquid==lt.butterJuice){var a=null;this.inLane.zombiePool().forEach((function(t){t.shouldSpeedScale()*t.randomSpeed>0&&!t.flying&&i.rec.judgeCrossRec(t.bodyRec)&&(!a||a.bodyRec.prjX().x>t.bodyRec.prjX().x)&&(a=t)})),a&&(a.setButter(8,!0),this.tileLiquidCountdown=0)}else if(this.currentTileLiquid==lt.softLava){var l,r;this.inLane.zombiePool().forEach((function(e){i.rec.judgeCrossRec(e.bodyRec)&&e.dealDamage(100*t,!0,!1,!1,null,E.fire)})),x.playLavaIdle(),null==(l=this.tombStone)||l.dealDamage(100*t),null==(r=this.iceTile)||r.die()}else if(this.currentTileLiquid==lt.cranJellyJuice){var s;if(Math.ceil(2*o)==Math.floor(2*e))this.inLane.zombiePool().forEach((function(t){!t.flying&&i.rec.judgeCrossRec(t.bodyRec)&&t.dealDamage(10,!0,!1,!1,null,E.physicle)})),null==(s=this.tombStone)||s.dealDamage(10)}if(this.tileLiquidCountdown<=0)this.currentTileLiquid=lt.none,null==(n=this.oldTileLiquid)||n.die(),this.oldTileLiquid=null,this.readIndex()}this.shadowCD>0&&(this.shadowCD-=t),this.occupied>0&&(this.occupied-=.01,this.occupied<=0&&this.readIndex())},o.addBuff=function(t,i){if(void 0===i&&(i=!0),!(!this.buffParticlePoint||this.lIndex>4||this.lIndex<0||this.cIndex<0||this.cIndex>8))switch(t){case"peaBuff":if(i&&!this.havePeaBuff){this.havePeaBuff=!0;var e=P.instantiatePooly(S.peaBuff());this.peaBuffParticle=e.getComponent(r.ArmatureDisplay),this.peaBuffParticle.playAnimation("Idle"),e.parent=this.particleLowerPoint,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0)}else!i&&this.havePeaBuff&&(this.havePeaBuff=!1,this.peaBuffParticle.playAnimation("Die"),this.peaBuffParticle=null)}},o.setShadowBuff=function(t,i){void 0===i&&(i=!0);var e=this._shadowCD;this.shadowCD=t>this._shadowCD?t:this._shadowCD,i&&e<=0&&this._shadowCD>0&&x.playTileShadowSpawn()},o.haveP=function(){return this.plantInSquare.length>0||this.vineInSquare.length>0},o.playPlantSpawnParticle=function(){if(this.tileType==at.floor||this.tileType==at.deck){var t=P.instantiatePooly(S.plantDirts());t.parent=this.inLane.node,t.worldPosition=this.plantPoint.worldPosition,t.getComponent(r.ArmatureDisplay).playAnimation("Plant",1)}this.tileType==at.water?x.playPlantOnWater():x.playPlantOnFloor()},o.spawnPlantByPlantEnum=function(t,i,e,n,o,a){var l;void 0===i&&(i=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===a&&(a=!1);var r=this.replantable(t);if(r||!i||this.putPlantAvailable(F.getPlantFeature(t).TYPE,e,t)){if(!(null!=(l=this.UIInGame)&&l.getLevelTaskStartingObject(Y.PlantCountLimit)&&!r&&this.UIInGame.getLevelTaskStartingObject(Y.PlantCountLimit).MaximumPlants<=g.getPlantAmount()&&o)){var d;if(r)return r.replant(),null==(d=this.UIInGame)||d.calculateLevelTask(Y.PlantCountLimit,{AllPlantCount:g.getPlantAmount()}),n&&this.playPlantSpawnParticle(),r;var c,u=h(a?F.getPlantsInCard(A.Imitater).plantPLANT:F.getPlantsInCard(t).plantPLANT),p=F.getPlantFeature(t),P=T.plant,m=!1;this.plantPoint;-1!=p.TYPE.indexOf("vine")?P=T.vine:-1!=p.TYPE.indexOf("floawerPot")?P=T.pot:-1!=p.TYPE.indexOf("lilypad")?P=T.lilyPad:-1!=p.TYPE.indexOf("tile")&&(P=T.tile),-1!=p.TYPE.indexOf("fly")&&(m=!0);var w=!0,y=u.getComponent(C);y.ID=t,p.objdata&&(y.objdata=p.objdata);var L=!0,I=!1;if(D.component.plantModifiers.forEach((function(i){I||(L=!i.SuppressParticle,i.List.forEach((function(i){i.ID==t&&(y.modObjdataOwn(i.NewObjdata),I=!0)})))})),y.flyingPlant=m,y.TYPE=p.TYPE,y.SUNCOST=p.SUNCOST,y.toughness=p.TOUGHNESS,y.allowStack=-1!=p.TYPE.indexOf("allowOverlap"),y.getFamily(p.FAMILY),P==T.pot)u.parent=this.potPoint,this.haveFloawerPot=!0,this.floawerPot=y,null==y||y.anmControl.addPotFront(this.potPointUpper),y.plantType=T.pot;else if(P==T.lilyPad)u.parent=this.potPoint,this.haveLilyPad=!0,this.lilyPad=y,y.plantType=T.lilyPad;else if(P==T.vine)u.parent=this.vinePoint,u.setPosition(0,0),null==y||y.anmControl.addVineBack(this.vineBackPoint),this.pushVine(y),y.plantType=T.vine;else if(P==T.tile)u.parent=this.plantPoint,u.setPosition(0,0),w=!1,this.pushTile(y),y.plantType=T.tile;else{var b;u.parent=this.plantPoint,u.setPosition(0,0),null==(b=y.anmControl)||b.addPlantUpper(this.inLane.plantUpperLayer),this.pushPlant(y),y.plantType=T.plant}if(y.worldPosition=new s(y.node.parent.worldPosition.x,y.node.parent.worldPosition.y),y.plantInLnC=this,w&&(null==(c=this.UIInGame)||c.calculateLevelTask(Y.PlantCountLimit,{AllPlantCount:g.getPlantAmount()})),y&&n&&this.playPlantSpawnParticle(),a&&y&&(y.willImitateID=this.UIInGame.currentPlantName),y.judgeInLnC(),this.readIndex(),L&&I){var E=v(S.strengthenPlant());E.parent=this.plantPoint,E.worldPosition=this.node.worldPosition,E.setSiblingIndex(0),x.playPlantStrengthen()}return y}f.uiingame.warnLevelTask(Y.PlantCountLimit)}},o.readIndex=function(){var t=this;this.lIndex>=0&&this.lIndex<=4&&this.cIndex>=0&&this.cIndex<=8&&(this.selection(),this.plantGhost(),this.tilesInSquare.forEach((function(i){i.onLnCCall(t)})))},o.plantGhost=function(){var t,i,e,n,o,a;if(null==(t=this.ghostPoint)||t.destroyAllChildren(),this.indexPoint)if(null!=(null==(i=this.UIInGame)?void 0:i.currentPlantName)&&(null==(e=this.UIInGame)?void 0:e.index)<=8&&(null==(n=this.UIInGame)?void 0:n.index)>-1&&this.putPlantAvailable()&&this.index){var l,s=h(F.getPlantsInCard(null==(l=this.UIInGame)?void 0:l.currentPlantName).plantDIS);if(!s)return;s.parent=this.ghostPoint,s.worldPosition=this.plantPoint.worldPosition,d.Color.set(s.getChildByName("Body").getComponent(r.ArmatureDisplay).color,255,255,255,150),s.getComponent(w).timeScale=0}else if(1!=p.lncSelectionMode&&null!=(o=this.UIInGame)&&o.currentSniperPlant&&-4==(null==(a=this.UIInGame)?void 0:a.index)){var c,u=h(null==(c=this.UIInGame)||null==(c=c.currentSniperPlant)?void 0:c.locator);if(!u)return;u.parent=this.ghostPoint,u.worldPosition=this.node.worldPosition,d.Color.set(u.getComponent(r.ArmatureDisplay).color,255,255,255,150),u.getComponent(r.ArmatureDisplay).timeScale=0}},o.onMouseEnter=function(){var t;this.isInLawn()&&(this.indexPoint=1,this.plantGhost(),null==(t=p.component)||t.readIndex())},o.onMouseLeave=function(){var t;this.isInLawn()&&(this.indexPoint=0,this.plantGhost(),null==(t=p.component)||t.readIndex(),this.delayMouseDownPlantsOnCart=[])},o.plantMouseReact=function(t,i){void 0===i&&(i=this.getAllPlants(!1));var e=!1,n=!1,o=i;if(o.forEach((function(i){t.getButton()==c.BUTTON_MIDDLE&&i.foodable&&!i.fooding&&D.gameStarted?k.plantFoodNum>0||_.freePF?(i.food(),n=!0):k.plantfoodWarn():(e||i.onMouseDown(t))&&(e=!0)})),o.length>0&&D.sandBoxModeOn&&t.getButton()==c.BUTTON_RIGHT&&D.gameStarted){var a=o[o.length-1].ID,l=_.plantList.indexOf(a);if(-1==l)return;R.cardsController.seedPackets.forEach((function(t,i){var e=t.getComponent(j),n=(l+i)%_.plantList.length;e.cardGrouper(_.plantList[n])}))}return n&&(k.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()}))),e},o.onMouseUp=function(t){this.isInLawn()&&(t.preventSwallow=!0,this.delayMouseDownPlantsOnCart.forEach((function(i){i.onMouseDown(t)})),this.delayMouseDownPlantsOnCart=[],$.followingCart=null)},o.onMouseDown=function(t,i){var e,n;if(t.preventSwallow=!0,this.isInLawn()){var o,a=null==(e=this.rail)?void 0:e.haveCartInLnC(this);if(-1==f.index&&a&&t.getButton()==c.BUTTON_LEFT)this.delayMouseDownPlantsOnCart=this.getAllPlants(!1),$.followingCart=a;else if(i&&-1==f.index&&this.plantMouseReact(t))return;if(-4==f.index&&t.getButton()==c.BUTTON_LEFT&&D.gameStarted)null==(o=f.uiingame.currentSniperPlant)||o.trigger(this),f.uiingame.MouseListenOffThisTick=!0;if(-5==f.index&&4==J.component.index&&t.getButton()==c.BUTTON_LEFT&&D.gameStarted&&this.explodeCherry3x3(1800,!1),9==f.index&&t.getButton()==c.BUTTON_LEFT&&D.gameStarted){var l=this.spawnZombie(N.component.currentID,_.zombieSpawnStyle,!1);1==f.uiingame.currentSBZombieDirection?l.forEach((function(t){t.reversed=!0})):2==f.uiingame.currentSBZombieDirection&&l.forEach((function(t){t.hypno=!0})),f.uiingame.MouseListenOffThisTick=!0}this.index&&(t.getButton()==c.BUTTON_LEFT&&(f.index<=8&&this.UIInGame.index>-1?(this.spawnPlant(),f.uiingame.MouseListenOffThisTick=!0):-2==f.index?(this.removePlant(),f.uiingame.MouseListenOffThisTick=!0):D.gameStarted&&-3==f.index&&(this.plantfood(),f.uiingame.MouseListenOffThisTick=!0)),(f.index<=8&&f.index>-1||-2==f.index)&&(this.index=0,f.uiingame.MouseListenOffThisTick=!0)),null==(n=p.component)||n.readIndex()}},o.onMouseScroll=function(t){var i,e=this,n=t.getScrollY();if(null!=(i=this.rail)&&i.carts){for(var o=[],a=function(t){e.rail.carts.forEach((function(i){i.inLnC.lIndex==t&&o.push(i)}))},l=0;l<5;l++)a(l);n>0?o.forEach((function(t){t.moveUp()})):n<0&&o.reverse().forEach((function(t){t.moveDown()}))}},o.isFloorOrDeck=function(){return this.tileType==at.floor||this.tileType==at.deck},o.tilePutable=function(t,i){if(void 0===i&&(i=!0),!this.tileExistable(t,i))return!1;if(this.iceTile)return!1;if(!this.isFloorOrDeck())return!1;if(this.crackleCountdown>0)return!1;if(this.occupied>0)return!1;if(this.tilePlantInSquare.length)return!1;var e=!1;return this.getAllPlants().forEach((function(t){(e||t.endangered)&&(e=!0)})),!e},o.tileExistable=function(t,i){void 0===i&&(i=!0);var e=this._tileType;return t==H.endangered||(e==at.deck||e==at.floor)&&(!i||!this.tilesInSquare[0])},o.putTile=function(t,i,e){if(void 0===e&&(e=!0),!e||this.tilePutable(t,!0))switch(t){case H.foodLinker:var n=Z.foodLinkTile(i);return n.node.parent=this.inLane.tileLayer,n.tileID=H.foodLinker,n.inLnC=this,this.readIndex(),n}},o.removeTiles=function(){this.tilesInSquare.concat().forEach((function(t){t.inLnC=null}))},o.putPlantAvailable=function(t,i,e){var n,o,a;void 0===t&&(t=null==(a=this.UIInGame)?void 0:a.plantInHandType);if(void 0===i&&(i=!0),void 0===e&&(e=f.uiingame.currentPlantName),e==A.Imitater)return!0;if(this.mold||this.occupied>0||!this.isInLawn())return!1;if(f.index>=0&&f.index<=8&&null!=(n=this.UIInGame)&&n.getLevelTaskStartingObject(Y.PlantCountLimit)&&this.UIInGame.getLevelTaskStartingObject(Y.PlantCountLimit).MaximumPlants<=g.getPlantAmount())return f.uiingame.warnLevelTask(Y.PlantCountLimit),!1;if(null==(o=t)||!o.length)return!1;var l=!1;return-1!=t.indexOf("allowOverlap")&&(l=!0),!(!this.plantable(i&&!l,e)||-1==t.indexOf("plant"))||(!(!this.vineable(i&&!l)||-1==t.indexOf("vine"))||(!(!this.floawerPotable(i&&!l)||-1==t.indexOf("floawerPot"))||(!(!this.lilyPadable(i&&!l)||-1==t.indexOf("lilypad"))||(!(!this.spikeweedable(i&&!l)||-1==t.indexOf("spikeweed"))||(!(!this.potatomineable(i&&!l)||-1==t.indexOf("potatomine"))||(!(!this.gravebusterable(i&&!l)||-1==t.indexOf("gravebuster"))||(!(!this.flyable(i&&!l)||-1==t.indexOf("fly"))||!(!this.tilePutable(H.foodLinker,!0)||-1==t.indexOf("powertile")))))))))},o.plantable=function(t,i){var e;void 0===t&&(t=!0),void 0===i&&(i=f.uiingame.currentPlantName);var n=!0;return this.plantInSquare.forEach((function(t){n&&(t.allowStack&&i!=t.ID||(n=!1))})),!(t&&!n||this.rail&&null==(null==(e=this.rail)?void 0:e.haveCartInLnC(this))||this.tombStone||this.tileType==at.water&&!this.haveLilyPad&&!this.haveFloawerPot||this.tileType==at.sky&&!this.haveFloawerPot||this.crackedTile||this.iceTile||this.currentTileLiquid==lt.softLava||this.currentTileLiquid==lt.deadlyLava||this.tileType==at.sea)},o.vineable=function(t){var i;return void 0===t&&(t=!0),!(t&&this.vineInSquare.length>0||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.tileType==at.water&&!this.haveLilyPad&&!this.haveFloawerPot||this.tileType==at.sky&&!this.haveFloawerPot||this.crackedTile||this.currentTileLiquid==lt.softLava||this.currentTileLiquid==lt.deadlyLava||this.iceTile||this.tileType==at.sea)},o.floawerPotable=function(t){return void 0===t&&(t=!0),!(this.mold||t&&this.vineInSquare.length>0||t&&this.plantInSquare.length>0||this.haveLilyPad||t&&this.haveFloawerPot||this.rail||this.tombStone||this.crackedTile||this.currentTileLiquid==lt.softLava||this.currentTileLiquid==lt.deadlyLava||this.tileType==at.sea||this.iceTile)},o.flyable=function(t){var i;void 0===t&&(t=!0);var e=!0;return this.plantInSquare.forEach((function(t){e&&(t.allowStack||(e=!1))})),!(t&&!e||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.crackedTile||this.currentTileLiquid==lt.softLava||this.currentTileLiquid==lt.deadlyLava||this.tileType==at.sea||this.iceTile)},o.lilyPadable=function(t){var i;return void 0===t&&(t=!0),!(t&&this.haveLilyPad||this.haveFloawerPot||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.crackedTile||this.currentTileLiquid==lt.softLava||this.currentTileLiquid==lt.deadlyLava||this.tileType==at.sea||this.tileType==at.sky||this.iceTile)},o.spikeweedable=function(t){return void 0===t&&(t=!0),this.plantable(t)&&!this.haveLilyPad&&!this.haveFloawerPot},o.potatomineable=function(t){return void 0===t&&(t=!0),this.plantable(t)&&!this.haveLilyPad&&(this.tileType!=at.deck||this.haveFloawerPot)},o.gravebusterable=function(t){var i;return null!=this.tombStone&&(null==(i=this.tombStone)?void 0:i.bustable)&&this.getAllPlants().length<=0},o.replantable=function(t){for(var i=this.getAllPlants(!0),e=0;e<i.length;e++)if(i[e].ID==t&&i[e].replantable())return i[e];return null},o.spawnZombie=function(t,i,e,n,o,a){void 0===i&&(i=ot.fromLane),void 0===e&&(e=!0),void 0===n&&(n=.5),void 0===o&&(o=0),void 0===a&&(a=null);var l=z.createZombie(this.inLane.LaneIndex,t,a);if(i==ot.directPut||i==ot.dirtSpawn)x.playDirtRise(!1,e),l.worldPosition=new s(this.node.worldPosition.x+p.SquareDisW*(n-.5),l.shadeWorldPosition.y);else if(i==ot.sandStorm||i==ot.snowStorm){var r=0;i==ot.snowStorm&&(r=1),l.playSandStorm(this.node.worldPosition.x+p.SquareDisW*(n-.5),r)}var h=l.additionalZombies();return i!=ot.directPut&&i!=ot.dirtSpawn||l.onPutDirectly(this),i==ot.dirtSpawn&&l.playDirtSpawn(o),[l].concat(h)},o._sLefter=function(){return this.isInLawn()?p.getSquare(this.lIndex,this.cIndex-1).getComponent(n):p.getSquare(-2,-2).getComponent(n)},o._sRighter=function(){return this.isInLawn()?p.getSquare(this.lIndex,this.cIndex+1).getComponent(n):p.getSquare(-2,-2).getComponent(n)},o._sUpper=function(){return this.isInLawn()?p.getSquare(this.lIndex-1,this.cIndex).getComponent(n):p.getSquare(-2,-2).getComponent(n)},o._sLower=function(){return this.isInLawn()?p.getSquare(this.lIndex+1,this.cIndex).getComponent(n):p.getSquare(-2,-2).getComponent(n)},o.setPPWdPos=function(t){var i;null==(i=this.orgPlantPoint)||i.setWorldPosition(t)},o.returnPlantPoint=function(){var t=this;this.haveFloawerPot&&this.haveLilyPad||(this.getAllPlants().forEach((function(i){i.height=0,i.worldPosition=new s(t.ppOldPos.x,t.ppOldPos.y)})),this.orgPlantPoint.worldPosition=this.ppOldPos)},o.get3x3=function(){var t,i,e,n,o=[];return[null==this||null==(t=this.upper)?void 0:t.lefter,null==this?void 0:this.upper,null==this||null==(i=this.upper)?void 0:i.righter,null==this?void 0:this.lefter,this,null==this?void 0:this.righter,null==this||null==(e=this.lower)?void 0:e.lefter,null==this?void 0:this.lower,null==this||null==(n=this.lower)?void 0:n.righter].forEach((function(t){t&&o.push(t)})),o},o.plantHeat=function(){var t=!1;if(this.get3x3().forEach((function(i){i.iceTile&&(t=!0,i.iceTile.die())})),8==this.cIndex&&[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(i){i.iceTile&&(t=!0,i.iceTile.die())})),t){var i=P.instantiatePooly(S.plantHeat());i.parent=l("Canvas/LawnCommon/Shade"),i.worldPosition=this.node.worldPosition}return t},o.isInLawn=function(){return this.lIndex>=0&&this.cIndex>=0&&this.lIndex<=4&&this.cIndex<=8},o.bounceAllPlants=function(){var t=this;this.getAllPlants().forEach((function(i){for(var e=[i.plantInLnC],n=null,o=[i.plantInLnC],a=0;e.length<45&&!n&&a<45;){a++;var l=o.concat();o=[],l.forEach((function(t){n||m.randomize(t.get3x3()).forEach((function(t){n||-1!=e.indexOf(t)||(t.putPlantAvailable(i.TYPE,!0,i.ID)?n=t:(o.push(t),e.push(t)))}))}))}n&&n!=t?i.leapTo(n,.5,100,!0,!1):i.throwAway(Math.random()>.5)}))},o.tombable=function(t,i){return void 0===t&&(t=!0),void 0===i&&(i=!0),!(this.getAllPlants().length>0&&i||this.tombStone&&t||this.rail||this.tileType!=at.deck&&this.tileType!=at.water&&this.tileType!=at.floor)},o.addTomb=function(t,i,e,n){var o;if(void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),this.tombable(!0,!n)&&this.isInLawn()){var a=P.instantiatePooly(q.getTomb(t));a.parent=this.inLane.tombLayer;var l=a.getComponent(B);if(l.worldPosition=new s(this.plantPoint.worldPosition.x,this.plantPoint.worldPosition.y),l.setInLnC(this),l.playSpawnParticle(),e&&x.playTombRiseHeavy(),l.judgeInLnC(),null==(o=l.GridItemCP)||o.setGridItemType([tt.gravestone,t+tt.gravestone+1]),i){var r=P.instantiatePooly(S.graveSpawn());r.parent=this.inLane.tombLayer,r.worldPosition=a.worldPosition}}},o.pushPlant=function(t){-1==this.plantInSquare.indexOf(t)&&this.plantInSquare.push(t)},o.pushVine=function(t){-1==this.vineInSquare.indexOf(t)&&this.vineInSquare.push(t)},o.pushTile=function(t){-1==this.tilePlantInSquare.indexOf(t)&&this.tilePlantInSquare.push(t)},o.spawnPlant=function(){if(this.putPlantAvailable()||this.replantable(this.UIInGame.currentPlantName)){var t=this.UIInGame.currentPlantName;this.spawnPlantByPlantEnum(t,!1,!0,!0,!0,this.UIInGame.isImitator);this.UIInGame.spawnPlantCost(),this.UIInGame.plantKeyCool=2,this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.readIndex()}},o.removePlant=function(){var t=this,i=0,e=!1;if(this.vineInSquare.length&&this.vineInSquare.concat().forEach((function(n){if(n.shovelable()){D.component.lastStandPrepareStarted&&(i+=n.suncost),e=!0;var o=t.vineInSquare.indexOf(n);-1!=o&&t.vineInSquare.splice(o,1),n.die(!1),n.node.destroy()}})),this.plantInSquare.length&&!e){var n=!0;this.plantInSquare.concat().forEach((function(t){n&&(t.allowStack||(n=!1))})),this.plantInSquare.concat().forEach((function(o){if(o.allowStack==n&&o.shovelable()){D.component.lastStandPrepareStarted&&(i+=o.suncost),e=!0;var a=t.plantInSquare.indexOf(o);-1!=a&&t.plantInSquare.splice(a,1),o.die(!1),o.node.destroy()}}))}if(this.haveFloawerPot&&!e){var o,a=this.floawerPot;if(a.shovelable())D.component.lastStandPrepareStarted&&(i+=a.suncost),this.returnPlantPoint(),this.haveFloawerPot=!1,e=!0,null==a||a.die(!1),null==(o=this.floawerPot)||null==(o=o.node)||o.destroy(),this.floawerPot=null}if(this.haveLilyPad&&!e){var l,s=this.lilyPad;if(s.shovelable())D.component.lastStandPrepareStarted&&(i+=s.suncost),this.returnPlantPoint(),this.haveLilyPad=!1,e=!0,null==s||s.die(!1),null==(l=this.lilyPad)||null==(l=l.node)||l.destroy(),this.lilyPad=null}if(D.sandBoxModeOn&&!e&&(this.crackleCountdown&&(this.crackleCountdown=0,e=!0),this.tileLiquidCountdown>0&&(this.tileLiquidCountdown=.01,e=!0),this.iceTile&&(this.iceTile.die(),e=!0),this.tombStone&&(this.tombStone.die(),e=!0),this.tilesInSquare.length>0&&!e&&(e=!0,this.removeTiles())),e){if(i>0)O.produceSun(i,this.plantPoint.worldPosition,0,!1).forEach((function(t){t.collect()}));if(this.tileType==at.floor||this.tileType==at.deck){var h=P.instantiatePooly(S.plantDirts());h.parent=this.inLane.node,h.worldPosition=this.plantPoint.worldPosition,h.getComponent(r.ArmatureDisplay).playAnimation("Remove",1)}this.haveFloawerPot&&this.floawerPot,this.tileType==at.water?x.playShovelDigWater():x.playShovelDig(),this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.selection()}},o.foodable=function(){var t=!1;return this.getAllPlants().forEach((function(i){t||i.foodable&&!i.fooding&&(t=!0)})),t},o.plantfood=function(){var t=!1;this.getAllPlants(!1).forEach((function(i){i.foodable&&!i.fooding&&(k.plantFoodNum>0||_.freePF?(i.food(),t=!0):k.plantfoodWarn())})),t&&(this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),k.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()})))},o.start=function(){var t,i;(this.node.getChildByName("Select").getComponent(r.ArmatureDisplay).playAnimation("Nope"),this.plantPoint)&&(this.inLane&&(this.plantPoint.worldPosition=new a(this.plantPoint.worldPosition.x,this.inLane.floorY,10)),null==(t=this.orgPlantPoint)||t.setWorldPosition(this.plantPoint.worldPosition),null==(i=this.potPoint)||i.setWorldPosition(this.plantPoint.worldPosition));this.ppOldPos=this.orgPlantPoint?this.orgPlantPoint.worldPosition.clone():new a(0,0,0),p.moveCrossing(-1,-1)},o.standardize=function(){this.lefter=this._sLefter(),this.righter=this._sRighter(),this.upper=this._sUpper(),this.lower=this._sLower()},o.selection=function(){var t,i,e;if(this.index=0,(this.putPlantAvailable()||this.replantable(f.uiingame.currentPlantName))&&f.index>=0&&f.index<=8?this.index=1:1==(null==(t=p.component)?void 0:t.indexShovel)?(this.getAllPlants().length||D.sandBoxModeOn&&(this.iceTile||this.crackleCountdown>0||this.tombStone||this.tileLiquidCountdown>0||this.tilesInSquare[0]))&&(this.index=1):(this.foodable()&&1==(null==(i=p.component)?void 0:i.indexPF)||9==f.index||-4==f.index&&1==this.indexPoint)&&(this.index=1),0==this.index)null==(e=this.selectionDB)||e.playAnimation("Nope");else if(1==this.index&&0==this.indexPoint){var n;null==(n=this.selectionDB)||n.playAnimation(0==p.lncSelectionMode?"Slow":"Nope")}else if(1==this.index&&1==this.indexPoint){var o;null==(o=this.selectionDB)||o.playAnimation(0==p.lncSelectionMode?"Fast":"Nope")}},o.addMold=function(){if(!this.mold){var t=v(Z.mold());t.parent=this.inLane.tombLayer,t.setSiblingIndex(0),this.mold=t.getComponent(W),this.mold.worldPosition=new s(this.node.worldPosition.x,this.node.worldPosition.y)}},o.addFlower=function(t){void 0===t&&(t=0);var i=v(Z.flower());i.parent=this.inLane.node,i.setSiblingIndex(0);var e=i.getComponent(X);return e.worldPosition=new s(this.node.worldPosition.x+(t-.5)*p.SquareDisW,this.node.worldPosition.y),e},o.addRail=function(t,i){var e;if(void 0===i&&(i=tt.none),!this.rail){var n="Mid";0==t?n="Up":2==t&&(n="Down"),isNaN(i)&&(i=K.getLawnRailCart(K.currentLawnYardType));var o="Frontyard";switch(i){case tt.railcart_egypt:o="Egypt";break;case tt.railcart_pirate:o="Pirate";break;case tt.railcart_cowboy:o="Cowboy";break;case tt.railcart_future:o="Future";break;case tt.railcart_dark:o="Dark";break;case tt.railcart_sky:o="Sky";break;default:i=tt.railcart_tutorial,o="Frontyard"}var a=v(Z.rail());return a.parent=K.railLayer,this.rail=a.getComponent(V),this.rail.tileID=H.rail,this.rail.inLnC=this,this.rail.db.playAnimation(n+o),this.rail.pos=t,null==(e=this.rail)||null==(e=e.gridItemCP)||e.setGridItemType([tt.rail,i-tt.railcart-tt.rail]),this.rail}},o.addCart=function(t){var i,e;if(void 0===t&&(t=NaN),null==(i=this.rail)||!i.haveCartInLnC(this)){isNaN(t)&&(t=K.getLawnRailCart(K.currentLawnYardType));var n="Frontyard";switch(t){case tt.railcart_egypt:n="Egypt";break;case tt.railcart_pirate:n="Pirate";break;case tt.railcart_cowboy:n="Cowboy";break;case tt.railcart_future:n="Future";break;case tt.railcart_dark:n="Dark";break;case tt.railcart_sky:n="Sky";break;default:t=tt.railcart_tutorial,n="Frontyard"}var o=v(Z.cart());o.parent=K.cartLayer,o.worldPosition=this.node.worldPosition;var a=o.getComponent(Q);return a.inLnC=this,a.db.playAnimation(n,1),a.tileID=H.cart,this.rail&&this.rail.group.forEach((function(t){t.carts.push(a)})),null==a||null==(e=a.gridItemCP)||e.setGridItemType([tt.railcart,t]),a}},o.setOccupied=function(t){var i=this.occupied;this.occupied=this.occupied>t?this.occupied:t,this.occupied>0&&i<=0&&this.readIndex()},o.setElectricLine=function(t,i,e,n,o){if(o&&!(i<=0)){this.electricLineDamage=Math.max(e,this.electricLineDamage);var l=(1==t?p.SquareDisW:p.SquareDisH)/200;if(1==t){if(this.horizontalElectricCountdown=this.horizontalElectricCountdown>i?this.horizontalElectricCountdown:i,!this.horizontalElectricDB&&i>0){var s=v(o);s.parent=p.electricLineLayer,s.worldScale=new a(l,l,l),s.worldPosition=this.node.worldPosition,s.angle=90,this.horizontalElectricDB=s.getComponent(r.ArmatureDisplay),this.horizontalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=0}n&&(this.horizontalElectricFooded<=0&&this.horizontalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=2)}else if(2==t){if(this.verticalElectricCountdown=this.verticalElectricCountdown>i?this.verticalElectricCountdown:i,!this.verticalElectricDB&&i>0){var h=v(o);h.parent=p.electricLineLayer,h.worldScale=new a(l,l,l),h.worldPosition=this.node.worldPosition,h.angle=0,this.verticalElectricDB=h.getComponent(r.ArmatureDisplay),this.verticalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=0}n&&(this.verticalElectricFooded<=0&&this.verticalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=2)}else if(0==t){if(this.verticalElectricCountdown=0,this.horizontalElectricCountdown=0,this.centerElectricCountdown=this.centerElectricCountdown>i?this.centerElectricCountdown:i,!this.centerElectricDB&&i>0){var d=v(o);d.parent=p.electricLineLayer,d.worldPosition=this.node.worldPosition,this.centerElectricDB=d.getComponent(r.ArmatureDisplay),this.centerElectricDB.playAnimation("normal"),this.centerElectricFooded=0}n&&(this.centerElectricFooded<=0&&this.centerElectricDB.playAnimation("food"),this.centerElectricFooded=2)}}},o.dealElectric=function(){var t,i,e;this.horizontalElectricCountdown>0&&(this.horizontalElectricCountdown--,this.horizontalElectricFooded>0&&(this.horizontalElectricFooded--,this.horizontalElectricFooded<=0&&(null==(t=this.horizontalElectricDB)||t.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.horizontalElectricCountdown<=0&&(this.electricLineDamage=0,this.horizontalElectricDB&&(P.destroyPooly(this.horizontalElectricDB.node),this.horizontalElectricDB=null)),this.verticalElectricCountdown>0)&&(this.verticalElectricCountdown--,this.verticalElectricFooded>0&&(this.verticalElectricFooded--,this.verticalElectricFooded<=0&&(null==(i=this.verticalElectricDB)||i.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.verticalElectricCountdown<=0&&(this.electricLineDamage=0,this.verticalElectricDB&&(P.destroyPooly(this.verticalElectricDB.node),this.verticalElectricDB=null)),this.centerElectricCountdown>0)&&(this.centerElectricCountdown--,this.centerElectricFooded>0&&(this.centerElectricFooded--,this.centerElectricFooded<=0&&(null==(e=this.centerElectricDB)||e.playAnimation("normal"),this.electricLineDamage=0)));this.centerElectricCountdown<=0&&(this.electricLineDamage=0,this.centerElectricDB&&(P.destroyPooly(this.centerElectricDB.node),this.centerElectricDB=null))},e(n,[{key:"tileType",get:function(){var t=K.getTidePos();return-2!=t&&this.cIndex>=t?at.water:this._tileType},set:function(t){this._tileType=t}},{key:"shadowCD",get:function(){return this._shadowCD},set:function(t){if(t>0&&this._shadowCD<=0){var i=P.instantiatePooly(S.darkBuff());this.darkBuffParticle=i.getComponent(r.ArmatureDisplay),i.parent=this.inLane.node,i.worldPosition=this.node.worldPosition,i.setSiblingIndex(0),this.darkBuffParticle.playAnimation("Start")}else if(t<=0&&this._shadowCD>0){var e;null==(e=this.darkBuffParticle)||e.armature().animation.fadeIn("End",.2,1),this.darkBuffParticle=null}this._shadowCD=t}},{key:"crackleCountdown",get:function(){return this._crackleCountdown},set:function(t){var i,e;if(t>0&&this._crackleCountdown<=0&&(this.tileType==at.floor||this.tileType==at.deck||this.tileType==at.water)){if(!this.crackedTile){var n=P.instantiatePooly(I.brokenTile());n.parent=l("Canvas/FrontYard/tiles"),n.worldPosition=this.node.worldPosition,this.crackedTile=n.getComponent(r.ArmatureDisplay)}if(!this.crackedTileSparkle){var o=P.instantiatePooly(I.brokenTileSparkles());o.parent=this.inLane.prjLayer,o.worldPosition=this.node.worldPosition,this.crackedTileSparkle=o.getComponent(r.ArmatureDisplay)}this.crackedTile.playAnimation("Spawn"),this.readIndex()}(null==(i=this.crackedTile)||i.armature().getSlot("BG")._setDisplayIndex(t>90?1:0),t<=0)&&(null==(e=this.crackedTile)||e.playAnimation("Fade"),this.crackedTile=null,this.readIndex(),this.crackedTileSparkle&&P.destroyPooly(this.crackedTileSparkle.node),this.crackedTileSparkle=null);this._crackleCountdown=t}}]),n}(u))||et);n._RF.pop()}}}));

System.register("chunks:///_virtual/LnCLower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,o,i,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Component},function(e){r=e.LnC},function(e){a=e.Rectangle},function(e){s=e.Square}],execute:function(){var c;n._RF.push({},"c96e7eFeARCFaBPaweP0RNp","LnCLower",void 0);var l=o.ccclass;o.property,e("LnCLower",l("LnCLower")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).SquareUpper=void 0,t}return t(n,e),n.prototype.standardize=function(e){this.SquareUpper=e;var t=e.getComponent(r);t.squareLower=this,this.node.setWorldPosition(this.SquareUpper.getWorldPosition()),t.particleLowerPoint=this.node.getChildByName("ParticleLowerPoint"),t.plantPoint=this.node.getChildByName("PlantPoint"),t.orgPlantPoint=this.node.getChildByName("OrgPlantPoint"),t.potPoint=this.node.getChildByName("PotPoint"),t.potPointUpper=this.node.getChildByName("PotPointUpper"),t.vinePoint=this.node.getChildByName("VinePointUpper"),t.vineBackPoint=this.node.getChildByName("VinePointLower"),t.buffParticlePoint=this.node.getChildByName("BuffParticle"),t.rec=a.createRectangleNodeCenter(t.node,s.SquareDisW,s.SquareDisH),t.standardize()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LostRelicHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PirateSwashbucklerZombie.ts"],(function(e){var t,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){i=e.PirateSwashbucklerZombie}],execute:function(){var n;o._RF.push({},"44625+LKvpJKo5BPxWwJAe9","LostRelicHunterZombie",void 0);var c=r.ccclass;r.property,e("LostRelicHunterZombie",c("LostRelicHunterZombie")(n=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.resetWillLandColume=function(){this.willLandColumn=Math.floor(3*Math.random())+3},o}(i))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/MagnetShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./NodePools.ts","./Peashooter.ts","./SoundRescourses.ts"],(function(o){var t,i,n,e,r,s,a,l,h,d,c,b,u,f,m,p,g,w,A,y,P,S,v;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){s=o.cclegacy,a=o._decorator,l=o.AudioClip,h=o.Node,d=o.Vec3,c=o.Vec2,b=o.tween,u=o.TWO_PI},function(o){f=o.Plant,m=o.PlantProps},function(o){p=o.Rectangle,g=o.ZombiePool},function(o){w=o.Square},function(o){A=o.CharacterType},function(o){y=o.NodePools,P=o.ArrayGet},function(o){S=o.peaShooter},function(o){v=o.sounds}],execute:function(){var L,C,D,O,R,M,j,_,E,T,z,Y,k,x,F,q,U,V,I,N;s._RF.push({},"6ba32ixBPpPLasfuVKITn50","MagnetShroom",void 0);var X=a.ccclass,H=a.property,W=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).RestTime=10,t.PlantfoodAbsorbDuration=1.5,t.PlantfoodThrowDamage=300,t}return i(t,o),t}(m),B=(L=X("magnetshroomSound"),C=H(l),D=H(l),O=H(l),R=H(l),L((_=t((j=function(){function o(){n(this,"shootSound",_,this),n(this,"catchSound",E,this),n(this,"foodSound",T,this),n(this,"absorbSound",z,this)}var t=o.prototype;return t.playShoot=function(){v.play(this.shootSound,1,.1)},t.playCatch=function(){v.play(this.catchSound,1,.1)},t.playFood=function(){v.play(this.foodSound,1,.1)},t.playAbsorb=function(){v.play(this.absorbSound,1,.1)},o}()).prototype,"shootSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(j.prototype,"catchSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(j.prototype,"foodSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(j.prototype,"absorbSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=j))||M);o("MagnetShroomPlant",(Y=X("MagnetShroomPlant"),k=H(h),x=H(B),F=H([l]),Y((V=t((U=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=o.call.apply(o,[this].concat(r))||this,n(t,"armorSocket",V,e(t)),n(t,"soundRes",I,e(t)),t._objdataOwn=new W,t.detectorM=new p,t.detectorUD=new p,t.foodAbsorbCD=0,t.foodAbsorbedArmors=[],t.foodedTime=0,t.absorbedArmor=null,t.absorbedArmorOldScale=1,t.switching=!1,t._resting=0,n(t,"hitSounds",N,e(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detectorM=p.createRectangleNodeCenter(t.node,7*w.SquareDisW,3*w.SquareDisH),this.detectorUD=p.createRectangleNodeCenter(t.node,5*w.SquareDisW,5*w.SquareDisH)},s.getMagnetedObject=function(){var o,t,i,n,e=this,r=null;return[this.inLane,null==(o=this.inLane)?void 0:o.UpperLane,null==(t=this.inLane)?void 0:t.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorM.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r||([null==(i=this.inLane)||null==(i=i.UpperLane)?void 0:i.UpperLane,null==(n=this.inLane)||null==(n=n.LowerLane)?void 0:n.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorUD.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r)},s.specialOnLaneChange=function(o,t){this.foodParent=t.prjLayer},s.specialPlantFood=function(o){this.foodAbsorbedArmors=[],this.foodedTime=0,this.resting=0,this.foodAbsorbCD=this._objdataOwn.PlantfoodAbsorbDuration,this.absorbedArmor=null,this.soundRes.playFood(),this.switching=!1,this.anmControl.playAnimation("FoodStart"),this.foodLightParticle.setParent(this.inLane.foodPlantLayer,!0),this.node.setParent(this.inLane.prjLayer,!0),this.body.setParent(this.node,!0)},s.absorbAll=function(){var o=this;g.pool().concat().forEach((function(t){var i=t.getMagnetedObject();i&&o.absorbAnArmor(i,.5)}))},s.specialPlantFoodEnd=function(){this.switching=!0,this.absorbedArmor=null,this.anmControl.playAnimation("FoodEnd",1),this.node.setParent(this.plantInLnC.plantPoint,!0)},s.animationListener=function(o){if("Shoot"==o.name)if(this.foodAbsorbedArmors[0]){this.soundRes.playShoot();var t=this.foodAbsorbedArmors[0];this.foodAbsorbedArmors.shift();var i=S.shootOnePea(t.node,new d(this.worldPositionX,this.worldPositionY),(this.armorSocket.worldPosition.y-this.worldPositionY)/2,this.inLane.prjLayer,new c(17,0),A.zombie);i.setDamage(this._objdataOwn.PlantfoodThrowDamage*this._dmgScale),i.detectEnemyOn=!0,i.PopSound=this.hitSounds,i.bodyOmega=5,i.node.setSiblingIndex(0)}else this.foodEnd()},s.specialPlantOnEnable=function(){this.absorbedArmor=null},s.absorbAnArmor=function(o,t){var i=this;void 0===t&&(t=1);var n=o;return n.linearVelocity=new c(0,0),n.bodyLinearVelocity=0,n.bodyOmega=0,b(o).to(.2,{height:t*(this.armorSocket.worldPosition.y-this.worldPositionY),worldPositionX:this.armorSocket.worldPosition.x,worldPositionY:this.worldPositionY}).call((function(){i.dead||(i.fooding?i.foodAbsorbedArmors.push(o):(i.absorbedArmor=o,i.absorbedArmorOldScale=o.node.worldScale.x,i.absorbCatch()))})).start(),o},s.absorbStart=function(){this.soundRes.playAbsorb(),this.anmControl.playAnimation("AbsorbStart",1/0,0,1.3),this.switching=!0},s.absorbCatch=function(){this.soundRes.playCatch(),this.anmControl.playAnimation("AbsorbEnd"),this.switching=!1,this.resting=this._objdataOwn.RestTime*this._cdScale},s.animationOnComplete=function(){this.switching=!1},s.waterable=function(){return this.resting<=0&&!this.switching},s.specialPlantUpdate=function(o){var t=this,i=this.armorSocket.worldPosition.y-this.worldPositionY;if(!this.switching&&!this.fooding)if(this.resting<=0){var n=this.getMagnetedObject();n&&(this.absorbStart(),this.absorbAnArmor(n))}else this.resting-=o,this.resting<=0&&(this.anmControl.playAnimation("Recover",1),this.soundRes.playCatch(),this.switching=!0,y.destroyPooly(this.absorbedArmor.node),this.absorbedArmor=null);if(this.absorbedArmor){this.absorbedArmor.worldPositionX=this.armorSocket.worldPosition.x,this.absorbedArmor.worldPositionY=this.worldPositionY,this.absorbedArmor.height=i;var e=this.absorbedArmor;if(e.bodyLinearVelocity=0,this.resting>0){var r=Math.max(this.absorbedArmorOldScale*this.resting/this._objdataOwn.RestTime,.01);e.node.worldScale=new d(r,r,r)}}if(this.fooding){if(this.foodAbsorbCD>0&&(this.foodAbsorbCD-=o,this.absorbAll()),this.foodAbsorbCD<=0&&!this.switching){this.switching=!0;var s=Math.min(5,Math.max(1,this.foodAbsorbedArmors.length/20));this.anmControl.playAnimation("FoodShoot",1/0,0,s)}var a=this.foodAbsorbedArmors.length;if(this.foodedTime+=o,a>0){var l=[];this.foodAbsorbedArmors.concat().forEach((function(o,n){if(o){var e=o,r=u*n/a+3*t.foodedTime,s=30*Math.cos(r),h=30*Math.sin(r)*.5;e.height=i/2,e.bodyLinearVelocity=0,e.worldPositionX=t.worldPositionX+s,e.worldPositionY=t.worldPositionY+h,l.push(e)}})),l.push(this),P.sort(l,"_worldPositionY").reverse().forEach((function(o,t){o.node.setSiblingIndex(t+1)}))}}},r(t,[{key:"resting",get:function(){return this._resting},set:function(o){this.deathAnm=o>0?"DeathDark":"Death",this._resting=o}}]),t}(f)).prototype,"armorSocket",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(U.prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),N=t(U.prototype,"hitSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=U))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/MagnifyingGrass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SunCount.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SandBoxLevelSettingWindow.ts","./Zombie.ts","./Plants.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./Tomb.ts","./SoundRescourses.ts"],(function(o){var t,n,i,a,r,e,s,d,l,h,f,u,p,P,c,b,g,y,w,S,m,T,D,v,C,_,A,E,L,F;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){r=o.cclegacy,e=o._decorator,s=o.AudioClip,d=o.Prefab,l=o.Node,h=o.Vec3,f=o.Vec2,u=o.tween,p=o.HALF_PI,P=o.instantiate},function(o){c=o.Plant,b=o.PlantProps},function(o){g=o.SunCount},function(o){y=o.instantiatePooly},function(o){w=o.peaShooter},function(o){S=o.CharacterType},function(o){m=o.SandBoxLevelSettingWindow},function(o){T=o.Zombie,D=o.zombieDamageType},function(o){v=o.plants},function(o){C=o.ParticleSelfdestroy},function(o){_=o.ZombiePool,A=o.TombPool,E=o.PlantPool},function(o){L=o.Tomb},function(o){F=o.sounds}],execute:function(){var R,j,x,O,I,z,M,Y,X,Z,B,G,q,H,W,N,V,k,K,U,J,Q,$,oo,to,no,io,ao,ro,eo;r._RF.push({},"ccf001ZKmdPHZ+CDO3Le8dl","MagnifyingGrass",void 0);var so=e.ccclass,lo=e.property,ho=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=o.call.apply(o,[this].concat(i))||this).ShootSunCost=50,t.SunProducerList=["sunflower","twinsunflower","sunshroom","primalsunflower","moonflower"],t.PlantfoodDuration=3,t.PlantfoodDurationExtendPerProducer=.15,t.PlantfoodDPS=200,t.ShootInterval=.667,t}return n(t,o),t}(b),fo=(R=so("magnifyinggrassSound"),j=lo([s]),x=lo([s]),O=lo(s),I=lo([s]),z=lo([s]),R((X=t((Y=function(){function o(){i(this,"shootSounds",X,this),i(this,"foodStartSounds",Z,this),i(this,"foodLoopSound",B,this),i(this,"foodEndSounds",G,this),i(this,"foodingSounds",q,this)}var t=o.prototype;return t.playShootSound=function(){F.playArray(this.shootSounds,1,.1)},t.playFoodStartSound=function(){F.playArray(this.foodStartSounds,1,.1)},t.playFoodEndSound=function(){F.playArray(this.foodEndSounds,1,.1)},t.playFoodingSound=function(){var o;F.playArray(this.foodingSounds,1,.5),F.play(this.foodLoopSound,1,null==(o=this.foodLoopSound)?void 0:o.getDuration())},o}()).prototype,"shootSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(Y.prototype,"foodStartSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(Y.prototype,"foodLoopSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(Y.prototype,"foodEndSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(Y.prototype,"foodingSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Y))||M);o("MagnifyingGrassPlant",(H=so("MagnifyingGrassPlant"),W=lo(fo),N=lo(d),V=lo(l),k=lo(d),K=lo(d),U=lo(d),J=lo(d),H((oo=t(($=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return(t=o.call.apply(o,[this].concat(r))||this).sunProducerList=[],i(t,"soundRes",oo,a(t)),i(t,"prj",to,a(t)),i(t,"peaSpawnPoint",no,a(t)),t._foodEndCD=3,t._foodExtendCD=.15,t.foodTarget=null,t.pfIdleTargetDX=400,t.pfIdleTargetDY=200,t.shooting=!1,i(t,"foodFromParPrefab",io,a(t)),t.foodFromPar=void 0,i(t,"foodToParPrefab",ao,a(t)),t.foodToPar=void 0,i(t,"foodAbsorbParPrefab",ro,a(t)),t.foodAbsorbPar=[],i(t,"foodRayParPrefab",eo,a(t)),t.foodRayPar=void 0,t._objdataOwn=new ho,t.shootCD=0,t}n(t,o);var r=t.prototype;return r.specialPlantUpdateForce=function(o){var t=this;if(this.shootCD>0&&(this.shootCD-=o),this.fooding){if(this.foodTarget&&!this.foodTarget.isAlive()&&(this.foodTarget=null),this.foodTarget||(this.foodTarget=_.leftest(),this.foodTarget||(this.foodTarget=A.leftest())),this.foodTarget){var n,i,a=this._objdataOwn.PlantfoodDPS*o;a*=this._dmgScale,null==(n=this.foodTarget.getComponent(T))||n.dealDamage(a,!0,!1,!0,null,D.ray),null==(i=this.foodTarget.getComponent(L))||i.dealDamage(a),this.foodToPar&&(this.foodToPar.node.parent=this.foodTarget.inLane.prjLayer,this.foodToPar.node.worldPosition=new h(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,10))}if(this.foodFromPar&&(this.foodFromPar.node.worldPosition=this.peaSpawnPoint.worldPosition),this.foodRayPar&&(this.foodRayPar.character=this.foodTarget),this.foodRayPar&&this.correctRay(this.foodRayPar),this.foodTarget&&!this.foodToPar){var r,e=y(this.foodToParPrefab);e.parent=this.foodTarget.inLane.prjLayer,e.worldPosition=new h(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.foodTarget.height+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,10),this.foodToPar=e.getComponent(C),null==(r=this.foodToPar)||null==(r=r.db)||r.playAnimation("Idle")}else if(!this.foodTarget&&this.foodToPar){var s;null==(s=this.foodToPar)||null==(s=s.db)||s.playAnimation("Die"),this.foodToPar=null}this.soundRes.playFoodingSound(),this.foodAbsorbPar.length>0?(this.foodAbsorbPar.forEach((function(o){t.correctRay(o)})),this._foodExtendCD>0&&(this._foodExtendCD-=o),this._foodExtendCD<=0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer,this.foodAbsorbPar[0].psd.db.playAnimation("End"),this.foodAbsorbPar.shift())):this._foodEndCD>0&&(this._foodEndCD-=o,this._foodEndCD<=0&&this.foodEnd())}},r._shoot=function(o){void 0===o&&(o=this.prj);var t=y(this.prj);t.parent=this.inLane.prjLayer;var n=w.shootOnePea(t,new h(this.peaSpawnPoint.worldPosition.x,this._worldPositionY,10),this.peaSpawnPoint.worldPosition.y-this._worldPositionY,this.inLane.prjLayer,new f(15,0),S.zombie);n.setDamage(this._dmgScale*n.damage_)},r.specialPlantOnEnable=function(){this.shooting=!1,this.foodToPar=null,this.foodTarget=null,this.foodRayPar=null,this.shootCD=0;var o=this.pfIdleTargetDY,t=this,n=u(t).to(2,{pfIdleTargetDY:-o},{easing:"quadInOut"}),i=u(t).to(2,{pfIdleTargetDY:o},{easing:"quadInOut"});n.then(i).clone(t).repeatForever().start()},r.waterable=function(){return!this.shooting},r.animationOnComplete=function(){this.shooting=!1},r.animationListener=function(o){"Shoot"==o.name?(this._shoot(),this.shooting=!1,this.soundRes.playShootSound()):"foodStart"==o.name&&this.foodStart()},r.foodStart=function(){this.anmControl.playAnimation("Fooding",1/0)},r.specialPlantFood=function(o){var t=this;this.anmControl.playAnimation("FoodStart",1),this.soundRes.playFoodStartSound(),this.shootCD=0;var n=y(this.foodFromParPrefab);n.parent=this.body.parent,n.worldPosition=this.peaSpawnPoint.worldPosition,this.foodFromPar=n.getComponent(C),this.foodFromPar.db.playAnimation("Start"),this.foodAbsorbPar=[],E.pool().forEach((function(o){if(-1!=t.sunProducerList.indexOf(o.ID)){var n=y(t.foodAbsorbParPrefab);n.parent=t.inLane.prjLayer;var i=n.getComponent(C);i.db.playAnimation("Idle",1/0);var a={character:o,psd:i};t.correctRay(a),t.foodAbsorbPar.push(a)}})),this.foodAbsorbPar.length>0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer),this._foodEndCD=this._objdataOwn.PlantfoodDuration;var i=y(this.foodRayParPrefab);i.parent=this.inLane.prjLayer;var a=i.getComponent(C);a.db.playAnimation("Start"),this.foodRayPar={character:null,psd:a}},r.correctRay=function(o){var t=o.psd,n=this.peaSpawnPoint.worldPosition;t.node.worldPosition=this.peaSpawnPoint.worldPosition;var i=o.character,a=(new h,(i?new h(i._worldPositionX,i._worldPositionY+i.height+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,0):new h(this._worldPositionX+this.pfIdleTargetDX,this._worldPositionY+this.pfIdleTargetDY,10)).clone().add(n.clone().negative())),r=new f(a.x,a.y);t.node.worldScale=new h(r.length()/500,.5,1),t.node.angle=90/p*Math.atan2(r.y,r.x)},r.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playAnimation("FoodEnd",1),this.foodFromPar.db.playAnimation("End"),this.foodFromPar=null,this.foodTarget=null,this.foodToPar&&(this.foodToPar.db.playAnimation("Die"),this.foodToPar=null),this.foodRayPar&&(this.foodRayPar.psd.db.playAnimation("End"),this.foodRayPar=null)},r.onObjdataSet=function(o,t){var n,i=this;this.sunProducerList=[],null==(n=t.SunProducerList)||n.forEach((function(o){var t=v.getPlantEnumByString(o,!1);t>=0&&i.sunProducerList.push(t)}))},r.shootAnimation=function(){this.shootCD=this._objdataOwn.ShootInterval*this._cdScale;var o=P(g.component.icon.node);o.parent=this.inLane.node,o.setSiblingIndex(0),o.worldPosition=g.component.icon.node.worldPosition,o.worldScale=g.component.icon.node.worldScale.clone(),u(o).to(.2,{worldPosition:this.peaSpawnPoint.worldPosition,worldScale:new h(.2,.2,.2)},{easing:"quadOut"}).call((function(){o.destroy()})).start(),this.shooting=!0,this.anmControl.playAnimation("Shoot"+Math.floor(2*Math.random()).toString(),1,0,Math.max(1,.4/this.shootCD)),g.component.SunDec(this._objdataOwn.ShootSunCost)},r.specialPlantOnMouseDown=function(){if(this.fooding||this.shooting||this.shootCD>0)return!1;var o=g.component.SunCount>=this._objdataOwn.ShootSunCost||m.freePlant;return o?this.shootAnimation():this.shooting||o||g.component.playWarn(),o},t}(c)).prototype,"soundRes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fo}}),to=t($.prototype,"prj",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=t($.prototype,"peaSpawnPoint",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=t($.prototype,"foodFromParPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=t($.prototype,"foodToParPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=t($.prototype,"foodAbsorbParPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=t($.prototype,"foodRayParPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=$))||Q));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ElectronAPI.ts","./NodePools.ts","./_1.ts","./lawnPirate.ts","./lawnSky.ts","./lawn.ts","./stageEffect.ts","./Armors.ts","./GridItem.ts","./JSONs.ts","./LevelNodes.ts","./Plants.ts","./Projectiles.ts","./Scenes.ts","./Tiles.ts","./Tombs.ts","./Trophies.ts","./ZenGardenRP.ts","./Zombies.ts","./ScrollViewWithoutTouchevent.ts","./Almanac.ts","./AlmanacElement.ts","./CardUIUpper.ts","./Cards.ts","./CharacterManager.ts","./Conveyor.ts","./DangerroomCard.ts","./DangerroomCardChooser.ts","./Droppings.ts","./FrontYard.ts","./KeyListener.ts","./LevelObjectiveScreen.ts","./LevelTaskCount.ts","./Materials.ts","./Particles.ts","./PauseScreen.ts","./PlantFoodCount.ts","./PowerupFingers.ts","./ProjectileManager.ts","./SandBoxZombieCards.ts","./SeedChooser.ts","./Shovel.ts","./ShovelUIController.ts","./SoundManager.ts","./SoundRescourses.ts","./Square.ts","./SunCount.ts","./UI.ts","./inGame.ts","./levelController.ts","./InfoWindow.ts","./PlayerPropertiesWindow.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./UpdateContentWindow.ts","./fanMadeLevelWindow.ts","./mainScene.ts","./preSplashScene.ts","./splashScene.ts","./testScene.ts","./ZenGarden.ts","./ZenGardenFeatures.ts","./ZenGardenObjectPar.ts","./zenGardenScene.ts","./Character.ts","./Mouse.ts","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./Lane.ts","./LnC.ts","./LnCLower.ts","./Tide.ts","./GroundFire.ts","./GroundFiresManager.ts","./AnimationController.ts","./CardFeatureTotal.ts","./Plant.ts","./SniperPlant.ts","./BananaLauncher.ts","./MissileToe.ts","./Bloomerang.ts","./Blover.ts","./Hurrikale.ts","./BonkChoy.ts","./Buttercup.ts","./AppleMortar.ts","./CabbagePult.ts","./KernelPult.ts","./MelonPult.ts","./Sapfling.ts","./Cactus.ts","./cardSelectAlmanac.ts","./CeleryStalker.ts","./ChardGuard.ts","./CherryBomb.ts","./CranJelly.ts","./DoomShroom.ts","./EMPeach.ts","./GrapeShot.ts","./Jalapeno.ts","./PowerLily.ts","./SolarTomato.ts","./ChiliBean.ts","./SunBean.ts","./Chomper.ts","./Citron.ts","./citronFoodPrj.ts","./CoconutCannon.ts","./Dandelion.ts","./Dragonbruit.ts","./DragonbruitBaby.ts","./ElectricBlueberry.ts","./ElectricCurrant.ts","./EscapeRoot.ts","./FloawerPot.ts","./LilyPad.ts","./FumeShroom.ts","./GloomShroom.ts","./GloomVine.ts","./LaserBean.ts","./GlacierShroom.ts","./GraveBuster.ts","./HeavenlyPeach.ts","./HomingThistle.ts","./HypnoShroom.ts","./IcebergLettuce.ts","./Stallia.ts","./Imitater.ts","./JackOLantern.ts","./jackOLanternFoodFireParticle.ts","./LightningReed.ts","./lightningCloud.ts","./MagnetShroom.ts","./MagnifyingGrass.ts","./MeteorFlower.ts","./ElectricPeashooter.ts","./FirePeashooter.ts","./GatlingPea.ts","./PeaPod.ts","./PeaVine.ts","./Peashooter.ts","./PrimalPeashooter.ts","./PuffShroom.ts","./RedStinger.ts","./Repeater.ts","./Rotobaga.ts","./ShootingStarfruit.ts","./Skyshooter.ts","./SnowPea.ts","./SplitPea.ts","./StarFruit.ts","./ThreePeater.ts","./Parsnip.ts","./runningParsnip.ts","./Plantern.ts","./PotatoMine.ts","./PotatoMinePrimal.ts","./ScaredyShroom.ts","./ShadowShroom.ts","./SnapDragon.ts","./SnapDragonFoodPar.ts","./Spikerock.ts","./Spikeweed.ts","./SpringBean.ts","./Squash.ts","./MariGold.ts","./MariGoldBlue.ts","./MariGoldGreen.ts","./MariGoldOrange.ts","./MariGoldPink.ts","./MariGoldPurple.ts","./MariGoldRed.ts","./MariGoldYellow.ts","./Moonflower.ts","./SunShroom.ts","./Sunflower.ts","./TileTurnip.ts","./Torchwood.ts","./UmbrellaLeaf.ts","./Vamporcini.ts","./ExplodeONut.ts","./InfiNut.ts","./PrimalWallNut.ts","./Pumpkin.ts","./TallNut.ts","./Turnip.ts","./WallNut.ts","./Prizes.ts","./coinbag.ts","./levelPrize.ts","./TileLiquid.ts","./boomerang.ts","./cactusThorn.ts","./coconutHeavy.ts","./coin.ts","./commonShot.ts","./cranjellyProjectile.ts","./dropping.ts","./electricPea.ts","./electricPeaMega.ts","./electricPeaPointer.ts","./gem.ts","./grapeshotProjectile.ts","./plantFood.ts","./sun.ts","./sunbomb.ts","./sunbombExplosion.ts","./tombBone.ts","./zombieDrop.ts","./egyptZombossMissile.ts","./futureZombossMissile.ts","./zombossMissile.ts","./shadeFloor.ts","./SoundsController.ts","./flowerLine.ts","./moldSquare.ts","./Tile.ts","./cart.ts","./endangeredTile.ts","./foodLinkTile.ts","./railway.ts","./Tomb.ts","./TombPlantfood.ts","./TombSun.ts","./ButtonWithSounds.ts","./CoinCollecterInGame.ts","./CoinCount.ts","./CurrencyCount.ts","./GemCount.ts","./MouseBlocker.ts","./EndlessZoneEntrance.ts","./WorldMap.ts","./WorldMapChooser.ts","./WorldMaps.ts","./worldMapScene.ts","./Armor.ts","./BodyGrouper.ts","./CardFeatureTotalZombie.ts","./CowboyBasicZombie.ts","./CowboyBullZombie.ts","./CowboyChickenFarmerZombie.ts","./CowboyChickenZombie.ts","./CowboyImpZombie.ts","./CowboyPianoZombie.ts","./CowboyPonchoZombie.ts","./CowboyProspectorZombie.ts","./DarkBasicZombie.ts","./DarkJesterZombie.ts","./EgyptCamelTouchZombie.ts","./EgyptCamelZombie.ts","./EgyptExplorerZombie.ts","./EgyptPharaohZombie.ts","./EgyptRaZombie.ts","./EgyptSandStormParticle.ts","./EgyptTombRaiserZombie.ts","./FutureGargantuarZombie.ts","./FutureImpZombie.ts","./FutureInfiNutShieldZombie.ts","./FutureJetpackZombie.ts","./FutureMechConeZombie.ts","./FutureMechDiscoZombie.ts","./FutureMechFootballZombie.ts","./FutureProtectorShieldZombie.ts","./FutureProtectorZombie.ts","./MechZombie.ts","./CowboyGargantuarZombie.ts","./DarkGargantuarZombie.ts","./EgyptGargantuarZombie.ts","./GargantuarZombie.ts","./PirateGargantuarZombie.ts","./ImpZombie.ts","./KongfuBasicZombie.ts","./KongfuChiZombie.ts","./KongfuHammerZombie.ts","./MonkBasicZombie.ts","./MonkBladeZombie.ts","./MonkNunchakuZombie.ts","./MonkTorchZombie.ts","./LostRelicHunterZombie.ts","./ModernAllstarZombie.ts","./ModernBalloonZombie.ts","./ModernBobsledTeamZombie.ts","./ModernCatapultZombie.ts","./Icetile.ts","./SleighCartZombie.ts","./PirateBarrelPusherZombie.ts","./PirateBarrelZombie.ts","./PirateCaptainParrotZombie.ts","./PirateCaptainZombie.ts","./PirateImpCannonZombie.ts","./ChickenZombieAshParticle.ts","./PirateSeagullZombie.ts","./SeagullZombieAshParticle.ts","./PirateSwashbucklerZombie.ts","./SkyBasicZombie.ts","./Zombie.ts","./ZombieAshParticle.ts","./CowboyZombossMechZombie.ts","./EgyptZombossMechZombie.ts","./FutureZombossMechZombie.ts","./PirateZombossMechZombie.ts","./ZombossMechZombie.ts","./zombossMissileLocator.ts","./zombossMissileLocatorFree.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./ElectronAPI.ts","./PlayerProperties.ts","./NodePools.ts","./Materials.ts","./UI.ts","./MultiLanguage.ts"],(function(t){var i,n,e,o,a,s,r,l,u,h,p,c,d,f,w,S,m,g,b,y,v,W,C,P,E,z,M,T;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label,l=t.Sprite,u=t.SpriteFrame,h=t.Node,p=t.AudioClip,c=t.Color,d=t.director,f=t.input,w=t.Input,S=t.KeyCode,m=t.AudioSource,g=t.Material,b=t.tween,y=t.Component},function(t){v=t.SoundFXController,W=t.MusicController},function(t){C=t.default},function(t){P=t.AllPlayerProperties},function(t){E=t.ArrayGet},function(t){z=t.materialRes},function(t){M=t.setExitToMapScene},function(t){T=t.MultiLanguage}],execute:function(){var A,G,B,L,F,O,R,_,k,D,I,N,H,U,K,V,X,q,x,Y,j,J,Q,Z,$,tt,it,nt,et,ot,at;a._RF.push({},"bfe05tLwJtHQLHmMPORIuuE","mainScene",void 0);var st=s.ccclass,rt=s.property,lt=(A=st("mainSceneToolTips"),G=rt(r),A((F=i((L=function(){function t(){e(this,"Play",F,this)}return t.prototype.setStrings=function(){this.Play&&(this.Play.string=T.getString(T.lyrics.MainScene.Play))},t}()).prototype,"Play",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=L))||B);t("mainScene",(O=st("mainScene"),R=rt(lt),_=rt(l),k=rt([u]),D=rt(h),I=rt(h),N=rt(h),H=rt(h),U=rt(h),K=rt(l),V=rt(l),X=rt(p),O(((at=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,e(i,"tooltips",Y,o(i)),e(i,"BG",j,o(i)),e(i,"randomSplash",J,o(i)),e(i,"infoWindow",Q,o(i)),e(i,"updateWindow",Z,o(i)),e(i,"settingWindow",$,o(i)),e(i,"fanmadeWindow",tt,o(i)),e(i,"ppWindow",it,o(i)),e(i,"sceneSlash",nt,o(i)),i.sceneColor=new c,i.infoShown=!1,i.settingsShown=!1,i.fanmadeShown=!1,i.ppShown=!1,i.updateShown=!1,e(i,"infoButton",et,o(i)),i.audioSource=void 0,e(i,"gotoGameSound",ot,o(i)),i}n(i,t);var a=i.prototype;return a.goToGame=function(){this.infoShown||this.settingsShown||d.loadScene("worldMapScene")},a.quit=function(){C.quit()},a.updates=function(){this.haveWindow()&&!this.updateShown||(this.updateShown?(this.updateWindow.active=!1,this.updateShown=!1):(this.updateWindow.active=!0,this.updateShown=!0))},a.info=function(){this.haveWindow()&&!this.infoShown||(this.infoShown?(this.infoWindow.active=!1,this.infoShown=!1):(this.infoWindow.active=!0,this.infoShown=!0))},a.setting=function(){this.haveWindow()&&!this.settingsShown||(this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0))},a.fanmade=function(){this.haveWindow()&&!this.fanmadeShown||(this.fanmadeShown?(this.fanmadeWindow.active=!1,this.fanmadeShown=!1):(this.fanmadeWindow.active=!0,this.fanmadeShown=!0))},a.pp=function(){this.haveWindow()&&!this.ppShown||(this.ppShown?(this.ppWindow.active=!1,this.ppShown=!1):(this.ppWindow.active=!0,this.ppShown=!0))},a.haveWindow=function(){return this.settingsShown||this.infoShown||this.fanmadeShown||this.updateShown||this.ppShown},a.onLoad=function(){var t=this;f.on(w.EventType.KEY_DOWN,(function(i){i.keyCode==S.SPACE&&(t.goToGame(),t.audioSource.playOneShot(t.gotoGameSound,v.SoundFXVolume))}),this),P.getPlayer(0),this.audioSource=this.getComponent(m)},a.update=function(t){this.sceneSlash.color=this.sceneColor,this.audioSource.volume=W.MusicVolume;var i=this.infoButton.customMaterial,n=i.passes[0].getHandle("addColor");i.passes[0].setUniform(n,z.zombiePF)},a.start=function(){var t=this;M("mainScene");var n=new g;n.initialize({effectAsset:z.addColorEffect,defines:{USE_TEXTURE:!0}}),this.infoButton.customMaterial=n,this.sceneSlash.color=new c(0,0,0,255),b(this.sceneColor).to(1,{a:0,r:0,g:0,b:0}).start(),this.randomSplash.length&&(this.BG.spriteFrame=E.getRandom(this.randomSplash)),f.on(w.EventType.KEY_DOWN,(function(i){i.keyCode!=S.ESCAPE&&i.keyCode!=S.ENTER&&i.keyCode!=S.SPACE||(t.infoShown?t.info():t.settingsShown?t.setting():t.updateShown?t.updates():t.fanmadeShown?t.fanmade():t.ppShown&&t.pp())}),this),this.fanmadeShown=!0,this.fanmade(),this.infoShown=!0,this.info(),this.ppShown=!0,this.pp(),this.updateShown=!0,this.updates(),this.settingsShown=!1,this.setting(),this.setting(),i.gameOpened||(this.audioSource.play(),this.audioSource.volume=W.MusicVolume,i.gameOpened=!0),this.tooltips.setStrings()},i}(y)).gameOpened=!1,Y=i((x=at).prototype,"tooltips",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new lt}}),j=i(x.prototype,"BG",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(x.prototype,"randomSplash",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(x.prototype,"infoWindow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(x.prototype,"updateWindow",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(x.prototype,"settingWindow",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(x.prototype,"fanmadeWindow",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(x.prototype,"ppWindow",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(x.prototype,"sceneSlash",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(x.prototype,"infoButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(x.prototype,"gotoGameSound",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=x))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/MariGold.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts","./Plants.ts","./levelController.ts"],(function(n){var t,o,e,i,r,a,l,u,s,c,d,p,f;return{setters:[function(n){t=n.inheritsLoose,o=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){u=n.SunflowerProps,s=n.SunflowerPlant},function(n){c=n.sounds},function(n){d=n.ArrayGet},function(n){p=n.PlantEnum},function(n){f=n.LevelPlay}],execute:function(){var h,y,P,w,S,M,m;r._RF.push({},"9d32dGZ7ZJEvZ2ye3cU4OwM","MariGold",void 0);var v=a.ccclass,g=a.property,A=n("MariGoldProps",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).ChanceToTurn=.5,t}return t(o,n),o}(u));n("MariGoldPlant",(h=v("MariGoldPlant"),y=g([l]),P=g([l]),h((M=o((S=function(n){function o(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new A,e(t,"explodeSounds",M,i(t)),e(t,"spawnSounds",m,i(t)),t.turned=!1,t.coinProducer=!0,t}t(o,n);var r=o.prototype;return r.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Attack",1)},r.specialSunflowerOnEnable=function(){this.shadeAlphaScale=1,this.specialMarigoldOnEnable(),this.turned=!1},r.specialMarigoldOnEnable=function(){},r.specialSunflowerAnimationListener=function(n){if("turn"==n.name){if(this.turned)return;this.turned=!0;var t=!1;if(this.fooding){t=!0;for(var o=0;o<5;o++)this._produce()}var e=!1;this.dead||(e=this.endangered),this.die(!0,!1,!1,!1),this.shadeAlphaScale=0,c.playArray(this.explodeSounds,1,.2),this._turn(t,e)}},r._turn=function(n,t){if(void 0===t&&(t=!1),!n){var o=this.inLnC.spawnPlantByPlantEnum(d.getRandom([p.MariGoldRed,p.MariGoldOrange,p.MariGoldGreen,p.MariGoldBlue,p.MariGoldPink,p.MariGoldPurple].concat(f.component.ExcludeListSunProducers?[]:[p.MariGoldYellow])),!0,!0,!1,!1);o&&(o.endangered=t,o.anmControl.playAnimation("Spawn",1),c.playArray(o.spawnSounds,1,.2))}},r.specialPlantFoodEnd=function(){},r.playProduceAnimation=function(){this.defaultProduceAnimation(Math.random()>this._objdataOwn.ChanceToTurn?"Produce":"Attack")},o}(s)).prototype,"explodeSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=o(S.prototype,"spawnSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=S))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldBlue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var e,n,t,r,o,a,i,c;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,r=e.Vec2},function(e){o=e.MariGoldPlant,a=e.MariGoldProps},function(e){i=e.Rectangle},function(e){c=e.Square}],execute:function(){var l;n._RF.push({},"a53d0GGWu9BUZkTeYSzfK74","MariGoldBlue",void 0);var u=t.ccclass,s=(t.property,function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).FreezeTime=5,e}return e(t,n),t}(a));u("MariGoldBluePlant")(l=function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new s,e}e(t,n);var o=t.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(e,n){var t,o=this,a=i.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,5*c.SquareDisH);null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.setFreeze(o._objdataOwn.FreezeTime,!0)}))},t}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldGreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(){var t,n,e,a,o,r,i,l,c,s,u,p,f,h,d,P;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,a=o.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,i=t.Prefab,l=t.Vec2,c=t.Vec3,s=t.TWO_PI},function(t){u=t.MariGoldPlant,p=t.MariGoldProps},function(t){f=t.ArrayGet,h=t.instantiatePooly},function(t){d=t.peaShooter},function(t){P=t.CharacterType}],execute:function(){var y,w,v,G,M;o._RF.push({},"9aa21GW8AJHC7TCAbWp0MRH","MariGoldGreen",void 0);var b=r.ccclass,A=r.property,m=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).PeaCount=12,n}return n(e,t),e}(p);y=b("MariGoldGreenPlant"),w=A(i),y((M=t((G=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new m,e(n,"pea",M,a(n)),n}n(o,t);var r=o.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(t,n){for(var e=this,a=this._objdataOwn.PeaCount,o=this.sunSpawnpoint.worldPosition.y-this.worldPositionY,r=[],i=0;i<a;i++){var u=s*i/a,p=new l(Math.cos(u),Math.sin(u)).multiplyScalar(15);r.push(p)}f.randomize(r).forEach((function(t){var n,a=h(e.pea),r=d.shootOnePea(a,new c(e.worldPositionX,e.worldPositionY),o,e.inLane.prjLayer,t,P.zombie);null!=(n=e.inLnC)&&n.havePeaBuff&&r.addPeaBuff()}))},o}(u)).prototype,"pea",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=G));o._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldOrange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(){var n,t,e,a,r,o,i,c,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,a=n.Vec2},function(n){r=n.MariGoldPlant,o=n.MariGoldProps},function(n){i=n.Rectangle},function(n){c=n.Square},function(n){l=n.zombieDamageType}],execute:function(){var u;t._RF.push({},"56e47swkjpE+6r1MuQ9Jt9U","MariGoldOrange",void 0);var s=e.ccclass,d=(e.property,function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).ExplodeDamage=400,n}return n(e,t),e}(o));s("MariGoldOrangePlant")(u=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new d,n}n(e,t);var r=e.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(n,t){var e,r=this,o=i.createRectangleCenter(new a(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,9*c.SquareDisH);null==(e=this.inLane)||null==(e=e.zombiePool())||e.forEach((function(n){o.judgeCrossRec(n.bodyRec)&&n.dealDamage(r._objdataOwn.ExplodeDamage,!0,!0,!0,null,l.fire)}))},e}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPink.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Plants.ts","./NodePools.ts"],(function(){var n,t,o,a,r,i,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){a=n.MariGoldPlant,r=n.MariGoldProps},function(n){i=n.plants},function(n){l=n.ArrayGet}],execute:function(){var e;t._RF.push({},"67fe2xCNLNKgY4brnPM8cWU","MariGoldPink",void 0);var s=o.ccclass,u=(o.property,function(t){function o(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).PlantList=["puffshroom","fumeshroom","scaredyshroom","puffshroom","fumeshroom","scaredyshroom","gloomvine","hypnoshroom","vamporcini"],n}return n(o,t),o}(r));s("MariGoldPinkPlant")(e=function(t){function o(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new u,n}n(o,t);var a=o.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},a._turn=function(n,t){var o,a=this,r=NaN;if(null==(o=l.randomize(this._objdataOwn.PlantList))||o.forEach((function(n){var t;if(isNaN(r)){var o=i.getPlantEnumByString(n);null!=(t=a.plantInLnC)&&t.putPlantAvailable(i.getPlantFeature(o).TYPE,!0,o)&&(r=o)}})),!isNaN(r)){var e,s=null==(e=this.plantInLnC)?void 0:e.spawnPlantByPlantEnum(r,!0,!0,!1,!0);(null==s?void 0:s.plantType)==this.plantType&&s.node.setSiblingIndex(this.node.getSiblingIndex())}},o}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPurple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var n,t,o,r,a,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Vec2},function(n){a=n.MariGoldPlant,e=n.MariGoldProps},function(n){i=n.Rectangle},function(n){c=n.Square}],execute:function(){var u;t._RF.push({},"7763fOg0XdD9ZSD+kLsMxNZ","MariGoldPurple",void 0);var l=o.ccclass,s=(o.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).PoisonDPS=20,n.PoisonDuration=10,n}return n(o,t),o}(e));l("MariGoldPurplePlant")(u=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new s,n}n(o,t);var a=o.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},a._turn=function(n,t){var o,a=this,e=i.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareDisW,5*c.SquareDisH);null==(o=this.inLane)||null==(o=o.zombiePool())||o.forEach((function(n){e.judgeCrossRec(n.bodyRec)&&n.setPoison(a._objdataOwn.PoisonDPS,a._objdataOwn.PoisonDuration)}))},o}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldRed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./GroundFire.ts","./Jalapeno.ts"],(function(){var n,t,r,o,a,i,e,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator},function(n){o=n.MariGoldPlant,a=n.MariGoldProps},function(n){i=n.GroundFireColorEnum,e=n.GroundFireSpreadStyleEnum},function(n){l=n.jalapeno}],execute:function(){var u;t._RF.push({},"7095f0CQ+9BfJnVlqJHw92f","MariGoldRed",void 0);var c=r.ccclass,s=(r.property,function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).FireDamage=150,n}return n(r,t),r}(a));c("MariGoldRedPlant")(u=function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new s,n}n(r,t);var o=r.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(n,t){var r;null!=(r=this.inLnC)&&r.isInLawn()&&l.burnFromLnC(this.inLnC,this._objdataOwn.FireDamage,!1,5,5,i.yellow,e.split,9,0)},r}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldYellow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Sunflower.ts"],(function(){var n,o,t,r,i,a,e;return{setters:[function(o){n=o.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,r=n.Vec3},function(n){i=n.MariGoldPlant,a=n.MariGoldProps},function(n){e=n.sunflower}],execute:function(){var l;o._RF.push({},"e04ceJQ/rdAzZ7fL3cjIala","MariGoldYellow",void 0);var c=t.ccclass,u=(t.property,function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this).SunDropValue=150,n}return n(t,o),t}(a));c("MariGoldYellowPlant")(l=function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new u,n}n(t,o);var i=t.prototype;return i.playProduceAnimation=function(){this.defaultProduceAnimation()},i.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},i._turn=function(n,o){e.produceSun(this._objdataOwn.SunDropValue,new r(this.worldPositionX,this.worldPositionY),this.sunSpawnpoint.worldPosition.y-this.worldPositionY,!0)},t}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/Materials.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,o,r,t,a,l,u,b,h,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,l=e.Color,u=e.EffectAsset,b=e.Material,h=e.tween,p=e.Component}],execute:function(){var c,s,g,m,f,y,z,d,w,P,C,_,F,v,M,A,S,k,E,G,R;t._RF.push({},"85114aqrvBMhKvCC7c7xFoe","Materials",void 0);var D=a.ccclass,H=a.property,L=e("materialRes",(function(){}));L.addColorEffect=null,L.greyMaterial=null,L.zombiePoisonColor=new l(255,255,255,255),L.zombiePerfumeColor=new l(255,255,255,255),L.zombiePF=new l(255,255,255,255),L.zombieHypno=new l(255,255,255,255),L.zombieSunAdd=new l(255,255,255,255),L.rewardColor=new l(255,255,255,255);e("MaterialsRes",(c=D("Materials"),s=H(u),g=H(b),m=H(l),f=H(l),y=H(l),z=H(l),d=H(l),w=H(l),P=H(l),c((F=n((_=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return n=e.call.apply(e,[this].concat(t))||this,o(n,"addColorEffect",F,r(n)),o(n,"greyMaterial",v,r(n)),o(n,"zombiePoison",M,r(n)),o(n,"zombiePerfume",A,r(n)),o(n,"zombiePF",S,r(n)),o(n,"zombieSunAdd",k,r(n)),n.rewardColor=new l(122,122,122,255),n.changing0_1=0,o(n,"hypnoGreen",E,r(n)),o(n,"hypnoPurple",G,r(n)),o(n,"hypnoPink",R,r(n)),n.hypnoColor=new l,n}i(n,e);var t=n.prototype;return t.update=function(e){L.zombiePF=new l(this.changing0_1*this.zombiePF.r,this.changing0_1*this.zombiePF.g,this.changing0_1*this.zombiePF.b,255),L.zombieSunAdd=new l(this.changing0_1*this.zombieSunAdd.r,this.changing0_1*this.zombieSunAdd.g,this.changing0_1*this.zombieSunAdd.b,255),L.rewardColor=new l(122+133*this.changing0_1,122+133*this.changing0_1,122+133*this.changing0_1,255),L.zombieHypno=this.hypnoColor},t.start=function(){var e=this,n=h(e).to(.7,{changing0_1:1}),i=h(e).to(.7,{changing0_1:0});n.then(i).clone(e).repeatForever().start(),e.hypnoColor=this.hypnoPink;h(e.hypnoColor).to(2,{r:e.hypnoPurple.r,g:e.hypnoPurple.g,b:e.hypnoPurple.b}).to(2,{r:e.hypnoGreen.r,g:e.hypnoGreen.g,b:e.hypnoGreen.b}).to(2,{r:e.hypnoPink.r,g:e.hypnoPink.g,b:e.hypnoPink.b}).clone(e.hypnoColor).repeatForever().start()},t.onLoad=function(){L.zombiePF=this.zombiePF,L.zombieSunAdd=this.zombieSunAdd,L.zombiePoisonColor=this.zombiePoison,L.zombiePerfumeColor=this.zombiePerfume,L.addColorEffect=this.addColorEffect,L.greyMaterial=this.greyMaterial},n}(p)).prototype,"addColorEffect",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(_.prototype,"greyMaterial",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(_.prototype,"zombiePoison",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),A=n(_.prototype,"zombiePerfume",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),S=n(_.prototype,"zombiePF",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),k=n(_.prototype,"zombieSunAdd",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),E=n(_.prototype,"hypnoGreen",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),G=n(_.prototype,"hypnoPurple",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),R=n(_.prototype,"hypnoPink",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),C=_))||C));t._RF.pop()}}}));

System.register("chunks:///_virtual/MechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Particles.ts"],(function(e){var i,t,n,a,o,s,c,p,h,l,r,m,u,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,p=e.AudioClip,h=e.Vec3},function(e){l=e.Zombie},function(e){r=e.sounds},function(e){m=e.ParticleSelfdestroy},function(e){u=e.instantiatePooly},function(e){d=e.particle}],execute:function(){var f,y,b,D,S,P,C;s._RF.push({},"2e4d8XhMYFEDJacGaQOmqTE","MechZombie",void 0);var M=c.ccclass,v=c.property;e("MechZombie",(f=M("MechZombie"),y=v(p),b=v(p),f((P=i((S=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,n(i,"activateSound",P,a(i)),n(i,"deactivateSound",C,a(i)),i._empCD=0,i.empPar=void 0,i.potatoMineDisappear=!1,i.mechDeathFadeInTime=.2,i}t(i,e);var s=i.prototype;return s.specialZombieOnEnable=function(){this.empCD=0,this.specialMechOnEnable()},s.specialMechOnEnable=function(){},s.specialAnimationListener=function(e){"mechStun"==e.name&&this.body.playAnimation("StunLoop",1/0),this.specialMechAnimationListener(e)},s.specialZombieOnLaneChange=function(e,i){this.empPar&&this.empPar.node.setParent(this.inLane.prjLayer,!0)},s.chilibeanFart=function(){},s.playSpecialZombieDieForced=function(){this.empCD=0,this.playSpecialMechDieForced()},s.playSpecialMechDieForced=function(){},s.onEmpStunStart=function(){},s.empStun=function(e){void 0===e&&(e=10),this.empCD<=0&&e>0&&(this.onEmpStunStart(),this.walking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),r.play(this.deactivateSound,1,.1)),this.empCD=this.empCD<e?e:this.empCD},s.specialZombieUpdate=function(e,i,t){this.empCD>0&&(this.empPar&&(r.playEmpSpark(),this.empPar.node.worldPosition=new h(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)),this.empCD-=e,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),r.play(this.activateSound,1,.1))),this.specialMechUpdate(e)},s.specialMechUpdate=function(e){},s.specialMechAnimationListener=function(e){},s.playSpecialZombieDie=function(e){this.judgeDeath(this.mechDeathFadeInTime),this.body.playAnimation(this.body.DeathAnm,1,this.mechDeathFadeInTime),this.playSpecialMechDie(e)},s.playSpecialMechDie=function(e){},s.specialZombieOnLoad=function(){this.specialMechZombieOnLoad()},s.specialMechZombieOnLoad=function(){},o(i,[{key:"empCD",get:function(){return this._empCD},set:function(e){if(e>0&&this.endSandStorm(),e>0&&this._empCD<=0){var i=u(d.empEffect());i.parent=this.node.parent;var t=i.getComponent(m);this.empPar=t,t.db.playAnimation("Idle1",1),i.worldPosition=new h(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)}else if(e<=0&&this._empCD>0){var n;null==(n=this.empPar)||null==(n=n.db)||n.playAnimation("Die"),this.empPar=null}this._empCD=e}}]),i}(l)).prototype,"activateSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(S.prototype,"deactivateSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=S))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MelonPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./CharacterManager.ts","./Square.ts"],(function(o){var n,t,e,a,i,s;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator},function(o){a=o.CabbagePultPlant},function(o){i=o.ZombiePool},function(o){s=o.Square}],execute:function(){var l;t._RF.push({},"1447fuRnBRGC7NKWgISnb2t","MelonPult",void 0);var r=e.ccclass;e.property,o("MelonPultPlant",r("MelonPultPlant")(l=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},e.csFunc=function(o){var n=this;this._dmgScale&&o.splashDamages_.forEach((function(o){o.splashDamage*=n._dmgScale}))},e.animationListener=function(o){var n=this;if("Lob"==o.name)this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null,this.soundRes.playLobSound();else if("foodLob0"==o.name){this.soundRes.playFoodSound();var t=s.getSquareWorldPosition(0,6,0,1).x,e=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>t&&(e++,n._lob(o.node,n.cabbageMega,!0,45))}));e<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!0,45),e++}else if("foodLob1"==o.name){this.soundRes.playFoodSound();var a=s.getSquareWorldPosition(0,4,0,1).x,l=s.getSquareWorldPosition(0,6,0,1).x,r=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>a&&o.node.worldPosition.x<l&&(r++,n._lob(o.node,n.cabbageMega,!0,45))}));r<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!0,45),r++}else if("foodLob2"==o.name){this.soundRes.playFoodSound();var d=s.getSquareWorldPosition(0,2,0,1).x,u=s.getSquareWorldPosition(0,4,0,1).x,c=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>d&&o.node.worldPosition.x<u&&(c++,n._lob(o.node,n.cabbageMega,!0,45))}));c<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!0,45),c++}else if("foodLob3"==o.name){this.soundRes.playFoodSound();var b=s.getSquareWorldPosition(0,2,0,1).x,g=0;for(i.pool().forEach((function(o){o.node.worldPosition.x<b&&(g++,n._lob(o.node,n.cabbageMega,!0,45))}));g<=4;)this._lobToNode(s.getRandomLnC().plantPoint,this.cabbageMega,!0,45),g++}else"foodEnd"==o.name&&(this.busy=0,this.foodEnd())},t}(a))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MeteorFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./LnC.ts","./SoundRescourses.ts"],(function(t){var n,i,e,o,a,r,s,h,l,u,c,d,m,f,g,p,y,w,b,v,S,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,h=t.Prefab,l=t.Vec2},function(t){u=t.Plant,c=t.PlantProps},function(t){d=t.CharacterType},function(t){m=t.commonShot},function(t){f=t.projectile},function(t){g=t.ZombiePool,p=t.TombPool},function(t){y=t.Square},function(t){w=t.NodePools,b=t.ArrayGet},function(t){v=t.TileLiquidEnum,S=t.TileType},function(t){A=t.sounds}],execute:function(){var P,C,L,R,_,M,k,O,T,E,I,D,j,F;a._RF.push({},"7d88eKrwBBEh6hUP4FKrg8v","MeteorFlower",void 0);var x=r.ccclass,z=r.property,B=t("meteorFlower",function(){function t(){}return t.throwOneMeteorOnPos=function(t,n,i,e,o,a,r){var s=i.clone().normalize().negative().multiplyScalar(a),h=a*e/i.length();t.parent=o;var u=t.getComponent(m);return u.worldPosition=new l(n.x+i.x,n.y+i.y),u.height=e,u.gravity=0,u.linearVelocity=s,u.bodyLinearVelocity=-h,f.registerProjectile(t,r),u},t.throwOneMeteorOnNode=function(t,n,i,e,o,a,r){return this.throwOneMeteorOnPos(t,n.worldPosition,i,e,o,a,r)},t}()),q=(P=x("meteorflowerSound"),C=z([s]),L=z([s]),P((M=n((_=function(){function t(){e(this,"igniteSound",M,this),e(this,"restSound",k,this)}var n=t.prototype;return n.playIgniteSound=function(){A.playArray(this.igniteSound,1,.1)},n.playRestSound=function(){A.playArray(this.restSound,1,.1)},t}()).prototype,"igniteSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(_.prototype,"restSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=_))||R),N=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).SecondMeteorMissChance=.35,n.MeteorCountOnce=2,n.RestTime=7,n.LavaDuration=10,n}return i(n,t),n}(c);t("MeteorFlowerPlant",(O=x("MeteorFlowerPlant"),T=z(h),E=z(q),O((j=n((D=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"meteor",j,o(n)),e(n,"soundRes",F,o(n)),n._objdataOwn=new N,n.awaken=!0,n.recovering=!0,n.resting=0,n.thrownAmount=0,n.busy=0,n.ignited=!1,n}i(n,t);var a=n.prototype;return a._throw=function(t){var n=this,i=w.instantiatePooly(this.meteor),e=B.throwOneMeteorOnPos(i,t.worldPosition,new l(10*-y.SquareDisW,0),700,this.inLane.prjLayer,20,d.default);e.setTileLiquid(v.softLava,this._objdataOwn.LavaDuration),this._dmgScale&&(e.setDamage(e.damage_*this._dmgScale),e.splashDamages_.forEach((function(t){t.splashDamage*=n._dmgScale})))},a.specialPlantFood=function(t){var n=this;this.resting=1/0,this.ignited=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playIgniteSound(),this.schedule((function(){g.inLawnPool().length>0?n._throw(b.getRandom(g.inLawnPool()).inLnC.plantPoint):n._throw(y.getRandomLnC().plantPoint)}),.3,5,.1),this.busy=1/0},a.specialPlantFoodEnd=function(){this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1),this.busy=1/0,this.awaken=!1,this.resting=this._objdataOwn.RestTime*this._cdScale,this.rest()},a.detectEnemy=function(){var t=null;(this.thrownAmount<=0||Math.random()<this._objdataOwn.SecondMeteorMissChance)&&(g.pool().length>0?g.pool().forEach((function(n){if(n.inLnC){var i,e=null==(i=n.inLnC)?void 0:i.getTileType();!n.isInLawn()||e!=S.floor&&e!=S.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}})):p.pool().length>0&&p.pool().forEach((function(n){if(n.inLnC){var i,e=null==(i=n.inLnC)?void 0:i.getTileType();e!=S.floor&&e!=S.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}}))),(t||this.thrownAmount>0)&&(this.thrownAmount>0&&(t||(t=y.getRandomLnC())),this._throw(t.node),this.thrownAmount++,this.busy=.5,this.thrownAmount>=this._objdataOwn.MeteorCountOnce&&this.rest())},a.rest=function(){this.busy=1/0,this.ignited=!1,this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1)},a.igniteStart=function(){this.resting=1/0,this.awaken=!1,this.anmControl.playAnimation("SummonStart",1)},a.ignite=function(){this.soundRes.playIgniteSound(),this.ignited=!0,this.busy=0,this.setAnimation(2)},a.recover=function(){this.awaken=!0,this.recovering=!1},a.setAnimation=function(t){var n=this.anmControl;switch(t){case 1:n.IdleAnim="Idle_Black",n.RandomAnim=[],this.deathAnm="Death_Black";break;case 2:n.IdleAnim="Summonning",n.RandomAnim=[],this.deathAnm="Death_Black";break;default:n.IdleAnim="Idle",n.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death"}},a.waterable=function(){return this.awaken&&this.resting<=0&&!this.ignited&&!this.recovering},a.animationListener=function(t){"summon"==t.name&&this.ignite(),"rest"==t.name&&(this.resting=this._objdataOwn.RestTime*this._cdScale),"recover"==t.name&&this.recover(),"foodEnd"==t.name&&this.foodEnd()},a.specialPlantOnEnable=function(){this.thrownAmount=0,this.busy=1/0,this.ignited=!1,this.resting=0,this.awaken=!0,this.recovering=!1,this.setAnimation(0),this.anmControl.playRandom()},a.specialPlantUpdate=function(t){if(this.foodable=g.inLawnPool().length>0,!this.dead&&!this.fooding&&(this.ignited&&(this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.detectEnemy())),this.resting>0&&(this.resting-=t),this.resting<=0&&!this.awaken&&!this.recovering&&(this.thrownAmount=0,this.recovering=!0,this.anmControl.playAnimation("Recover"),this.setAnimation(0)),this.awaken)){var n=!1;g.inLawnPool().forEach((function(t){var i;if(!n){var e=null==t||null==(i=t.inLnC)?void 0:i.getTileType();e!=S.floor&&e!=S.deck||(n=!0)}})),n&&this.igniteStart()}},n}(u)).prototype,"meteor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(D.prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),I=D))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissileToe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BananaLauncher.ts"],(function(e){var n,t,o,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.KeyCode},function(e){i=e.BananaLauncherPlant}],execute:function(){var s;t._RF.push({},"b0bd1cgazZJ+7i3Yreqlun5","MissileToe",void 0);var a=o.ccclass;o.property,e("MissileToePlant",a("MissileToePlant")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.LocateStartKeyCode=function(){return r.KEY_N},t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ModernAllstarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,r,a,c,s,l,u,h,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.CCFloat,s=e.AudioClip,l=e.Vec2,u=e.dragonBones},function(e){h=e.Zombie},function(e){p=e.sounds}],execute:function(){var d,b,f,y,R,S,g,m,P,v,D;r._RF.push({},"97617AVQ+JHOI5Rmbpth5JT","ModernAllstarZombie",void 0);var j=a.ccclass,k=a.property;e("AllstarZombie",(d=j("AllstarZombie"),b=k(c),f=k([s]),y=k([s]),R=k([s]),d((m=n((g=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"runningSpeedScale",m,o(n)),n.oldSPS=1,n.running=!0,i(n,"stepSound",P,o(n)),i(n,"kickSound",v,o(n)),i(n,"punchSound",D,o(n)),n}t(n,e);var r=n.prototype;return r.playSpecialZombieDeath=function(){this.running&&(this.running=!1,this.squarePerSec=this.oldSPS,this.setRandomSpeed())},r.specialAnimationListener=function(e){"step"==e.name?p.playArray(this.stepSound):"Kick"==e.name?p.playArray(this.kickSound,1,.1):"Punch"==e.name&&(this._punch(),p.playArray(this.punchSound,1,.1))},r._punch=function(){var e=this,n=null,t=null,i=null;if(this.hypno){var o=1/0;this.inLane.zombiePool().forEach((function(n){var i=n.bodyRec.prjX().x;i<o&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(t=n,o=i)})),o=1/0,this.inLane.tombPool().forEach((function(n){var t=n.bodyRec.prjX().x;t<o&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(i=n,o=t)}))}else{this.inLane.plantPool().concat().forEach((function(t){t.eaterDetectable&&(!n||t.bodyRec.prjX().y>n.bodyRec.prjX().y)&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(n=t)}));var r=-1/0;this.inLane.hypnoZombiePool().forEach((function(n){var i=n.bodyRec.prjX().y;i>r&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(t=n,r=i)}))}t?t.dealDamage(1200,!0,!0,!0,new l(10*(this.reversed?1:-1),0)):i?i.dealDamage(1200):n&&n.smash(this)},r.ignorePlants=function(){return this.switching},r.detectPlant=function(e){var n=this;if(this.inLane){if(!(e<=0||this.switching))if(this.running){var t=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)})),this.inLane.tombPool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)}))):(this.inLane.plantPool().forEach((function(e){t||e.eaterDetectable&&e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(t=!0)}))),t&&(this.running=!1,this.switching=!0,this.body.playAnimation("Punch",1),this.setSpeed(0,!1),this.db.once(u.EventObject.COMPLETE,(function(){n.switching=!1,n.dead||n.detectPlant(.01)}),this),this.body.WalkAnm="Walk",this.squarePerSec=this.oldSPS,this.setRandomSpeed())}else this.defaultDetectPlant(e)}else this.playWalk()},r.specialZombieOnLoad=function(){this.oldSPS=this.squarePerSec},r.specialZombieOnEnable=function(){this.body.WalkAnm="Run",this.walking=!1,this.running=!0,this.playWalk(),this.squarePerSec=this.oldSPS*this.runningSpeedScale,this.setRandomSpeed()},n}(h)).prototype,"runningSpeedScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),P=n(g.prototype,"stepSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(g.prototype,"kickSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(g.prototype,"punchSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=g))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBalloonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundsController.ts","./CharacterManager.ts","./LnC.ts","./Plant.ts","./levelController.ts"],(function(t){var e,i,o,n,l,a,s,h,d,r,c,u,b,y,p,m,f,S,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.Prefab,h=t.AudioClip,d=t.Vec2,r=t.dragonBones,c=t.AudioSource},function(t){u=t.zombieDamageType,b=t.Zombie},function(t){y=t.ArrayGet},function(t){p=t.SoundFXController},function(t){m=t.Rectangle},function(t){f=t.TileType},function(t){S=t.PlantType},function(t){P=t.LevelPlay}],execute:function(){var A,g,D,v,R,k,w,W,O,E,z,H,Z;l._RF.push({},"9def9SOGMtIJa/OMEnPblEO","ModernBalloonZombie",void 0);var x=a.ccclass,L=a.property;t("ModernBalloonZombie",(A=x("ModernBalloonZombie"),g=L(s),D=L(Number),v=L(h),R=L([h]),k=L([h]),A((O=e((W=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,o(e,"balloonZombieAshParticle",O,n(e)),o(e,"balloonToughness",E,n(e)),e.balloonHealth=270,o(e,"explodeSound",z,n(e)),e.oldPDW=0,e.detectPlantOff=!1,o(e,"bounceSound",H,n(e)),o(e,"steadySound",Z,n(e)),e.rosen=!1,e.oldIdleAnm="",e.oldEatAnm="",e.oldDeathAnm="",e.oldWalkAnm="",e.oldSPS=1,e}i(e,t);var l=e.prototype;return l.extraHealth=function(){return this.balloonHealth},l.destroyBalloon=function(){this.balloonHealth>0&&(this.explode(),this.balloonHealth=0)},l.haveBalloon=function(){return this.balloonHealth>0},l.detectPlant=function(t){this.inLane?this.balloonHealth>0?this.haveBalloonDetectPlant(t):this.defaultDetectPlant(t):this.playWalk()},l.haveBalloonDetectPlant=function(t){var e;if(0!=t&&this.detectPlantOn()){var i=this.plantDetectorRec,o=null,n=null,l=null;if(!this.ignorePlants())if(this.hypno){var a=1/0;this.inLane.zombiePool().forEach((function(t){var e=t.bodyRec.prjX().x;e<a&&t.bodyRec.judgeCrossRec(i)&&(a=e,n=t)})),a=1/0,this.inLane.tombPool().forEach((function(t){var e=t.bodyRec.prjX().x;e<a&&t.bodyRec.judgeCrossRec(i)&&(a=e,l=t)}))}else{var s=!1;this.inLane.plantPool().forEach((function(t){if(t.eaterDetectable&&!t.short_&&i.judgeCrossRec(t.bodyRec)){if(s)return;o&&t.plantType!=S.vine&&t.plantType!=S.plant&&t.plantType!=S.lilyPad&&t.plantType!=S.pot||s||(o=t,s=t.tall_)}}));var h=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;e>h&&t.bodyRec.judgeCrossRec(i)&&(h=e,n=t)}))}null!=(e=o)&&e.tall_||n||l?this.rosen?this.unrise():(n?n.dealDamage(this.dps*t,!0,!1,!1,null):l?l.dealDamage(this.dps*t):o&&o.eat(this.dps*t,this),this.playEat(t)):o&&!o.tall_?this.rosen||this.rise():this.rosen?this.unrise():this.playWalk()}},l.dealDamage=function(t,e,i,o,n,l,a){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===n&&(n=null),void 0===l&&(l=0),void 0===a&&(a=!0);var s=0,h=this.totalHealth();return l==u.fire&&(this.freeze=0,this.chill=0),this.balloonHealth>0&&e&&(t&&(this.hurting=10),this.pushSunBeanHealth(Math.min(t,this.balloonHealth)),this.balloonHealth-=t*P.zombieDamageReceiveScale,this.balloonHealth<=0&&(s=-this.balloonHealth,!this.dead&&!this.fallingInSky&&h>t&&this.explode())),(this.balloonHealth<=0||!e)&&this.dealNormalDamage(t+s,e,i,o,n,l,a),this.health},l.specialSetBodyRec=function(){var t=null;t=this.balloonHealth>0?m.createRectangleCenter(new d(this.shadeSocket.worldPosition.x-10,this.node.worldPosition.y+this.bodyRecOffset.y),90,this.bodyRecSize.height):m.createRectangleCenter(new d(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x,this.node.worldPosition.y+this.bodyRecOffset.y),this.bodyRecSize.width,this.bodyRecSize.height),this.bodyRec=t},l.specialOnLeapEnd=function(t){this.detectPlantOff=!1},l.detectPlantOn=function(){return!this.detectPlantOff&&!this.switching},l.specialZombieOnLanding=function(){this.zombieAshParticle_=this.zombieAshParticle,this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.body.DeathAnm="Death"},l.specialZombieOnDisable=function(){this.zombieAshParticle_=this.balloonZombieAshParticle,this.body.DeathAnm=this.oldDeathAnm,this.body.EatAnm=this.oldEatAnm,this.body.IdleAnm=this.oldIdleAnm,this.body.WalkAnm=this.oldWalkAnm},l.specialAnimationListener=function(t){"walk"==t.name?(this.switching=!1,this.detectPlantOff=!1,this.isAlive()&&this.playWalk()):"steady"==t.name?this.playOneShot(y.getRandom(this.steadySound),1,!0):"bounce"==t.name&&this.playOneShot(y.getRandom(this.bounceSound),1,!0)},l.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_Fly_High",this.correctShadeWP())},l.unrise=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Unrise",1),this.body.WalkAnm="Walk_Fly",this.rosen=!1,this.plantDetectorRecSize.width=this.oldPDW,this.correctShadeWP())},l.specialZombieOnEnable=function(){this.squarePerSec=2*this.oldSPS,this.setRandomSpeed(2*this.oldSPS),this.plantDetectorRecSize.width=this.oldPDW,this.detectPlantOff=!1,this.balloonHealth=this.balloonToughness,this.zombieAshParticle_=this.balloonZombieAshParticle,this.rosen=!1,this.body.WalkAnm="Walk_Fly",this.walking=!1,this.playWalk()},l.specialZombieOnLoad=function(){this.oldDeathAnm=this.body.DeathAnm,this.oldEatAnm=this.body.EatAnm,this.oldIdleAnm=this.body.IdleAnm,this.oldWalkAnm=this.body.WalkAnm,this.oldSPS=this.squarePerSec,this.oldPDW=this.plantDetectorRecSize.width},l.playSpecialZombieDeath=function(){var t;"Death"==this.body.DeathAnm&&(null==(t=this.inLnC)?void 0:t.getTileType())==f.sky&&this.playFall()},l.playSpecialZombieDie=function(t){"Death_Fly"==this.body.DeathAnm&&this.judgeDeath(),this.currentFlyZombie&&this.playExplodeSound()},l.explode=function(){var t=this;this.plantDetectorRecSize.width=this.oldPDW,this.balloonHealth=0,this.playExplodeSound(),this.detectPlantOff=!0,this.body.playAnimation("Land",1),this.setSpeed(0,!1),this.body.IdleAnm="Idle",this.body.DeathAnm="Death",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.squarePerSec=this.oldSPS,this.setRandomSpeed(this.oldSPS),this.switching=!0,this.db.once(r.EventObject.COMPLETE,(function(e){t.isAlive()&&(t.playWalk(),t.detectPlantOff=!1,t.switching=!1)}),this)},l.playExplodeSound=function(){this.explodeSound.length&&this.getComponent(c).playOneShot(y.getRandom(this.explodeSound),p.SoundFXVolume)},e}(b)).prototype,"balloonZombieAshParticle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(W.prototype,"balloonToughness",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 270}}),z=e(W.prototype,"explodeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(W.prototype,"bounceSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(W.prototype,"steadySound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=W))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBobsledTeamZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./LnC.ts"],(function(e){var i,n,t,a,o,s,r,l,h,c,p,u,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Node,l=e.Vec2},function(e){h=e.zombieDamageType,c=e.Zombie},function(e){p=e.zombies,u=e.ZombieEnum},function(e){d=e.TileType}],execute:function(){var m,f,b,y,g;o._RF.push({},"2e6f3D4iVJG7pvFJrCFh9W6","ModernBobsledTeamZombie",void 0);var v=s.ccclass,T=s.property;e("BobsledZombieTeamZombie",(m=v("BobsledZombieTeamZombie"),f=T([r]),m((g=i((y=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,t(i,"spawnPoints",g,a(i)),i.innerToughness=190,i.innerHealth=190,i.spedUp=!1,i.haveInner=!0,i}n(i,e);var o=i.prototype;return o.dealDamage=function(e,i,n,t,a,o,s){if(void 0===e&&(e=0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===t&&(t=!0),void 0===a&&(a=null),void 0===o&&(o=h.physicle),void 0===s&&(s=!0),this.health<this.toughness/2){var r=this.body.body.armature();["front","mid","back","knifeL_here","wingR"].forEach((function(e){r.getSlot(e).displayIndex=1}))}return i||(this.innerHealth-=e,this.innerHealth<=0&&(this.playDie(!0),this.judgeDeath(),this.spawnTeam().forEach((function(e){e.dealDamage(e.toughness+100,!1,n,t,a,o,s)})))),this.dealNormalDamage(e,i,n,t,a,o,s)},o.ignorePlants=function(){return!0},o.specialZombieOnSquareChange=function(e,i){9==i.cIndex||this.spedUp||(this.randomSpeed*=2,this.spedUp=!0,this.body.playAnimation("Jump",1),this.body.WalkAnm="Walk"),i.iceTile||9==i.cIndex||i.getTileType()!=d.sea&&i.getTileType()!=d.sky&&this.playDie(!1,null,!0,h.physicle,!1,!1,!1)},o.spawnTeam=function(){var e=this;if(!this.haveInner)return[];this.haveInner=!1;var i=[];return this.spawnPoints.forEach((function(n){var t=p.getZombie(u.modern_bobSled);t.parent=e.inLane.zombieLayer;var a=t.getComponent(c);a.worldPosition=new l(n.worldPosition.x,e.inLane.floorY),a.copyBuff(e),i.push(a)})),i},o.playSpecialZombieDeath=function(){this.body.WalkAnm="WalkPush"},o.specialZombieOnEnable=function(){this.spedUp=!1,this.haveInner=!0;var e=this.body.body.armature();this.body.WalkAnm="WalkPush",this.walking=!1,this.playWalk(),this.innerHealth=this.innerToughness,["front","mid","back","knifeL_here","wingR"].forEach((function(i){e.getSlot(i).displayIndex=0}))},o.specialAnimationListener=function(e){var i=this;"spawnTeam"==e.name&&this.spawnTeam().forEach((function(e){e.dealDamage(e.toughness-i.innerHealth,!1,!1,!1,null,h.physicle,!1)}))},o.playSpecialZombieDie=function(e){this.judgeDeath()},i}(c)).prototype,"spawnPoints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/ModernCatapultZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CabbagePult.ts","./NodePools.ts","./Character.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var e,t,i,n,a,l,s,r,d,b,u,c,h,y,p,f,g,P;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized,a=o.createClass},function(o){l=o.cclegacy,s=o._decorator,r=o.Prefab,d=o.Node,b=o.AudioClip,u=o.Vec3},function(o){c=o.zombieDamageType,h=o.Zombie},function(o){y=o.cabbagePult},function(o){p=o.NodePools},function(o){f=o.CharacterType},function(o){g=o.Square},function(o){P=o.sounds}],execute:function(){var m,w,R,v,C,L,j,I,S,k,x,X,D;l._RF.push({},"0ffd72fmV9B2LOjgYeSzq6+","ModernCatapultZombie",void 0);var E=s.ccclass,z=s.property;o("CatapultZombie",(m=E("CatapultZombie"),w=z(r),R=z(d),v=z([b]),C=z(Number),L=z(Number),m((S=e((I=function(o){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return(e=o.call.apply(o,[this].concat(a))||this).busy=240,i(e,"basketballPrj",S,n(e)),i(e,"baskeballSpawnPoint",k,n(e)),i(e,"lobSound",x,n(e)),i(e,"lobInterval",X,n(e)),i(e,"maxBallCount",D,n(e)),e.ballCount=20,e.potatoMineDisappear=!1,e}t(e,o);var l=e.prototype;return l.playSpecialZombieDie=function(o){this.judgeDeath()},l.specialZombieOnEnable=function(){var o=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(e){o.getSlot(e).displayIndex=0})),this.busy=0,this.ballCount=this.maxBallCount,this.judgeBallCount()},l.detectPlant=function(o){var e=this;this.inLane?o<=0||(this.hypno?(this.walking&&this.inLane.zombiePool().forEach((function(t){t.bodyRec.judgeCrossRec(e.bodyRec)&&t.dealDamage(e.dps*o,!0,!1,!1,null)})),this.walking&&this.inLane.tombPool().forEach((function(t){t.bodyRec.judgeCrossRec(e.bodyRec)&&t.dealDamage(e.dps*o)}))):(this.inLane.plantPool().forEach((function(o){o.smasherDetectable&&e.bodyRec.judgeCrossRec(o.bodyRec)&&o.smash(e)})),this.walking&&this.inLane.hypnoZombiePool().forEach((function(t){t.bodyRec.judgeCrossRec(e.bodyRec)&&t.dealDamage(e.dps*o,!0,!1,!1,null)})))):this.playWalk()},l.judgeBallCount=function(){var o=this.body.body.armature();switch(["ball1","ball2","ball3","ball4","ball5","ballReady"].forEach((function(e){o.getSlot(e).displayIndex=0})),this.ballCount){case 0:o.getSlot("ball5").displayIndex=o.getSlot("ballReady").displayIndex=-1;case 1:o.getSlot("ball4").displayIndex=-1;case 2:o.getSlot("ball2").displayIndex=-1;case 3:o.getSlot("ball3").displayIndex=-1;case 4:o.getSlot("ball1").displayIndex=-1}},l.specialAnimationListener=function(o){var e=this;if("Lob"==o.name&&!this.dead){this.ballCount--,this.judgeBallCount();var t=null,i=null;if(this.hypno){var n=-1/0;this.inLane.tombPool().forEach((function(o){var i=o.bodyRec.prjX().y;i>n&&o.worldPositionX>e.worldPositionX&&!o.hidden&&(t=o.node,n=i)})),this.inLane.zombiePool().forEach((function(o){var a=o.bodyRec.prjX().x;a>n&&o.worldPositionX>e.worldPositionX&&(i=o,t=null,n=a)}))}else{var a=1/0;this.inLane.plantPool().forEach((function(o){var i=o.bodyRec.prjX().x;i<a&&o.worldPositionX<e.worldPositionX&&!o.short_&&(t=o.node,a=i)})),this.inLane.hypnoZombiePool().forEach((function(o){var n=o.bodyRec.prjX().x;n<a&&o.worldPositionX<e.worldPositionX&&(i=o,t=null,a=n)}))}(!t||t.worldPosition.x>this.node.worldPosition.x)&&(t=this.reversed?this.inLane.toRight:this.inLane.toLeft);var l=p.instantiatePooly(this.basketballPrj),s=this.hypno?f.zombie:f.plant;i?y.lobOneCabbageOnZombie(l,new u(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY,0),this.baskeballSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,i,2,s,!1):t&&y.lobOneCabbageOnNode(l,new u(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY,0),this.baskeballSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,t,2,s,!1),this.lobSound.length&&P.playArray(this.lobSound,1,.5)}"toIdle"==o.name&&this.playIdle()},l.dealDamage=function(o,e,t,i,n,a,l){if(void 0===o&&(o=0),void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===a&&(a=c.physicle),void 0===l&&(l=!0),this.health<this.toughness/2){var s=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(o){s.getSlot(o).displayIndex=1}))}return this.dealNormalDamage(o,e,t,i,n,a,l)},l.playLob=function(){this.playIdle();var o=.03*Math.round(5*Math.random())*(this.lobInterval/4);this.busy=this.lobInterval+o,this.body.playAnimation("Lob",1)},l.judgeCharacterIsInRange=function(o){return this.reversed&&o>this.worldPositionX||!this.reversed&&o<this.worldPositionX},l.detectLobPlant=function(){var o=this;if(this.inLane)if(this.worldPositionX>g.getSquareWorldPosition(0,7).x)this.playWalk();else{var e=!1;this.hypno?(this.inLane.zombiePool().forEach((function(t){e||o.judgeCharacterIsInRange(t.worldPositionX)&&!t.bodyRec.judgeCrossRec(o.bodyRec)&&(e=!0)})),this.inLane.tombPool().forEach((function(t){e||o.judgeCharacterIsInRange(t.worldPositionX)&&!t.bodyRec.judgeCrossRec(o.bodyRec)&&(e=!0)}))):(this.inLane.plantPool().forEach((function(t){e||t.eaterDetectable&&!t.short_&&o.judgeCharacterIsInRange(t.worldPositionX)&&!o.bodyRec.judgeCrossRec(t.bodyRec)&&(e=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){e||o.judgeCharacterIsInRange(t.worldPositionX)&&!t.bodyRec.judgeCrossRec(o.bodyRec)&&(e=!0)}))),e&&this.ballCount?this.playLob():this.playWalk()}},l.specialZombieUpdate=function(o,e,t){this.busy>0&&(this.busy-=o),this.busy<=0&&(this.busy=0,this.isAlive()&&this.detectLobPlant())},a(e,[{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(o){this._plantDetectorRec=o}}]),e}(h)).prototype,"basketballPrj",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"baskeballSpawnPoint",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"lobSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(I.prototype,"lobInterval",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),D=e(I.prototype,"maxBallCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),j=I))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/moldSquare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var t,n,r,i,l,o,a,c,u,d,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.AudioClip},function(e){c=e.Character},function(e){u=e.TileType},function(e){d=e.sounds},function(e){s=e.LevelPlay}],execute:function(){var p,h,y,f,I;l._RF.push({},"1a2acZ+Dp5KYJ/BKSYxUCPZ","moldSquare",void 0);var m=o.ccclass,b=o.property;e("moldSquare",(p=m("moldSquare"),h=b(a),p((I=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).currentIdleMode=0,t.IdleAnm="Idle",r(t,"celebrateSound",I,i(t)),t}n(t,e);var l=t.prototype;return l.characterOnTileTypeChange=function(e,t){t==u.sky||t==u.water||t==u.sea?this.IdleAnm="Idle_Floating":this.IdleAnm="Idle",this.playIdle()},l.characterOnEnable=function(){this.currentIdleMode=0},l.playIdle=function(){0!=this.currentIdleMode&&(this.db.playAnimation(this.IdleAnm,1/0),this.currentIdleMode=0)},l.playHide=function(){1!=this.currentIdleMode&&(this.db.playAnimation("Hide",1),this.currentIdleMode=1)},l.playCelecbrate=function(){var e;2!=this.currentIdleMode&&(this.db.playAnimation("Victory",1),this.currentIdleMode=2),d.play(this.celebrateSound,1,null==(e=this.celebrateSound)?void 0:e.getDuration())},l.update=function(e){s.component.gameWon&&this.playCelecbrate()},t}(c)).prototype,"celebrateSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuBasicZombie.ts"],(function(o){var i,e,n,c;return{setters:[function(o){i=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){c=o.KongfuBasicZombie}],execute:function(){var t;e._RF.push({},"bced7VW0x9GPqj0gSQAIFl/","MonkBasicZombie",void 0);var s=n.ccclass;n.property,o("MonkBasicZombie",s("MonkBasicZombie")(t=function(o){function e(){return o.apply(this,arguments)||this}return i(e,o),e}(c))||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBladeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var t,i,a,o,n,s,r,l,c,h,d,u,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,c=e.Prefab,h=e.Vec3,d=e.Vec2},function(e){u=e.Zombie},function(e){b=e.sounds}],execute:function(){var p,f,y,m,R,g,v,D,B;s._RF.push({},"fac72t/BitBs5c9bZLvDbwF","MonkBladeZombie",void 0);var j=r.ccclass,L=r.property;e("MonkBladeZombie",(p=j("MonkBladeZombie"),f=L([l]),y=L([l]),m=L(c),p((v=t((g=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,a(t,"swingSounds",v,o(t)),a(t,"hitSounds",D,o(t)),t._haveBlade=!0,t.bladeSlots=[],a(t,"bladeDrop",B,o(t)),t}i(t,e);var s=t.prototype;return s.specialZombieOnLoad=function(){var e=this;this.body.body.armature().getSlots().forEach((function(t){t.name.includes("BLADE")&&e.bladeSlots.push(t)}))},s.specialZombieOnEnable=function(){this.haveBlade=!0},s.specialMagnetedObject=function(){if(!this.haveBlade)return null;var e=this.drop(this.bladeDrop,this.zombieHeight+this.height,new h(this.worldPositionX+10,this.worldPositionY,10),new d(0,0),this.inLane.prjLayer,0);return this.haveBlade=!1,e},s.specialAnimationListener=function(e){"hit"==e.name?this.haveBlade&&(this.isAlive()&&this._hit(),b.playArray(this.hitSounds)):"swing"==e.name&&this.haveBlade&&b.playArray(this.swingSounds)},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0))if(this.haveBlade){var i=!1;this.hypno?(this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.tombPool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),i?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Attack",1,.1)):this.playWalk()}else this.defaultDetectPlant(e)}else this.playWalk()},s._hit=function(){var e,t=this,i=null,a=null,o=null;if(this.hypno){var n=1/0;this.inLane.zombiePool().forEach((function(e){var i=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i<n&&(a=e,n=i)})),this.inLane.tombPool().forEach((function(e){var i=e.bodyRec.prjX().x;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i<n&&(o=e,n=i)}))}else{this.inLane.plantPool().forEach((function(e){(e.eaterDetectable||e.smasherDetectable)&&e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&(!i||i.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(i=e)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(e){var i=e.bodyRec.prjX().y;e.bodyRec.judgeCrossRec(t.plantDetectorRec)&&i>s&&(a=e,s=i)}))}a?a.dealDamage(this.objdata.BladeDamage,!0,!0,!0,null):i?null==(e=i)||e.dealDamage(this.objdata.BladeDamage,0):o&&o.dealDamage(this.objdata.BladeDamage)},n(t,[{key:"haveBlade",get:function(){return this._haveBlade},set:function(e){this._haveBlade=e,this.plantDetectorRecOffset.x=e?-32:0,this.bladeSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(u)).prototype,"swingSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(g.prototype,"hitSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(g.prototype,"bladeDrop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=g))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/MonkNunchakuZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuHammerZombie.ts","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var n,e,o,a,i,l,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.KongfuHammerZombie},function(t){i=t.PlantType},function(t){l=t.sounds},function(t){s=t.ArrayGet}],execute:function(){var r;e._RF.push({},"08eafK/zMlKLKahzFZOlJ/i","MonkNunchakuZombie",void 0);var c=o.ccclass;o.property,t("MonkNunchakuZombie",c("MonkNunchakuZombie")(r=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.detectPlant=function(t){var n=this;if(this.inLane){if(0!=t&&this.detectPlantOn()){var e=this.plantDetectorRec,o=null,a=null,l=null;if(!this.ignorePlants())if(this.hypno){var s=1/0;this.inLane.zombiePool().forEach((function(t){var n=t.bodyRec.prjX().x;n<s&&e.judgeCrossRec(t.bodyRec)&&(s=n,a=t)})),s=1/0,this.inLane.tombPool().forEach((function(t){var n=t.bodyRec.prjX().x;n<s&&t.bodyRec.judgeCrossRec(e)&&(s=n,l=t)}))}else{var r,c;null==(r=this.inLane)||r.plantPool().forEach((function(t){(t.eaterDetectable&&n.plantEatAllowed(t)||n.plantEatExtraAllowed(t))&&e.judgeCrossRec(t.bodyRec)&&(o&&t.plantType!=i.vine&&t.plantType!=i.plant&&t.plantType!=i.lilyPad&&t.plantType!=i.pot||(o=t))}));var u=-1/0;null==(c=this.inLane)||c.hypnoZombiePool().forEach((function(t){var n=t.bodyRec.prjX().y;n>u&&e.judgeCrossRec(t.bodyRec)&&(u=n,a=t)}))}a?(a.dealDamage(this.dps*t,!0,!1,!1,null),this.playEat(t)):l?(l.dealDamage(this.dps*t),this.playEat(t)):o?(this.walking=!1,this.body.playAnimation("Throw",1),this.correctShadeWP(),this.switching=!0):this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}}else this.playWalk()},o.hammerZombieAnimationListenerAdd=function(t){var n=this;if("Hit"==t.name){if(!this.hypno){var e,o=null;null==(e=this.inLane)||null==(e=e.plantPool())||e.forEach((function(t){o||t.eaterDetectable&&n.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(o=t)})),o&&(o.plantInLnC.getAllPlants().forEach((function(t){t.throwAway(!n.reversed,n)})),l.play(s.getRandom(this.hitSounds),.5,.1))}}else"Air"==t.name&&l.play(this.rotateSound,1,.1)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/MonkTorchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptExplorerZombie.ts","./SoundRescourses.ts"],(function(t){var e,o,n,r,i,c,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,l=t.AudioClip},function(t){a=t.EgyptExplorerZombie},function(t){u=t.sounds}],execute:function(){var s,h,d,p,f;i._RF.push({},"0ecd6ICj3FAtKSQc8LGy4rO","MonkTorchZombie",void 0);var y=c.ccclass,b=c.property;t("MonkTorchZombie",(s=y("MonkTorchZombie"),h=b(l),s((f=e((p=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))||this).rotateSlots=[],n(e,"torchIdleSound",f,r(e)),e}o(e,t);var i=e.prototype;return i.setTorchIgniteRecs=function(t){this.plantDetectorRecSize.width=t?90:48,this.bodyRecSize.width=t?90:48},i.specialTorchZombieOnIgnited=function(){this.rotateSlots.forEach((function(t){var e;null==t||null==(e=t.childArmature)||null==(e=e.animation)||e.play("idle",1/0)}))},i.specialTorchZombieOnLoad=function(){var t,e=this;null==(t=this.body.body.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_RO")&&e.rotateSlots.push(t)}))},i.judgePlantCanBeBurnt=function(t){return!t.dead&&t.smasherDetectable},i.playTorchIdleSound=function(t){t>0&&u.play(this.torchIdleSound,1,.42*t*60)},e}(a)).prototype,"torchIdleSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Moonflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Sunflower.ts","./levelController.ts","./SoundRescourses.ts"],(function(n){var t,o,i,e,r,u,a,l,s,d,c,h,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,a=n.AudioClip,l=n.Node,s=n.dragonBones},function(n){d=n.Plant},function(n){c=n.sunflower,h=n.SunflowerProps},function(n){p=n.LevelPlay},function(n){f=n.sounds}],execute:function(){var y,S,w,b,P,g,m,C,v,L,M,_,O,A,E,D;r._RF.push({},"a5837CPhDZPG509d3lamA2k","Moonflower",void 0);var j=u.ccclass,k=u.property,R=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).SunValueList=[25,50,75,100],t}return o(t,n),t}(h),F=(y=j("moonflowerSound"),S=k([a]),w=k([a]),b=k([a]),y((m=t((g=function(){function n(){i(this,"foodSound",m,this),i(this,"produceSound",C,this),i(this,"saySound",v,this)}var t=n.prototype;return t.playFoodSound=function(){f.playArray(this.foodSound,1,.1)},t.playProduceSound=function(){f.playArray(this.produceSound,1,.1)},t.playSaySound=function(){f.playArray(this.saySound,1,.1)},n}()).prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(g.prototype,"produceSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(g.prototype,"saySound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=g))||P);n("MoonflowerPlant",(L=j("MoonflowerPlant"),M=k(F),_=k(l),L((E=t((A=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return t=n.call.apply(n,[this].concat(r))||this,i(t,"soundRes",E,e(t)),t._objdataOwn=new R,t.sunValue=50,i(t,"sunSpawnpoint",D,e(t)),t.producing=!1,t.busy=0,t}o(t,n);var r=t.prototype;return r.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},r.playProduceAnimation=function(){this.soundRes.playSaySound(),this.producing=!0,this.setCD(this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional),this.anmControl.playAnimation("Produce",1,.1,Math.max(1,1/this.busy))},r.judgeDarkPlantMode=function(){var n,t,o,i,e,r,u,a,l=this._objdataOwn.SunValueList.length,s=0;[null==(n=this.inLnC)||null==(n=n.upper)?void 0:n.lefter,null==(t=this.inLnC)?void 0:t.upper,null==(o=this.inLnC)||null==(o=o.upper)?void 0:o.righter,null==(i=this.inLnC)?void 0:i.lefter,this.inLnC,null==(e=this.inLnC)?void 0:e.righter,null==(r=this.inLnC)||null==(r=r.lower)?void 0:r.lefter,null==(u=this.inLnC)?void 0:u.lower,null==(a=this.inLnC)||null==(a=a.lower)?void 0:a.righter].forEach((function(n){s>=l||null==n||n.getAllPlants().forEach((function(n){s>=l||null!=n&&n.haveDarkMode&&s++}))})),this.sunValue=this._objdataOwn.SunValueList[s-1],s>=l&&!this.darkModeOn?(this.darkModeOn=!0,this._darkSlots.forEach((function(n){n.displayIndex=1}))):s<l&&this.darkModeOn&&(this.darkModeOn=!1,this._darkSlots.forEach((function(n){n.displayIndex=0})))},r.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",1),this.anmControl.body.once(s.EventObject.COMPLETE,this.foodEnd,this)},r.waterable=function(){return!this.producing},r.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(23.5+1.5*Math.random()),this.anmControl.playRandom()},r.specialPlantOnDisable=function(){},r._produce=function(){this.producing=!1,c.produceSun(this.sunValue,this.node.worldPosition,this.sunSpawnpoint.getWorldPosition().y-this.node.getWorldPosition().y)},r.animationListener=function(n){"Produce"==n.name?this._produce():"foodEnd"==n.name?this.foodEnd():"produceSound"==n.name&&this.soundRes.playProduceSound()},r.onObjdataSet=function(n,t){this.setCD(t.ProduceCountdownStart+Math.random()*t.ProduceCountdownStartAdditional)},r.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional)},r.specialPlantUpdateForce=function(n){var t;null==(t=this.inLnC)||t.get3x3().forEach((function(t){null==t||t.setShadowBuff(20*n)}))},r.specialPlantUpdate=function(n){p.component.ExcludeListSunProducers||(this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation())},t}(d)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),D=t(A.prototype,"sunSpawnpoint",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=A))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./CharacterManager.ts"],(function(e){var n,o,t,i,s,u,r,l,c,a,p,h,d,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,r=e._decorator,l=e.Node,c=e.Vec2,a=e.Vec3,p=e.EventMouse,h=e.Component},function(e){d=e.LevelPlay},function(e){f=e.LineSegment}],execute:function(){var v,y,M,L,T,g;u._RF.push({},"d46dfCpSdtH1LPKAG1TjdAv","Mouse",void 0);var m=r.ccclass,_=r.property;e("Mouse",(v=m("Mouse"),y=_({type:l}),v(((g=function(e){function n(){for(var n,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=e.call.apply(e,[this].concat(s))||this,t(n,"mouse",T,i(n)),n}o(n,e);var u=n.prototype;return u.onLoad=function(){this.node.on(l.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(l.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(l.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(l.EventType.MOUSE_UP,(function(e){n.followingCart=null}),this)},u.onMouseMove=function(e){var o=e.getUILocationX(),t=e.getUILocationY(),i=this.mouse.worldPosition.clone(),s=new a(o,t,0),u=new c(s.x-i.x,s.y-i.y);n.moveLine=f.createLineLenDir(new c(i.x,i.y),u.length(),u),this.mouse.worldPosition=s,n._position=new c(s.x,s.y)},u.onMouseDown=function(e){e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},u.onMouseUp=function(e){e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},s(n,null,[{key:"position",get:function(){var e,n,o=this._position.clone();return null!=(e=d.component)&&e.enabled&&null!=(n=d.component)&&null!=(n=n.node)&&n.isValid&&o.add2f(d.component.uiPos.x,d.component.uiPos.y),o}}]),n}(h)).moveLine=f.createLineLenDir(new c,0),g._position=new c,g.mouseInL=-2,g.mouseInC=-2,g.mouseInLnC=null,g.followingCart=null,T=n((L=g).prototype,"mouse",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=L))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/MouseBlocker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,s,n,i;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,n=o.Node,i=o.Component}],execute:function(){var h;t._RF.push({},"6759f/q5pdJKKx/AsJy9qhk","MouseBlocker",void 0);var c=s.ccclass;s.property,o("MouseBlocker",c("MouseBlocker")(h=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var s=t.prototype;return s.blockMouse=function(){},s.onLoad=function(){this.node.on(n.EventType.MOUSE_DOWN,this.blockMouse,this),this.node.on(n.EventType.MOUSE_UP,this.blockMouse,this),this.node.on(n.EventType.MOUSE_MOVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_LEAVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_ENTER,this.blockMouse,this),this.node.on(n.EventType.MOUSE_WHEEL,this.blockMouse,this),this.node.on(n.EventType.TOUCH_START,this.blockMouse,this),this.node.on(n.EventType.TOUCH_END,this.blockMouse,this),this.node.on(n.EventType.TOUCH_MOVE,this.blockMouse,this),this.node.on(n.EventType.TOUCH_CANCEL,this.blockMouse,this)},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/NodePools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,o,e,r;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n.NodePool,r=n.instantiate}],execute:function(){n({destroyNodeArrayPooly:function(n){u.destroyNodeArrayPooly(n)},destroyPooly:function(n){u.destroyPooly(n)},instantiatePooly:function(n){return u.instantiatePooly(n)}}),o._RF.push({},"31320HlOCRDn6eRO4jkrUAQ","NodePools",void 0);n("PvZ2Object",function(){function n(){this.objdata={},this.objclass="",this.aliases=[]}return n.getObjects=function(n,t){var o=[];return t.forEach((function(t){-1!=t.aliases.indexOf(n)&&o.push(t)})),o},n.getObjectsByRTID=function(n){if(!n.includes("RTID"))return[];n.concat().slice(5,n.length-2)},n}()),n("ArrayGet",function(){function n(){}return n.getRandom=function(n){if(n)return n[Math.floor(Math.random()*n.length)]},n.randomize=function(n){return null!=n&&n.length?n.sort((function(){return.5-Math.random()})):[]},n.getMin=function(n,t){if(n[0]&&!isNaN(n[0][t])){var o=1/0,e=null;return n.forEach((function(n){n[t]<o&&(e=n,o=n[t])})),e}return null},n.getMinByProps=function(n,t){var o=n[0];if(t.forEach((function(n){o[n]&&(o=o[n])})),n[0]&&!isNaN(o)){var e=1/0,r=null;return n.forEach((function(n){var o=n;t.forEach((function(n){o[n]&&(o=o[n])})),o<e&&(r=n,e=o)})),r}return null},n.sort=function(n,t){if(!n.length)return[];if(n[0]&&!isNaN(n[0][t])){for(var o=[],e=n.concat();e[0];){var r=this.getMin(e,t),i=e.indexOf(r);e.splice(i,1),r&&o.push(r)}return o}return[]},n.sortByProps=function(n,t){if(!n.length)return[];var o=n[0];if(t.forEach((function(n){o[n]&&(o=o[n])})),n[0]&&!isNaN(o)){for(var e=[],r=n.concat();r[0];){var i=this.getMinByProps(r,t),u=r.indexOf(i);r.splice(u,1),i&&e.push(i)}return e}return[]},n.judgeSame=function(n,t){return n.length===t.length&&!n.some((function(n){return-1===t.indexOf(n)}))},n}());var i=n("NodePoolExtend",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).name="",t}return t(o,n),o}(e)),u=n("NodePools",function(){function n(){}return n.Instance=function(){return n.instance||(n.instance=new n),n.instance},n.clonePooly=function(t){for(var o=null,e=n.nodePools,i=0;i<e.length;i++)if(e[i].size()>0&&e[i].name==t.name&&(o=e[i].get()))return o;return o=r(t)},n.instantiatePooly=function(t){for(var o=null,e=n.nodePools,i=0;i<e.length;i++)if(e[i].size()>0&&e[i].name==t.name&&(o=e[i].get()))return o;return o=r(t)},n.destroyPooly=function(t){if(null!=t&&0!=(null==t?void 0:t.isValid)){for(var o=n.nodePools,e=0;e<o.length;e++)if(o[e].name==t.name)return o[e].put(t),void(o[e].size()>100&&o[e].clear());for(var r=0;r<o.length;r++)if(0==o[r].size())return o[r].name=t.name,void o[r].put(t);var u=new i;u.name=t.name,u.put(t),o.push(u)}},n.destroyNodeArrayPooly=function(n){var t=this;n.concat().forEach((function(n){t.destroyPooly(n)}))},n.clearAll=function(){this.nodePools.forEach((function(n){n.clear()})),this.nodePools=[]},n}());u.instance=void 0,u.nodePools=[],o._RF.pop()}}}));

System.register("chunks:///_virtual/Parsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SoundRescourses.ts"],(function(t){var n,i,e,o,a,r,s,l,u,c,d,h,p,f,y,S,b,m,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,u=t.Vec2},function(t){c=t.Plant,d=t.PlantProps},function(t){h=t.Rectangle},function(t){p=t.Square},function(t){f=t.zombieDamageType},function(t){y=t.instantiatePooly,S=t.NodePools},function(t){b=t.peaShooter},function(t){m=t.CharacterType},function(t){g=t.sounds}],execute:function(){var P,C,w,R,v,L,z,A,D,E,j,k,I,_,O,F,q,N,x,M,T,B,H,K,V,W,U,X;a._RF.push({},"5e369i6Ll1NsKEvWwK5RNFV","Parsnip",void 0);var Z=r.ccclass,G=r.property,J=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).AttackInterval=.8,n.DamagePerSnip=70,n.PlantfoodSummonCount=2,n}return i(n,t),n}(d),Q=(P=Z("parsnipSound"),C=G([s]),w=G([s]),R=G([s]),v=G([s]),L=G([s]),z=G([s]),A=G([s]),P((j=n((E=function(){function t(){e(this,"snipSound",j,this),e(this,"snipIdleSound",k,this),e(this,"scratchIdleSound",I,this),e(this,"snipSaySound",_,this),e(this,"popSound",O,this),e(this,"popSaySound",F,this),e(this,"foodEndSound",q,this)}var n=t.prototype;return n.playSnip=function(){g.playArray(this.snipSound,1,.1)},n.playSnipIdle=function(){g.playArray(this.snipIdleSound,.5,.1)},n.playScratchIdle=function(){g.playArray(this.scratchIdleSound,.3,.1)},n.playSnipSay=function(){g.playArray(this.snipSaySound,.5,.1)},n.playPopSound=function(){g.playArray(this.popSound,1,.1)},n.playPopSaySound=function(){g.playArray(this.popSaySound,.5,.1)},n.playFoodEndSound=function(){g.playArray(this.foodEndSound,1,.1)},t}()).prototype,"snipSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(E.prototype,"snipIdleSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(E.prototype,"scratchIdleSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(E.prototype,"snipSaySound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(E.prototype,"popSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(E.prototype,"popSaySound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(E.prototype,"foodEndSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=E))||D);t("ParsnipPlant",(N=Z("ParsnipPlant"),x=G(Q),M=G(l),T=G(l),B=G(l),N((V=n((K=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"soundRes",V,o(n)),n.attackCD=0,n.detector=new h,n.foodLeftCount=2,n._objdataOwn=new J,n.attacking=!1,e(n,"bigPrj",W,o(n)),e(n,"smallPrj",U,o(n)),e(n,"dirtsPar",X,o(n)),n}i(n,t);var a=n.prototype;return a.specialPlantOnEnable=function(){this.deathAnm="Death",this.attackCD=0},a.specialPlantOnSquareChange=function(t,n){this.detector=h.createRectangleNodeSide(n.node,2.5*p.SquareDisW,p.SquareDisH)},a.waterable=function(){return!this.attacking},a.animationListener=function(t){"hit"==t.name?(this.snipEnemies(),this.attacking=!1):"scratch"==t.name?this.soundRes.playScratchIdle():"idleSnip"==t.name?this.soundRes.playSnipIdle():"summon"==t.name?(this.throwCS(!0),this.foodLeftCount--,this.foodLeftCount<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEndSound())):"foodEnd"==t.name&&this.foodEnd()},a.detectEnemies=function(){var t,n,i=this;if(null!=(t=this.inLnC)&&null!=(t=t.righter)&&t.tombStone)return!0;if(null!=(n=this.inLnC)&&null!=(n=n.righter)&&null!=(n=n.righter)&&n.tombStone)return!0;var e=!1;return this.inLane.zombiePool().forEach((function(t){e||t.bodyRec.judgeCrossRec(i.detector)&&(e=!0)})),e},a.snipEnemies=function(){var t=this,n=!1,i=1/0,e=null;this.inLane.zombiePool().forEach((function(n){var o=n.bodyRec.prjX().x;o<i&&n.bodyRec.judgeCrossRec(t.detector)&&(e=n,i=o)}));var o,a,r,s=this._objdataOwn.DamagePerSnip*this._dmgScale;if(e)e.dealDamage(s,!0,!0,!0,null,f.physicle),n=!0;else if(null!=(o=this.inLnC)&&null!=(o=o.righter)&&o.tombStone)null==(r=this.inLnC)||null==(r=r.righter)||r.tombStone.dealDamage(s),n=!0;else if(null!=(a=this.inLnC)&&null!=(a=a.righter)&&null!=(a=a.righter)&&a.tombStone){var l;null==(l=this.inLnC)||null==(l=l.righter)||null==(l=l.righter)||l.tombStone.dealDamage(s),n=!0}this.soundRes.playSnip(),n&&this.soundRes.playSnipSay()},a.specialPlantUpdate=function(t){if(!this.fooding&&!this.attacking&&(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&this.detectEnemies())){var n=this.attackCD=this._objdataOwn.AttackInterval*this._cdScale;this.anmControl.playAnimation("Attack",1,.1*n/.8,Math.max(1,1/n)),this.attacking=!0}},a.animationOnComplete=function(){this.attacking=!1},a.specialPlantFood=function(t){this.attacking=!1,this.soundRes.playPopSound(),this.anmControl.playAnimation("FoodStart",1),this.foodLeftCount=this._objdataOwn.PlantfoodSummonCount},a.throwCS=function(t){var n=this;void 0===t&&(t=!1),this.soundRes.playPopSaySound(),this.soundRes.playPopSound();var i=y(t?this.smallPrj:this.bigPrj);b.shootOnePea(i,this.node.worldPosition,0,this.inLane.prjLayer,new u(8,0),m.zombie);this.inLane.zombiePool().forEach((function(t){t.bodyRec.judgeCrossRec(n.bodyRec)&&t.leapBy(new u(1,0),!0,.7,50,!0,!0)}));var e=S.instantiatePooly(this.dirtsPar);e.parent=this.fooding?this.foodParent:this.inLane.prjLayer,e.worldPosition=this.node.worldPosition},a.specialPlantOnEaten=function(t,n,i,e){e<=0&&(this.deathAnm="",this.throwCS(),this.die(),this.node.destroy())},n}(c)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),W=n(K.prototype,"bigPrj",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(K.prototype,"smallPrj",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(K.prototype,"dirtsPar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=K))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var n,i,t,r,l,a,o,u,c,p,s,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,t=e.inheritsLoose,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Prefab,u=e.Vec3,c=e.Component},function(e){p=e.FrontYard},function(e){s=e.NodePools},function(e){f=e.Square},function(e){b=e.sounds}],execute:function(){var m,w,h,z,g,y,S,d,R,P,v,B,L,F,x,W,k,J,E,C,H,T,D,j,I,q,N,_,A,Y,G,M,V,Z,K,O,Q,U,X,$,ee,ne,ie,te,re,le,ae,oe,ue,ce,pe,se,fe,be,me,we,he,ze,ge,ye,Se,de,Re,Pe,ve,Be,Le,Fe,xe,We,ke,Je,Ee,Ce,He,Te,De,je,Ie,qe,Ne,_e,Ae,Ye,Ge,Me,Ve,Ze,Ke,Oe,Qe,Ue,Xe,$e;l._RF.push({},"231e0c3RANLja/9snTaiZpJ","Particles",void 0);var en=a.ccclass,nn=a.property,tn=(m=en("CowboyFencePrefabs"),w=nn(o),h=nn(o),m((y=n((g=function(){i(this,"FenceHere",y,this),i(this,"FenceThere",S,this)}).prototype,"FenceHere",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(g.prototype,"FenceThere",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=g))||z),rn=e("particle",function(){function e(){}return e.cowboyFence=function(){return this.particleRes.cowboyFence},e.foodLight=function(){return this.particleRes.foodLight},e.peaBuff=function(){return this.particleRes.peaBuff},e.darkBuff=function(){return this.particleRes.darkBuff},e.prjPeaBuff=function(){return this.particleRes.prjPeaBuff},e.deadPlant=function(){return this.particleRes.deadPlant},e.strengthenPlant=function(){return this.particleRes.strengthenPlant},e.empEffect=function(){return this.particleRes.empEffect},e.plantHeat=function(){return this.particleRes.plantHeat},e.plantBurnt=function(){return this.particleRes.plantBurnt},e.zombieWaterWave=function(){return this.particleRes.zombieWaterWave},e.plantWaterWave=function(){return this.particleRes.plantWaterWave},e.zombieIceTrap=function(){return this.particleRes.zombieIceTrap},e.seaSplash=function(){return this.particleRes.seaSplash},e.spawnSeaSplash=function(e,n){var i,t=null==(i=p.currentLawn)||null==(i=i.node)?void 0:i.getChildByName("Lane"+e.toString()).children[0];if(t){b.playSeaSplash();var r=s.instantiatePooly(this.seaSplash());r.parent=t;var l=n.y-40,a=f.getSquareWorldPosition(0,5).x,o=f.getSquareWorldPosition(0,8,.25).x,c=n.x;c=(c=c<a?a:c)>o?o:c,r.worldPosition=new u(c,l,0)}},e.waterSplash=function(){return this.particleRes.waterSplash},e.spawnWaterSplash=function(e,n){b.playWaterSplash();var i=s.instantiatePooly(this.waterSplash());i.parent=f.getLaneComponent(e).node,i.scale=new u(.3,.3,.3),i.setSiblingIndex(0),i.worldPosition=new u(n.x,n.y)},e.freeLocator=function(){return this.particleRes.freeLocator},e.spudow=function(){return this.particleRes.spudowExplosion},e.spudowPrimal=function(){return this.particleRes.spudowExplosionPrimal},e.explosion=function(e){return void 0===e&&(e=!0),e?this.particleRes.cherryExplosion:this.particleRes.explosion},e.explosionRear=function(){return this.particleRes.explosionRear},e.plantDirts=function(){return this.particleRes.plantDirts},e.graveSpawn=function(){return this.particleRes.graveSpawn},e.dirtSpawn=function(){return this.particleRes.dirtSpawn},e.PFLightning=function(){return this.particleRes.PFLightning},e.sandStorm=function(){return this.particleRes.SandStorm},e.snowStorm=function(){return this.particleRes.SnowStorm},e.zombieFart=function(){return this.particleRes.zombieFart},e.zombieChiliBeanStun=function(){return this.particleRes.zombieChiliBeanStun},e.zombieSunBean=function(){return this.particleRes.zombieSunBean},e.zombiePerfumeSlow=function(){return this.particleRes.zombiePerfumeSlow},e.zombieHypnoBubble=function(){return this.particleRes.zombieHypno},e.zombiePoisonBubble=function(){return this.particleRes.zombiePoison},e.prizeSpawn=function(){return this.particleRes.prizeSpawn},e.prizeCollectLight=function(){return this.particleRes.prizeCollectLight},e}());rn.particleRes=void 0;e("tileLiquids",function(){function e(){}return e.cranJellyJuice=function(){return rn.particleRes.cranJellyJuice},e.butterJuice=function(){return rn.particleRes.butterJuice},e.sapflingJuice=function(){return rn.particleRes.sapflingJuice},e.softLava=function(){return rn.particleRes.softLava},e.brokenTile=function(){return rn.particleRes.crackle},e.brokenTileSparkles=function(){return rn.particleRes.crackleSparkles},e}()),e("groundFireParticles",function(){function e(){}return e.getParticleByGFEnum=function(e){return rn.particleRes.yellowFire},e}()),e("Particles",(d=en("Particles"),R=nn(tn),P=nn(o),v=nn(o),B=nn(o),L=nn(o),F=nn(o),x=nn(o),W=nn(o),k=nn(o),J=nn(o),E=nn(o),C=nn(o),H=nn(o),T=nn(o),D=nn(o),j=nn(o),I=nn(o),q=nn(o),N=nn(o),_=nn(o),A=nn(o),Y=nn(o),G=nn(o),M=nn(o),V=nn(o),Z=nn(o),K=nn(o),O=nn(o),Q=nn(o),U=nn(o),X=nn(o),$=nn(o),ee=nn(o),ne=nn(o),ie=nn(o),te=nn(o),re=nn(o),le=nn(o),ae=nn(o),oe=nn(o),ue=nn(o),ce=nn(o),d((fe=n((se=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,i(n,"cowboyFence",fe,r(n)),i(n,"sapflingJuice",be,r(n)),i(n,"butterJuice",me,r(n)),i(n,"cranJellyJuice",we,r(n)),i(n,"softLava",he,r(n)),i(n,"crackle",ze,r(n)),i(n,"crackleSparkles",ge,r(n)),i(n,"peaBuff",ye,r(n)),i(n,"darkBuff",Se,r(n)),i(n,"foodLight",de,r(n)),i(n,"prjPeaBuff",Re,r(n)),i(n,"deadPlant",Pe,r(n)),i(n,"strengthenPlant",ve,r(n)),i(n,"empEffect",Be,r(n)),i(n,"plantHeat",Le,r(n)),i(n,"plantBurnt",Fe,r(n)),i(n,"seaSplash",xe,r(n)),i(n,"freeLocator",We,r(n)),i(n,"spudowExplosion",ke,r(n)),i(n,"spudowExplosionPrimal",Je,r(n)),i(n,"explosion",Ee,r(n)),i(n,"explosionRear",Ce,r(n)),i(n,"cherryExplosion",He,r(n)),i(n,"zombieIceTrap",Te,r(n)),i(n,"waterSplash",De,r(n)),i(n,"zombieWaterWave",je,r(n)),i(n,"plantWaterWave",Ie,r(n)),i(n,"plantDirts",qe,r(n)),i(n,"graveSpawn",Ne,r(n)),i(n,"dirtSpawn",_e,r(n)),i(n,"yellowFire",Ae,r(n)),i(n,"PFLightning",Ye,r(n)),i(n,"SandStorm",Ge,r(n)),i(n,"SnowStorm",Me,r(n)),i(n,"zombieFart",Ve,r(n)),i(n,"zombieChiliBeanStun",Ze,r(n)),i(n,"zombieSunBean",Ke,r(n)),i(n,"zombiePerfumeSlow",Oe,r(n)),i(n,"prizeSpawn",Qe,r(n)),i(n,"prizeCollectLight",Ue,r(n)),i(n,"zombieHypno",Xe,r(n)),i(n,"zombiePoison",$e,r(n)),n}return t(n,e),n.prototype.onLoad=function(){rn.particleRes=this},n}(c)).prototype,"cowboyFence",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tn}}),be=n(se.prototype,"sapflingJuice",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=n(se.prototype,"butterJuice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=n(se.prototype,"cranJellyJuice",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(se.prototype,"softLava",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=n(se.prototype,"crackle",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(se.prototype,"crackleSparkles",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=n(se.prototype,"peaBuff",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=n(se.prototype,"darkBuff",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(se.prototype,"foodLight",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=n(se.prototype,"prjPeaBuff",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=n(se.prototype,"deadPlant",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=n(se.prototype,"strengthenPlant",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=n(se.prototype,"empEffect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=n(se.prototype,"plantHeat",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=n(se.prototype,"plantBurnt",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=n(se.prototype,"seaSplash",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=n(se.prototype,"freeLocator",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=n(se.prototype,"spudowExplosion",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=n(se.prototype,"spudowExplosionPrimal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=n(se.prototype,"explosion",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=n(se.prototype,"explosionRear",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=n(se.prototype,"cherryExplosion",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=n(se.prototype,"zombieIceTrap",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=n(se.prototype,"waterSplash",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=n(se.prototype,"zombieWaterWave",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=n(se.prototype,"plantWaterWave",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=n(se.prototype,"plantDirts",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=n(se.prototype,"graveSpawn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=n(se.prototype,"dirtSpawn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=n(se.prototype,"yellowFire",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=n(se.prototype,"PFLightning",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=n(se.prototype,"SandStorm",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=n(se.prototype,"SnowStorm",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=n(se.prototype,"zombieFart",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=n(se.prototype,"zombieChiliBeanStun",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=n(se.prototype,"zombieSunBean",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=n(se.prototype,"zombiePerfumeSlow",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=n(se.prototype,"prizeSpawn",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=n(se.prototype,"prizeCollectLight",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=n(se.prototype,"zombieHypno",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=n(se.prototype,"zombiePoison",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=se))||pe));l._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleSelfdestroy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts"],(function(t){var e,n,i,o,s,a,l,r,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.dragonBones,r=t.Component},function(t){c=t.NodePools,d=t.ArrayGet}],execute:function(){var p,u,h,f,m;s._RF.push({},"4c2fccq7FZO2IEkVgOAvEZ1","ParticleSelfdestroy",void 0);var y=a.ccclass,b=a.property;t("ParticleSelfdestroy",(p=y("ParticleSelfdestroy"),u=b([String]),p((m=e((f=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"IdleAnmList",m,o(e)),e.db=void 0,e}n(e,t);var s=e.prototype;return s.selfDestroy=function(t){"die"==t.name&&c.destroyPooly(this.node),this.animationListener(t)},s.animationListener=function(t){},s.animationOnComplete=function(t){},s._animationOnComplete=function(t){this.IdleAnmList.length&&this.db.playAnimation(d.getRandom(this.IdleAnmList),1),this.animationOnComplete(t)},s.specialOnLoad=function(){},s.onLoad=function(){this.db=this.getComponent(l.ArmatureDisplay),this.db.enableBatch=!0,this.db.addEventListener(l.EventObject.FRAME_EVENT,this.selfDestroy,this),this.db.addEventListener(l.EventObject.COMPLETE,this._animationOnComplete,this),this.specialOnLoad()},s.update=function(t){this.specialUpdate(t)},s.specialUpdate=function(t){},s.specialOnDisable=function(){},s.onDisable=function(){this.specialOnDisable()},s.specialOnEnable=function(){},s.onEnable=function(){this.specialOnEnable(),this.IdleAnmList[0]&&this.db.playAnimation(d.getRandom(this.IdleAnmList),1)},e}(r)).prototype,"IdleAnmList",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/PauseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./MultiLanguage.ts","./Mouse.ts","./SettingWindow.ts"],(function(i){var e,t,r,s,o,n,l,u,a,c,h,m,p,d,f,g,b,S,y,M,T,x;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,n=i._decorator,l=i.Label,u=i.Node,a=i.Slider,c=i.ProgressBar,h=i.UITransform,m=i.dragonBones,p=i.instantiate,d=i.Vec3,f=i.Button,g=i.Component},function(i){b=i.MusicController,S=i.SoundFXController},function(i){y=i.UIInGame},function(i){M=i.MultiLanguage},function(i){T=i.Mouse},function(i){x=i.Setting}],execute:function(){var w,k,E,v,B,P,z,V,U,F,C,R,O,X,_,L,I,N,H,W,A,D,G,j,q,J,K,Q,Y,Z,$,ii,ei,ti,ri,si,oi,ni;o._RF.push({},"9d461LCOI9JqbcKNG6Qt3N2","PauseScreen",void 0);var li=n.ccclass,ui=n.property,ai=(w=li("pauseTooltips"),k=ui(l),E=ui(l),v=ui(l),B=ui(l),P=ui(l),z=ui(l),w((F=e((U=function(){function i(){r(this,"Title",F,this),r(this,"ExitToMap",C,this),r(this,"Restart",R,this),r(this,"Resume",O,this),r(this,"Music",X,this),r(this,"SoundFX",_,this)}return i.prototype.setString=function(){this.Title&&(this.Title.string=M.getStringByPropsWithoutTricks("GamePaused","Title")),this.ExitToMap&&(this.ExitToMap.string=M.getStringByPropsWithoutTricks("GamePaused","ExitToMap")),this.Restart&&(this.Restart.string=M.getStringByPropsWithoutTricks("GamePaused","Restart")),this.Resume&&(this.Resume.string=M.getStringByPropsWithoutTricks("GamePaused","Resume")),this.Music&&(this.Music.string=M.getStringByPropsWithoutTricks("SettingLyrics","Music")),this.SoundFX&&(this.SoundFX.string=M.getStringByPropsWithoutTricks("SettingLyrics","SoundFX"))},i}()).prototype,"Title",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(U.prototype,"ExitToMap",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(U.prototype,"Restart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(U.prototype,"Resume",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(U.prototype,"Music",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(U.prototype,"SoundFX",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=U))||V);i("PauseScreen",(L=li("PauseScreen"),I=ui(ai),N=ui(l),H=ui(u),W=ui(u),A=ui(a),D=ui(c),G=ui(h),j=ui(a),q=ui(c),J=ui(m.ArmatureDisplay),L((Y=e((Q=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=i.call.apply(i,[this].concat(o))||this,r(e,"tooltips",Y,s(e)),r(e,"mission0",Z,s(e)),e.missions=[],r(e,"mainbody",$,s(e)),r(e,"mouseblocker",ii,s(e)),r(e,"musicSlider",ei,s(e)),r(e,"musicSliderBar",ti,s(e)),r(e,"MainUITransform",ri,s(e)),r(e,"sfxSlider",si,s(e)),r(e,"sfxSliderBar",oi,s(e)),r(e,"sunflower",ni,s(e)),e.sunflowerTime=0,e}t(e,i);var o=e.prototype;return o.blockMouse=function(){},o.exit=function(){y.uiingame.exitNextTick=!0},o.restart=function(){y.uiingame.restartNextTick=!0},o.setTips=function(i){var e=this;if(this.missions.forEach((function(i,e){var t;e>0&&(null==(t=i.node)||null==(t=t.parent)||t.destroy())})),this.missions=[this.mission0],i.length){var t=[this.mission0];i.forEach((function(i,r){var s=e.mission0;if(r>0){var o=p(e.mission0.node.parent);o.parent=e.mission0.node.parent.parent,s=o.getChildByName(e.mission0.node.name).getComponent(l),t.push(s)}s.string=i})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1},o.resume=function(){var i;null==y||null==(i=y.uiingame)||i.pauseMenu()},o.start=function(){this.tooltips.setString(),this.mainbody.position=new d(0,1e3,0),this.mouseblocker.on(u.EventType.MOUSE_DOWN,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_ENTER,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_LEAVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_MOVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.MOUSE_UP,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_CANCEL,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_END,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_MOVE,this.blockMouse,this),this.mouseblocker.on(u.EventType.TOUCH_START,this.blockMouse,this),this.mouseblocker.addComponent(f),this.musicSlider.progress=b.MusicVolume,this.musicSliderBar.progress=b.MusicVolume,this.sfxSlider.progress=S.SoundFXVolume,this.sfxSliderBar.progress=S.SoundFXVolume},o.musicSlide=function(){var i=T.position.x-this.musicSliderBar.barSprite.node.worldPosition.x,e=this.musicSliderBar.totalLength*this.musicSliderBar.barSprite.node.worldScale.x;b.MusicVolume=Math.min(1,Math.max(0,i/e)),this.musicSlider.progress=b.MusicVolume,this.musicSliderBar.progress=b.MusicVolume,x.saveSettings()},o.sfxSlide=function(){var i=T.position.x-this.sfxSliderBar.barSprite.node.worldPosition.x,e=this.sfxSliderBar.totalLength*this.sfxSliderBar.barSprite.node.worldScale.x;S.SoundFXVolume=Math.min(1,Math.max(0,i/e)),this.sfxSlider.progress=S.SoundFXVolume,this.sfxSliderBar.progress=S.SoundFXVolume,x.saveSettings()},o.correctHeight=function(){var i=this.MainUITransform.height,e=.6*Math.min(1,660/i);this.MainUITransform.node.scale=new d(e,e,e)},o.update=function(i){this.musicSliderBar.progress=b.MusicVolume,this.sfxSliderBar.progress=S.SoundFXVolume,this.musicSlider.progress=b.MusicVolume,this.sfxSlider.progress=S.SoundFXVolume,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sunflowerTime+=.0166667;var e=this.sunflower.armature().animation;this.sunflowerTime>160/30&&(this.sunflowerTime=0),e.gotoAndPlayByTime("idle",this.sunflowerTime),this.correctHeight()},o.onEnable=function(){this.correctHeight()},e}(g)).prototype,"tooltips",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ai}}),Z=e(Q.prototype,"mission0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(Q.prototype,"mainbody",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=e(Q.prototype,"mouseblocker",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=e(Q.prototype,"musicSlider",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=e(Q.prototype,"musicSliderBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=e(Q.prototype,"MainUITransform",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=e(Q.prototype,"sfxSlider",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=e(Q.prototype,"sfxSliderBar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=e(Q.prototype,"sunflower",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Q))||K));o._RF.pop()}}}));

System.register("chunks:///_virtual/PeaPod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./UI.ts","./LevelTaskCount.ts","./CharacterManager.ts","./Plants.ts"],(function(t){var o,n,a,e,i,s,h,l,u,r,d,c,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,h=t._decorator,l=t.Prefab},function(t){u=t.PeashooterPlant},function(t){r=t.UIInGame},function(t){d=t.LevelTaskCountModeEnum},function(t){c=t.PlantPool},function(t){p=t.plants}],execute:function(){var m,f,S,C,P;s._RF.push({},"14255L3cwtLGojVLkpzxzcd","PeaPod",void 0);var y=h.ccclass,g=h.property;t("PeaPodPlant",(m=y("PeaPodPlant"),f=g(l),m((P=o((C=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,a(o,"peaMega",P,e(o)),o.headSlots=[],o.headBones=[],o._haveHeadCount=1,o}n(o,t);var s=o.prototype;return s.animationListener=function(t){"Shoot0"==t.name?this.headCount>0&&(this._shoot(),this.soundRes.playShootSound()):"Shoot1"==t.name?this.headCount>1&&(this._shoot(),this.soundRes.playShootSound()):"Shoot2"==t.name?this.headCount>2&&(this._shoot(),this.soundRes.playShootSound()):"Shoot3"==t.name?this.headCount>3&&(this._shoot(),this.soundRes.playShootSound()):"Shoot4"==t.name?this.headCount>4&&(this._shoot(),this.soundRes.playShootSound()):"ShootMega"==t.name?(this._shoot(!1,!1,this.peaMega),this.soundRes.playShootMegaPeapod()):"toFoodShoot"==t.name?(this.anmControl.playAnimation("FoodShoot",5),this.anmControl.IdleAnim="FoodEnd",this.anmControl.RandomAnim=[]):"foodEnd"==t.name?(this.foodEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=[]):"foodEndSound"==t.name&&this.soundRes.playFoodEnd()},s.specialPlantOnEnable=function(){var t=this;this.initialize();var o=this.anmControl.body.armature();this.headSlots=[],[0,1,2,3,4].forEach((function(n){t.headSlots.push(o.getSlot("HEAD"+n.toString())),t.headBones.push(o.getBone("HEAD"+n.toString()))})),this.headCount=1},s.specialPlantFood=function(t){this.anmControl.playAnimation("FoodStart",2),this.soundRes.playFood()},s.specialPlantFoodEnd=function(){this.busy=0},s.plantCount=function(){return this.headCount},s.replantable=function(){var t,o=null==r||null==(t=r.uiingame)||null==(t=t.getLevelTaskStartingObject(d.PlantCountLimit))?void 0:t.MaximumPlants;return this.headCount<5&&(isNaN(o)||c.getPlantAmount()<o)},s.replant=function(){this.headCount++},s.specialPeashooterUpdate=function(t){},i(o,[{key:"headCount",get:function(){return this._haveHeadCount},set:function(t){var o;t>5&&(t=5),t<1&&(t=1);var n=t-this._haveHeadCount;this.headSlots.forEach((function(o,n){var a=-1;n<t&&(a=0),o.displayIndex=a})),this._haveHeadCount=t,this.health=this.toughness,p.registerPlant(this.ID,n),null==(o=this.plantInLnC)||o.readIndex()}}]),o}(u)).prototype,"peaMega",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/Peashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./ProjectileManager.ts","./CharacterManager.ts","./NodePools.ts","./commonShot.ts","./Square.ts","./Plants.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,s,r,u,l,h,d,c,f,p,S,m,g,y,P,b,v,w,C;return{setters:[function(t){o=t.inheritsLoose,n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,u=t.AudioClip,l=t.Prefab,h=t.Node,d=t.Vec2,c=t.Vec3,f=t.tween},function(t){p=t.PlantProps,S=t.Plant},function(t){m=t.CharacterType},function(t){g=t.projectile},function(t){y=t.Rectangle},function(t){P=t.NodePools},function(t){b=t.commonShot},function(t){v=t.Square},function(t){w=t.PlantEnum},function(t){C=t.sounds}],execute:function(){var M,_,L,z,A,R,j,I,E,D,O,F,x,G,N,q,T,B,U,V,k,H,J,Q,W,K;s._RF.push({},"f5589tQxwBJ46m8vhGguza6","Peashooter",void 0);var X=r.ccclass,Y=r.property,Z=t("peaShooter",function(){function t(){}return t.shootOnePea=function(t,o,n,e,i,a){t.parent=e;var s=t.getComponent(b);return s.height=n,s.worldPosition=new d(o.x,o.y),s.linearVelocity=i,s.bodyLinearVelocity=0,s.gravity=0,g.registerProjectile(t,a),s},t}()),$=t("PeashooterProps",function(t){function n(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodPeaCount=60,o.ChanceToPlantfood=0,o}return o(n,t),n}(p)),tt=t("peashooterSound",(M=X("peashooterSound"),_=Y(u),L=Y(u),z=Y([u]),A=Y(u),R=Y(u),j=Y(u),I=Y([u]),M((O=n((D=function(){function t(){e(this,"foodSound",O,this),e(this,"foodEndSound",F,this),e(this,"shootSound",x,this),e(this,"shoot5Sound",G,this),e(this,"shootMegaSound",N,this),this.volumeScale=1,e(this,"upgradeSound",q,this),e(this,"shootMegaSounds",T,this)}var o=t.prototype;return o.playUpgrade=function(){C.play(this.upgradeSound,this.volumeScale,.1)},o.playFood=function(){C.play(this.foodSound,this.volumeScale,.1)},o.playFoodEnd=function(){C.play(this.foodEndSound,this.volumeScale,.1)},o.playShootSound=function(t){void 0===t&&(t=1),C.playArray(this.shootSound,t*this.volumeScale,.1)},o.playShoot5Sound=function(t){void 0===t&&(t=1),C.play(this.shoot5Sound,this.volumeScale*t)},o.playShootMega=function(){C.play(this.shootMegaSound,this.volumeScale,.1)},o.playShootMegaPeapod=function(){C.playArray(this.shootMegaSounds,this.volumeScale,.1)},t}()).prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(D.prototype,"foodEndSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(D.prototype,"shootSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(D.prototype,"shoot5Sound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(D.prototype,"shootMegaSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(D.prototype,"upgradeSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(D.prototype,"shootMegaSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=D))||E));t("PeashooterPlant",(B=X("PeashooterPlant"),U=Y(l),V=Y(tt),k=Y(h),B((Q=n((J=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this).minShootInterval=1.1,o._foodLeftPeaCount=0,o._objdataOwn=new $,o.upgraded=!1,e(o,"pea",Q,i(o)),e(o,"soundRes",W,i(o)),o.shootAnimationName="Shoot",o.foodAnimationName="Food",o.detector=null,o.projectileSpeed=1,e(o,"peaSpawnpoint",K,i(o)),o.busy=0,o.shooting=!1,o}o(n,t);var s=n.prototype;return s.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0)},s.isGatling=function(){return this.ID==w.MegaGatlingPea||this.ID==w.GatlingPea},s._shoot=function(t,o,n,e,i,a){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.defaultPea),void 0===e&&(e=15),void 0===i&&(i=new d(1,0)),void 0===a&&(a=this.peaSpawnpoint),a||(a=this.peaSpawnpoint);var s=P.instantiatePooly(n);if(s){var r=0;t&&(r=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var u=0;o&&(u=Math.round(5*Math.random()));var l=Z.shootOnePea(s,new c(a.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,a.worldPosition.y-this.inLnC.plantPoint.worldPosition.y+r),this.inLane.node,i.normalize().multiplyScalar((e+u)*(o?1:this.projectileSpeed)),m.zombie).getComponent(b);return this.shotInitialize(l),this.inLnC.havePeaBuff&&l.addPeaBuff(),this._dmgScale&&l.setDamage(l.damage_*this._dmgScale),l}},s.shotInitialize=function(t){},s.upgrade=function(){this.upgraded||(this.upgraded=!0,this.anmControl.body.armature().getSlot("helmet").displayIndex=1,this.anmControl.body.armature().getSlot("gunTube").displayIndex=1)},s.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0,this.soundRes.playFoodEnd()},s.foodShooting=function(){var t=this;this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;f(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},s.specialPlantFood=function(t){this.isGatling()&&this.upgrade(),this.anmControl.playAnimation(this.foodAnimationName,1/0),this.soundRes.playFood(),this.busy=1/0,this.foodShooting()},s.waterable=function(){return!this.shooting},s._shootPeaAnimation=function(){var t=Math.random();this.isGatling()&&t<=this._objdataOwn.ChanceToPlantfood?this.food():this.anmControl.playAnimation(this.shootAnimationName,1,.1*this._cdScale,Math.max(this.minShootInterval/this.busy,1))},s.animationListenerAdd=function(t){},s.animationListener=function(t){"Shoot"==t.name||this.upgraded&&"Shoot5"==t.name?this._shoot():"ShootSound"==t.name&&(this.upgraded?this.soundRes.playShoot5Sound(this.isGatling()?.3:1):this.soundRes.playShootSound(this.isGatling()?.3:1)),this.animationListenerAdd(t)},s.setDetecter=function(t,o){this.detector=y.createRectangleNodeSide(o.node,v.SquareDisW*(9-o.cIndex),v.SquareDisH)},s.initialize=function(){this.upgraded=!1,this.busy=0,this.projectileSpeed=this.isGatling()?1.7:1},s.animationCompleteAdd=function(){},s.animationOnComplete=function(){this.shooting=!1},s.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},s.specialPlantOnEnable=function(){this.initialize(),this.specialPeashooterOnEnable()},s.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(t*=this._cdScale),this.busy=t,this._shootPeaAnimation()},s.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},s.specialPeashooterOnEnable=function(){},s.specialPeashooterUpdate=function(t){},s.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding&&(this.busy=0,this.detectEnemy()&&this.startShooting()),this.specialPeashooterUpdate(t)},a(n,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}},{key:"defaultPea",get:function(){return this.pea}}]),n}(S)).prototype,"pea",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(J.prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),K=n(J.prototype,"peaSpawnpoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=J))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/PeaVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(e){var t,n,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator},function(e){i=e.PeashooterPlant}],execute:function(){var r;n._RF.push({},"791bdit6+hBd5l2f2ZtvXkZ","PeaVine",void 0);var o=a.ccclass;a.property,e("PeaVinePlant",o("PeaVinePlant")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.specialPlantOnSquareChange=function(e,t){this.setDetecter(e,t),e.addBuff("peaBuff",!1),t.addBuff("peaBuff")},a.specialPlantDie=function(){this.inLnC.addBuff("peaBuff",!1)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelPusherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./PirateBarrelZombie.ts","./Zombies.ts"],(function(e){var r,t,i,l,n,a,o,s,u,b,c,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,u=e.Vec2},function(e){b=e.Zombie},function(e){c=e.PirateBarrelZombie},function(e){h=e.zombies,d=e.ZombieEnum}],execute:function(){var p,m,f,y,P;a._RF.push({},"62094xn7ndNQrsIS13oRF/l","PirateBarrelPusherZombie",void 0);var S=o.ccclass,Z=o.property;e("PirateBarrelPusherZombie",(p=S("PirateBarrelPusherZombie"),m=Z(s),p((P=r((y=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"barrelSlot",P,l(r)),r._barrel=null,r}t(r,e);var a=r.prototype;return a.specialZombieOnEnable=function(){this.barrel=null},a.onKnockBackStart=function(){this.barrel&&(this.barrel.pusher=null)},a.playSpecialZombieDieForced=function(){this.barrel&&(this.barrel.pusher=null)},a.shouldSpeedScale=function(){var e=1;return this.barrel&&this.barrel.freeze>0&&(e=.5),e*this.defaultShouldSpeedScale()},a.additionalZombies=function(){var e=h.getZombie(d.pirate_barrel),r=e.getComponent(c);return e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()),r&&(this.barrel=r),r?[r]:[]},n(r,[{key:"barrel",get:function(){return this._barrel},set:function(e){this.barrel!=e&&(e?(e.worldPosition=new u(this.barrelSlot.worldPosition.x,this._worldPositionY),e.pusher=this,this.body.IdleAnm="Idle_Barrel",this.body.WalkAnm="Walk_Barrel",this.body.EatAnm="Eat_Barrel"):(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat"),this._barrel=e,(this.isAlive()||this.displayed)&&this.replayAnimation())}}]),r}(b)).prototype,"barrelSlot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./GargantuarZombie.ts","./Zombies.ts"],(function(e){var t,i,n,o,s,r,a,h,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,s=e.Vec2},function(e){r=e.zombieDamageType,a=e.Zombie},function(e){h=e.gargantuar},function(e){l=e.ZombieEnum}],execute:function(){var u;n._RF.push({},"3127dv2H/FEnYvJqUlnoqYE","PirateBarrelZombie",void 0);var c=o.ccclass;o.property,e("PirateBarrelZombie",c("PirateBarrelZombie")(u=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).faceSlot=void 0,t._pusher=null,t.lifeSpan=10,t.deathCD=10,t}t(n,e);var o=n.prototype;return o.playSpecialZombieDie=function(e){var t=this;this.judgeDeath(0),[h.throwOneImpByLnC(l.pirate_imp,this.inLane,this.worldPosition,new s(this.reversed?1:-1,0==this.lIndex?0:1),1,20,.5),h.throwOneImpByLnC(l.pirate_imp,this.inLane,this.worldPosition,new s(this.reversed?1:-1,4==this.lIndex?0:-1),1,20,.5)].forEach((function(e){e.body.playAnimation("Fly",1/0),e.reversed=t.reversed,e.hypno=t.hypno,console.log(e.hypno)}))},o.setChiliStun=function(e){return!1},o.playSpecialZombieDieForced=function(){this.pusher=null},o.specialZombieOnEnable=function(){var e;this.deathCD=this.lifeSpan,this.pusher=null,null==(e=this.faceSlot)||e._setDisplayIndex(0)},o.specialZombieOnLoad=function(){var e;this.faceSlot=null==(e=this.db.armature())?void 0:e.getSlot("face")},o.onDamaged=function(e,t,i){var n;null==(n=this.faceSlot)||n._setDisplayIndex(2-Math.floor(3*t/this.toughness))},o.onKnockBackStart=function(){this.pusher=null},o.shouldSpeedScale=function(){return this._pusher?this.pusher.shouldSpeedScale()*(this.pusher.walking?1:0):this.defaultShouldSpeedScale()},o.specialZombieUpdate=function(e,t,i){this._pusher?(this.randomSpeed=this._pusher.randomSpeed,this.worldPositionX=this.pusher.barrelSlot.worldPosition.x):(this.randomSpeed=0,this.deathCD>0&&(this.deathCD-=e,this.deathCD<=0&&this.playDie(!1,null,!0,r.physicle,!1,!1,!1)))},o.detectPlant=function(e){var t=this;this.inLane?this.pusher&&(this.hypno=this.pusher.hypno,this.hypno?(this.inLane.zombiePool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(500*e,!0,!1,!1,null)})),this.inLane.tombPool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(500*e)}))):(this.inLane.plantPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t,!1)})),this.inLane.hypnoZombiePool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(500*e,!0,!1,!1,null)})))):this.playWalk()},o.lobberTarget=function(){return this.pusher?this.pusher:this},i(n,[{key:"pusher",get:function(){return this._pusher},set:function(e){this.pusher&&this.pusher!=e&&(this.pusher.barrel=null),null!=e?this._pusher=e:(this._pusher=null,this.randomSpeed=0)}}]),n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainParrotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(t){var i,e,n,o,a,l,r,s,h,u,c,d,p,g,P,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.AudioClip,s=t.Vec2,h=t.Vec3},function(t){u=t.zombieDamageType,c=t.Zombie},function(t){d=t.PlantType},function(t){p=t.NodePools,g=t.ArrayGet},function(t){P=t.Square},function(t){f=t.sounds},function(t){y=t.PlantPool}],execute:function(){var v,w,b,m,C;a._RF.push({},"b1388sOiqVNAo9pYaZUS1g8","PirateCaptainParrotZombie",void 0);var S=l.ccclass,_=l.property,D=t("parrotCapture",function(){function t(){}return t.judgePlantCapturable=function(t){if(t)return!t.dead&&!t.short_&&t.eaterDetectable&&!t.fooding&&t.plantType==d.plant&&!t.invincible},t.getRandomPlantCapturable=function(){for(var t,i=this,e=[0,1,2,3,4],n=function(){var t=g.getRandom(e);e.splice(e.indexOf(t),1);for(var n=P.getLaneComponent(t).plantPool(),o=[],a=0;a<n.length;a++)i.judgePlantCapturable(n[a])&&o.push(n[a]);if(o.length>0){var l=o[0];return o.forEach((function(t){t._worldPositionX>l._worldPositionX&&(l=t)})),{v:l}}};e.length>0;)if(t=n())return t.v;return null},t.judgeHaveCapturablePlant=function(){for(var t=y.pool().concat(),i=0;i<t.length;i++)if(this.judgePlantCapturable(t[i]))return!0;return!1},t}());t("PirateCaptainParrotZombie",(v=S("PirateCaptainParrotZombie"),w=_(r),v((C=i((m=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(i=t.call.apply(t,[this].concat(a))||this).brainEater=!1,n(i,"captureSound",C,o(i)),i.orgHeight=60,i.finalWaveVictoryCountdown=0,i.flyingSpeed=100,i.targetPlant=void 0,i.captain=void 0,i.followedPlant=null,i.captureCD=0,i.captured=!1,i._vx=0,i._vy=0,i.fleeing=!1,i}e(i,t);var a=i.prototype;return a.playSpecialZombieDie=function(t){this.judgeDeath(0),this.shadeAlphaScale=0},a.detectPlantOn=function(){return!1},a.playWalk=function(t){},a.specialZombieOnEnable=function(){this.followedPlant=null,this.captain=null,this.fleeing=!1,this.captured=!1,this.switching=!0,this.playIdle(),this.height=this.orgHeight,this.shadeAlphaScale=1},a.onLaneSpawnSettled=function(t){this.height=this.orgHeight},a.onPutDirectly=function(t){this.height=this.orgHeight,this.targetPlant=D.getRandomPlantCapturable()},a.onDirtSpawned=function(t){this.height=this.orgHeight},a.playSpecialZombieDieForced=function(){this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null)},a.specialZombieUpdate=function(t,i,e){var n,o,a;(D.judgePlantCapturable(this.targetPlant)||(this.targetPlant=null,this.captured=!1),null!=(n=this.captain)&&n.isAlive()||(this.captain=null),this.fleeing)?(this.height+=300*t,null!=(o=this.followedPlant)&&o.isValid&&(this.followedPlant.height=this.height-this.orgHeight),this.height>2100&&(this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null),null!=(a=this.captain)&&a.isAlive()?(this.fleeing=!1,this.height=this.orgHeight,this.worldPositionX=P.getSquareWorldPosition(0,8).x+2*P.SquareDisW,this.worldPositionY=this.captain.worldPositionY,this.targetPlant=null):(this.playDie(!0,null,!1,u.physicle,!1,!1,!1),p.destroyPooly(this.node)))):this.targetPlant&&!this.hypno?this.captured?(this._vx=0,this._vy=0):(this.moveTo(this.targetPlant,t),this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&(this.captured=!0,f.play(this.captureSound),this.captureCD=5)):this.captain&&this.hypno==this.captain.hypno?(this.moveTo(this.captain,t),this.captain.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&this.captain.returnParrot(this)):(this.fleeing=!0,this._vx=0,this._vy=0);this.captured&&(this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()>6&&(this.captured=!1),this.captureCD-=t,this.captureCD<=0&&(this.fleeing=!0,this.targetPlant&&(this.targetPlant.die(!1),this.followedPlant=this.targetPlant,this.targetPlant.anmControl.setTimeScale(0),this.targetPlant=null)))},a.onButtered=function(t){this.playDie()},a.specialDisblowable=function(){return this.fleeing},a.currentFarBodyRec=function(){return this.fleeing},a.lobberToPos=function(t){return new s(this.worldPositionX+this._vx*t*2,this.worldPositionY+this._vy*t*2)},a.moveTo=function(t,i){var e=new s(t._worldPositionX-this._worldPositionX,t._worldPositionY-this._worldPositionY).normalize().multiplyScalar(this.flyingSpeed*i);this._vx=e.x,this._vy=e.y;var n=1;e.x>0&&(n=-1);var o=this.body.node.scale.clone();this.body.node.scale=new h(Math.abs(o.x)*n,o.y,o.z),this.worldPosition=this.worldPosition.clone().add(e)},i}(c)).prototype,"captureSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Zombies.ts","./PirateCaptainParrotZombie.ts"],(function(t){var o,a,r,e,i,n,s,l,h;return{setters:[function(t){o=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator},function(t){e=t.Zombie},function(t){i=t.NodePools},function(t){n=t.zombies,s=t.ZombieEnum},function(t){l=t.PirateCaptainParrotZombie,h=t.parrotCapture}],execute:function(){var d;a._RF.push({},"4d566STzN1PH4DfXdxb2aT9","PirateCaptainZombie",void 0);var c=r.ccclass;r.property,t("PirateCaptainZombie",c("PirateCaptainZombie")(d=function(t){function a(){for(var o,a=arguments.length,r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];return(o=t.call.apply(t,[this].concat(r))||this).haveParrot=!0,o.parrotHealth=300,o.parrotCooldown=7,o.parrotRetryCooldown=1,o._cd=0,o.oldGroanSound=[],o}o(a,t);var r=a.prototype;return r.specialZombieOnLoad=function(){this.oldGroanSound=this.groanSound},r.playSpecialZombieDie=function(t){this.judgeDeath()},r.specialZombieOnEnable=function(){this.haveParrot=!0,this.parrotHealth=300,this.groanSound=this.oldGroanSound,this._cd=this.parrotCooldown},r.createParrot=function(){var t=n.createZombie(this.lIndex,s.pirate_parrot);if(t){var o;null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(-1);var a=t.getComponent(l);return a.worldPosition=this.worldPosition,a.captain=this,this.haveParrot=!1,this.groanSound=[],a.health=this.parrotHealth,a.targetPlant=h.getRandomPlantCapturable(),a}},r.returnParrot=function(t){var o;this.groanSound=this.oldGroanSound,this.haveParrot=!0,this.parrotHealth=t.health,null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(0),this._cd=this.parrotCooldown,t.playDie(!0),i.destroyPooly(t.node)},r.specialZombieUpdate=function(t,o,a){this.haveParrot&&!this.hypno&&(this._cd>0&&(this._cd-=t),this._cd<=0&&(h.judgeHaveCapturablePlant()?this.createParrot():this._cd=this.parrotRetryCooldown))},a}(e))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./NodePools.ts","./Zombies.ts"],(function(t){var r,e,a,i,n,o,s,u,c,p;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.AudioClip},function(t){u=t.GargantuarZombie},function(t){c=t.ArrayGet},function(t){p=t.ZombieEnum}],execute:function(){var l,m,h,d,f;n._RF.push({},"e2284uKBI9GQpaHbL+zvftu","PirateGargantuarZombie",void 0);var y=o.ccclass,b=o.property;t("PirateGargantuarZombie",(l=y("PirateGargantuarZombie"),m=b([s]),l((f=r((d=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,a(r,"steadySounds",f,i(r)),r.impEnum=p.pirate_imp,r}e(r,t);var n=r.prototype;return n.specialGargantuarAnimationListener=function(t){"steady"==t.name&&this.playOneShot(c.getRandom(this.steadySounds))},n.throwImp=function(){this._throwImp(Math.floor(5*Math.random()),this.reversed?6:2,350),this._haveImp=!0,this._throwImp(Math.floor(5*Math.random()),4,350)},r}(u)).prototype,"steadySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateImpCannonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Zombies.ts","./GargantuarZombie.ts","./levelController.ts"],(function(o){var t,i,e,n,a,r,s,l,h,u,p,c,d,m,b,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.CCFloat,h=o.CCInteger,u=o.tween,p=o.Vec2},function(o){c=o.Zombie},function(o){d=o.Square},function(o){m=o.ZombieEnum},function(o){b=o.gargantuar},function(o){f=o.LevelPlay}],execute:function(){var y,S,v,C,D,g,w,P,T,Z,L,x,E,I,_;a._RF.push({},"317a8MCv7NEjpaQruuwM9bq","PirateImpCannonZombie",void 0);var M=r.ccclass,k=r.property;o("PirateImpCannonZombie",(y=M("PirateImpCannonZombie"),S=k(s),v=k(s),C=k(s),D=k(l),g=k(l),w=k(h),y((Z=t((T=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).brainEater=!1,e(t,"RollSound",Z,n(t)),e(t,"ShootSound",L,n(t)),e(t,"ExplodeSound",x,n(t)),t.moveToShipTween=null,t.knockBackable=!1,t.leapable=!1,e(t,"initialShootDuration",E,n(t)),e(t,"shootDuration",I,n(t)),t.shootCD=7.5,e(t,"maxShootCount",_,n(t)),t.shotCount=0,t.shooting=!1,t.impEnum=m.pirate_imp,t}i(t,o);var a=t.prototype;return a.specialZombieLeapable=function(){return!1},a.specialZombieKnockbackable=function(){return!1},a.specialZombieOnEnable=function(){this.shotCount=0,this.shooting=!1,this.shootCD=this.initialShootDuration,this.body.DeathAnm="Death",this.currentFlyZombie=!1,this.flying=!1},a.moveToPos=function(o){var t=this;void 0===o&&(o=!1);var i=o?d.getLnC(0,0).node.worldPosition.x-d.SquareDisW:d.getLnC(0,8).node.worldPosition.x+d.SquareDisW;this.displayed||(this.moveToShipTween=u(this).to(4,{worldPositionX:i},{easing:"quadIn"}).call((function(){t.moveToShipTween=null})).start(),this.playOneShot(this.RollSound),this.playIdle())},a.onReversedSet=function(o){this.moveToPos(o)},a.onLaneSpawnSettled=function(){this.moveToPos(this.reversed)},a.detectPlant=function(o){},a.playSpecialZombieDie=function(o){this.judgeDeath(0)},a.playSpecialZombieDieForced=function(){var o;null==(o=this.moveToShipTween)||o.stop()},a.specialZombieUpdate=function(o,t,i){this.moveToShipTween||this.shooting||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&(this.shotCount<this.maxShootCount?(this.shooting=!0,this.shootCD=this.shootDuration,this.body.playAnimation("Shoot",2),this.shotCount++):(this.body.DeathAnm="Explode",this.playDie(!1,null,!1,null,!1),f.component.setLevelVictoryCountDown(3))))},a._shoot=function(o,t,i,e,n){void 0===i&&(i=-30),void 0===e&&(e=45),void 0===n&&(n=1);var a=b.throwOneImpToLnC(this.impEnum,this.inLane,new p(this.headDropPoint.worldPosition.x,this._worldPositionY),d.getLnC(o,t),this.headDropPoint.worldPosition.y-this._worldPositionY+i,e,n);return a.body.playAnimation("Fly",1/0),a.tallNutBlock=!0,a.reversed=this.reversed,a.hypno=this._usedToBeHypno,a},a.playWalk=function(o){},a.specialAnimationListener=function(o){if("Shoot"==o.name)this.playOneShot(this.ShootSound),this._shoot(this.inLane.LaneIndex,4+Math.round(Math.random())*(this.reversed?-1:1));else if("shootingOff"==o.name)this.shooting=!1,this.playIdle();else if("Explode"==o.name){this.playOneShot(this.ExplodeSound);for(var t=0;t<5;t++){var i=100+150*Math.random(),e=i/150;this._shoot(Math.floor(5*Math.random()),Math.floor(4*Math.random())+2+(this.reversed?1:0),-10,i,e).tallNutBlock=!1}}},t}(c)).prototype,"RollSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(T.prototype,"ShootSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"ExplodeSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"initialShootDuration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),I=t(T.prototype,"shootDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7.5}}),_=t(T.prototype,"maxShootCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSeagullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,l,a,i,n,o,r,s,u,d,c,h,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,r=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){c=e.Zombie},function(e){h=e.ArrayGet,p=e.NodePools},function(e){g=e.sounds}],execute:function(){var m,f,y,b,S,v,H,P,D;o._RF.push({},"dec02612ItEKJCfPpyA9YNR","PirateSeagullZombie",void 0);var I=r.ccclass,_=r.property;e("PirateSeagullZombie",(m=I("PirateSeagullZombie"),f=_([s]),y=_([s]),b=_(u),m((H=t((v=function(e){function t(){for(var t,l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"seagullButteredSounds",H,i(t)),a(t,"seagullIdleSounds",P,i(t)),t.seagullIdleSayCD=3,t._seagullHaveHead=!0,a(t,"birdExplParticle",D,i(t)),t.seagullArmature=void 0,t}l(t,e);var o=t.prototype;return o.specialZombieUpdate=function(e,t,l){this.seagullIdleSayCD>0?this.seagullIdleSayCD-=e:(this.seagullIdleSayCD=5+3*Math.random(),g.play(h.getRandom(this.seagullIdleSounds),.7,1))},o.setButter=function(e,t){var l;e>0&&(this.playDie(!1,this.defaultDirection()),g.play(h.getRandom(this.seagullButteredSounds)),null==(l=this.seagullArmature)||null==(l=l.animation)||l.play("Death",1));return!0},o.plantEatAllowed=function(e){return!e.short_},o._dropHead=function(e){void 0===e&&(e=1),this.zombieHead&&this.seagullHaveHead&&(this.seagullHaveHead=!1,this.playBreakSound(),this.drop(this.zombieHead,e,new d(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.node.parent))},o.specialAnimationListener=function(e){"dropHead"==e.name&&this._dropHead()},o.dropHead=function(e,t){var l=this;void 0===t&&(t=this.zombieHeight),this.armors.length&&(this.armors.concat().forEach((function(e){l.throwArmor(e,null),p.destroyPooly(e.node)})),this.armors=[])},o.playSpecialZombieDie=function(e){var t;this.judgeDeath(0);var l="Escape";if(e){l="Explode",g.playBirdExpl();var a=p.instantiatePooly(this.birdExplParticle);a.parent=this.node.parent,a.worldPosition=this.node.worldPosition,a.worldScale=this.node.worldScale,a.setSiblingIndex(this.node.getSiblingIndex()+1)}else this._dropHead(10);null==(t=this.seagullArmature)||null==(t=t.animation)||t.play(l,1)},o.specialZombieOnEnable=function(){var e;this.seagullIdleSayCD=3*Math.random(),this.seagullHaveHead=!0,null==(e=this.seagullArmature)||null==(e=e.animation)||e.play("Idle",1/0)},o.specialZombieOnLoad=function(){var e;this.seagullArmature=null==(e=this.db.armature().getSlot("Seagull"))?void 0:e.childArmature},n(t,[{key:"seagullHaveHead",get:function(){return this._seagullHaveHead},set:function(e){var t;null==(t=this.body)||null==(t=t.body)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_head")&&t._setDisplayIndex(e?0:-1)})),this._seagullHaveHead=e}}]),t}(c)).prototype,"seagullButteredSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(v.prototype,"seagullIdleSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(v.prototype,"birdExplParticle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSwashbucklerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Square.ts"],(function(i){var t,e,n,a,s,r,o,l,u,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,o=i.AudioClip},function(i){l=i.Zombie},function(i){u=i.ArrayGet},function(i){h=i.Square}],execute:function(){var c,d,m,S,p;s._RF.push({},"b79edvrTFZGVLeVacR4otOc","PirateSwashbucklerZombie",void 0);var f=r.ccclass,b=r.property;i("PirateSwashbucklerZombie",(c=f("PirateSwashbucklerZombie"),d=b([o]),c((p=t((S=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(t=i.call.apply(i,[this].concat(s))||this).willLandColumn=4,n(t,"swingSounds",p,a(t)),t}e(t,i);var s=t.prototype;return s.onSandStormStart=function(){this.flying=!1,this.currentFlyZombie=!1,this.onLanding(),this.switching=!1,this.smartShadeHider=!1},s.specialZombieKnockbackable=function(){return!this.smartShadeHider},s.specialZombieLeapable=function(){return!this.smartShadeHider},s.fallImmediatelyWhenHeavyDamaged=function(){return!this.smartShadeHider},s.onButtered=function(i){this.smartShadeHider&&(this.butterStun=0)},s.onChiliStunned=function(i){this.smartShadeHider&&(this.chiliStun=0)},s.specialAnimationListener=function(i){if("swing"==i.name)this.playOneShot(u.getRandom(this.swingSounds));else if("swingJudge"==i.name){var t;null!=(t=this.inLane)&&t.isSea&&Math.random()<.05?(this.worldPositionX+=2*h.SquareDisW,this.body.DeathAnm="SwingFailure",this.playDie(!0),this.judgeDeath()):this.body.playAnimation("SwingSuccess",1)}else"dropHead"==i.name?this.dropHead(null,1):"switchingFalse"==i.name&&this.judgeDeath(0)},s.onDirtSpawned=function(i){this.currentFlyZombie=!1,this.smartShadeHider=!1,this.flying=!1},s.specialOnLeapEnd=function(){this.smartShadeHider=!1},s.prevDistance=function(){return 0},s.swing=function(){this.playIdle(),this.body.playAnimation("SwingBack",1/0),this.worldPositionX=h.getSquareWorldPosition(0,this.willLandColumn).x,this.switching=!0,this.setBodyRec(!0)},s.resetWillLandColume=function(){this.willLandColumn=4},s.specialZombieOnEnable=function(){this.smartShadeHider=!0,this.body.DeathAnm="Death",this.resetWillLandColume()},s.onLaneSpawnSettled=function(i){this.resetWillLandColume(),this.swing()},s.onPutDirectly=function(i){this.willLandColumn=i.cIndex,this.swing()},t}(l)).prototype,"swingSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=S))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/PirateZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./GargantuarZombie.ts","./Zombies.ts","./Square.ts","./NodePools.ts"],(function(o){var e,t,n,i,r,a,s,l,h,u,d,c,m,S;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.AudioClip,l=o.Node,h=o.Vec2},function(o){u=o.ZombossMechZombie},function(o){d=o.gargantuar},function(o){c=o.ZombieEnum},function(o){m=o.Square},function(o){S=o.ArrayGet}],execute:function(){var p,b,f,y,w,g,Z,v,M,P,z,F,L,O,q;r._RF.push({},"a356f7aqqhEJqb/dbWFI5Ud","PirateZombossMechZombie",void 0);var _=a.ccclass,R=a.property;o("PirateZombossMechZombie",(p=_("PirateZombossMechZombie"),b=R(s),f=R(s),y=R(s),w=R(s),g=R([s]),Z=R(l),p((P=e((M=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=o.call.apply(o,[this].concat(r))||this,n(e,"introSmashSound",P,i(e)),n(e,"introFallSound",z,i(e)),n(e,"afterShootSound",F,i(e)),n(e,"waveBeforeShootSound",L,i(e)),n(e,"addShootSounds",O,i(e)),n(e,"shooter",q,i(e)),e}t(e,o);var r=e.prototype;return r.specialZombossMechAnimationListener=function(o){"introSmashSound"==o.name?(this.playOneShot(this.introSmashSound,1,!0),this.playOneShot(S.getRandom(this.worldZombossSpawnSaySounds),1,!0),this.playOneShot(S.getRandom(this.worldZombossMechLeapEndSounds),1,!0)):"introFallSound"==o.name?this.playOneShot(this.introFallSound,1,!0):"shootReadySound"==o.name&&this.playOneShot(this.waveBeforeShootSound,1,!0)},r.dropMissile=function(){var o=6;1==this.mechToChoose&&(o=10);for(var e=0;e<o;e++){var t=this.reversed?m.getLnC(0,6).node.worldPosition.x-m.SquareDisW*Math.random()*3:m.getLnC(0,2).node.worldPosition.x+m.SquareDisW*Math.random()*3,n=d.throwOneImpToWP(c.pirate_imp,this.inLane,new h(this.shooter.worldPosition.x,this._worldPositionY),new h(t,m.getLaneComponent(Math.floor(5*Math.random())).floorY),this.shooter.worldPosition.y-this._worldPositionY,300+50*Math.random(),.8+.5*Math.random());n.body.playAnimation("Fly",1/0),n.reversed=this.reversed,n.hypno=this.hypno}this.playOneShot(S.getRandom(this.addShootSounds),1,!0),this.playOneShot(this.afterShootSound,1,!0)},e}(u)).prototype,"introSmashSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(M.prototype,"introFallSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(M.prototype,"afterShootSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"waveBeforeShootSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"addShootSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(M.prototype,"shooter",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Plant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Particles.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts","./NodePools.ts","./LnC.ts","./AnimationController.ts","./Materials.ts","./UI.ts","./levelController.ts","./Plants.ts","./SoundsController.ts","./ParticleSelfdestroy.ts","./Tiles.ts","./LevelTaskCount.ts","./MultiLanguage.ts"],(function(t){var n,i,e,a,o,l,s,h,r,d,u,c,p,f,g,P,y,v,b,m,w,C,L,S,T,I,D,O,_,E,k,A,F,M,q,N,x,B,W;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,h=t.Enum,r=t.AudioClip,d=t.Size,u=t.AudioSource,c=t.dragonBones,p=t.Material,f=t.tween,g=t.Vec2,P=t.Vec3,y=t.Color,v=t.EventMouse},function(t){b=t.particle},function(t){m=t.Character},function(t){w=t.sounds},function(t){C=t.Rectangle,L=t.PlantPool},function(t){S=t.NodePools,T=t.ArrayGet,I=t.instantiatePooly},function(t){D=t.TileType},function(t){O=t.AnimationController},function(t){_=t.materialRes},function(t){E=t.UIInGame},function(t){k=t.LevelPlay},function(t){A=t.PlantEnum,F=t.plants},function(t){M=t.SoundFXController},function(t){q=t.ParticleSelfdestroy},function(t){N=t.TileEnum,x=t.tiles},function(t){B=t.LevelTaskCountModeEnum},function(t){W=t.MultiLanguage}],execute:function(){var j,U,R,z,H,X,V,Y,G,J,K,Q,Z,$,tt,nt,it;l._RF.push({},"de59daihTVDgJBO/PJ5zQ6J","Plant",void 0);var et=s.ccclass,at=s.property,ot=t("PlantType",function(t){return t[t.plant=0]="plant",t[t.vine=1]="vine",t[t.pot=2]="pot",t[t.lilyPad=3]="lilyPad",t[t.tile=4]="tile",t}({})),lt=t("PlantFamily",function(t){return t[t.Peashooter=0]="Peashooter",t[t.Melee=1]="Melee",t[t.Cold=2]="Cold",t[t.Sun=3]="Sun",t[t.Poison=4]="Poison",t[t.Shadow=5]="Shadow",t[t.Slow=6]="Slow",t[t.Defence=7]="Defence",t[t.Electricity=8]="Electricity",t[t.Fire=9]="Fire",t[t.Explosive=10]="Explosive",t[t.Sharp=11]="Sharp",t[t.Lobber=12]="Lobber",t[t.Magic=13]="Magic",t[t.None=14]="None",t}({}));t("PlantProps",(function(){this.CannotBePushedByFootballMech=!1}));h(lt);t("Plant",(j=et("Plant"),U=at(Boolean),R=at(Boolean),z=at([r]),H=at(Boolean),X=at(d),V=at(Boolean),Y=at(Boolean),j((K=n((J=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=t.call.apply(t,[this].concat(o))||this).fooding=!1,n._objdata={},n._objdataOwn={},n._endangered=!1,n._endangerdTile=void 0,n.audioSource=void 0,n.anmControl=null,n._darkSlots=[],n.bodyTweens=[],n.allowStack=!1,n.leapTween=null,n.family=lt.None,n._foodable=!0,n.foodLightParticle=null,n._dmgScale=1,n._cdScale=1,n.foodParent=void 0,e(n,"tall",K,a(n)),n.tall_=!1,e(n,"short",Q,a(n)),n.short_=!1,n.ID=A.Peashooter,n.TYPE=[],n.SUNCOST=0,n.plantType=ot.plant,n.dead=!1,n.flyingPlant=!1,n.deathAnm="Death",e(n,"deadSound",Z,a(n)),n.eatDamagable=!0,n.eaterDetectable=!0,n.smasherDetectable=!0,n.plantInLnC=null,n.hidden=0,n.darkModeOn=!1,e(n,"haveDarkMode",$,a(n)),e(n,"bodySize",tt,a(n)),n._bodyRec=new C,n.toughness=300,n.health=300,n.hurting=0,n.countDownInvincible=0,n.damagable=!0,n._invincible=!1,n.material=void 0,e(n,"haveWaterAnimation",nt,a(n)),n.waterAnm="Water",n.waterAnmFadeinTime=.1,e(n,"onFire",it,a(n)),n.body=null,n.hot=0,n.plantWave=null,n}i(n,t);var l=n.prototype;return l.onObjdataSet=function(t,n){},l.modObjdataOwn=function(t){var n=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(i){null!=t[i]&&(n._objdataOwn[i]=t[i])})),this.onObjdataSet(this._objdata,this._objdataOwn)},l.canBeChied=function(){return!0},l.onChiedFailed=function(t){},l.heal=function(t){var n=this.health+0;this.health=Math.min(this.health+t,this.toughness),this.onDamaged(n-this.health,n,this.health)},l.shovelable=function(){return!this.fooding&&this.specialPlantShovelable()&&!this._invincible&&!this.endangered},l.specialPlantShovelable=function(){return!0},l.specialPlantOnLoad=function(){},l.characterOnLoad=function(){var t,n=this;this.body=this.node.getChildByName("Body"),this.getComponent(u)||this.addComponent(u),this.audioSource=this.getComponent(u),this.anmControl=this.getComponent(O),this.anmControl.setBody(),this.db=this.anmControl.body,this.anmControl.body.on(c.EventObject.FRAME_EVENT,this.animationListener,this),this.anmControl.body.on(c.EventObject.SOUND_EVENT,this.animationListener,this),this.anmControl.anmCompleteListenerOn(),this.anmControl.body.on(c.EventObject.COMPLETE,this.animationOnComplete,this);var i=new p;i.initialize({effectAsset:_.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=i,this.material.setProperty("chillColor",0);var e=null==(t=this.db)?void 0:t.armature();e&&(null==e||e.getSlots().forEach((function(t){t.name.includes("_DARK")&&n._darkSlots.push(t)}))),this.specialPlantOnLoad()},l.inLnCArray=function(){return this.plantType==ot.vine?this.plantInLnC.vineInSquare:this.plantType==ot.pot||this.plantType==ot.lilyPad?[]:this.plantInLnC.plantInSquare},l.leapDisable=function(t){return void 0===t&&(t=!1),this.dead||this.leapTween||this.fooding&&!t},l.leapTo=function(t,n,i,e,a,o){var l=this;if(void 0===n&&(n=.5),void 0===i&&(i=200),void 0===a&&(a=!1),void 0===o&&(o="linear"),!this.leapDisable(a)){var s,h,r=this.plantInLnC,d=t.plantPoint,u=t.plantInSquare;if(null==(s=this.anmControl.plantUpper)||null==(s=s.node)||s.setParent(t.inLane.plantUpperLayer,!0),this.plantType==ot.vine)d=t.vinePoint,u=t.vineInSquare,null==(h=this.anmControl.vineback)||null==(h=h.node)||h.setParent(t.vineBackPoint,!0);else if(this.plantType==ot.pot){var c;d=t.potPoint,u=[],t.floawerPot=this,t.haveFloawerPot=!0,this.plantInLnC.floawerPot=null,this.plantInLnC.haveFloawerPot=!1,null==(c=this.anmControl.potFront)||null==(c=c.node)||c.setParent(t.potPointUpper,!0)}else this.plantType==ot.lilyPad?(d=t.potPoint,u=[],t.lilyPad=this,t.haveLilyPad=!0,this.plantInLnC.lilyPad=null,this.plantInLnC.haveLilyPad=!1):this.plantType==ot.tile&&(d=t.plantPoint,u=t.tilePlantInSquare);this.node.setParent(d,!0);var p=this.inLnCArray().indexOf(this);-1!=p&&this.inLnCArray().splice(p,1),-1==u.indexOf(this)&&u.push(this),this.plantInLnC=t,this._endangerdTile&&(this._endangerdTile.node.parent=this.plantInLnC.inLane.tileLayer,this._endangerdTile.node.worldPosition=this.plantInLnC.node.worldPosition),t.readIndex();if(n>0){this.invincible=!0,this.onLeapStart(),this.leapTween=f(this).to(n,{worldPositionX:d.worldPosition.x,worldPositionY:d.worldPosition.y},{easing:o}).call((function(){l.leapTween=null,l.invincible=!1,l.pushTideListner(t,t.getTileType(),t.plantable(),t.vineable(),t.floawerPotable(),t.flyable()),l.dead||l.onLeapEnd()})).start();var P=f(this).to(n/2,{height:i},{easing:"quadOut"}).to(n/2,{height:0},{easing:"quadIn"}).start();this.bodyTweens.push(P,this.leapTween)}else this.leapTween=null,this.worldPosition=new g(d.worldPosition.x,d.worldPosition.y),this.body.worldPosition=this.node.worldPosition,this.plantInLnC=t,this.inLnC=t,this.height=0,this.foodLightParticle&&(this.foodLightParticle.worldPosition=this.node.worldPosition),this.fooding||this.pushTideListner(t,t.getTileType(),t.plantable(),t.vineable(),t.floawerPotable(),t.flyable());r.readIndex()}},l.onLeapStart=function(){},l.onLeapEnd=function(){},l.animationListener=function(t){},l.animationOnComplete=function(){},l.strengthen=function(){},l.smash=function(t,n){void 0===n&&(n=!1),n?this.inLnC.getAllPlants().forEach((function(n){n.normalSmash(t)})):this.plantType==ot.vine?this.normalSmash(t):this.plantType==ot.plant?this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.normalSmash(t):this.plantType!=ot.pot&&this.plantType!=ot.lilyPad||(this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].normalSmash(t):this.normalSmash(t))},l.normalSmash=function(t){this.fooding||this.invincible||!this.smasherDetectable||this.die()},l.specialPlantOnSquareChange=function(t,n){},l.characterOnSquareChange=function(t,n){if(!this.dead){var i;this.plantWave&&this.plantWave.setParent(this.inLane.node,!0);var e=null==n||null==(i=n.node)?void 0:i.worldPosition;e&&this.setBodyRec(new g(e.x,e.y)),this.specialPlantOnSquareChange(t,n)}},l.fightAloneStrengthen=function(t){var n=Number(null==t?void 0:t.DamageScale),i=Number(null==t?void 0:t.ShootIntervalScale);!isNaN(n)&&n>=0&&(this._dmgScale=n),!isNaN(i)&&i>=0&&(this._cdScale=i),this.specialFightAloneStrengthen(t)},l.specialFightAloneStrengthen=function(t){},l.characterOnLaneChange=function(t,n){t.deletePlant(this),n.addPlant(this),this.foodParent=n.foodPlantLayer,this.specialOnLaneChange(t,n)},l.specialOnLaneChange=function(t,n){},l.burn=function(){if(!this.fooding&&!this.invincible){w.playPlantBurn();var t=S.instantiatePooly(b.plantBurnt());t.parent=this.inLnC.plantPoint,t.worldPosition=this.inLnC.node.worldPosition,t.setSiblingIndex(0),this.die(!1),this.anmControl.throwAllBackNFront(),this.node.destroy()}},l.getFamily=function(t){var n=lt.None;switch(t){case"Defence":n=lt.Defence;break;case"Peashooter":n=lt.Peashooter;break;case"Sun":n=lt.Sun;break;case"Explosive":n=lt.Explosive;break;case"Melee":n=lt.Melee;break;case"Slow":n=lt.Slow;break;case"Electricity":n=lt.Electricity;break;case"Shadow":n=lt.Shadow;break;case"Poison":n=lt.Poison;break;case"Lobber":n=lt.Lobber;break;case"Magic":n=lt.Magic;break;case"Sharp":n=lt.Sharp;break;case"Cold":n=lt.Cold}this.family=n},l.isAlive=function(){return!this.dead},l.playDeathSound=function(){this.deadSound.length&&this.getComponent(u).playOneShot(T.getRandom(this.deadSound),M.SoundFXVolume)},l.kill=function(){this.fooding||this.invincible||this.die()},l.specialPlantOnEaten=function(t,n,i,e){},l.eat=function(t,n){var i=this.health+0;this.dealDamage(t,0),i!=this.health&&this.specialPlantOnEaten(t,n,i,this.health),this.health<=0&&n.chewSoundWhenEat&&w.playZombieGulp()},l.plantCount=function(){return 1},l.die=function(t,n,i,e){var a=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===e&&(e=!0),!this.dead){var o;if(this.endangered&&(this.endangered=!1,n&&k.component.plantUnderProtectCount--),n)E.uiingame.calculateLevelTask(B.PlantLoseLimit,{}),(null==(o=k.component)?void 0:o.fightAlonePlant)==this&&(E.uiingame.loseDarken(null,W.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),k.component.fightAlonePlant=null);this.fooding&&this.foodEnd(),L.deletePlant(this),this.inLane.deletePlant(this),F.registerPlant(this.ID,-this.plantCount()),E.uiingame.calculateLevelTask(B.PlantCountLimit,{AllPlantCount:L.getPlantAmount()});var l=this.plantInLnC;if(this.plantType==ot.plant){var s=l.plantInSquare.indexOf(this);-1!=s&&l.plantInSquare.splice(s,1)}else if(this.plantType==ot.vine){var h=l.vineInSquare.indexOf(this);-1!=h&&l.vineInSquare.splice(h,1)}else if(this.plantType==ot.tile){var r=l.tilePlantInSquare.indexOf(this);-1!=r&&l.tilePlantInSquare.splice(r,1)}else this.plantType==ot.pot?l.haveFloawerPot=!1:this.plantType==ot.lilyPad&&(l.haveLilyPad=!1);if(t&&n&&this.specialPlantOnKilled(),l.readIndex(),t&&this.playDeathSound(),this.dead=!0,this.specialPlantDie(),t)if(""==this.deathAnm){if(i){var d=S.instantiatePooly(b.deadPlant());d.parent=l.squareLower.node,d.worldPosition=this.node.worldPosition}this.node.destroy()}else e&&-1!=this.anmControl.body.armature().animation.animationNames.indexOf(this.deathAnm)&&this.anmControl.playAnimation(this.deathAnm,1),this.anmControl.body.on(c.EventObject.COMPLETE,(function(t){if(i){var n=S.instantiatePooly(b.deadPlant());n.parent=l.squareLower.node,n.worldPosition=a.node.worldPosition}a.node.destroy()}),this)}},l.specialPlantDie=function(){},l.specialPlantOnKilled=function(){},l.setHidden=function(t){this.hidden=this.hidden>t?this.hidden:t},l.judgeDarkPlantMode=function(){var t,n;this.haveDarkMode&&((null==(t=this.inLnC)?void 0:t.shadowCD)>0&&!this.darkModeOn?(this.darkModeOn=!0,this._darkSlots.forEach((function(t){t.displayIndex=1}))):(null==(n=this.inLnC)?void 0:n.shadowCD)<=0&&this.darkModeOn&&(this.darkModeOn=!1,this._darkSlots.forEach((function(t){t.displayIndex=0}))))},l.characterOnTileTypeChange=function(t,n){this.dead||this.specialOnTileTypeChange(t,n)},l.specialOnTileTypeChange=function(t,n){},l.onTileTypeChange=function(t,n,i,e,a,o,l){this.dead||this.fooding||this.invincible||this.pushTideListner(t,i,e,a,o,l),this.dead||this.fooding||this.invincible||t.putPlantAvailable(this.TYPE,!1)||this.die(),this.dead||this.specialOnTileTypeChange(n,i)},l.onSkyFallEnd=function(){this.node.destroy()},l.fall=function(){this.dead||(this.die(!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),this.fallInSky(!1))},l.normalThrowAway=function(t,n,i,e){var a=this;if(void 0===t&&(t=!0),void 0===i&&(i=1),void 0===e&&(e=150),!this.dead&&!this.fooding&&!this.invincible){this.die(!1,!0,!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),w.playPlantThrow();var o=t?this.inLane.toLeft.worldPosition.x:this.inLane.toRight.worldPosition.x;f(this).to(i,{worldPositionX:o}).start(),f(this).to(i/2,{height:e},{easing:"quadOut"}).to(i/2,{height:0},{easing:"quadIn"}).call((function(){a.node.destroy()})).start(),f(this.node).by(i,{angle:90*(t?1:-1)}).start()}},l.throwAway=function(t,n,i,e){void 0===t&&(t=!0),void 0===n&&(n=null),void 0===i&&(i=1),void 0===e&&(e=150),this.normalThrowAway(t,n,i,e)},l.pushTideListner=function(t,n,i,e,a,o){t.crackleCountdown>0?this.burn():n!=D.sea?n!=D.sky||(i||this.plantType!=ot.plant)&&(e||this.plantType!=ot.vine)&&this.plantType!=ot.lilyPad||this.flyingPlant||this.inLnC.haveFloawerPot?(i||this.plantType!=ot.plant)&&(e||this.plantType!=ot.vine)||n!=D.water||this.flyingPlant||this.drown():this.fall():this.drown(!0)},l.drown=function(t){void 0===t&&(t=!1),this.die(!1),t?b.spawnSeaSplash(this.inLane.LaneIndex,new P(this._worldPositionX,this._worldPositionY,10)):b.spawnWaterSplash(this.inLane.LaneIndex,new P(this._worldPositionX,this._worldPositionY,10)),this.node.destroy()},l.food=function(t){if(void 0===t&&(t=!0),!this.fooding&&this.foodable&&!this.dead&&!this.leapTween){if(t){var n=S.instantiatePooly(b.foodLight());n.parent=this.inLnC.particleLowerPoint,n.setPosition(0,0,0);var i=n.getComponent(c.ArmatureDisplay);i.playAnimation("Start",1);var e=new y(255,255,255,255);this.plantInLnC.tilesInSquare.forEach((function(t){t.tileID==N.foodLinker&&(e=t.foodLightColor)})),i.color=e;var a=this.foodParent?this.foodParent:this.inLane.foodPlantLayer;n.setParent(a,!0),n.setSiblingIndex(0),this.foodLightParticle=n,this.body.setParent(a,!0),w.playPlantFoodStart()}this.hurting=60,this.fooding=!0,this.health=this.toughness,this.specialPlantFood(t)}},l.specialPlantFood=function(t){},l.specialPlantFoodEnd=function(){},l.foodEnd=function(){var t;this.foodLightParticle&&this.foodLightParticle.getComponent(c.ArmatureDisplay).playAnimation("End",1),this.fooding=!1,this.hurting=60,this.foodLightParticle=null,this.node.isValid?this.body.setParent(this.node,!0):this.body.destroy(),this.body.position=new P(0,0,0),this.specialPlantFoodEnd(),this.pushTideListner(this.inLnC,this.inLnC.getTileType(),this.inLnC.plantable(!1),this.inLnC.vineable(!1),this.inLnC.floawerPotable(!1),this.inLnC.flyable(!1)),null==(t=this.plantInLnC)||t.readIndex()},l.setBodyRec=function(t){this.bodyRec=C.createRectangleCenter(t,this.bodySize.width,this.bodySize.height)},l.umbrella=function(){return!1},l.dealDamage=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.invincible&&this.damagable&&!this.fooding){if(1==n){var i=!1;if(this.inLnC.get3x3().forEach((function(t){var n;i||null==t||null==(n=t.plantInSquare)||n.forEach((function(t){i||t.umbrella()&&(i=!0)}))})),i)return;this.plantType==ot.plant?this.dealNormalDamage(t,n):this.plantType==ot.vine?this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n):this.plantType!=ot.pot&&this.plantType!=ot.lilyPad||(this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n))}else for(var e=this.inLnC.getAllPlants(),a=0;a<e.length;a++){var o;if(null!=(o=e[a])&&o.eaterDetectable||e[0]==this){var l;null==(l=e[a])||l.dealNormalDamage(t,n);break}}return 3==n&&this.health<=0&&this.burn(),this.health}},l.defaultHurtLightStrength=function(t){return t&&this.hurting>0?this.hurting:20},l.onDamaged=function(t,n,i){},l.setCountDownInvincible=function(t){this.countDownInvincible=this.countDownInvincible>t?this.countDownInvincible:t},l.damageScale=function(t,n){return 1},l.dealNormalDamage=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.invincible){var i=0==n;if(!i||this.eatDamagable){var e=this.health+0;return this.health-=t*this.damageScale(t,n),t>0&&(this.hurting=this.defaultHurtLightStrength(i),this.onDamaged(t,e,this.health+0)),this.health<=0&&this.onDamagedToHealthO(),this.health}}},l.onDamagedToHealthO=function(){this.die()},l.shouldMaterial=function(){var t=new y(0,0,0,255);this.hurting>0&&(t.r+=5*this.hurting,t.g+=5*this.hurting,t.b+=5*this.hurting),this.hidden>0&&(t.b+=150);var n=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(n,t),this.anmControl.body.customMaterial=this.material},l.specialPlantOnMouseDown=function(){return!1},l.onMouseDown=function(t){if(t.getButton()==v.BUTTON_RIGHT)this.water();else if(k.gameStarted&&t.getButton()==v.BUTTON_LEFT&&-1==E.index)return this.specialPlantOnMouseDown();return!1},l.waterable=function(){return!0},l.water=function(){!this.fooding&&this.haveWaterAnimation&&!this.dead&&this.waterable()&&this.anmControl.playAnimation(this.waterAnm,1,this.waterAnmFadeinTime)},l.specialPlantOnEnable=function(){},l.lncStayable=function(t){},l.characterOnEnable=function(){this.short_=this.short,this.tall_=this.tall,this.bodyTweens=[],this.dead=!1,this.eaterDetectable=!0,this.smasherDetectable=!0,this.deathAnm="Death",this.darkModeOn=!1,this.damagable=!0,L.registerPlant(this),this.fooding=!1,this.health=this.toughness,this.darkModeOn=!this.haveDarkMode,this._invincible=!1,this.eatDamagable=!0,this.hidden=0,this.endangered=!1,F.registerPlant(this.ID,this.plantCount()),this.specialPlantOnEnable()},l.specialPlantOnDisable=function(){},l.characterOnDisable=function(){this.fooding&&this.foodEnd(),this.die(!1,!1),this.plantWave&&(this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null),this.specialPlantOnDisable(),L.deletePlant(this),this.bodyTweens.forEach((function(t){null==t||t.stop()}))},l.specialPlantUpdate=function(t){},l.specialPlantLateUpdate=function(t){},l.lateUpdate=function(t){this.specialPlantLateUpdate(t)},l.blowStart=function(){return!1},l.plantHeat=function(t){this.hot>0&&(this.hot-=t),this.onFire&&this.hot<=0&&(this.hot=0,this.inLnC.plantHeat()&&(this.hot=Math.round(8*Math.random())+15))},l.replantable=function(){return!1},l.replant=function(){},l.addWave=function(t){this.flyingPlant||(t!=D.water||this.plantWave||!(this._height<-2||this.body.worldPosition.y<this.node.worldPosition.y-2)||this.inLnC.haveLilyPad||this.ID!=A.FloawerPot&&this.inLnC.haveFloawerPot||(this.plantWave=S.instantiatePooly(b.plantWaterWave()),this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.parent=this.inLane.node),this.plantWave&&(this.plantWave.worldPosition=new P(this._worldPositionX,this._worldPositionY),t==D.water&&(this._height<-2||this.body.worldPosition.y<this.node.worldPosition.y-2)||(this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null)))},l.specialFloawerpotHeightScale=function(){return 1},l.characterUpdate=function(t){var n;this.countDownInvincible>0&&(this.countDownInvincible--,this.countDownInvincible<=0&&(this.invincible=this.invincible)),this.hidden>0&&this.hidden--,this.judgeDarkPlantMode(),!this.dead&&(this.plantInLnC.haveFloawerPot&&this.plantType!=ot.pot||this.plantInLnC.haveLilyPad&&this.plantType!=ot.lilyPad)&&(this.plantInLnC.floawerPot?this.worldPosition=this.plantInLnC.floawerPot.worldPosition:this.plantInLnC.lilyPad&&(this.worldPosition=this.plantInLnC.lilyPad.worldPosition),this.height=this.specialFloawerpotHeightScale()*(this.plantInLnC.orgPlantPoint.worldPosition.y-this.plantInLnC.plantPoint.worldPosition.y)),k.gameStarted&&!k.component.gameWon&&!this.dead&&!this.leapTween&&this.inLnC&&this.inLane&&(this.specialPlantUpdate(t),this.plantHeat(t)),this.hurting>0?this.hurting-=60*t*(this.fooding?4:1):this.hurting=0,this.shouldMaterial(),this.addWave(null==(n=this.inLnC)?void 0:n.getTileType()),this.specialPlantUpdateForce(t),this.body.parent!=this.node&&(this.body.worldPosition=new P(this.worldPositionX,this.worldPositionY+this.height,0))},l.specialPlantUpdateForce=function(t){},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdata",get:function(){return this._objdata},set:function(t){this.modObjdataOwn(t),this._objdata=t}},{key:"endangered",get:function(){return this._endangered},set:function(t){var n;if(this._endangered&&!t)null==(n=this._endangerdTile)||null==(n=n.db)||n.playAnimation("Die",1),this._endangerdTile=null;else if(!this._endangered&&t){var i,e=I(x.endangeredTile());e.parent=this.plantInLnC.inLane.tileLayer,e.worldPosition=this.plantInLnC.node.worldPosition,this._endangerdTile=e.getComponent(q),null==(i=this._endangerdTile)||null==(i=i.db)||i.playAnimation("Idle",1/0)}this._endangered=t}},{key:"foodable",get:function(){return this._foodable},set:function(t){var n;this._foodable=t,null==(n=this.plantInLnC)||n.readIndex()}},{key:"suncost",get:function(){return this.SUNCOST*this.plantCount()}},{key:"bodyRec",get:function(){return this.hidden>0?new C:this._bodyRec},set:function(t){this._bodyRec=t}},{key:"invincible",get:function(){return this._invincible||this.countDownInvincible>0},set:function(t){this._invincible=t,this.inLnC&&this.pushTideListner(this.inLnC,this.inLnC.getTileType(),this.inLnC.plantable(!1),this.inLnC.vineable(!1),this.inLnC.floawerPotable(!1),this.inLnC.flyable(!1))}}]),n}(m)).prototype,"tall",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=n(J.prototype,"short",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=n(J.prototype,"deadSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(J.prototype,"haveDarkMode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=n(J.prototype,"bodySize",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(48,72)}}),nt=n(J.prototype,"haveWaterAnimation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),it=n(J.prototype,"onFire",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=J))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/Plantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./levelController.ts"],(function(n){var o,t,e,i,a,l,r,s,u,d,c,h,f,p,P,m;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){u=n.Plant},function(n){d=n.sounds},function(n){c=n.Rectangle,h=n.ZombiePool},function(n){f=n.ParticleSelfdestroy},function(n){p=n.NodePools},function(n){P=n.Square},function(n){m=n.LevelPlay}],execute:function(){var g,L,v,b,y,S,A;a._RF.push({},"3829aoV15JHDaouu54xOnZQ","Plantern",void 0);var C=l.ccclass,R=l.property;n("PlanternPlant",(g=C("PlanternPlant"),L=R(r),v=R(s),g((S=o((y=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return(o=n.call.apply(n,[this].concat(a))||this).fooded=!1,o.sunAdd=25,o.detecter=new c,e(o,"sunBlastSound",S,i(o)),e(o,"lightLoopPrefab",A,i(o)),o.lightLoop=void 0,o}t(o,n);var a=o.prototype;return a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand"],this.lightLoop=null},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.fooded=!0,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.foodable=!1},a.animationListener=function(n){var o=this;"foodEnd"==n.name?this.foodEnd():"SunBlast"==n.name&&(this.fooded=!0,d.play(this.sunBlastSound,1,.2),h.pool().concat().forEach((function(n){n.isRealZombie&&(n.haveSun=n.haveSun>o.sunAdd?n.haveSun:o.sunAdd)})))},a.specialPlantOnSquareChange=function(n,o){var t;if(null==(t=this.lightLoop)||null==(t=t.db)||t.playAnimation("Die"),this.lightLoop=null,this.detecter=c.createRectangleNodeCenter(o.node,3*P.SquareDisW,3*P.SquareDisH),!this.dead){var e=p.instantiatePooly(this.lightLoopPrefab);e.parent=this.inLane.prjLayer,e.worldPosition=o.node.worldPosition,this.lightLoop=e.getComponent(f),this.lightLoop.db.playAnimation("Idle",1/0)}},a.specialPlantDie=function(){var n;null==(n=this.lightLoop)||null==(n=n.db)||n.playAnimation("Die"),this.lightLoop=null},a.waterable=function(){return!this.fooded},a.specialPlantUpdate=function(n){var o,t,e,i=this;this.fooded&&(null==(o=this.inLnC)||o.get3x3().forEach((function(n){var o;null==n||null==(o=n.getAllPlants())||o.forEach((function(n){n.ID!=i.ID&&n.setHidden(2)}))})));m.component.ExcludeListSunProducers||[this.inLane,null==(t=this.inLane)?void 0:t.UpperLane,null==(e=this.inLane)?void 0:e.LowerLane].forEach((function(n){n.zombiePool().forEach((function(n){n.isRealZombie&&n.isAlive()&&i.detecter.judgeCrossRec(n.bodyRec)&&(n.haveSun=Math.max(i.sunAdd,n.haveSun))}))}))},a.specialPlantFoodEnd=function(){this.anmControl.playRandom()},o}(u)).prototype,"sunBlastSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(y.prototype,"lightLoopPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/plantFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./PlantFoodCount.ts","./SoundRescourses.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts"],(function(n){var o,t,e,i,r,a,l,c,u,s,p,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){c=n.dropping},function(n){u=n.PlantFoodCount},function(n){s=n.sounds},function(n){p=n.LevelPlay},function(n){d=n.SandBoxLevelSettingWindow}],execute:function(){var f,g,v,y,F;r._RF.push({},"5176faDmB5OmZE/e9j24mx+","plantFood",void 0);var h=a.ccclass,m=a.property;n("plantFood",(f=h("plantFood"),g=m(l),f((F=o((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,e(o,"startingSound",F,i(o)),o}t(o,n);var r=o.prototype;return r.goToUIPath=function(){return"Canvas/UIInGame/PlantFoodSlot/slotParent"},r.onGroundHit=function(){},r.specialDroppingOnEnable=function(){this.fadingOn(),s.play(this.startingSound)},r.specialCollectable=function(){var n=!u.component.full()||d.freePF;return n||p.component.gameWon||s.playCardChooseFailed(!0),n},r.specialGoToUI=function(n){u.component.plantFoodAdd()},o}(c)).prototype,"startingSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlantFoodCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./NodePools.ts","./SoundsController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./levelController.ts","./PlayerProperties.ts"],(function(o){var t,n,e,i,s,a,l,d,h,r,u,p,c,m,y,C,g,f,v,w,F,P,N,S,b,T,k,A,B,I;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,s=o.createClass},function(o){a=o.cclegacy,l=o._decorator,d=o.AudioClip,h=o.Prefab,r=o.CCInteger,u=o.Node,p=o.Color,c=o.Vec3,m=o.AnimationComponent,y=o.AudioSource,C=o.dragonBones,g=o.EventMouse,f=o.tween,v=o.find,w=o.Label,F=o.UITransform,P=o.instantiate,N=o.Component},function(o){S=o.UIInGame},function(o){b=o.NodePools},function(o){T=o.SoundFXController},function(o){k=o.SandBoxLevelSettingWindow},function(o){A=o.SettingWindow},function(o){B=o.LevelPlay},function(o){I=o.AllPlayerProperties}],execute:function(){var x,D,E,O,W,L,_,U,z,M,G,K,R,H,X,V;a._RF.push({},"954fdB0gXpF/Jaj7g2CsJh0","PlantFoodCount",void 0);var j=l.ccclass,J=l.property;o("PlantFoodCount",(x=j("PlantFoodCount"),D=J(d),E=J(d),O=J(d),W=J(h),L=J(r),_=J(u),x(((V=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=o.call.apply(o,[this].concat(s))||this).initialSunCount=0,e(t,"collectSound",M,i(t)),e(t,"activateSound",G,i(t)),e(t,"cheatAddSound",K,i(t)),e(t,"plantFoodInHand",R,i(t)),e(t,"maxCount",H,i(t)),t.slot=[],t.plantFoodNum=0,t.chosen=void 0,t.keyTip=void 0,t.ui=void 0,t.keyRED=new p(255,100,100,255),t.keyGREEN=new p(100,255,100,255),t.keyYELLOW=new p(245,255,0,255),e(t,"addButton",X,i(t)),t.busyCollecting=!1,t.oldpos=new c(0,0,0),t.conveyorpos=new c(0,75,0),t.shown=!0,t}n(t,o),t.plantfoodWarn=function(){this.component.plantfoodWarn()};var a=t.prototype;return a.plantfoodWarn=function(){this.getComponent(m).play("plantfoodWarn")},a.setKeyTipColor=function(){if(this.keyTip){if(!A.showKeyTips)return void(this.keyTip.color=new p(0,0,0,0));this.plantFoodNum>0||k.freePF?this.keyTip.color=this.chosen?this.keyGREEN:this.keyYELLOW:this.keyTip.color=this.keyRED,this.keyTip.node.scale=this.chosen?new c(.9,.9):new c(.7,.7)}},a.addMouseChild=function(){this.getComponent(y).playOneShot(this.activateSound,T.SoundFXVolume);var o=b.instantiatePooly(this.plantFoodInHand);o.parent=this.ui.plantInHandLayer,o.setPosition(-14,-20,0)},a.choose=function(){this.chosen=-3==this.ui.index,this.chosen?this.node.getChildByName("Icon").getComponent(C.ArmatureDisplay).playAnimation("Pushed"):this.node.getChildByName("Icon").getComponent(C.ArmatureDisplay).playAnimation("Idle")},a.setPlantFoodNum=function(o){var t=o+0;t>this.maxCount?t=this.maxCount:t<0&&(t=0),this.plantFoodNum=t;for(var n=0;n<this.maxCount;n++)n<t?this.slot[n].getComponent(C.ArmatureDisplay).playAnimation("Collecting"):this.slot[n].getComponent(C.ArmatureDisplay).playAnimation("Empty");this.choose()},a.plantFoodAdd=function(){this.plantFoodNum<this.maxCount&&(this.plantFoodNum++,this.getComponent(y).playOneShot(this.collectSound,T.SoundFXVolume),this.slot[this.plantFoodNum-1].getComponent(C.ArmatureDisplay).playAnimation("Collecting"),this.busyCollecting||(this.node.getChildByName("Collecting").getComponent(C.ArmatureDisplay).playAnimation("IconCollecting",1),this.busyCollecting=!0),this.choose(),B.component.gameWon&&B.component.saveDangerroomPlayerProperties(),I.savePP())},a.plantFoodDec=function(){this.plantFoodNum>0&&(this.slot[this.plantFoodNum-1].getComponent(C.ArmatureDisplay).playAnimation("Empty"),this.plantFoodNum--,this.choose())},a.onMouseDown=function(o){if(o.preventSwallow=!0,o.getButton()==g.BUTTON_LEFT){var t=this.plantFoodNum;this.plantFoodAdd(),t<this.plantFoodNum&&this.getComponent(y).playOneShot(this.cheatAddSound,T.SoundFXVolume)}},t.show=function(o,n){var e;void 0===o&&(o=!1),void 0===n&&(n=null),null==(e=t.component)||e._show(o,n)},t.hide=function(){var o;null==(o=t.component)||o._hide()},t.keyOn=function(){var o;null==(o=t.component)||o._keyOn()},a._show=function(o,t){var n;(void 0===o&&(o=!1),void 0===t&&(t=null),this.shown)||(null!=(n=this.keyTip)&&n.node&&(this.keyTip.node.active=!0),A.allowCheat||B.sandBoxModeOn||this.addButton.position.add(new c(-1e3,1e3,0)),this.shown=!0,f(this.node).to(.4,{position:o?this.conveyorpos:this.oldpos},{easing:"cubicOut"}).call((function(){t&&t()})).start())},a._hide=function(){var o;this.shown&&(null!=(o=this.keyTip)&&null!=(o=o.node)&&o.active&&(this.keyTip.node.active=!1),this.shown=!1,f(this.node).by(.4,{position:new c(0,600,0)},{easing:"cubicIn"}).start())},a.full=function(){return this.maxCount<=this.plantFoodNum},a._keyOn=function(){this.keyTip&&(this.keyTip.node.worldPosition=new c(this.node.worldPosition.x,this.node.worldPosition.y-20,0))},a.rotate=function(o){void 0===o&&(o=!0);var t=this.node.getChildByName("slotParent");o?(t.angle=0,t.scale=new c(1,1,1)):(t.angle=-90,t.scale=new c(1,-1,1))},a.update=function(o){this.setKeyTipColor()},a.onLoad=function(){var o,n=this;t.component=this,this.oldpos=this.node.position.clone(),this.conveyorpos.add(this.oldpos),this.rotate(),this.node.position.add3f(0,600,0),this.shown=!1,this.ui=this.node.parent.getComponent(S),this.chosen=!1,v("Canvas/UIInGameUpper/KeyTip/KeyF")&&(this.keyTip=null==(o=v("Canvas/UIInGameUpper/KeyTip/KeyF"))?void 0:o.getComponent(w)),this.keyTip&&(this.keyTip.node.worldPosition=new c(this.node.worldPosition.x,this.node.worldPosition.y-20,0)),this.getComponent(y)||this.addComponent(y),v("Canvas/UIInGame/SunSlot/add")&&this.node.getChildByName("add").setWorldPosition(v("Canvas/UIInGame/SunSlot/add").getWorldPosition().x,this.node.getChildByName("add").getWorldPosition().y,0),this.slot.push(this.node.getChildByName("slotParent").getChildByName("slots").getChildByName("slot")),this.node.getChildByName("slotParent").getChildByName("plantFoodSlots").getComponent(F).width=316+48*(this.maxCount-3);for(var e=1;e<this.maxCount;e++){var i=P(this.slot[0]);i.parent=this.slot[0].parent,i.setPosition(this.slot[e-1].position.x+48,this.slot[e-1].position.y,0),this.slot.push(i)}this.node.getChildByName("add").on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.getChildByName("Collecting").getComponent(C.ArmatureDisplay).on(C.EventObject.COMPLETE,(function(){n.busyCollecting=!1}),this),this.choose()},s(t,null,[{key:"plantFoodNum",get:function(){return this.component.plantFoodNum}}]),t}(N)).component=void 0,M=t((z=V).prototype,"collectSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(z.prototype,"activateSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(z.prototype,"cheatAddSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"plantFoodInHand",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(z.prototype,"maxCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),X=t(z.prototype,"addButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=z))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/Plants.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./MultiLanguage.ts","./Almanac.ts","./foodLinkTile.ts","./Square.ts","./Tiles.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts"],(function(e){var t,n,i,r,a,l,o,u,s,p,c,h,b,f,w,P,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.SpriteFrame,u=e.JsonAsset,s=e.Component},function(e){p=e.PlantsInCard},function(e){c=e.MultiLanguage},function(e){h=e.PlantAlmanac},function(e){b=e.FoodLinkTileTypeEnum},function(e){f=e.Square},function(e){w=e.TileEnum},function(e){P=e.SandBoxLevelSettingWindow},function(e){y=e.SettingWindow}],execute:function(){var m,g,S,T,d,R,v,M,G,z,k,B,C,L,D,E,F,I,O,A,N,H,W,J,_,V,x,U,q,Y,K,j,X,Z,Q,$,ee,te,ne,ie,re,ae,le,oe,ue,se,pe,ce,he,be,fe,we,Pe,ye,me,ge,Se,Te,de,Re,ve,Me,Ge,ze,ke,Be,Ce,Le,De,Ee,Fe,Ie,Oe,Ae,Ne,He,We,Je,_e,Ve,xe,Ue,qe,Ye,Ke,je,Xe,Ze,Qe,$e,et,tt,nt,it,rt,at,lt,ot,ut,st,pt,ct,ht,bt,ft,wt,Pt,yt,mt,gt,St,Tt,dt,Rt,vt,Mt,Gt,zt,kt,Bt,Ct,Lt,Dt,Et,Ft,It,Ot,At,Nt,Ht,Wt,Jt,_t,Vt,xt,Ut,qt,Yt,Kt,jt,Xt,Zt,Qt,$t,en,tn,nn,rn,an,ln,on,un,sn,pn,cn,hn,bn,fn,wn,Pn,yn,mn,gn,Sn,Tn,dn,Rn,vn,Mn,Gn,zn,kn,Bn,Cn,Ln,Dn,En,Fn,In,On,An,Nn,Hn,Wn,Jn,_n,Vn,xn,Un,qn,Yn,Kn,jn,Xn,Zn,Qn,$n,ei,ti,ni,ii,ri,ai,li,oi,ui,si,pi,ci,hi,bi,fi,wi,Pi,yi,mi,gi,Si,Ti,di,Ri,vi,Mi,Gi,zi,ki,Bi;a._RF.push({},"69863LwbzhG4o6A+BjtBkHR","Plants",void 0);var Ci=l.ccclass,Li=l.property,Di=e("PlantEnum",function(e){return e[e.Peashooter=0]="Peashooter",e[e.Sunflower=1]="Sunflower",e[e.Wallnut=2]="Wallnut",e[e.PotatoMine=3]="PotatoMine",e[e.CabbagePult=4]="CabbagePult",e[e.Bloomerang=5]="Bloomerang",e[e.IcebergLettuce=6]="IcebergLettuce",e[e.BonkChoy=7]="BonkChoy",e[e.Reapeater=8]="Reapeater",e[e.MegaGatlingPea=9]="MegaGatlingPea",e[e.ScaredyShroom=10]="ScaredyShroom",e[e.FumeShroom=11]="FumeShroom",e[e.GraveBuster=12]="GraveBuster",e[e.Pumpkin=13]="Pumpkin",e[e.PeaVine=14]="PeaVine",e[e.FloawerPot=15]="FloawerPot",e[e.FirePeashooter=16]="FirePeashooter",e[e.ThreePeater=17]="ThreePeater",e[e.PrimalPea=18]="PrimalPea",e[e.Rotobaga=19]="Rotobaga",e[e.HomingThistle=20]="HomingThistle",e[e.StarFruit=21]="StarFruit",e[e.ShootingStarfruit=22]="ShootingStarfruit",e[e.LilyPad=23]="LilyPad",e[e.SunShroom=24]="SunShroom",e[e.TwinSunflower=25]="TwinSunflower",e[e.Dragonbruit=26]="Dragonbruit",e[e.Moonflower=27]="Moonflower",e[e.SnowPea=28]="SnowPea",e[e.LightningReed=29]="LightningReed",e[e.KernelPult=30]="KernelPult",e[e.MeteorFlower=31]="MeteorFlower",e[e.SpringBean=32]="SpringBean",e[e.UmbrellaLeaf=33]="UmbrellaLeaf",e[e.MelonPult=34]="MelonPult",e[e.WinterMelon=35]="WinterMelon",e[e.Blover=36]="Blover",e[e.Spikeweed=37]="Spikeweed",e[e.Spikerock=38]="Spikerock",e[e.Chomper=39]="Chomper",e[e.GlacierShroom=40]="GlacierShroom",e[e.PrimalWallnut=41]="PrimalWallnut",e[e.Buttercup=42]="Buttercup",e[e.BananaLauncher=43]="BananaLauncher",e[e.MissileToe=44]="MissileToe",e[e.CherryBomb=45]="CherryBomb",e[e.DoomShroom=46]="DoomShroom",e[e.CranJelly=47]="CranJelly",e[e.BabyDragonbruit=48]="BabyDragonbruit",e[e.Torchwood=49]="Torchwood",e[e.Jalapeno=50]="Jalapeno",e[e.PuffShroom=51]="PuffShroom",e[e.GloomVine=52]="GloomVine",e[e.Vamporcini=53]="Vamporcini",e[e.PrimalPotatoMine=54]="PrimalPotatoMine",e[e.Cactus=55]="Cactus",e[e.PowerLily=56]="PowerLily",e[e.CoconutCannon=57]="CoconutCannon",e[e.PeaPod=58]="PeaPod",e[e.SnapDragon=59]="SnapDragon",e[e.GatlingPea=60]="GatlingPea",e[e.SplitPea=61]="SplitPea",e[e.ChiliBean=62]="ChiliBean",e[e.Tallnut=63]="Tallnut",e[e.Hurrikale=64]="Hurrikale",e[e.Stallia=65]="Stallia",e[e.ElectricPeashooter=66]="ElectricPeashooter",e[e.Squash=67]="Squash",e[e.GloomShroom=68]="GloomShroom",e[e.MagnifyingGrass=69]="MagnifyingGrass",e[e.CeleryStalker=70]="CeleryStalker",e[e.Sapfling=71]="Sapfling",e[e.Parsnip=72]="Parsnip",e[e.ExplodeONut=73]="ExplodeONut",e[e.Grapeshot=74]="Grapeshot",e[e.Plantern=75]="Plantern",e[e.HeavenlyPeach=76]="HeavenlyPeach",e[e.JackOLantern=77]="JackOLantern",e[e.Dandelion=78]="Dandelion",e[e.ChardGuard=79]="ChardGuard",e[e.HypnoShroom=80]="HypnoShroom",e[e.ElectricCurrant=81]="ElectricCurrant",e[e.EscapeRoot=82]="EscapeRoot",e[e.Imitater=83]="Imitater",e[e.ShadowShroom=84]="ShadowShroom",e[e.MagnetShroom=85]="MagnetShroom",e[e.Turnip=86]="Turnip",e[e.EMPeach=87]="EMPeach",e[e.Citron=88]="Citron",e[e.LaserBean=89]="LaserBean",e[e.SolarTomato=90]="SolarTomato",e[e.TileTurnipAlpha=91]="TileTurnipAlpha",e[e.TileTurnipBeta=92]="TileTurnipBeta",e[e.TileTurnipGamma=93]="TileTurnipGamma",e[e.TileTurnipDelta=94]="TileTurnipDelta",e[e.TileTurnipEpsilon=95]="TileTurnipEpsilon",e[e.InfiNut=96]="InfiNut",e[e.TileTurnip=97]="TileTurnip",e[e.MariGold=98]="MariGold",e[e.MariGoldRed=99]="MariGoldRed",e[e.MariGoldOrange=100]="MariGoldOrange",e[e.MariGoldYellow=101]="MariGoldYellow",e[e.MariGoldGreen=102]="MariGoldGreen",e[e.MariGoldBlue=103]="MariGoldBlue",e[e.MariGoldPink=104]="MariGoldPink",e[e.MariGoldPurple=105]="MariGoldPurple",e[e.AppleMortar=106]="AppleMortar",e[e.RedStinger=107]="RedStinger",e[e.Skyshooter=108]="Skyshooter",e[e.SunBean=109]="SunBean",e[e.amount=110]="amount",e}({})),Ei=function(e){return e[e.default=0]="default",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.kongfu=4]="kongfu",e[e.future=5]="future",e[e.dark=6]="dark",e[e.beach=7]="beach",e[e.beach_water=8]="beach_water",e[e.ice=9]="ice",e[e.lostcity=10]="lostcity",e[e.stage=11]="stage",e[e.dino=12]="dino",e[e.modern=13]="modern",e[e.boost=14]="boost",e[e.market=15]="market",e[e.sky=16]="sky",e}(Ei||{}),Fi=function(){this.ID=0,this.amount=0},Ii=e("plants",function(){function e(){}return e.getPlantsInCard=function(e){switch(e){case Di.Peashooter:return this.plantRes.Peashooter;case Di.Sunflower:return this.plantRes.Sunflower;case Di.Wallnut:return this.plantRes.Wallnut;case Di.PotatoMine:return this.plantRes.PotatoMine;case Di.CabbagePult:return this.plantRes.CabbagePult;case Di.Bloomerang:return this.plantRes.Bloomerang;case Di.IcebergLettuce:return this.plantRes.IcebergLettuce;case Di.BonkChoy:return this.plantRes.BonkChoy;case Di.Reapeater:return this.plantRes.Reapeater;case Di.MegaGatlingPea:return this.plantRes.MegaGatlingPea;case Di.ScaredyShroom:return this.plantRes.ScaredyShroom;case Di.FumeShroom:return this.plantRes.FumeShroom;case Di.GraveBuster:return this.plantRes.GraveBuster;case Di.Pumpkin:return this.plantRes.Pumpkin;case Di.PeaVine:return this.plantRes.PeaVine;case Di.FloawerPot:return this.plantRes.FloawerPot;case Di.FirePeashooter:return this.plantRes.FirePeashooter;case Di.ThreePeater:return this.plantRes.ThreePeater;case Di.PrimalPea:return this.plantRes.PrimalPea;case Di.Rotobaga:return this.plantRes.Rotobaga;case Di.HomingThistle:return this.plantRes.HomingThistle;case Di.StarFruit:return this.plantRes.StarFruit;case Di.ShootingStarfruit:return this.plantRes.ShootingStarfruit;case Di.LilyPad:return this.plantRes.LilyPad;case Di.SunShroom:return this.plantRes.SunShroom;case Di.TwinSunflower:return this.plantRes.TwinSunflower;case Di.Dragonbruit:return this.plantRes.Dragonbruit;case Di.Moonflower:return this.plantRes.Moonflower;case Di.SnowPea:return this.plantRes.SnowPea;case Di.LightningReed:return this.plantRes.LightningReed;case Di.KernelPult:return this.plantRes.KernelPult;case Di.MeteorFlower:return this.plantRes.MeteorFlower;case Di.SpringBean:return this.plantRes.SpringBean;case Di.UmbrellaLeaf:return this.plantRes.UmbrellaLeaf;case Di.MelonPult:return this.plantRes.MelonPult;case Di.WinterMelon:return this.plantRes.WinterMelon;case Di.Blover:return this.plantRes.Blover;case Di.Spikeweed:return this.plantRes.Spikeweed;case Di.Spikerock:return this.plantRes.Spikerock;case Di.Chomper:return this.plantRes.Chomper;case Di.GlacierShroom:return this.plantRes.GlacierShroom;case Di.PrimalWallnut:return this.plantRes.PrimalWallnut;case Di.Buttercup:return this.plantRes.Buttercup;case Di.BananaLauncher:return this.plantRes.BananaLauncher;case Di.MissileToe:return this.plantRes.MissileToe;case Di.CherryBomb:return this.plantRes.CherryBomb;case Di.DoomShroom:return this.plantRes.DoomShroom;case Di.CranJelly:return this.plantRes.CranJelly;case Di.BabyDragonbruit:return this.plantRes.BabyDragonbruit;case Di.Torchwood:return this.plantRes.Torchwood;case Di.Jalapeno:return this.plantRes.Jalapeno;case Di.PuffShroom:return this.plantRes.PuffShroom;case Di.GloomVine:return this.plantRes.GloomVine;case Di.Vamporcini:return this.plantRes.Vamporcini;case Di.PrimalPotatoMine:return this.plantRes.PrimalPotatoMine;case Di.Cactus:return this.plantRes.Cactus;case Di.PowerLily:return this.plantRes.PowerLily;case Di.CoconutCannon:return this.plantRes.CoconutCannon;case Di.PeaPod:return this.plantRes.PeaPod;case Di.SnapDragon:return this.plantRes.SnapDragon;case Di.GatlingPea:return this.plantRes.GatlingPea;case Di.SplitPea:return this.plantRes.SplitPea;case Di.ChiliBean:return this.plantRes.ChiliBean;case Di.Tallnut:return this.plantRes.Tallnut;case Di.Hurrikale:return this.plantRes.Hurrikale;case Di.Stallia:return this.plantRes.Stallia;case Di.ElectricPeashooter:return this.plantRes.ElectricPeashooter;case Di.Squash:return this.plantRes.Squash;case Di.GloomShroom:return this.plantRes.GloomShroom;case Di.MagnifyingGrass:return this.plantRes.MagnifyingGrass;case Di.CeleryStalker:return this.plantRes.CeleryStalker;case Di.Sapfling:return this.plantRes.Sapfling;case Di.Parsnip:return this.plantRes.Parsnip;case Di.ExplodeONut:return this.plantRes.ExplodeONut;case Di.Grapeshot:return this.plantRes.Grapeshot;case Di.Plantern:return this.plantRes.Plantern;case Di.HeavenlyPeach:return this.plantRes.HeavenlyPeach;case Di.JackOLantern:return this.plantRes.JackOLantern;case Di.Dandelion:return this.plantRes.Dandelion;case Di.ChardGuard:return this.plantRes.ChardGuard;case Di.HypnoShroom:return this.plantRes.HypnoShroom;case Di.ElectricCurrant:return this.plantRes.ElectricCurrant;case Di.EscapeRoot:return this.plantRes.EscapeRoot;case Di.Imitater:return this.plantRes.Imitater;case Di.ShadowShroom:return this.plantRes.ShadowShroom;case Di.MagnetShroom:return this.plantRes.MagnetShroom;case Di.Turnip:return this.plantRes.Turnip;case Di.EMPeach:return this.plantRes.EMPeach;case Di.Citron:return this.plantRes.Citron;case Di.LaserBean:return this.plantRes.LaserBean;case Di.SolarTomato:return this.plantRes.SolarTomato;case Di.TileTurnipAlpha:return this.plantRes.TileTurnipAlpha;case Di.TileTurnipBeta:return this.plantRes.TileTurnipBeta;case Di.TileTurnipGamma:return this.plantRes.TileTurnipGamma;case Di.TileTurnipDelta:return this.plantRes.TileTurnipDelta;case Di.TileTurnipEpsilon:return this.plantRes.TileTurnipEpsilon;case Di.TileTurnip:return this.getPlantsInCard(this.getTileTurnipID());case Di.InfiNut:return this.plantRes.InfiNut;case Di.MariGold:return this.plantRes.MariGold;case Di.MariGoldRed:return this.plantRes.MariGoldRed;case Di.MariGoldOrange:return this.plantRes.MariGoldOrange;case Di.MariGoldYellow:return this.plantRes.MariGoldYellow;case Di.MariGoldGreen:return this.plantRes.MariGoldGreen;case Di.MariGoldBlue:return this.plantRes.MariGoldBlue;case Di.MariGoldPink:return this.plantRes.MariGoldPink;case Di.MariGoldPurple:return this.plantRes.MariGoldPurple;case Di.AppleMortar:return this.plantRes.AppleMortar;case Di.RedStinger:return this.plantRes.RedStinger;case Di.Skyshooter:return this.plantRes.Skyshooter;case Di.SunBean:return this.plantRes.SunBean;default:return this.plantRes.Peashooter}},e.getTileTurnipID=function(){switch(this.TileTurnipType){case b.alpha:return Di.TileTurnipAlpha;case b.beta:return Di.TileTurnipBeta;case b.gamma:return Di.TileTurnipGamma;case b.delta:return Di.TileTurnipDelta;default:return Di.TileTurnipEpsilon}},e.getPlantFeature=function(e){return e==Di.TileTurnip?this.getPlantFeature(this.getTileTurnipID()):e<this.plantRes.PlantFeatures.length&&e>=0?this.plantRes.PlantFeatures[e]:this.plantRes.PlantFeatures[0]},e.getPlantAmount=function(e,t){void 0===t&&(t=1/0);var n=!1,i=0;return f.getAllLnC().forEach((function(r){n||(r.getAllPlants().forEach((function(r){n||r.ID==e&&(i+=r.plantCount(),n=i>=t)})),r.tilesInSquare.forEach((function(r){n||((e==Di.TileTurnipAlpha&&r.tileID==w.foodLinker&&r.foodLinkID==b.alpha||e==Di.TileTurnipBeta&&r.tileID==w.foodLinker&&r.foodLinkID==b.beta||e==Di.TileTurnipDelta&&r.tileID==w.foodLinker&&r.foodLinkID==b.delta||e==Di.TileTurnipGamma&&r.tileID==w.foodLinker&&r.foodLinkID==b.gamma||e==Di.TileTurnipEpsilon&&r.tileID==w.foodLinker&&r.foodLinkID==b.epsilon)&&i++,n=i>=t)})))})),i},e.getPlantEnumByString=function(e,t){void 0===t&&(t=!0);var n=e.concat(),i=-1;return"tool_powertile_alpha"==n?this.TileTurnipType==b.alpha?Di.TileTurnipEpsilon:Di.TileTurnipAlpha:"tool_powertile_beta"==n?this.TileTurnipType==b.beta?Di.TileTurnipEpsilon:Di.TileTurnipBeta:"tool_powertile_gamma"==n?this.TileTurnipType==b.gamma?Di.TileTurnipEpsilon:Di.TileTurnipGamma:"tool_powertile_delta"==n?this.TileTurnipType==b.delta?Di.TileTurnipEpsilon:Di.TileTurnipDelta:"tool_powertile_epsilon"==n?this.getPlantEnumByString("powerplant"):(this.plantRes.PlantFeatures.forEach((function(e,t){-1==i&&e.CODENAME==n&&(i=t)})),-1==i&&t&&(i=0),i)},e.getPlantByRTID=function(e){if(!e)return 0;var t=e.concat(),n=t.indexOf("RTID("),i=t.indexOf("@PlantTypes)"),r="";return-1!=n&&(r=t.slice(n+5,i)),this.getPlantEnumByString(r)},e.getPlantBGSprite=function(e){var t=this.getPlantFeature(e).OBTAINWORLD,n=this.bgSprites[Ei.modern];if("water"==t&&(n=this.bgSprites[Ei.beach_water]),!y.classicCardBG)switch(t){case"modern":n=this.bgSprites[Ei.modern];break;case"egypt":n=this.bgSprites[Ei.egypt];break;case"pirate":n=this.bgSprites[Ei.pirate];break;case"cowboy":n=this.bgSprites[Ei.cowboy];break;case"kongfu":n=this.bgSprites[Ei.kongfu];break;case"future":n=this.bgSprites[Ei.future];break;case"dark":n=this.bgSprites[Ei.dark];break;case"water":n=this.bgSprites[Ei.beach_water];break;case"beach":n=this.bgSprites[Ei.beach];break;case"ice":n=this.bgSprites[Ei.ice];break;case"lostcity":n=this.bgSprites[Ei.lostcity];break;case"stage":n=this.bgSprites[Ei.stage];break;case"dino":n=this.bgSprites[Ei.dino];break;case"sky":n=this.bgSprites[Ei.sky];break;case"epic":case"market":n=this.bgSprites[Ei.market]}return n},e.registerPlant=function(e,t){var n=this,i=!1,r=null;if(this.plantAmounts.concat().forEach((function(a){if(!i&&a.ID==e)if(i=!0,a.amount+=t,a.amount<=0){var l=n.plantAmounts.indexOf(a);-1!=l&&n.plantAmounts.splice(l,1)}else r=a})),r)return r;var a=new Fi;return a.ID=e,!i&&t>0&&(a.amount=t,this.plantAmounts.push(a)),a},e}());Ii.defaultPlantChooserOrder=[],Ii.plantRes=void 0,Ii.sunProducers=[],Ii.TileTurnipType=b.epsilon,Ii.bgSprites=[],Ii.plantAmounts=[];e("PlantFeature",(function(){this.ID=-1,this.SUNCOST=0,this.NAME=new c,this._CARDSPRITENAME="",this.CODENAME="",this.OBTAINWORLD="",this.FAMILY="",this.COOLDOWN=5,this.COOLDOWNFROM=0,this.TOUGHNESS=3.14159,this.TYPE=[],this.ZENGARDEN=null,this.BRIEFINTRODUCTION=new c,this.ALMANAC=new h,this.objdata=void 0})),e("Plants",(m=Ci("Plants"),g=Li(Boolean),S=Li([o]),T=Li({type:p,visible:function(){return this.showPlants}}),d=Li({type:p,visible:function(){return this.showPlants}}),R=Li({type:p,visible:function(){return this.showPlants}}),v=Li({type:p,visible:function(){return this.showPlants}}),M=Li({type:p,visible:function(){return this.showPlants}}),G=Li({type:p,visible:function(){return this.showPlants}}),z=Li({type:p,visible:function(){return this.showPlants}}),k=Li({type:p,visible:function(){return this.showPlants}}),B=Li({type:p,visible:function(){return this.showPlants}}),C=Li({type:p,visible:function(){return this.showPlants}}),L=Li({type:p,visible:function(){return this.showPlants}}),D=Li({type:p,visible:function(){return this.showPlants}}),E=Li({type:p,visible:function(){return this.showPlants}}),F=Li({type:p,visible:function(){return this.showPlants}}),I=Li({type:p,visible:function(){return this.showPlants}}),O=Li({type:p,visible:function(){return this.showPlants}}),A=Li({type:p,visible:function(){return this.showPlants}}),N=Li({type:p,visible:function(){return this.showPlants}}),H=Li({type:p,visible:function(){return this.showPlants}}),W=Li({type:p,visible:function(){return this.showPlants}}),J=Li({type:p,visible:function(){return this.showPlants}}),_=Li({type:p,visible:function(){return this.showPlants}}),V=Li({type:p,visible:function(){return this.showPlants}}),x=Li({type:p,visible:function(){return this.showPlants}}),U=Li({type:p,visible:function(){return this.showPlants}}),q=Li({type:p,visible:function(){return this.showPlants}}),Y=Li({type:p,visible:function(){return this.showPlants}}),K=Li({type:p,visible:function(){return this.showPlants}}),j=Li({type:p,visible:function(){return this.showPlants}}),X=Li({type:p,visible:function(){return this.showPlants}}),Z=Li({type:p,visible:function(){return this.showPlants}}),Q=Li({type:p,visible:function(){return this.showPlants}}),$=Li({type:p,visible:function(){return this.showPlants}}),ee=Li({type:p,visible:function(){return this.showPlants}}),te=Li({type:p,visible:function(){return this.showPlants}}),ne=Li({type:p,visible:function(){return this.showPlants}}),ie=Li({type:p,visible:function(){return this.showPlants}}),re=Li({type:p,visible:function(){return this.showPlants}}),ae=Li({type:p,visible:function(){return this.showPlants}}),le=Li({type:p,visible:function(){return this.showPlants}}),oe=Li({type:p,visible:function(){return this.showPlants}}),ue=Li({type:p,visible:function(){return this.showPlants}}),se=Li({type:p,visible:function(){return this.showPlants}}),pe=Li({type:p,visible:function(){return this.showPlants}}),ce=Li({type:p,visible:function(){return this.showPlants}}),he=Li({type:p,visible:function(){return this.showPlants}}),be=Li({type:p,visible:function(){return this.showPlants}}),fe=Li({type:p,visible:function(){return this.showPlants}}),we=Li({type:p,visible:function(){return this.showPlants}}),Pe=Li({type:p,visible:function(){return this.showPlants}}),ye=Li({type:p,visible:function(){return this.showPlants}}),me=Li({type:p,visible:function(){return this.showPlants}}),ge=Li({type:p,visible:function(){return this.showPlants}}),Se=Li({type:p,visible:function(){return this.showPlants}}),Te=Li({type:p,visible:function(){return this.showPlants}}),de=Li({type:p,visible:function(){return this.showPlants}}),Re=Li({type:p,visible:function(){return this.showPlants}}),ve=Li({type:p,visible:function(){return this.showPlants}}),Me=Li({type:p,visible:function(){return this.showPlants}}),Ge=Li({type:p,visible:function(){return this.showPlants}}),ze=Li({type:p,visible:function(){return this.showPlants}}),ke=Li({type:p,visible:function(){return this.showPlants}}),Be=Li({type:p,visible:function(){return this.showPlants}}),Ce=Li({type:p,visible:function(){return this.showPlants}}),Le=Li({type:p,visible:function(){return this.showPlants}}),De=Li({type:p,visible:function(){return this.showPlants}}),Ee=Li({type:p,visible:function(){return this.showPlants}}),Fe=Li({type:p,visible:function(){return this.showPlants}}),Ie=Li({type:p,visible:function(){return this.showPlants}}),Oe=Li({type:p,visible:function(){return this.showPlants}}),Ae=Li({type:p,visible:function(){return this.showPlants}}),Ne=Li({type:p,visible:function(){return this.showPlants}}),He=Li({type:p,visible:function(){return this.showPlants}}),We=Li({type:p,visible:function(){return this.showPlants}}),Je=Li({type:p,visible:function(){return this.showPlants}}),_e=Li({type:p,visible:function(){return this.showPlants}}),Ve=Li({type:p,visible:function(){return this.showPlants}}),xe=Li({type:p,visible:function(){return this.showPlants}}),Ue=Li({type:p,visible:function(){return this.showPlants}}),qe=Li({type:p,visible:function(){return this.showPlants}}),Ye=Li({type:p,visible:function(){return this.showPlants}}),Ke=Li({type:p,visible:function(){return this.showPlants}}),je=Li({type:p,visible:function(){return this.showPlants}}),Xe=Li({type:p,visible:function(){return this.showPlants}}),Ze=Li({type:p,visible:function(){return this.showPlants}}),Qe=Li({type:p,visible:function(){return this.showPlants}}),$e=Li({type:p,visible:function(){return this.showPlants}}),et=Li({type:p,visible:function(){return this.showPlants}}),tt=Li({type:p,visible:function(){return this.showPlants}}),nt=Li({type:p,visible:function(){return this.showPlants}}),it=Li({type:p,visible:function(){return this.showPlants}}),rt=Li({type:p,visible:function(){return this.showPlants}}),at=Li({type:p,visible:function(){return this.showPlants}}),lt=Li({type:p,visible:function(){return this.showPlants}}),ot=Li({type:p,visible:function(){return this.showPlants}}),ut=Li({type:p,visible:function(){return this.showPlants}}),st=Li({type:p,visible:function(){return this.showPlants}}),pt=Li({type:p,visible:function(){return this.showPlants}}),ct=Li({type:p,visible:function(){return this.showPlants}}),ht=Li({type:p,visible:function(){return this.showPlants}}),bt=Li({type:p,visible:function(){return this.showPlants}}),ft=Li({type:p,visible:function(){return this.showPlants}}),wt=Li({type:p,visible:function(){return this.showPlants}}),Pt=Li({type:p,visible:function(){return this.showPlants}}),yt=Li({type:p,visible:function(){return this.showPlants}}),mt=Li({type:p,visible:function(){return this.showPlants}}),gt=Li({type:p,visible:function(){return this.showPlants}}),St=Li({type:p,visible:function(){return this.showPlants}}),Tt=Li({type:p,visible:function(){return this.showPlants}}),dt=Li(u),m((Mt=t((vt=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"showPlants",Mt,r(t)),i(t,"bgSprite",Gt,r(t)),i(t,"Peashooter",zt,r(t)),i(t,"Sunflower",kt,r(t)),i(t,"Wallnut",Bt,r(t)),i(t,"PotatoMine",Ct,r(t)),i(t,"CabbagePult",Lt,r(t)),i(t,"Bloomerang",Dt,r(t)),i(t,"IcebergLettuce",Et,r(t)),i(t,"BonkChoy",Ft,r(t)),i(t,"Reapeater",It,r(t)),i(t,"MegaGatlingPea",Ot,r(t)),i(t,"ScaredyShroom",At,r(t)),i(t,"FumeShroom",Nt,r(t)),i(t,"GraveBuster",Ht,r(t)),i(t,"Pumpkin",Wt,r(t)),i(t,"PeaVine",Jt,r(t)),i(t,"FloawerPot",_t,r(t)),i(t,"FirePeashooter",Vt,r(t)),i(t,"ThreePeater",xt,r(t)),i(t,"PrimalPea",Ut,r(t)),i(t,"Rotobaga",qt,r(t)),i(t,"HomingThistle",Yt,r(t)),i(t,"StarFruit",Kt,r(t)),i(t,"ShootingStarfruit",jt,r(t)),i(t,"LilyPad",Xt,r(t)),i(t,"SunShroom",Zt,r(t)),i(t,"TwinSunflower",Qt,r(t)),i(t,"Dragonbruit",$t,r(t)),i(t,"Moonflower",en,r(t)),i(t,"SnowPea",tn,r(t)),i(t,"LightningReed",nn,r(t)),i(t,"KernelPult",rn,r(t)),i(t,"MeteorFlower",an,r(t)),i(t,"SpringBean",ln,r(t)),i(t,"UmbrellaLeaf",on,r(t)),i(t,"MelonPult",un,r(t)),i(t,"WinterMelon",sn,r(t)),i(t,"Blover",pn,r(t)),i(t,"Spikeweed",cn,r(t)),i(t,"Spikerock",hn,r(t)),i(t,"Chomper",bn,r(t)),i(t,"GlacierShroom",fn,r(t)),i(t,"PrimalWallnut",wn,r(t)),i(t,"Buttercup",Pn,r(t)),i(t,"BananaLauncher",yn,r(t)),i(t,"MissileToe",mn,r(t)),i(t,"CherryBomb",gn,r(t)),i(t,"DoomShroom",Sn,r(t)),i(t,"CranJelly",Tn,r(t)),i(t,"BabyDragonbruit",dn,r(t)),i(t,"Torchwood",Rn,r(t)),i(t,"Jalapeno",vn,r(t)),i(t,"PuffShroom",Mn,r(t)),i(t,"GloomVine",Gn,r(t)),i(t,"Vamporcini",zn,r(t)),i(t,"PrimalPotatoMine",kn,r(t)),i(t,"Cactus",Bn,r(t)),i(t,"PowerLily",Cn,r(t)),i(t,"CoconutCannon",Ln,r(t)),i(t,"PeaPod",Dn,r(t)),i(t,"SnapDragon",En,r(t)),i(t,"GatlingPea",Fn,r(t)),i(t,"SplitPea",In,r(t)),i(t,"ChiliBean",On,r(t)),i(t,"Tallnut",An,r(t)),i(t,"Hurrikale",Nn,r(t)),i(t,"Stallia",Hn,r(t)),i(t,"ElectricPeashooter",Wn,r(t)),i(t,"Squash",Jn,r(t)),i(t,"GloomShroom",_n,r(t)),i(t,"MagnifyingGrass",Vn,r(t)),i(t,"CeleryStalker",xn,r(t)),i(t,"Sapfling",Un,r(t)),i(t,"Parsnip",qn,r(t)),i(t,"ExplodeONut",Yn,r(t)),i(t,"Grapeshot",Kn,r(t)),i(t,"Plantern",jn,r(t)),i(t,"HeavenlyPeach",Xn,r(t)),i(t,"JackOLantern",Zn,r(t)),i(t,"Dandelion",Qn,r(t)),i(t,"ChardGuard",$n,r(t)),i(t,"HypnoShroom",ei,r(t)),i(t,"ElectricCurrant",ti,r(t)),i(t,"EscapeRoot",ni,r(t)),i(t,"Imitater",ii,r(t)),i(t,"ShadowShroom",ri,r(t)),i(t,"MagnetShroom",ai,r(t)),i(t,"Turnip",li,r(t)),i(t,"EMPeach",oi,r(t)),i(t,"Citron",ui,r(t)),i(t,"LaserBean",si,r(t)),i(t,"SolarTomato",pi,r(t)),i(t,"TileTurnipAlpha",ci,r(t)),i(t,"TileTurnipBeta",hi,r(t)),i(t,"TileTurnipGamma",bi,r(t)),i(t,"TileTurnipDelta",fi,r(t)),i(t,"TileTurnipEpsilon",wi,r(t)),i(t,"InfiNut",Pi,r(t)),i(t,"MariGold",yi,r(t)),i(t,"MariGoldRed",mi,r(t)),i(t,"MariGoldOrange",gi,r(t)),i(t,"MariGoldYellow",Si,r(t)),i(t,"MariGoldGreen",Ti,r(t)),i(t,"MariGoldBlue",di,r(t)),i(t,"MariGoldPink",Ri,r(t)),i(t,"MariGoldPurple",vi,r(t)),i(t,"AppleMortar",Mi,r(t)),i(t,"RedStinger",Gi,r(t)),i(t,"Skyshooter",zi,r(t)),i(t,"SunBean",ki,r(t)),i(t,"CardsFeatureJson",Bi,r(t)),t.PlantFeatures=[],t}return n(t,e),t.prototype.onLoad=function(){Ii.plantAmounts=[],Ii.plantRes=this,Ii.bgSprites=this.bgSprite;var e=this.CardsFeatureJson.json;this.PlantFeatures=e.PLANTS;var t=e.SEEDCHOOSERDEFAULTORDER,n=[],i=[];t.forEach((function(e){var t=Ii.getPlantEnumByString(e),r=Ii.getPlantFeature(t);n.push(t),-1!=r.TYPE.indexOf("sunProducer")&&i.push(t)})),Ii.defaultPlantChooserOrder=n,Ii.sunProducers=i;for(var r=[],a=0;a<Di.amount;a++)-1==e.SANDBOXEXCLUDELIST.indexOf(e.PLANTS[a].CODENAME)&&r.push(a);P.plantList=r},t}(s)).prototype,"showPlants",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gt=t(vt.prototype,"bgSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=t(vt.prototype,"Peashooter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=t(vt.prototype,"Sunflower",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=t(vt.prototype,"Wallnut",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=t(vt.prototype,"PotatoMine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=t(vt.prototype,"CabbagePult",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=t(vt.prototype,"Bloomerang",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=t(vt.prototype,"IcebergLettuce",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=t(vt.prototype,"BonkChoy",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=t(vt.prototype,"Reapeater",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=t(vt.prototype,"MegaGatlingPea",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=t(vt.prototype,"ScaredyShroom",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=t(vt.prototype,"FumeShroom",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=t(vt.prototype,"GraveBuster",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=t(vt.prototype,"Pumpkin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=t(vt.prototype,"PeaVine",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=t(vt.prototype,"FloawerPot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=t(vt.prototype,"FirePeashooter",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=t(vt.prototype,"ThreePeater",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=t(vt.prototype,"PrimalPea",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=t(vt.prototype,"Rotobaga",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=t(vt.prototype,"HomingThistle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=t(vt.prototype,"StarFruit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=t(vt.prototype,"ShootingStarfruit",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=t(vt.prototype,"LilyPad",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=t(vt.prototype,"SunShroom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=t(vt.prototype,"TwinSunflower",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=t(vt.prototype,"Dragonbruit",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=t(vt.prototype,"Moonflower",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=t(vt.prototype,"SnowPea",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=t(vt.prototype,"LightningReed",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=t(vt.prototype,"KernelPult",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=t(vt.prototype,"MeteorFlower",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=t(vt.prototype,"SpringBean",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=t(vt.prototype,"UmbrellaLeaf",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=t(vt.prototype,"MelonPult",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=t(vt.prototype,"WinterMelon",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pn=t(vt.prototype,"Blover",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=t(vt.prototype,"Spikeweed",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=t(vt.prototype,"Spikerock",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bn=t(vt.prototype,"Chomper",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=t(vt.prototype,"GlacierShroom",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=t(vt.prototype,"PrimalWallnut",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=t(vt.prototype,"Buttercup",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=t(vt.prototype,"BananaLauncher",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=t(vt.prototype,"MissileToe",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=t(vt.prototype,"CherryBomb",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=t(vt.prototype,"DoomShroom",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Tn=t(vt.prototype,"CranJelly",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),dn=t(vt.prototype,"BabyDragonbruit",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Rn=t(vt.prototype,"Torchwood",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),vn=t(vt.prototype,"Jalapeno",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Mn=t(vt.prototype,"PuffShroom",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Gn=t(vt.prototype,"GloomVine",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),zn=t(vt.prototype,"Vamporcini",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),kn=t(vt.prototype,"PrimalPotatoMine",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Bn=t(vt.prototype,"Cactus",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Cn=t(vt.prototype,"PowerLily",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Ln=t(vt.prototype,"CoconutCannon",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Dn=t(vt.prototype,"PeaPod",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),En=t(vt.prototype,"SnapDragon",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Fn=t(vt.prototype,"GatlingPea",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),In=t(vt.prototype,"SplitPea",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),On=t(vt.prototype,"ChiliBean",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),An=t(vt.prototype,"Tallnut",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Nn=t(vt.prototype,"Hurrikale",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Hn=t(vt.prototype,"Stallia",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Wn=t(vt.prototype,"ElectricPeashooter",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Jn=t(vt.prototype,"Squash",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),_n=t(vt.prototype,"GloomShroom",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Vn=t(vt.prototype,"MagnifyingGrass",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),xn=t(vt.prototype,"CeleryStalker",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Un=t(vt.prototype,"Sapfling",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),qn=t(vt.prototype,"Parsnip",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Yn=t(vt.prototype,"ExplodeONut",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Kn=t(vt.prototype,"Grapeshot",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),jn=t(vt.prototype,"Plantern",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Xn=t(vt.prototype,"HeavenlyPeach",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Zn=t(vt.prototype,"JackOLantern",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Qn=t(vt.prototype,"Dandelion",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),$n=t(vt.prototype,"ChardGuard",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ei=t(vt.prototype,"HypnoShroom",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ti=t(vt.prototype,"ElectricCurrant",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ni=t(vt.prototype,"EscapeRoot",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ii=t(vt.prototype,"Imitater",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ri=t(vt.prototype,"ShadowShroom",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ai=t(vt.prototype,"MagnetShroom",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),li=t(vt.prototype,"Turnip",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),oi=t(vt.prototype,"EMPeach",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ui=t(vt.prototype,"Citron",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),si=t(vt.prototype,"LaserBean",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),pi=t(vt.prototype,"SolarTomato",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ci=t(vt.prototype,"TileTurnipAlpha",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),hi=t(vt.prototype,"TileTurnipBeta",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),bi=t(vt.prototype,"TileTurnipGamma",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),fi=t(vt.prototype,"TileTurnipDelta",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),wi=t(vt.prototype,"TileTurnipEpsilon",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Pi=t(vt.prototype,"InfiNut",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),yi=t(vt.prototype,"MariGold",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),mi=t(vt.prototype,"MariGoldRed",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),gi=t(vt.prototype,"MariGoldOrange",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Si=t(vt.prototype,"MariGoldYellow",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Ti=t(vt.prototype,"MariGoldGreen",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),di=t(vt.prototype,"MariGoldBlue",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Ri=t(vt.prototype,"MariGoldPink",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),vi=t(vt.prototype,"MariGoldPurple",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Mi=t(vt.prototype,"AppleMortar",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Gi=t(vt.prototype,"RedStinger",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),zi=t(vt.prototype,"Skyshooter",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),ki=t(vt.prototype,"SunBean",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),Bi=t(vt.prototype,"CardsFeatureJson",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=vt))||Rt));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProperties.ts",["cc","./Plants.ts","./ZenGardenFeatures.ts"],(function(e){var r,t,s,n;return{setters:[function(e){r=e.cclegacy,t=e.sys},function(e){s=e.plants},function(e){n=e.ZenGardenPlayerProperties}],execute:function(){e("isJSON",(function(e){try{return JSON.parse(e),!0}catch(e){return!1}})),r._RF.push({},"e4e03O6w5BJTotU0w9qk5Av","PlayerProperties",void 0);var i=e("UserDataDocument","PvZ2_PlayerProperties");var a=e("EndlessZoneProperties",(function(){this.level=1,this.obtainedPlants=[],this.plantfood=0,this.mower=[!0,!0,!0,!0,!0],this.initialPlants=[],this.plantChosen=!1,this.plantsToChoose=null})),l=e("EndlessZoneMiniGameProperties",(function(){this.level=1})),o=e("EndlessZonePropertyEnum",function(e){return e[e.egypt=0]="egypt",e[e.pirate=1]="pirate",e[e.cowboy=2]="cowboy",e[e.future=3]="future",e[e.dark=4]="dark",e[e.default=5]="default",e}({})),u=e("PlayerProperties",(function(){this.worldkey=0,this.gem=0,this.coin=0,this.obtainedPlants=[],this.zengarden=new n,this.memorySeedChoose=[],this.difficulty=3,this.currentWM=0,this.worldChooserI=0,this.egyptWMX=0,this.egyptEndlessProperties=new a,this.egyptEndlessMiniGameProperties=new l,this.pirateWMX=0,this.pirateEndlessProperties=new a,this.pirateEndlessMiniGameProperties=new l,this.cowboyWMX=0,this.cowboyEndlessProperties=new a,this.cowboyEndlessMiniGameProperties=new l,this.futureWMX=0,this.futureEndlessProperties=new a,this.futureEndlessMiniGameProperties=new l,this.darkWMX=0,this.darkEndlessProperties=new a,this.darkEndlessMiniGameProperties=new l})),P=e("AllPlayerProperties",function(){function e(){}return e.savePP=function(){var r=e.allPlayers.concat();t.localStorage.setItem(i,JSON.stringify(r))},e.getPlayer=function(r){var s,n=null==(s=t.localStorage)?void 0:s.getItem(i),a=[];return n&&(a=JSON.parse(n)),e.allPlayers=a,isNaN(e.allPlayers.length)||e.allPlayers.length-1<r?(e.currentPlayer=new u,e.allPlayers.push(e.currentPlayer)):e.currentPlayer=e.allPlayers[r],e.currentPlayer},e.getDangerRoomProperty=function(e,r){switch(void 0===r&&(r=!1),e){case o.egypt:return this.currentPlayer.egyptEndlessProperties&&!r||(this.currentPlayer.egyptEndlessProperties=new a),this.currentPlayer.egyptEndlessProperties;case o.pirate:return this.currentPlayer.pirateEndlessProperties&&!r||(this.currentPlayer.pirateEndlessProperties=new a),this.currentPlayer.pirateEndlessProperties;case o.cowboy:return this.currentPlayer.cowboyEndlessProperties&&!r||(this.currentPlayer.cowboyEndlessProperties=new a),this.currentPlayer.cowboyEndlessProperties;case o.future:return this.currentPlayer.futureEndlessProperties&&!r||(this.currentPlayer.futureEndlessProperties=new a),this.currentPlayer.futureEndlessProperties;case o.dark:return this.currentPlayer.darkEndlessProperties&&!r||(this.currentPlayer.darkEndlessProperties=new a),this.currentPlayer.darkEndlessProperties;default:return new a}},e.getDangerRoomMiniGameProperty=function(e,r){switch(void 0===r&&(r=!1),e){case o.egypt:return this.currentPlayer.egyptEndlessMiniGameProperties&&!r||(this.currentPlayer.egyptEndlessMiniGameProperties=new l),this.currentPlayer.egyptEndlessMiniGameProperties;case o.pirate:return this.currentPlayer.pirateEndlessMiniGameProperties&&!r||(this.currentPlayer.pirateEndlessMiniGameProperties=new l),this.currentPlayer.pirateEndlessMiniGameProperties;case o.cowboy:return this.currentPlayer.cowboyEndlessMiniGameProperties&&!r||(this.currentPlayer.cowboyEndlessMiniGameProperties=new l),this.currentPlayer.cowboyEndlessMiniGameProperties;case o.future:return this.currentPlayer.futureEndlessMiniGameProperties&&!r||(this.currentPlayer.futureEndlessMiniGameProperties=new l),this.currentPlayer.futureEndlessMiniGameProperties;case o.dark:return this.currentPlayer.darkEndlessMiniGameProperties&&!r||(this.currentPlayer.darkEndlessMiniGameProperties=new l),this.currentPlayer.darkEndlessMiniGameProperties;default:return new l}},e.pushPlantToEndlessProperty=function(r,t){for(var n=[],i=0;i<s.defaultPlantChooserOrder.length;i++)-1==t.obtainedPlants.indexOf(s.defaultPlantChooserOrder[i])&&s.defaultPlantChooserOrder[i]!=r||n.push(s.defaultPlantChooserOrder[i]);t.obtainedPlants=n,e.savePP()},e}());P.currentPlayer=new u,P.allPlayers=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPropertiesWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./PlayerProperties.ts"],(function(t){var e,i,r,o,n,l,a,s,p,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Label,s=t.EditBox,p=t.Component},function(t){u=t.MultiLanguage},function(t){c=t.AllPlayerProperties}],execute:function(){var y,P,b,f,g,h,d,v,w,T,S,L,m,z;n._RF.push({},"b0b9am89Z5HLapzqEppb/wM","PlayerPropertiesWindow",void 0);var W=l.ccclass,x=l.property,B=(y=W("PlayerPropertiesWindowToolTips"),P=x(a),b=x(a),y((h=e((g=function(){function t(){r(this,"Save",h,this),r(this,"Title",d,this)}return t.prototype.start=function(){this.Title&&(this.Title.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Title")),this.Save&&(this.Save.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Save"))},t}()).prototype,"Save",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(g.prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f);t("PlayerPropertiesWindow",(v=W("PlayerPropertiesWindow"),w=x(B),T=x(s),v((m=e((L=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"tooltips",m,o(e)),r(e,"editbox",z,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.tooltips.start()},n.onEnable=function(){this.editbox.string=JSON.stringify(c.currentPlayer,null,"\t")},e}(p)).prototype,"tooltips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),z=e(L.prototype,"editbox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./SoundsController.ts","./NodePools.ts"],(function(t){var n,o,e,i,a,r,l,s,h,d,c,u,p,f,g,w,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,s=t.AudioSource},function(t){h=t.PlantType,d=t.Plant,c=t.PlantProps},function(t){u=t.ZombiePool,p=t.Rectangle},function(t){f=t.Square},function(t){g=t.sounds},function(t){w=t.SoundFXController},function(t){C=t.ArrayGet}],execute:function(){var m,b,y,P,S,v,A;a._RF.push({},"8e90bzMJCRDvKfgEIWRnVBn","PotatoMine",void 0);var D=r.ccclass,L=r.property,_=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).ChargeTime=14,n.Damage=1800,n.PlantfoodChildrenCount=2,n}return o(n,t),n}(c);t("PotatoMinePlant",(m=D("PotatoMinePlant"),b=L(l),y=L(l),m((v=n((S=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new _,n.growthCountdown_=14,e(n,"foodSound",v,i(n)),e(n,"landSound",A,i(n)),n.grown=!1,n.activated=!1,n.detector=void 0,n}o(n,t);var a=n.prototype;return a.onObjdataSet=function(t,n){this.growthCountdown_=n.ChargeTime},a.specialPlantOnEnable=function(){this.activated=!1,this.grown=!1,this.growthCountdown_=this._objdataOwn.ChargeTime,this.anmControl.playAnimation("Spawn_Baby",1),this.anmControl.IdleAnim="Idle_Baby",this.anmControl.RandomAnim=[],this.deathAnm="Death_Baby"},a.specialPlantFood=function(t){this.grown||this.grow(),this.activated=!0,this.anmControl.playAnimation("Food")},a.grow=function(){this.grown=!0,this.eatDamagable=!1,this.growSound(),this.anmControl.playAnimation("Grow",1),this.anmControl.IdleAnim="Idle",this.deathAnm="Charging",this.eaterDetectable=!1,this.smasherDetectable=!1},a.growSound=function(){g.playDirtRise()},a.explodeAction=function(){this.inLnC.explodeSqudow1x1(this._objdataOwn.Damage)},a.animationListener=function(t){switch(t.name){case"activate":this.activated=!0;break;case"explode":this.explodeAction();break;case"die":this.deathAnm="",this.die();break;case"throw":this.throwChildren();break;case"foodEnd":this.foodEnd();break;case"foodSound":this.getComponent(s).playOneShot(this.foodSound,w.SoundFXVolume)}},a.throwChildren=function(){var t=this,n=this._objdataOwn.PlantfoodChildrenCount,o=[];if(u.inLawnPool().forEach((function(e){o.length>=n||e.inLnC.isInLawn()&&-1==o.indexOf(e.inLnC)&&e.inLnC.putPlantAvailable(t.TYPE,!0,t.ID)&&o.push(e.inLnC)})),o.length<n)for(var e=C.randomize(f.getAllLnC()),i=0;o.length<n&&i<e.length;i++){var a=e[i];-1==o.indexOf(a)&&a.putPlantAvailable(this.TYPE,!0,this.ID)&&o.push(a)}o.forEach((function(n){var o=t.inLnC.spawnPlantByPlantEnum(t.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),t.inLnC.pushPlant(o),o.plantType=h.plant,o.anmControl.playAnimation("Flying",1/0),o.damagable=!1,o.leapTo(n,.8,200))}))},a.onLeapStart=function(){this.activated=!1},a.onLeapEnd=function(){this.grow(),this.audioSource.playOneShot(this.landSound,w.SoundFXVolume),this.anmControl.playAnimation("Spawn",1)},a.specialPlantOnSquareChange=function(t,n){this.detector=p.createRectangleNodeCenter(n.node,f.SquareDisW,f.SquareDisH)},a.detectEnemy=function(){var t,n=this,o=!1;null==(t=this.inLane)||t.zombiePool().forEach((function(t){o||t.flying||!t.plantDetectorRec.judgeCrossRec(n.bodyRec)&&!t.bodyRec.judgeCrossRec(n.detector)||(o=!0)})),o&&(this.activated=!1,this.die())},a.waterable=function(){return this.activated},a.specialPlantUpdate=function(t){this.grown||(this.growthCountdown_>0&&(this.growthCountdown_-=t),this.growthCountdown_<=0&&this.grow()),this.activated&&!this.fooding&&this.detectEnemy()},n}(d)).prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(S.prototype,"landSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMinePrimal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PotatoMine.ts","./SoundRescourses.ts"],(function(t){var o,n,i,e,a;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.PotatoMinePlant},function(t){a=t.sounds}],execute:function(){var r;n._RF.push({},"7830fHqmAFNxJYmzEaUai+2","PotatoMinePrimal",void 0);var s=i.ccclass;i.property,t("PotatoMinePrimalPlant",s("PotatoMinePrimalPlant")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.explodeAction=function(){this.inLnC.explodeSpudow3x3(this._objdataOwn.Damage)},i.growSound=function(){a.play(this.landSound,1,.1)},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PowerLily.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./Sunflower.ts"],(function(t){var n,o,r,e,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){e=t.CherryBombPlant,i=t.CherryBombProps},function(t){a=t.sunflower}],execute:function(){var c;o._RF.push({},"f51283ku6ZAkLASU1ALEGbz","PowerLily",void 0);var u=r.ccclass,l=(r.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ProduceCount=1,n}return n(o,t),o}(i));t("PowerLilyPlant",u("PowerLilyPlant")(c=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new l,n}n(o,t);var r=o.prototype;return r.explode=function(){this.deathAnm="Death";for(var t=0;t<this._objdataOwn.ProduceCount;t++)a.producePlantFood(this.worldPosition)},r.animationListener=function(t){"produce"==t.name&&(this.explode(),this.die())},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupFingers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./Square.ts","./Mouse.ts","./SoundRescourses.ts","./CharacterManager.ts","./SettingWindow.ts","./levelController.ts"],(function(t){var n,o,e,i,r,s,a,u,l,h,p,c,d,w,f,g,m,y,b,B,v,x,U;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.Button,l=t.JsonAsset,h=t.Vec3,p=t.Sprite,c=t.find,d=t.Color,w=t.tween,f=t.Component},function(t){g=t.UIInGame},function(t){m=t.Square},function(t){y=t.Mouse},function(t){b=t.sounds},function(t){B=t.ZombiePool,v=t.TombPool},function(t){x=t.SettingWindow},function(t){U=t.LevelPlay}],execute:function(){var P,j,C,I,S,D,T,M,z,O,L,R,G,F,N,k;s._RF.push({},"18097APbSZKvbjiWDz1LyEh","PowerupFingers",void 0);var E=a.ccclass,_=a.property;t("PowerupFingers",(P=E("PowerupFingers"),j=_(u),C=_(u),I=_(u),S=_(u),D=_(u),T=_(l),P(((k=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).oldPos=new h(0,0,0),e(n,"fireButton",O,i(n)),e(n,"snowButton",L,i(n)),e(n,"tossButton",R,i(n)),e(n,"zapButton",G,i(n)),e(n,"cherryButton",F,i(n)),e(n,"pupjson",N,i(n)),n.PowerUpProperties=[],n.powerUpBorder=new p,n.powerUpBG=new p,n.mousePushed=!1,n.totalTime=5,n.countDown=0,n.index=-1,n.oldAlpha=0,n.shown=!1,n}o(n,t);var s=n.prototype;return s.judgeMouseDownStart=function(){return 4==this.index&&m.lawnRec.judgeInRecP(y.position)},s.judgeMouseMoveStart=function(){if(1==this.index){var t=!1;return B.pool().forEach((function(n){t||n.bodyRec.judgeCrossLine(y.moveLine)&&(t=!0)})),t||v.pool().forEach((function(n){t||n.bodyRec.judgeCrossLine(y.moveLine)&&(t=!0)})),t}return!1},s.snowBallUpdate=function(t,n){if(this.mousePushed)for(var o=this.getObjdataByIndex(1).TimePerUse,e=Math.floor(t/o)-Math.floor(n/o),i=0;i<e;i++)this.throwOneSnowBall()},s.throwOneSnowBall=function(){n.prjManager.throwSnowBall(350,y.position.clone())},s.update=function(t){if(this.countDown>0){var n=this.countDown+0,o=Math.floor(7*this.countDown/this.totalTime);this.countDown-=t;var e=this.countDown+0;o!=Math.floor(7*this.countDown/this.totalTime)&&b.playPowerUpCD(this.countDown/this.totalTime),this.powerUpBG.fillRange=this.countDown/this.totalTime,1==this.index&&this.snowBallUpdate(n,e),this.countDown<=0&&this.tryChangingIndex(-1,null)}-5==g.index&&-1!=this.index&&this.mousePushed&&this.countDown<=0&&this.judgeMouseMoveStart()&&this.powerUpStart()},s.powerUpStart=function(){var t,n=null==(t=this.getObjdataByIndex(this.index))?void 0:t.TotalTime;this.totalTime=isNaN(n)?4:n,this.countDown=this.totalTime,this.allButtons.forEach((function(t){t.interactable=!1})),b.playPowerUpStart(this.index)},s.onMouseDown=function(t){this.mousePushed=!0,-5==g.index&&-1!=this.index&&(this.countDown<=0&&this.judgeMouseDownStart()&&this.powerUpStart(),this.countDown>0&&1==this.index&&this.throwOneSnowBall())},s.onMouseUp=function(t){this.mousePushed=!1},s.onLoad=function(){var t=JSON.stringify(this.pupjson);this.PowerUpProperties=JSON.parse(t).json.objects,this.countDown=0,n.component=this,this.oldPos=this.node.position.clone(),this.node.position=this.oldPos.clone().add3f(0,-300,0)},s.start=function(){var t,n;this.mousePushed=!1,this.powerUpBG=null==(t=c("Canvas/LawnCommon/lawnTotal/powerUpBG"))?void 0:t.getComponent(p),this.powerUpBorder=null==(n=c("Canvas/LawnCommon/lawnTotal/powerUpBorder"))?void 0:n.getComponent(p),this.tryChangingIndex(-1,null,!1)},n.gameStart=function(){var t;null==(t=n.component)||t._gameStart()},s.judgeUIIndex=function(){-5!=g.index&&this.tryChangingIndex(-1,null,!1)},s.tryChangingIndex=function(t,n,o){if(void 0===o&&(o=!0),!(this.countDown>0))switch(t){case 0:case 1:case 2:case 3:case 4:if(!n||t==this.index){this.tryChangingIndex(-1,null);break}o&&-5!=g.index&&g.uiingame.tryChangingIndex(-5),this.index=t;var e=n.BoardTimerColor;this.powerUpBG.color=new d(e.mRed,e.mGreen,e.mBlue,e.mAlpha),this.powerUpBorder.color=new d(e.mRed,e.mGreen,e.mBlue,255);break;default:this.allButtons.forEach((function(t){t.interactable=!0})),this.index=-1,this.powerUpBG.color=new d(255,255,255,0),this.powerUpBorder.color=new d(255,255,255,0),o&&g.uiingame.tryChangingIndex(-1),this.powerUpBG.fillRange=1}},s.getObjdataByIndex=function(t){var n=null;return this.PowerUpProperties.forEach((function(o){var e,i,r,s,a;n||(0==t&&"powerupflamethrower"==(null==o||null==(e=o.objdata)?void 0:e.TypeName)||1==t&&"powerupsnowball"==(null==o||null==(i=o.objdata)?void 0:i.TypeName)||2==t&&"powerupflickzombie"==(null==o||null==(r=o.objdata)?void 0:r.TypeName)||3==t&&"powerupwizardfinger"==(null==o||null==(s=o.objdata)?void 0:s.TypeName)||4==t&&"powerupcherrybomb"==(null==o||null==(a=o.objdata)?void 0:a.TypeName))&&(n=o.objdata)})),n},s.powerUpFlame=function(){if(this.shown){var t=this.getObjdataByIndex(0);this.tryChangingIndex(0,t)}},s.powerUpSnow=function(){if(this.shown){var t=this.getObjdataByIndex(1);this.tryChangingIndex(1,t)}},s.powerUpToss=function(){if(this.shown){var t=this.getObjdataByIndex(2);this.tryChangingIndex(2,t)}},s.powerUpZap=function(){if(this.shown){var t=this.getObjdataByIndex(3);this.tryChangingIndex(3,t)}},s.powerUpCherry=function(){if(this.shown){var t=this.getObjdataByIndex(4);this.tryChangingIndex(4,t)}},s._gameStart=function(){this.show()},s.show=function(){!x.allowCheat&&!U.component.PowerUpsForceShow||U.component.PowerUpsForceHide||this.shown||(this.shown=!0,w(this.node).to(.3,{position:this.oldPos},{easing:"cubicOut"}).start())},s.hide=function(){this.shown&&(this.shown=!1,this.tryChangingIndex(-1,null,!0),w(this.node).by(.3,{position:new h(0,-300,0)},{easing:"cubicIn"}).start())},r(n,[{key:"allButtons",get:function(){return[this.fireButton,this.snowButton,this.tossButton,this.zapButton,this.cherryButton]}}],[{key:"uiIndexLocked",get:function(){return this.component.countDown>0}}]),n}(f)).prjManager=void 0,k.component=void 0,O=n((z=k).prototype,"fireButton",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(z.prototype,"snowButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(z.prototype,"tossButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(z.prototype,"zapButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(z.prototype,"cherryButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(z.prototype,"pupjson",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/preSplashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts"],(function(e){var n,t,r,c,o,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,c=e.director,o=e.Component},function(e){s=e.default}],execute:function(){var p;t._RF.push({},"6e631wnaMVDZL2Rx3CcISnG","preSplashScene",void 0);var a=r.ccclass;r.property,e("preSplashScene",a("preSplashScene")(p=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){s.window(),c.loadScene("splashScene")},t}(o))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts"],(function(t){var o,n,a,e,i,s,c,r,l,h,u,d,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,c=t.AudioClip,r=t.Size},function(t){l=t.PeashooterPlant,h=t.PeashooterProps},function(t){u=t.SplashDamage},function(t){d=t.zombiePoison},function(t){f=t.sounds}],execute:function(){var p,S,g,m,b;i._RF.push({},"47ba7dMXhNDu4+WxuxwF5lY","PrimalPeashooter",void 0);var P=s.ccclass,_=s.property,k=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this).KnockbackDistance=1,o.KnockbackChance=.5,o}return n(o,t),o}(h);t("PrimalPeashooterPlant",(p=P("PrimalPeashooter"),S=_([c]),p((b=o((m=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=t.call.apply(t,[this].concat(i))||this)._rangeScale=0,o._objdataOwn=new k,o.foodCount=0,a(o,"foodShootSound",b,e(o)),o}n(o,t);var i=o.prototype;return i.specialFightAloneStrengthen=function(t){t.RangeScale&&(this._rangeScale=t.RangeScale)},i.shotInitialize=function(t){if(this.fooding)t.setKnockBack(this._objdataOwn.KnockbackDistance),t.setDamage(100*this._dmgScale),t.setSplashDamages([new u(100,new r(2,1),0,0,0,new d(0,0),3,this._objdataOwn.KnockbackDistance)]),t.setStun(3);else{var o=Math.random()<this._objdataOwn.KnockbackChance?1:0;t.setKnockBack(o*this._objdataOwn.KnockbackDistance),t.setStun(1-o)}this._dmgScale&&t.setDamage(t.damage_*this._dmgScale),this._rangeScale>0&&t.setSplashDamages([new u(0,new r(this._rangeScale,this._rangeScale),0,0,0,new d(0,0),0,this._objdataOwn.KnockbackDistance)])},i.specialPlantFood=function(){this.foodCount=0,this.anmControl.playAnimation("Food",1/0),this.busy=1/0},i.animationListenerAdd=function(t){"shootFood"==t.name&&(this._shoot(),f.playArray(this.foodShootSound,1,.1),++this.foodCount>=this._objdataOwn.PlantfoodPeaCount&&this.foodEnd())},i.specialPlantOnEnable=function(){this.initialize(),this.foodCount=0},o}(l)).prototype,"foodShootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var i,l,s,a;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,s=t._decorator},function(t){a=t.WallNutPlant}],execute:function(){var e;l._RF.push({},"66600o+bKNIBIyIoFQGsqb0","PrimalWallNut",void 0);var r=s.ccclass;s.property,t("PrimalWallNutPlant",r("PrimalWallNutPlant")(e=function(t){function l(){return t.apply(this,arguments)||this}return i(l,t),l.prototype.normalSmash=function(t){if(!this.fooding&&!this.invincible)if(this.armorHealth>0)this.armorHealth=0,this.foodable=!0,this.setArmor();else if(this.hurtStage<3){for(var i=this.health+0;i-this.toughness/4>0;)i-=this.toughness/4;this.dealNormalDamage(i)}else this.die()},l}(a))||e);l._RF.pop()}}}));

System.register("chunks:///_virtual/Prizes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,n,t,o,c,a,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Prefab,s=e.Component}],execute:function(){var u,l,p,f,b;o._RF.push({},"f36f0SuWO5FcKaAAqnkCjmU","Prizes",void 0);var g=c.ccclass,h=c.property,y=e("prizeRes",function(){function e(){}return e.coinbag=function(){return this.res.coinbag},e}());y.res=void 0;e("Prizes",(u=g("Prizes"),l=h(a),u((b=r((f=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,n(r,"coinbag",b,t(r)),r}return i(r,e),r.prototype.onLoad=function(){y.res=this},r}(s)).prototype,"coinbag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Character.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./SoundRescourses.ts","./PowerupFingers.ts"],(function(e){var n,o,t,r,a,i,l,s,c,u,p,f,g,m,d,y,h,b,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Prefab,s=e.AudioClip,c=e.Vec3,u=e.Component},function(e){p=e.commonShot,f=e.ProjectileEnemyType},function(e){g=e.CharacterType},function(e){m=e.NodePools,d=e.ArrayGet},function(e){y=e.cabbagePult},function(e){h=e.Square},function(e){b=e.sounds},function(e){w=e.PowerupFingers}],execute:function(){var P,j,v,S,C,T,B;a._RF.push({},"e2a4aMwVmVCUL8xjgLJS6yF","ProjectileManager",void 0);var L=i.ccclass,z=i.property,M=e("projectile",function(){function e(){}return e.disableProjectile=function(e){var n=this.manager,o=n.prjs.indexOf(e);-1!=o&&n.prjs.splice(o,1)},e.registerProjectile=function(e,n,o){var t=this.manager;if(e.getComponent(p)){var r=e.getComponent(p);n==g.plant?r.enemyType=f.plant:n==g.zombie?r.enemyType=f.zombie:r.enemyType=f.none,-1==t.prjs.indexOf(e)&&t.prjs.push(e)}},e}());M.manager=void 0;e("ProjectileManager",(P=L("ProjectileManager"),j=z(l),v=z([s]),P((T=n((C=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).prjs=[],t(n,"snowBall",T,r(n)),t(n,"snowBallThrowSound",B,r(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){M.manager=this,w.prjManager=this},a.throwSnowBall=function(e,n){var o,t=m.instantiatePooly(this.snowBall),r=h.getLaneComponent(2),a=y.lobOneCabbageOnPos(t,new c(r.toLeft.worldPosition.x,r.floorY,100),10,r.prjLayer,n,9,g.zombie,13,40);null==(o=a.db)||o.playAnimation(d.getRandom(["Idle","Idle1","Idle2"])),a.setDamage(e),b.play(d.getRandom(this.snowBallThrowSound))},n}(u)).prototype,"snowBall",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(C.prototype,"snowBallThrowSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/Projectiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts"],(function(e){var s,i,o,t,r,l,n,a,u;return{setters:[function(e){s=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,n=e.Prefab,a=e.Component},function(e){u=e.instantiatePooly}],execute:function(){var c,m,b,p,_,f,y,z,g,h,w,P,d;r._RF.push({},"e90648V0hJJKaOtHWFPh0Tg","Projectiles",void 0);var j=l.ccclass,v=l.property,L=e("ProjectileEnum",function(e){return e[e.pea=0]="pea",e[e.zomboss_missile_egypt=1]="zomboss_missile_egypt",e[e.zomboss_missile_cowboy=2]="zomboss_missile_cowboy",e[e.zomboss_missile_future=3]="zomboss_missile_future",e}({})),D=e("projectileRes",function(){function e(){}return e.getProjectile=function(e){switch(e){case L.pea:return u(this.res.pea);case L.zomboss_missile_egypt:return u(this.res.zomboss_missile_egypt);case L.zomboss_missile_cowboy:return u(this.res.zomboss_missile_cowboy);case L.zomboss_missile_future:return u(this.res.zomboss_missile_future)}return u(this.res.pea)},e}());D.res=void 0;e("Projectiles",(c=j("Projectiles"),m=v(n),b=v(n),p=v(n),_=v(n),f=v(n),c((g=s((z=function(e){function s(){for(var s,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return s=e.call.apply(e,[this].concat(r))||this,o(s,"freeLocator",g,t(s)),o(s,"zomboss_missile_egypt",h,t(s)),o(s,"zomboss_missile_cowboy",w,t(s)),o(s,"zomboss_missile_future",P,t(s)),o(s,"pea",d,t(s)),s}return i(s,e),s.prototype.onLoad=function(){D.res=this},s}(a)).prototype,"freeLocator",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=s(z.prototype,"zomboss_missile_egypt",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=s(z.prototype,"zomboss_missile_cowboy",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=s(z.prototype,"zomboss_missile_future",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=s(z.prototype,"pea",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/PuffShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var n,t,e,i,a,r,s,l,u,f,d,c,h,p,y,S;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,l=o.AudioClip,u=o.Color},function(o){f=o.peashooterSound,d=o.PeashooterPlant,c=o.PeashooterProps},function(o){h=o.PlantPool,p=o.Rectangle},function(o){y=o.Square},function(o){S=o.sounds}],execute:function(){var m,g,C,b,D,P,v,F,w,_,A,L;r._RF.push({},"34ee0ldRRtFW6EvDX/mfEQ7","PuffShroom",void 0);var R=s.ccclass,x=s.property,I=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).LifeSpan=60,n}return t(n,o),n}(c),z=(m=R("puffShroomSound"),g=x([l]),C=x([l]),m((P=n((D=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"foodStartSounds",P,i(n)),e(n,"fadeSounds",v,i(n)),n}t(n,o);var a=n.prototype;return a.playFood=function(){S.playArray(this.foodStartSounds,1,.1)},a.playFadeSound=function(){S.playArray(this.fadeSounds,1,.1)},n}(f)).prototype,"foodStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(D.prototype,"fadeSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=D))||b);o("PuffShroomPlant",(F=R("PuffShroomPlant"),w=x(z),F((L=n((A=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"soundRes",L,i(n)),n.foodDuration=0,n._objdataOwn=new I,n._lifeCD=60,n}t(n,o);var r=n.prototype;return r.specialPlantFood=function(o){var t=this;void 0===o&&(o=!0),o&&(this.soundRes.playFood(),h.pool().concat().forEach((function(o){if(!o.fooding&&o.node.name==t.node.name){var e=o.getComponent(n),i=e.inLnC.cIndex-t.inLnC.cIndex,a=e.inLnC.lIndex-t.inLnC.lIndex,r=Math.sqrt(i*i+a*a);e.foodDuration=r/8,e.food(!1)}}))),this.lifeCD=this._objdataOwn.LifeSpan,this.anmControl.playAnimation("FoodStart",2,0,1/(this.foodDuration+.05))},r.setDetecter=function(o,n){this.detector=p.createRectangleNodeSide(n.node,3.5*y.SquareDisW,y.SquareDisH)},r.shotInitialize=function(o){o.maxDistance_=4},r.specialPeashooterUpdate=function(o){this.fooding||(this.lifeCD-=o)},r.specialPeashooterOnEnable=function(){this.lifeCD=this._objdataOwn.LifeSpan,this.deathAnm="Death"},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1)},r.animationListenerAdd=function(o){"toFooding"==o.name&&(this.anmControl.playAnimation("Fooding",1/0,0,1),this.foodShooting())},a(n,[{key:"lifeCD",get:function(){return this._lifeCD},set:function(o){var n,t=0;if(this._lifeCD=o,o<=0)return this.deathAnm="Fade",this.soundRes.playFadeSound(),void this.die();for(t=0;t<3;t++){var e=this._objdataOwn.LifeSpan;if(o>e/3*t&&o<=e/3*(t+1))break}null==(n=this.anmControl.body.armature().getSlot("head"))||n._setDisplayIndex(2-t);var i=1==(!this.fooding&&o<10&&o>0&&Math.floor(4*o)%4)?100:255,a=this.anmControl.body.color.clone();this.anmControl.body.color=new u(a.r,a.g,a.b,i)}}]),n}(d)).prototype,"soundRes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),_=A))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Pumpkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,i,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){a=t.WallNutPlant}],execute:function(){var o;i._RF.push({},"4a226yglb9CeIyVMLO4Q5/8","Pumpkin",void 0);var s=e.ccclass;e.property,t("PumpkinPlant",s("PumpkinPlant")(o=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var e=i.prototype;return e.onDamaged=function(t,n,i){for(var e=1;e<=3;e++)if(i<=this.toughness/3*e){this.setAnimation(3-e);break}},e.specialPlantFood=function(t){this.armorHealth=this.armorToughness,this.foodable=!1,this.setArmor(0),this.setAnimation(),this.soundRes.playFoodSound(),this.foodEnd()},e.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.deathAnm="";var n,i=this.anmControl;switch(i.RandomAnim=[],this.hurtStage=t,t){case 1:i.IdleAnim="Idle2";break;case 2:i.IdleAnim="Idle3";break;default:i.IdleAnim="Idle1",this.hurtStage=0}if(!this.dead)i.playRandom(),null==(n=this.plantInLnC)||n.readIndex()}},i}(a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/railway.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(t){var n,r,e,i,s;return{setters:[function(t){n=t.inheritsLoose,r=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.Tile}],execute:function(){var a;e._RF.push({},"8e662qRxuJEY6bPNsUBbW5R","railway",void 0);var o=i.ccclass;i.property,t("railway",o("railway")(a=function(t){function e(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=1,n.carts=[],n.group=[],n}n(e,t);var i=e.prototype;return i.setTileParent=function(t){},i.haveCartInLnC=function(t){for(var n=0;n<this.carts.length;n++)if(this.carts[n].inLnC==t)return this.carts[n];return null},i.tileOnEnable=function(){this.group=[]},i.specialTileOnLoad=function(){this.carts=[]},r(e,[{key:"pos",get:function(){return this._pos},set:function(t){this._pos=t}}]),e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/RedStinger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Zombie.ts","./NodePools.ts","./Peashooter.ts","./Character.ts"],(function(t){var e,n,o,a,i,r,s,h,l,u,d,c,f,g,p,m,y,S,b,D,A,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip,l=t.dragonBones,u=t.Prefab,d=t.Node,c=t.Vec3,f=t.Vec2},function(t){g=t.Plant,p=t.PlantProps},function(t){m=t.Rectangle},function(t){y=t.Square},function(t){S=t.sounds},function(t){b=t.zombieDamageType},function(t){D=t.instantiatePooly},function(t){A=t.peaShooter},function(t){P=t.CharacterType}],execute:function(){var _,R,w,C,v,j,I,z,E,F,O,B,L,H,k,T,W,M,q,x,N,V,Y,K,U,Z,G,J;r._RF.push({},"1503bEf9zlKybbD/WTeTtI3","RedStinger",void 0);var Q=s.ccclass,X=s.property,$=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).ShootInterval=.2,e.ShootIntervalAdditional=.25,e.DamageScale0=1,e.DamageScale1=.3333333,e.DamageScale2=.2,e.PFDuration=5,e.PFDPS=200,e.ProjectileDamage=30,e.ProjectileDamageWeak=20,e}return n(e,t),e}(p),tt=(_=Q("Red Stinger Sound"),R=X(h),w=X(h),C=X([h]),v=X([h]),j=X(h),I=X(h),_((F=e((E=function(){function t(){o(this,"foodCharge",F,this),o(this,"foodStart",O,this),o(this,"shootSounds",B,this),o(this,"shootSoundsScared",L,this),o(this,"rayEnd",H,this),o(this,"rayStart",k,this)}var e=t.prototype;return e.playFoodCharge=function(){S.play(this.foodCharge,1,.2)},e.playFoodStart=function(){S.play(this.foodStart,1,.1)},e.playShoot=function(t){void 0===t&&(t=!1),S.playArray(t?this.shootSoundsScared:this.shootSounds,.3,.1)},e.playRayEnd=function(){S.play(this.rayEnd,1,.1)},e.playRayStart=function(){S.play(this.rayStart,1,.1)},t}()).prototype,"foodCharge",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(E.prototype,"foodStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(E.prototype,"shootSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(E.prototype,"shootSoundsScared",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(E.prototype,"rayEnd",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(E.prototype,"rayStart",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=E))||z);t("RedStingerPlant",(T=Q("RedStingerPlant"),W=X(tt),M=X(l.ArmatureDisplay),q=X(u),x=X(u),N=X(d),T((K=e((Y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._hurtStage=0,o(e,"soundRes",K,a(e)),e.shootAnm="Shoot",e._inArea=0,e.shooting=!1,e.detector=new m,e.shootCD=0,e._objdataOwn=new $,o(e,"rayDB",U,a(e)),e.foodCD=10,o(e,"prj0",Z,a(e)),o(e,"prjWeak",G,a(e)),o(e,"peaPoint",J,a(e)),e}n(e,t);var r=e.prototype;return r.getHurtStage=function(t){for(var e=0;e<4;e++)if(t<this.toughness*(e+1)/4)return 3-e;return 0},r.getIdleAnm=function(t,e){switch(e){case 1:return"Idle_Scared";case 2:switch(t){case 1:return"Idle_Hide_1";case 2:return"Idle_Hide_2";case 3:return"Idle_Hide_3";default:return"Idle_Hide_0"}default:return"Idle"}},r.getRandAnm=function(t,e){switch(e){case 1:return["Rand_Scared"];case 2:return[];default:return["Rand"]}},r.getShootAnm=function(t){switch(t){case 1:return"Shoot_Scared";case 2:return null;default:return"Shoot"}},r.getDeathAnm=function(t){switch(t){case 1:return"Death_Scared";case 2:return"Death_Hide";default:return"Death"}},r.waterable=function(){return 0==this.inArea&&!this.shooting},r.animationOnComplete=function(){this.shooting=!1},r.specialPlantOnEnable=function(){this.shooting=!1,this._hurtStage=0,this._inArea=0,this.rayDB.node.active=!1},r.specialPlantOnSquareChange=function(t,e){this.detector=m.createRectangleNodeSide(e.node,y.SquareDisW*(9-e.cIndex),y.SquareDisH),this.inArea=Math.floor(e.cIndex/3)},r.onDamaged=function(t,e,n){var o=this.getHurtStage(n);o!=this.hurtStage&&(this.hurtStage=o)},r.detectEnemy=function(){if(2==this.inArea)return!1;for(var t=this.inLane.zombiePool(),e=0;e<t.length;e++){var n;if(this.detector.judgeCrossRec(null==(n=t[e])?void 0:n.bodyRec))return!0}for(var o=this.inLane.tombPool(),a=0;a<o.length;a++){var i;if(this.detector.judgeCrossRec(null==(i=o[a])?void 0:i.bodyRec))return!0}return!1},r.damageScale=function(t,e){switch(this.inArea){case 1:return this._objdataOwn.DamageScale1;case 2:return this._objdataOwn.DamageScale2;default:return this._objdataOwn.DamageScale0}},r.specialPlantOnLoad=function(){var t,e=this;null==(t=this.rayDB)||t.on(l.EventObject.FRAME_EVENT,(function(t){"die"==t.name&&(e.rayDB.node.active=!1)}),this)},r.specialPlantFood=function(t){this.anmControl.playAnimation("FoodStart",1/0),this.rayDB.playAnimation("Idle",1/0),this.foodCD=1/0},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1),this.rayDB.playAnimation("Die",2),this.soundRes.playRayEnd()},r.foodRay=function(t){var e=this,n=this._objdataOwn.PFDPS*t*this._dmgScale;this.inLane.zombiePool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&(t.dealDamage(n,!0,!1,!1,null,b.ray),t.sapflingCD=.5)})),this.inLane.tombPool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&t.dealDamage(n)}))},r._shoot=function(t,e){var n;void 0===t&&(t=this.prj0),void 0===e&&(e=!1);var o=D(t),a=A.shootOnePea(o,new c(this.peaPoint.worldPosition.x,this.worldPositionY,10),this.peaPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new f(20,0),P.zombie),i=e?this._objdataOwn.ProjectileDamageWeak:this._objdataOwn.ProjectileDamage;a.setDamage(i*this._dmgScale),null!=(n=this.inLnC)&&n.havePeaBuff&&a.addPeaBuff()},r.animationListener=function(t){if("ShootSound"==t.name)this.soundRes.playShoot(1==this.inArea);else if("Shoot"==t.name){var e=1==this.inArea;this._shoot(e?this.prjWeak:this.prj0,e)}else"foodShoot"==t.name?(this.soundRes.playRayStart(),this.rayDB.node.active=!0,this.foodCD=this._objdataOwn.PFDuration):"foodChargeSound"==t.name?this.soundRes.playFoodCharge():"foodStartSound"==t.name?this.soundRes.playFoodStart():"tweenToIdle"==t.name&&this.anmControl.playRandom(.1)},r.specialPlantUpdate=function(t){if(this.fooding)this.foodCD>0?(this.foodCD-=t,isFinite(this.foodCD)&&this.foodRay(t)):this.foodEnd();else if(this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&this.detectEnemy()){var e=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;e*=this._cdScale,this.shootCD=e,this.shooting=!0,this.anmControl.playAnimation(this.shootAnm,1,0,Math.max(1,(1==this.inArea?1:2)/e))}},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){this.anmControl.IdleAnim=this.getIdleAnm(t,this.inArea),this.anmControl.RandomAnim=this.getRandAnm(t,this.inArea),this._hurtStage==t||this.shooting||this.fooding||this.anmControl.playRandom(),this._hurtStage=t}},{key:"inArea",get:function(){return this._inArea},set:function(t){this.shootAnm=this.getShootAnm(t),this.deathAnm=this.getDeathAnm(t),this.anmControl.IdleAnim=this.getIdleAnm(this.hurtStage,t),this.anmControl.RandomAnim=this.getRandAnm(this.hurtStage,t),this._inArea==t||this.shooting||this.fooding||this.anmControl.playRandom(),this._inArea=t}}]),e}(g)).prototype,"soundRes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),U=e(Y.prototype,"rayDB",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(Y.prototype,"prj0",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(Y.prototype,"prjWeak",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(Y.prototype,"peaPoint",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Y))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/Repeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(t){var o,e,n,a,i,r,s,l,c,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.tween,c=t.dragonBones},function(t){u=t.PeashooterPlant}],execute:function(){var p,h,d,f,y;i._RF.push({},"0ce4bS4im9AmLSjGLyc0BdI","Repeater",void 0);var P=r.ccclass,m=r.property;t("RepeaterPlant",(p=P("RepeaterPlant"),h=m(s),p((y=o((f=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,n(o,"peaMega",y,a(o)),o}e(o,t);var i=o.prototype;return i.specialPlantFood=function(){var t=this;this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;l(this).to(2,{foodLeftPeaCount:0}).call((function(){t.anmControl.playAnimation("FoodBig",1),t.anmControl.body.once(c.EventObject.COMPLETE,t.foodEnd,t)})).start()},i.animationListener=function(t){"Shoot"==t.name&&this._shoot(),"shootMega"==t.name&&(this._shoot(!1,!1,this.peaMega),this.soundRes.playShootMega()),"ShootSound"==t.name&&this.soundRes.playShootSound()},o}(u)).prototype,"peaMega",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Rotobaga.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(o){var t,n,e,a,i,r,s,u,l,h,c,d,p,f,S,y,b,m,g,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,s=o.AudioClip,u=o.Prefab,l=o.Vec2,h=o.Vec3,c=o.HALF_PI},function(o){d=o.peaShooter,p=o.PeashooterPlant},function(o){f=o.NodePools},function(o){S=o.CharacterType},function(o){y=o.Square},function(o){b=o.Rectangle,m=o.ZombiePool,g=o.TombPool},function(o){w=o.sounds}],execute:function(){var R,v,P,C,F,L,D,E,M,z,q,A,x,_,I,B,H,W,N,j;i._RF.push({},"7c365RLDvtKUKsmFwtGwl+1","Rotobaga",void 0);var T=r.ccclass,X=r.property,K=o("rotobagaSound",(R=T("rotobagaSound"),v=X(s),P=X([s]),C=X([s]),F=X([s]),L=X([s]),R((M=t((E=function(){function o(){e(this,"foodSound",M,this),e(this,"shootSound",z,this),e(this,"breathSound",q,this),e(this,"foodEndSound",A,this),e(this,"shootFoodSound",x,this),this.volumeScale=.5}var t=o.prototype;return t.playFood=function(){w.play(this.foodSound,this.volumeScale,.1)},t.playBreath=function(){w.playArray(this.breathSound,this.volumeScale,.1)},t.playFoodEnd=function(){w.playArray(this.foodEndSound,this.volumeScale,.1)},t.playShootSound=function(){w.playArray(this.shootSound,this.volumeScale,.1)},t.playFoodShoot=function(){w.playArray(this.shootFoodSound,this.volumeScale,.1)},o}()).prototype,"foodSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"shootSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(E.prototype,"breathSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(E.prototype,"foodEndSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(E.prototype,"shootFoodSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=E))||D));o("RotobagaPlant",(_=T("Rotobaga"),I=X(K),B=X(u),_((N=t((W=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o.call.apply(o,[this].concat(i))||this).detectors=[],e(t,"soundResRotobaga",N,a(t)),e(t,"peaMega",j,a(t)),t}n(t,o);var i=t.prototype;return i._shootX=function(o,t,n,e){void 0===o&&(o=new l(1,1)),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===e&&(e=15);var a=0;t&&(a=Math.round(5*Math.random())-2.5),e=15+a;var i=new l(y.SquareDisW*o.x+2*a,y.SquareDisH*o.y).normalize().multiplyScalar(e),r=f.instantiatePooly(n);if(r){var s=d.shootOnePea(r,new h(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.prjLayer,i,S.zombie);this.inLnC.havePeaBuff&&s.addPeaBuff()}},i.onFoodLeftPeaCountDec=function(){var o=this;[new l(1,1),new l(-1,1),new l(1,-1),new l(-1,-1)].forEach((function(t){o._shootX(t,!0,o.peaMega)}))},i.setDetecter=function(o,t){this.detectors=[],this.detectors.push(b.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(y.SquareDisH,y.SquareDisW)/c),b.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(-y.SquareDisH,y.SquareDisW)/c))},i.specialPlantFoodEnd=function(){this.soundResRotobaga.playFoodEnd(),this.busy=0},i.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundResRotobaga.playFood(),this.busy=1/0},i.detectEnemy=function(){var o=this,t=!1;return this.detectors.forEach((function(n){t||(m.pool().forEach((function(o){t||n.judgeCrossRec(o.bodyRec)&&(t=!0)})),g.pool().forEach((function(n){t||Math.abs(n.inLnC.cIndex-o.inLnC.cIndex)==Math.abs(n.inLnC.lIndex-o.inLnC.lIndex)&&(t=!0)})))})),t},i._shootPeaAnimation=function(){this.soundResRotobaga.playBreath(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.66/this.busy,1))},i.animationListener=function(o){var t=this;"Shoot"==o.name&&[new l(1,1),new l(-1,1),new l(1,-1),new l(-1,-1)].forEach((function(o){t._shootX(o,!1)})),"ShootSound"==o.name&&this.soundResRotobaga.playShootSound(),"shootStart"==o.name&&(this.soundResRotobaga.playFoodShoot(),this.foodShooting()),"shootEnd"==o.name&&this.foodEnd()},t}(p)).prototype,"soundResRotobaga",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),j=t(W.prototype,"peaMega",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=W))||H));i._RF.pop()}}}));

System.register("chunks:///_virtual/runningParsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var i,t,e,o,r,a,s,u,c,l,p,h;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.AudioClip,u=n.CCFloat},function(n){c=n.commonShot},function(n){l=n.zombieDamageType},function(n){p=n.sounds},function(n){h=n.ArrayGet}],execute:function(){var d,f,m,y,g,b,S,P,v;r._RF.push({},"4f43cV93zhB97o8Wvzwp42H","runningParsnip",void 0);var R=a.ccclass,z=a.property;n("runningParsnip",(d=R("runningParsnip"),f=z([s]),m=z([s]),y=z(u),d((S=i((b=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,e(i,"rushSnipSounds",S,o(i)),e(i,"rushSnipSaySounds",P,o(i)),e(i,"damagePerHit",v,o(i)),i}t(i,n);var r=i.prototype;return r.pop=function(){},r.detectEnemy=function(n){},r.animationListener=function(n){var i;if("Idle"==n.name)this.switching=!1,null==(i=this.db)||i.playAnimation("Idle",1/0);else if("hit"==n.name){if(this.fallingInSky)return;this.hit(),p.play(h.getRandom(this.rushSnipSaySounds)),p.play(h.getRandom(this.rushSnipSounds))}},r.animationCompleteListener=function(){var n;this.switching=!1,null==(n=this.db)||n.playAnimation("Idle",1/0)},r.hit=function(){var n=this;this.inLane.zombiePool().forEach((function(i){i.bodyRec.judgeCrossRec(n.bodyRec())&&i.dealDamage(n.damagePerHit,!0,!0,!0,null,l.physicle)})),this.inLane.tombPool().forEach((function(i){i.bodyRec.judgeCrossRec(n.bodyRec())&&i.dealDamage(n.damagePerHit)}))},r.onEnable=function(){this.initialize(),this.db.playAnimation("Spawn",1),this.fallingInSky=!1,this.switching=!0},i}(c)).prototype,"rushSnipSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(b.prototype,"rushSnipSaySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(b.prototype,"damagePerHit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 70}}),g=b))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxLevelSettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./SettingWindow.ts","./LnC.ts","./UI.ts","./MultiLanguage.ts"],(function(e){var t,i,n,r,o,l,a,s,u,S,c,g,h,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,u=e.Sprite,S=e.Component},function(e){c=e.LevelPlay},function(e){g=e.SettingWindow},function(e){h=e.LnCSpawnZombieStyleEnum},function(e){p=e.UIInGame},function(e){f=e.MultiLanguage}],execute:function(){var y,b,w,d,L,P,m,C,D,v,E,_,T,z,F,k,x,R,B,M,G,N,O,Z,W,I,K,U,j,A,H,V,q,J,Q,X,Y,$,ee,te,ie,ne,re,oe,le;l._RF.push({},"fe53aD9ndVEk5T/aGwBI+tn","SandBoxLevelSettingWindow",void 0);var ae=a.ccclass,se=a.property,ue=(y=ae("SandBoxLevelSettingToolTip"),b=se(s),w=se(s),d=se(s),L=se(s),P=se(s),m=se(s),C=se(s),D=se(s),v=se(s),E=se(s),_=se(s),T=se(s),z=se(s),F=se(s),y((R=t((x=function(){function e(){n(this,"Title",R,this),n(this,"SwitchStageEffect",B,this),n(this,"PushTide",M,this),n(this,"PullTide",G,this),n(this,"ChangeCards",N,this),n(this,"ChangeCardsKeyTip",O,this),n(this,"SuperSlow",Z,this),n(this,"SpawnZombies",W,this),n(this,"SwitchLawn",I,this),n(this,"FreePlant",K,this),n(this,"CoolDownOff",U,this),n(this,"FreePlantfood",j,this),n(this,"DropSunFromSky",A,this),n(this,"SwitchMusic",H,this)}return e.prototype.setToolTip=function(){this.SwitchMusic&&(this.SwitchMusic.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchMusic,!1)),this.Title&&(this.Title.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.Title,!1)),this.SwitchStageEffect&&(this.SwitchStageEffect.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchStageEffect,!1)),this.PushTide&&(this.PushTide.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.PushTide,!1)),this.PullTide&&(this.PullTide.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.PullTide,!1)),this.ChangeCards&&(this.ChangeCards.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.ChangeCards,!1)),this.ChangeCardsKeyTip&&(this.ChangeCardsKeyTip.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.ChangeCardsKeyTip,!1)),this.SuperSlow&&(this.SuperSlow.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SuperSlow,!1)),this.SpawnZombies&&(this.SpawnZombies.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SpawnZombies,!1)),this.SwitchLawn&&(this.SwitchLawn.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.SwitchLawn,!1)),this.FreePlant&&(this.FreePlant.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.FreePlant,!1)),this.CoolDownOff&&(this.CoolDownOff.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.CoolDownOff,!1)),this.FreePlantfood&&(this.FreePlantfood.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.FreePlantfood,!1)),this.DropSunFromSky&&(this.DropSunFromSky.string=f.getString(f.lyrics.SandboxLevelSettingLyrics.DropSunFromSky,!1))},e}()).prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(x.prototype,"SwitchStageEffect",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(x.prototype,"PushTide",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(x.prototype,"PullTide",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(x.prototype,"ChangeCards",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(x.prototype,"ChangeCardsKeyTip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(x.prototype,"SuperSlow",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(x.prototype,"SpawnZombies",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(x.prototype,"SwitchLawn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(x.prototype,"FreePlant",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"CoolDownOff",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(x.prototype,"FreePlantfood",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(x.prototype,"DropSunFromSky",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(x.prototype,"SwitchMusic",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x))||k);e("SandBoxLevelSettingWindow",(V=ae("SandBoxLevelSettingWindow"),q=se(ue),J=se(u),Q=se(u),X=se(u),Y=se(u),V(((le=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"tooltips",te,r(t)),n(t,"skySetter",ie,r(t)),n(t,"fpSetter",ne,r(t)),n(t,"noCDSetter",re,r(t)),n(t,"fpfSetter",oe,r(t)),t}i(t,e);var l=t.prototype;return l.onLoad=function(){t.cp=this},l.reverseSkySunDrop=function(){t._skySunDrop=!t._skySunDrop,this.skySetter.color=t._skySunDrop?g.GREEN:g.RED},l.reverseFreePlant=function(){t._freePlant=!t._freePlant,this.fpSetter.color=t._freePlant?g.GREEN:g.RED},l.reverseNoCDPlant=function(){t._noCDPlant=!t._noCDPlant,this.noCDSetter.color=t._noCDPlant?g.GREEN:g.RED},l.reverseFreePF=function(){t._freePF=!t._freePF,this.fpfSetter.color=t._freePF?g.GREEN:g.RED},l.onEnable=function(){t._zombieSpawnStyle=0,this.skySetter.color=t._skySunDrop?g.GREEN:g.RED,this.fpSetter.color=t._freePlant?g.GREEN:g.RED,this.noCDSetter.color=t._noCDPlant?g.GREEN:g.RED,this.fpfSetter.color=t._freePF?g.GREEN:g.RED},l.start=function(){this.tooltips.setToolTip()},o(t,null,[{key:"freePlant",get:function(){return this._freePlant&&c.sandBoxModeOn}},{key:"noCDPlant",get:function(){return this._noCDPlant&&c.sandBoxModeOn}},{key:"freePF",get:function(){return this._freePF&&c.sandBoxModeOn}},{key:"skySunDrop",get:function(){return this._skySunDrop||!c.sandBoxModeOn}},{key:"zombieSpawnStyle",get:function(){return this._zombieSpawnStyle},set:function(e){e>=h.amount&&(e=h.directPut),p.uiingame.readSBZombieSpawnStyle(e),this._zombieSpawnStyle=e}}]),t}(S)).plantList=[],le._freePlant=!0,le._noCDPlant=!0,le._freePF=!0,le._skySunDrop=!0,le._zombieSpawnStyle=0,le.zombieReversed=!1,le.cp=void 0,te=t((ee=le).prototype,"tooltips",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ue}}),ie=t(ee.prototype,"skySetter",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(ee.prototype,"fpSetter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(ee.prototype,"noCDSetter",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(ee.prototype,"fpfSetter",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ee))||$));l._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxZombieCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotalZombie.ts","./cardSelectAlmanac.ts","./Zombies.ts","./UI.ts","./BodyGrouper.ts","./SoundRescourses.ts"],(function(e){var n,o,t,i,a,r,s,c,u,d,l,m,p,f,h,b,y,g,C,x;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,c=e.instantiate,u=e.Vec3,d=e.dragonBones,l=e.Color,m=e.EventMouse,p=e.Component},function(e){f=e.CardFeatureTotalZombie},function(e){h=e.cardSelectAlmanac},function(e){b=e.zombies,y=e.ZombieEnum},function(e){g=e.UIInGame},function(e){C=e.BodyGrouper},function(e){x=e.sounds}],execute:function(){var E,v,I,_,S,B;a._RF.push({},"99826QbZU5LHoKNL0lEg500","SandBoxZombieCards",void 0);var D=r.ccclass,T=r.property;e("SandBoxZombieCards",(E=D("SandBoxZombieCards"),v=T([f]),E(((B=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(n,"zombieCards",S,i(n)),n.currentID=0,n.index=-1,n}o(n,e);var a=n.prototype;return a.onLoad=function(){var e=this;n.component=this,this.index=-1,this.node.on(s.EventType.MOUSE_WHEEL,(function(n){var o=n.getScrollY()<0?1:-1,t=e.zombieCards[0].ID;e.zombieCards.forEach((function(e,n){e.cardGrouper(t+n+o,!1)}))}),this)},a.zombieGhost=function(e){var n,o;this.currentID=e;var t=b.getZombie(e,!0).getChildByName("Body"),i=c(t);i.parent=g.uiingame.plantInHandLayer,i.position=new u(0,-20,0),i.worldScale=new u(.45,.45,.45),null==(n=i.getChildByName("butterFacePAR"))||null==(n=n.getComponent(d.ArmatureDisplay))||null==(n=n.color)||n.set(new l(0,0,0,0));var a=i.getComponent(d.ArmatureDisplay),r=a.getComponent(C);r.body=a,null==(o=a.armature().getSlot("POISONFACE"))||o._setDisplayIndex(-1);var s=[],m=[];switch(e){case y.cowboy_bricks:case y.cowboy_bucket:case y.cowboy_cone:s=["hat_HEAD"];break;case y.monk_helmet:case y.kongfu_helmet:m=["HELMET_THERE_HEAD"]}r.body.armature().getSlots().forEach((function(e){-1!=m.indexOf(e.name)?e.displayIndex=0:-1!=s.indexOf(e.name)&&(e.displayIndex=-1)})),a.playAnimation(r.IdleAnm,1/0),r.showArm(!0)},a.update=function(e){var n=this;this.zombieCards.forEach((function(e,o){e.getComponent(h).index=n.index==o?1:0}))},a.start=function(){var e=this;this.zombieCards.forEach((function(n,o){n.cardGrouper(o,!1),n.getComponent(h).suncostShown=!1,n.node.on(s.EventType.MOUSE_DOWN,(function(t){if(!g.uiingame.indexLocked)if(t.getButton()==m.BUTTON_LEFT){var i=9!=g.index||o!=e.index?9:-1;g.uiingame.index=-1,g.uiingame.tryChangingIndex(i),9==g.index?(e.zombieGhost(n.ID),x.playCardChosen(),e.index=o):(x.playCardCancel(),e.index=-1)}else t.getButton()==m.BUTTON_RIGHT&&g.uiingame.tryChangingIndex(-1)}),e)}))},n}(p)).component=void 0,S=n((_=B).prototype,"zombieCards",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=_))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Sapfling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./NodePools.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./SoundRescourses.ts"],(function(n){var o,e,t,i,a,r,u,l,s,c,p,b,d,f,y;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.AudioClip},function(n){l=n.cabbagePultSound,s=n.cabbagePult,c=n.CabbagePultPlant},function(n){p=n.NodePools},function(n){b=n.ZombiePool},function(n){d=n.CharacterType},function(n){f=n.Square},function(n){y=n.sounds}],execute:function(){var g,h,S,P,m,w,z,v,L,C,R,A;a._RF.push({},"222f3qIX7xPWIkhmZpcd8dW","Sapfling",void 0);var q=r.ccclass,D=r.property,I=n("sapflingSound",(g=q("sapflingSound"),h=D(u),S=D(u),g((w=o((m=function(n){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,t(o,"sneezeSound",w,i(o)),t(o,"brushSound",z,i(o)),o}e(o,n);var a=o.prototype;return a.playLobSound=function(){y.playArray(this.lobSound,.6,.1)},a.playSneezeSound=function(){y.play(this.sneezeSound,.2,.1)},a.playBrushSound=function(){y.play(this.brushSound,.1,.5)},o}(l)).prototype,"sneezeSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(m.prototype,"brushSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=m))||P));n("SapflingPlant",(v=q("SapflingPlant"),L=D(I),v((A=o((R=function(n){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,t(o,"soundRes",A,i(o)),o}e(o,n);var a=o.prototype;return a.zombieIsVisible=function(n){return!n.flying&&!n.sapflingProof},a.tombDetector=function(){return!1},a.foodLob=function(){var n=this;b.pool().concat().forEach((function(o){var e=p.instantiatePooly(n.cabbage);s.lobOneCabbageOnZombie(e,n.node.worldPosition,n.cabbageSpawnPoint.worldPosition.y-n.node.worldPosition.y,n.inLane.prjLayer,o,2,d.zombie,!0)})),f.getRandomSquares(20).forEach((function(o){var e=p.instantiatePooly(n.cabbage);s.lobOneCabbageOnNode(e,n.node.worldPosition,n.cabbageSpawnPoint.worldPosition.y-n.node.worldPosition.y,n.inLane.prjLayer,o,2,d.zombie,!0)}))},a.specialAnimationListener=function(n){"sneeze"==n.name?this.soundRes.playSneezeSound():"brush"==n.name&&this.soundRes.playBrushSound()},o}(c)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),C=R))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScaredyShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Lane.ts","./Plants.ts","./SoundRescourses.ts"],(function(t){var o,n,i,e,a,r,s,h,d,u,l,c,f,p,m,y,S,b,P,g,C,v,w,L,R;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip,d=t.Prefab,u=t.Node,l=t.Vec3,c=t.Vec2,f=t.macro,p=t.tween,m=t.dragonBones},function(t){y=t.Plant,S=t.PlantProps},function(t){b=t.NodePools},function(t){P=t.peaShooter},function(t){g=t.CharacterType},function(t){C=t.Rectangle},function(t){v=t.Square},function(t){w=t.Lane},function(t){L=t.PlantEnum},function(t){R=t.sounds}],execute:function(){var A,_,E,k,D,M,I,z,j,H,F,O,x,q,K,N,T,U,W,B,V,X,Y,G;r._RF.push({},"bb74fHTzXNArIOYLe9wP4Rc","ScaredyShroom",void 0);var J=s.ccclass,Q=s.property,Z=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodSporeCount=40,o.KnockbackChance=.2,o.KnockbackDistance=.2,o}return n(o,t),o}(S),$=t("scaredyShroomSound",(A=J("scaredyShroomSound"),_=Q([h]),E=Q([h]),k=Q([h]),A((I=o((M=function(){function t(){i(this,"shootSound",I,this),i(this,"foodSound",z,this),i(this,"hideSound",j,this)}var o=t.prototype;return o.playHideSound=function(){R.playArray(this.hideSound,1,.1)},o.playShootSound=function(){R.playArray(this.shootSound,1,.1)},o.playFoodSound=function(){R.playArray(this.foodSound,1,.1)},t}()).prototype,"shootSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=o(M.prototype,"foodSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(M.prototype,"hideSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=M))||D));t("ScaredyShroomPlant",(H=J("ScaredyShroomPlant"),F=Q(d),O=Q(d),x=Q(d),q=Q(d),K=Q($),N=Q(u),H((W=o((U=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new Z,i(o,"sporeFood",W,e(o)),i(o,"spore0",B,e(o)),i(o,"spore1",V,e(o)),i(o,"spore2",X,e(o)),o._foodLeftPeaCount=0,i(o,"soundRes",Y,e(o)),o.detector=null,o.projectileSpeed=1,o.oldIdle="",o.oldRandom=[],o.scaryDetector=null,o.hiding=!1,i(o,"sporeSpawnPointUp",G,e(o)),o.busy=0,o.shooting=!1,o}n(o,t);var r=o.prototype;return r.waterable=function(){return!this.hiding&&!this.shooting},r._shoot=function(t,o,n,i){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.spore0),void 0===i&&(i=!1);var e=b.instantiatePooly(n);if(e){var a=0;t&&(a=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var r=0;o&&(r=Math.round(5*Math.random()));var s=P.shootOnePea(e,new l(this.sporeSpawnPointUp.getWorldPosition().x,this.inLnC.plantPoint.worldPosition.y,0),this.sporeSpawnPointUp.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y+a,this.inLane.prjLayer,new c((15+(o?1:0)*r)*this.projectileSpeed,0*(o?1:0)*(Math.round(10*Math.random())*Math.pow(-1,Math.round(Math.random())))),g.zombie);i&&s.setKnockBack(this._objdataOwn.KnockbackDistance)}},r.specialPlantFoodEnd=function(){var t;(t=this.detectScary())?this.hide(t):this.anmControl.playRandom(),this.busy=0},r.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0,this.sporeFood,!0)},r.specialPlantFood=function(t){var o=this;if(void 0===t&&(t=!0),t){var n;this.soundRes.playFoodSound();var i=[];null==(n=this.inLnC)||null==(n=n.get3x3())||n.forEach((function(t){t.getAllPlants().forEach((function(t){t!=o&&t.ID==o.ID&&i.push(t)}))})),i.forEach((function(t){t.food(!1)}))}this.anmControl.playAnimation("Food",f.REPEAT_FOREVER),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodSporeCount;p(this).to(2,{foodLeftPeaCount:0}).call((function(){o.foodEnd()})).start()},r._shootPeaAnimation=function(){var t="Shoot2";Math.random()<=this._objdataOwn.KnockbackChance&&(t="Shoot"),this.anmControl.playAnimation(t,1,.1,Math.max(1.1/this.busy,1))},r.animationListener=function(t){"Shoot"!=t.name&&"ShootKnockback"!=t.name||this._shoot(!1,!1,"ShootKnockback"==t.name?this.spore2:this.spore0,"ShootKnockback"==t.name),"ShootSound"==t.name&&this.soundRes.playShootSound(),"HideEnd"==t.name&&(this.hiding=!1)},r.setDetecter=function(){this.detector=C.createRectangleNodeSide(this.inLnC.node,v.SquareDisW*(9-this.cIndex),v.SquareDisH),this.scaryDetector=C.createRectangleNodeCenter(this.inLnC.node,3*v.SquareDisW,3*v.SquareDisH)},r.specialPlantOnEnable=function(){var t=this;this.shooting=!1,this.hiding=!1,this.oldIdle=this.anmControl.IdleAnim,this.oldRandom=this.anmControl.RandomAnim,this.projectileSpeed=1,this.anmControl.body.addEventListener(m.EventObject.COMPLETE,(function(o){t.shooting=!1}),this)},r.detectScary=function(){var t=this,o=0;if(this.havePumpkin())return 0;var n=this.inLane.zombiePool(),i=v.getLane(this.inLane.LaneIndex-1).getComponent(w).zombiePool(),e=v.getLane(this.inLane.LaneIndex+1).getComponent(w).zombiePool();return n.concat(i,e).forEach((function(n){if(1!=o&&t.scaryDetector.judgeCrossRec(n.bodyRec)){if(n.node.worldPosition.x<t.node.worldPosition.x)return void(o=1);if(n.node.worldPosition.x>=t.node.worldPosition.x)return void(o=2)}})),o},r.specialPlantOnSquareChange=function(t,o){this.setDetecter()},r.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._shootPeaAnimation()},r.hideEnd=function(){this.hiding=!1,this.short_=this.short,this.soundRes.playHideSound(),this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRandom,this.fooding?this.hiding=!1:this.anmControl.playAnimation("HideEnd",1)},r.hide=function(t){this.soundRes.playHideSound(),this.hiding=!0,this.short_=!0,this.deathAnm="DeathHiding",this.anmControl.IdleAnim="Hiding",this.anmControl.RandomAnim=["Hiding"],this.fooding||(1==t?this.anmControl.playAnimation("HideStartL",1):2==t&&this.anmControl.playAnimation("HideStartR",1))},r.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),i=0;i<n.length;i++)if(this.detector.judgeCrossRec(n[i].bodyRec))return!0;return!1},r.havePumpkin=function(){for(var t=this.inLnC.vineInSquare.concat(),o=0;o<t.length;o++)if(t[o].ID==L.Pumpkin)return!0;return!1},r.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.hiding&&this.detectEnemy()&&this.startShooting();var o=this.detectScary();this.hiding||!o||this.shooting||this.hide(o),this.hiding&&0==o&&this.hideEnd()},a(o,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}}]),o}(y)).prototype,"sporeFood",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=o(U.prototype,"spore0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=o(U.prototype,"spore1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=o(U.prototype,"spore2",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=o(U.prototype,"soundRes",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),G=o(U.prototype,"sporeSpawnPointUp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=U))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Scenes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,i,t,c,a,l,o;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){c=e.cclegacy,a=e._decorator,l=e.SceneAsset,o=e.Component}],execute:function(){var s,u,p,S,f,h,b,d,m,y,w,z,R;c._RF.push({},"1ee17OeWA9Fk4wRPxkLGPEx","Scenes",void 0);var g=a.ccclass,G=a.property,M=e("scenes",function(){function e(){}return e.inGameScene=function(){return this.sceneRes.inGameScene},e.splashScene=function(){return this.sceneRes.splashScene},e.worldMapScene=function(){return this.sceneRes.worldMapScene},e.zenGardenMapScene=function(){return this.sceneRes.zenGardenMapScene},e.almanacScene=function(){return this.sceneRes.almanacScene},e}());M.sceneRes=void 0;e("Scenes",(s=g("Scenes"),u=G(l),p=G(l),S=G(l),f=G(l),h=G(l),s((m=n((d=function(e){function n(){for(var n,r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return n=e.call.apply(e,[this].concat(c))||this,i(n,"inGameScene",m,t(n)),i(n,"splashScene",y,t(n)),i(n,"worldMapScene",w,t(n)),i(n,"zenGardenMapScene",z,t(n)),i(n,"almanacScene",R,t(n)),n}return r(n,e),n.prototype.onLoad=function(){M.sceneRes=this},n}(o)).prototype,"inGameScene",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(d.prototype,"splashScene",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(d.prototype,"worldMapScene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(d.prototype,"zenGardenMapScene",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(d.prototype,"almanacScene",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=d))||b));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewWithoutTouchevent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.ScrollView}],execute:function(){var u;e._RF.push({},"80311OHvhFO54C5ub8cMLg6","ScrollViewWithoutTouchevent",void 0);var i=n.ccclass;n.property,o("ScrollViewWithoutTouchevent",i("ScrollViewWithoutTouchevent")(u=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n._onTouchMoved=function(o,t){},n._onTouchBegan=function(o,t){},n._onTouchCancelled=function(o,t){},n._onTouchEnded=function(o,t){},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeagullZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombieAshParticle.ts","./SoundRescourses.ts"],(function(e){var t,i,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){r=e.ZombieAshParticle},function(e){s=e.sounds}],execute:function(){var n;i._RF.push({},"29924/V30VDGZlGTJp/vFVt","SeagullZombieAshParticle",void 0);var c=o.ccclass;o.property,e("SeagullZombieAshParticle",c("SeagullZombieAshParticle")(n=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.zombieAshDBListener=function(e){"birdExpl"==e.name&&s.playBirdExpl()},i}(r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/SeedChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./NodePools.ts","./cardSelectAlmanac.ts","./SoundRescourses.ts","./Plants.ts","./MultiLanguage.ts"],(function(t){var e,n,i,a,l,o,r,s,c,p,u,d,h,f,y,g,w,b,C,m,S,v,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,r=t.Enum,s=t.Sprite,c=t.Node,p=t.ScrollView,u=t.Label,d=t.EventMouse,h=t.Vec2,f=t.Vec3,y=t.Component,g=t.instantiate},function(t){w=t.CardFeatureTotal},function(t){b=t.NodePools},function(t){C=t.cardSelectAlmanac},function(t){m=t.sounds},function(t){S=t.PlantEnum,v=t.plants},function(t){D=t.MultiLanguage}],execute:function(){var P,I,T,O,N,E,V,B,L,z,M,A,F,_,G,R,U;l._RF.push({},"e1b80ReMENKi7VVz0yCcde6","SeedChooser",void 0);var j=o.ccclass,k=o.property;r(S);t("SeedChooser",(P=j("SeedChooser"),I=k(s),T=k(c),O=k(p),N=k(c),E=k(u),V=k(u),B=k(c),P((M=e((z=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))||this).currentSeedBank=[],i(e,"displayBG",M,a(e)),e.PlantsInCard=[],i(e,"card0",A,a(e)),i(e,"scrollView",F,a(e)),i(e,"plantDisplayer",_,a(e)),e.plantDisplayed=void 0,i(e,"plantNameLabel",G,a(e)),i(e,"briefIntro",R,a(e)),e.displayed=-1,i(e,"imitatorSlot",U,a(e)),e}n(e,t);var l=e.prototype;return l.onLoad=function(){},l.judgeAllowed=function(t,e){},l.layCards=function(t){var e=this;void 0===t&&(t=this.currentSeedBank),(!t||t.length<=0)&&(t=v.defaultPlantChooserOrder);var n=this.card0.getComponent(w);n.cardGrouper(t[0]),this.PlantsInCard.push(this.card0.getComponent(w));var i=this.card0.getComponent(C);i.seedChooserModeOn=!0,this.card0.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==d.BUTTON_LEFT&&(e.switchPlant(0),m.playCardChosen())})),this.judgeAllowed(n,i);for(var a=function(n){var i=g(e.card0);i.parent=e.card0.parent;var a=i.getComponent(w);a.cardGrouper(t[n],a.ID!=S.Imitater);var l=i.getComponent(C);a.ID==S.Imitater&&(e.imitatorSlot.parent.active=!0,i.parent=e.imitatorSlot,i.position=new f(0,0,0),l.suncostShown=!1,l.defaultSunCostShown=!1),l.seedChooserModeOn=!0,e.judgeAllowed(a,l),e.PlantsInCard.push(i.getComponent(w)),i.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==d.BUTTON_LEFT&&(e.switchPlant(n),m.playCardChosen())}))},l=1;l<t.length;l++)a(l);this.scrollView.scrollToTop(0),this.scrollView.stopAutoScroll()},l.scrowUp=function(){this.scrollView.scrollToOffset(new h(0,this.scrollView.getScrollOffset().y-100),.2)},l.scrowDown=function(){this.scrollView.scrollToOffset(new h(0,this.scrollView.getScrollOffset().y+100),.2)},l.switchPlant=function(t){if(t<this.PlantsInCard.length&&this.displayed!=t){this.plantDisplayed&&b.destroyPooly(this.plantDisplayed);var e=this.PlantsInCard[t];this.plantDisplayed=b.instantiatePooly(e.thisCard.plantDIS),this.plantDisplayed.parent=this.plantDisplayer,this.plantDisplayed.position=new f(0,0,0),this.plantNameLabel.string=D.getString(e.thisPlant.NAME),this.briefIntro.string=D.getString(e.thisPlant.BRIEFINTRODUCTION),this.displayed=t;var n=v.getPlantBGSprite(e.ID);this.displayBG.spriteFrame=n}},l.onEnable=function(){this.displayed=-1,this.plantDisplayed=null,this.imitatorSlot.parent.active=!1,this.layCards(),this.switchPlant(0)},e}(y)).prototype,"displayBG",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(z.prototype,"card0",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"scrollView",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(z.prototype,"plantDisplayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(z.prototype,"plantNameLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"briefIntro",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"imitatorSlot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=z))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/SettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./ElectronAPI.ts","./levelController.ts","./Square.ts","./PlayerProperties.ts","./KeyListener.ts","./MultiLanguage.ts","./index.mjs_cjs=&original=.js","./foodLinkTile.ts","./Plants.ts","./index.js"],(function(e){var i,t,r,n,l,a,o,s,u,c,g,p,S,h,m,b,y,d,f,w,T,C,L,v,F,R,N,E,P,B,A,G,M,z,D,x,K,U;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,u=e.Sprite,c=e.JsonAsset,g=e.EditBox,p=e.SpriteComponent,S=e.Slider,h=e.Vec2,m=e.Color,b=e.director,y=e.sys,d=e.game,f=e.input,w=e.Input,T=e.KeyCode,C=e.ProgressBar,L=e.Component},function(e){v=e.MusicController,F=e.SoundFXController},function(e){R=e.setExitToMapScene,N=e.UIInGame},function(e){E=e.default},function(e){P=e.LevelPlay},function(e){B=e.Square},function(e){A=e.AllPlayerProperties},function(e){G=e.CursorStyleEnum,M=e.KeyListener},function(e){z=e.MultiLanguage,D=e.LanguageEnum},null,function(e){x=e.FoodLinkTileTypeEnum},function(e){K=e.plants},function(e){U=e.default}],execute:function(){var V,k,q,W,X,O,_,I,j,J,Q,Y,H,Z,$,ee,ie,te,re,ne,le,ae,oe,se,ue,ce,ge,pe,Se,he,me,be,ye,de,fe,we,Te,Ce,Le,ve,Fe,Re,Ne,Ee,Pe,Be,Ae,Ge,Me,ze,De,xe,Ke,Ue,Ve,ke,qe,We,Xe,Oe,_e,Ie,je,Je,Qe,Ye,He,Ze,$e,ei,ii,ti,ri,ni,li,ai,oi,si,ui,ci,gi,pi,Si,hi,mi,bi,yi,di,fi;a._RF.push({},"1978cSMPitG/7HCQRS5rNTh","SettingWindow",void 0);var wi=o.ccclass,Ti=o.property,Ci="PvZ2_Settings",Li=(e("WindowSize",16/9),function(){this.MusicVolume=1,this.SFXVolume=1,this.CardsAtUpper=!1,this.LnCSelectionMode=0,this.AllowCheat=!0,this.AnimationFrameRate=0,this.ShowKeyTips=!0,this.ShowFPS=!1,this.Language=0,this.cursor=0,this.bilibiliNumber=null,this.TileTurnipType=x.epsilon,this.ClassicCardBG=!1,this.CamelPlayedTime=0}),vi=(V=wi("Settingwindow Labels"),k=Ti(s),q=Ti(s),W=Ti(s),X=Ti(s),O=Ti(s),_=Ti(s),I=Ti(s),j=Ti(s),J=Ti(s),Q=Ti(s),Y=Ti(s),H=Ti(s),Z=Ti(s),$=Ti(s),ee=Ti(s),ie=Ti(s),te=Ti(s),re=Ti(s),ne=Ti(s),le=Ti(s),ae=Ti(s),oe=Ti(s),V((ce=i((ue=function(){function e(){r(this,"Title",ce,this),r(this,"Music",ge,this),r(this,"SoundFX",pe,this),r(this,"Language",Se,this),r(this,"CursorStyle",he,this),r(this,"UpperCardLayer",me,this),r(this,"AllowCheat",be,this),r(this,"ShowKeyboardTip",ye,this),r(this,"ShowFPS",de,this),r(this,"SandBoxLevel",fe,this),r(this,"SquareTipMode",we,this),r(this,"FullScreen",Te,this),r(this,"AnimationMaxFrameRate",Ce,this),r(this,"QuitGame",Le,this),r(this,"Difficulty",ve,this),r(this,"EnterBilibili",Fe,this),r(this,"Confirm",Re,this),r(this,"WhiteListRequire",Ne,this),r(this,"AnimationMaxFrameRateSuggestion",Ee,this),r(this,"LocalLevel",Pe,this),r(this,"TileTurnip",Be,this),r(this,"ClassicCardBG",Ae,this)}return e.prototype.setToolTip=function(){this.ClassicCardBG.string=z.getString(z.lyrics.SettingLyrics.ClassicCardBG,!1),this.TileTurnip.string=z.getString(z.lyrics.SettingLyrics.TileTurnip,!1),this.Difficulty.string=z.getString(z.lyrics.SettingLyrics.Difficulty,!1),this.Title.string=z.getString(z.lyrics.SettingLyrics.Title,!1),this.Music.string=z.getString(z.lyrics.SettingLyrics.Music,!1),this.SoundFX.string=z.getString(z.lyrics.SettingLyrics.SoundFX,!1),this.Language.string=z.getString(z.lyrics.SettingLyrics.Language,!1),this.CursorStyle.string=z.getString(z.lyrics.SettingLyrics.CursorStyle,!1),this.UpperCardLayer.string=z.getString(z.lyrics.SettingLyrics.UpperCardLayer,!1),this.AllowCheat.string=z.getString(z.lyrics.SettingLyrics.AllowCheat,!1),this.ShowKeyboardTip.string=z.getString(z.lyrics.SettingLyrics.ShowKeyboardTip,!1),this.ShowFPS.string=z.getString(z.lyrics.SettingLyrics.ShowFPS,!1),this.SandBoxLevel.string=z.getString(z.lyrics.SettingLyrics.SandBoxLevel,!1),this.SquareTipMode.string=z.getString(z.lyrics.SettingLyrics.SquareTipMode,!1),this.FullScreen.string=z.getString(z.lyrics.SettingLyrics.FullScreen,!1),this.AnimationMaxFrameRate.string=z.getString(z.lyrics.SettingLyrics.AnimationMaxFrameRate,!1),this.QuitGame.string=z.getString(z.lyrics.SettingLyrics.QuitGame,!1),this.AnimationMaxFrameRateSuggestion.string=z.getString(z.lyrics.SettingLyrics.AnimationMaxFrameRateSuggestion,!1),this.LocalLevel.string=z.getString(z.lyrics.SettingLyrics.PlayLocalLevel,!1),this.EnterBilibili.string=z.getString(z.lyrics.SettingLyrics.Bilibili.EnterBilibili,!1),this.Confirm.string=z.getString(z.lyrics.SettingLyrics.Bilibili.Confirm,!1),this.WhiteListRequire.string=z.isWhiteList?"":z.getString(z.lyrics.SettingLyrics.Bilibili.WhiteListRequire,!1)},e}()).prototype,"Title",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=i(ue.prototype,"Music",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=i(ue.prototype,"SoundFX",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=i(ue.prototype,"Language",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=i(ue.prototype,"CursorStyle",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=i(ue.prototype,"UpperCardLayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=i(ue.prototype,"AllowCheat",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=i(ue.prototype,"ShowKeyboardTip",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=i(ue.prototype,"ShowFPS",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=i(ue.prototype,"SandBoxLevel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=i(ue.prototype,"SquareTipMode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=i(ue.prototype,"FullScreen",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=i(ue.prototype,"AnimationMaxFrameRate",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(ue.prototype,"QuitGame",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=i(ue.prototype,"Difficulty",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=i(ue.prototype,"EnterBilibili",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=i(ue.prototype,"Confirm",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=i(ue.prototype,"WhiteListRequire",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=i(ue.prototype,"AnimationMaxFrameRateSuggestion",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(ue.prototype,"LocalLevel",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=i(ue.prototype,"TileTurnip",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=i(ue.prototype,"ClassicCardBG",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=ue))||se);var Fi=function(e){var i=document.createElement("input");return i.type="file",i.accept=".json,.json5",i.id="fileInput",i.style.display="none",i.onchange=function(t){var r,n=null==t||null==(r=t.target)?void 0:r.files[0];if(n){var l=new FileReader;l.onload=function(i){var t,r=null==i||null==(t=i.target)?void 0:t.result;try{var n=U.parse(r);e(n)}catch(e){console.error("无法解析JSON文件",e)}},l.readAsText(n)}i.value=""},document.body.appendChild(i),i}((function(e){P.levelData=e,R(b.getScene().name),M.gotoScene("inGameScene")})),Ri=e("Setting",function(){function e(){}return e.saveSettings=function(){var e={MusicVolume:v.MusicVolume,SFXVolume:F.SoundFXVolume,CardsAtUpper:N.cardsAtUpper,LnCSelectionMode:B.lncSelectionMode,AllowCheat:Ni.allowCheat,ShowKeyTips:Ni.showKeyTips,ShowFPS:Ni.showFPS,cursor:Ni.cursor,AnimationFrameRate:Ni.animationFrameRate,Language:z.currentLanguage,bilibiliNumber:z.bilibiliNumber,TileTurnipType:K.TileTurnipType,ClassicCardBG:Ni.classicCardBG,CamelPlayedTime:z.camelGamingTime};y.localStorage.setItem(Ci,JSON.stringify(e))},e.getSettings=function(){var e=y.localStorage.getItem(Ci),i=JSON.parse(e);return i||new Li},e}()),Ni=e("SettingWindow",(Ge=wi("SettingWindow"),Me=Ti(vi),ze=Ti(s),De=Ti(s),xe=Ti(u),Ke=Ti(s),Ue=Ti(s),Ve=Ti(s),ke=Ti(u),qe=Ti(u),We=Ti(c),Xe=Ti(u),Oe=Ti(g),_e=Ti(p),Ie=Ti(p),je=Ti(S),Je=Ti(S),Qe=Ti(s),Ye=Ti(p),He=Ti(s),Ge(((fi=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,r(i,"tooltips",ei,n(i)),r(i,"resolutionSettingKeyTip",ii,n(i)),r(i,"animationFrameRateToolTip",ti,n(i)),r(i,"TurnipBG",ri,n(i)),r(i,"TurnipPattern",ni,n(i)),r(i,"cursorStyleName",li,n(i)),r(i,"languageName",ai,n(i)),r(i,"showFPSButton",oi,n(i)),r(i,"showKeyTipButton",si,n(i)),r(i,"debugLevelJson",ui,n(i)),r(i,"classicCardBGSprite",ci,n(i)),r(i,"bilibiliEnter",gi,n(i)),r(i,"uiCardsAtUpperSprite",pi,n(i)),r(i,"fullScreenSprite",Si,n(i)),r(i,"musicSlider",hi,n(i)),r(i,"sfxSlider",mi,n(i)),r(i,"ssmodeToolTip",bi,n(i)),r(i,"allowCheatSprite",yi,n(i)),r(i,"difficultyLevel",di,n(i)),i}t(i,e),i.getDefaultResolution=function(){var e=E.getCurrentResolution();if(null!=e&&e.length){var i=e.indexOf("×"),t=e.concat().slice(0,i),r=e.concat().slice(i+1,e.length),n=Number(t),l=Number(r);if(!isNaN(n)&&!isNaN(l))return new h(n,l)}return new h(1920,1200)};var a=i.prototype;return a.readAnimationFrameRate=function(){i.animationFrameRate?(this.animationFrameRateToolTip.string=i.frameRate.toString()+" FPS",d.frameRate=i.frameRate):(d.frameRate=1/0,this.animationFrameRateToolTip.string=z.getString(z.lyrics.SettingLyrics.AnimationMaxFrameRateUnlimited,!1))},a.switchAnimationFrameRate=function(){i.animationFrameRate=(i.animationFrameRate+1)%4,this.readAnimationFrameRate(),Ri.saveSettings()},a.setTileTurnip=function(){var e="A",i=new m(31,255,0,255);switch(K.TileTurnipType){case x.beta:e="B",i=new m(255,0,0,255);break;case x.delta:e="Δ",i=new m(255,235,0,255);break;case x.gamma:e="Γ",i=new m(0,245,255,255);break;case x.epsilon:e="E",i=new m(194,0,255,255)}this.TurnipBG.color=i,this.TurnipPattern.string=e},a.switchTileTurnip=function(){K.TileTurnipType++,K.TileTurnipType>=x.amount&&(K.TileTurnipType=0),this.setTileTurnip(),Ri.saveSettings()},a.readCursor=function(){switch(i.cursor){case G.default:this.cursorStyleName.string=z.getString(z.lyrics.SettingLyrics.CursorStyleOptions.Default,!1);break;case G.soft:this.cursorStyleName.string=z.getString(z.lyrics.SettingLyrics.CursorStyleOptions.Soft,!1);break;default:this.cursorStyleName.string=z.getString(z.lyrics.SettingLyrics.CursorStyleOptions.Unchanged,!1)}},a.switchCursor=function(){i.cursor=(i.cursor+1)%(G.unchanged+1),this.readCursor(),M.loadCursor(i.cursor),Ri.saveSettings()},a.readLanguage=function(){switch(z.currentLanguage){case D.EN:this.languageName.string="English";break;case D.ZH:this.languageName.string="简体中文"}},a.switchLanguage=function(){z.currentLanguage=(z.currentLanguage+1)%D.amount,this.readLanguage(),M.gotoScene(b.getScene().name),Ri.saveSettings()},a.switchFPSShower=function(){i.showFPS=!i.showFPS,this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,Ri.saveSettings()},a.switchKeyTipShower=function(){i.showKeyTips=!i.showKeyTips,this.showKeyTipButton.color=i.showKeyTips?i.GREEN:i.RED,Ri.saveSettings()},a.goToDebugLevel=function(){M.goToLevel(this.debugLevelJson)},a.readClassicCardBG=function(){this.classicCardBGSprite.color=i.classicCardBG?i.GREEN:i.RED},a.switchClassicCardBG=function(){i.classicCardBG=!i.classicCardBG,this.readClassicCardBG(),Ri.saveSettings()},a.blockMouse=function(){},a.onLoad=function(){var e=Ri.getSettings();z.currentLanguage=isNaN(e.Language)?0:e.Language,z.bilibiliNumber=null==e?void 0:e.bilibiliNumber,null==i.defaultResolution&&(i.defaultResolution=i.getDefaultResolution()),v.MusicVolume=isNaN(e.MusicVolume)?1:e.MusicVolume,F.SoundFXVolume=isNaN(e.SFXVolume)?1:e.SFXVolume,N.cardsAtUpper=e.CardsAtUpper,i.allowCheat=e.AllowCheat,i.classicCardBG=!!e.ClassicCardBG,i.showKeyTips=null==e.ShowKeyTips||e.ShowKeyTips,i.showFPS=null!=e.ShowFPS&&e.ShowFPS,i.animationFrameRate=isNaN(e.AnimationFrameRate)?0:e.AnimationFrameRate,i.cursor=isNaN(e.cursor)?G.default:e.cursor,B.lncSelectionMode=isNaN(e.LnCSelectionMode)?0:e.LnCSelectionMode,K.TileTurnipType=isNaN(e.TileTurnipType)?x.epsilon:e.TileTurnipType,z.camelGamingTime=isNaN(e.CamelPlayedTime)?0:e.CamelPlayedTime,z.isWhiteList&&(z.camelGamingTime=99999999999),Ri.saveSettings()},a.enterBilibili=function(){var e;null!=(e=this.bilibiliEnter)&&null!=(e=e.string)&&e.length&&(z.bilibiliNumber=this.bilibiliEnter.string,Ri.saveSettings(),M.gotoScene(b.getScene().name))},a.start=function(){var e=this;this.tooltips.setToolTip(),this.musicSlider.progress=v.MusicVolume,this.sfxSlider.progress=F.SoundFXVolume,this.uiCardsAtUpperSprite.color=N.cardsAtUpper?i.GREEN:i.RED,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,this.showKeyTipButton.color=i.showKeyTips?i.GREEN:i.RED,this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,this.fullScreenSprite.color=null!=E&&E.isFullScreen()?i.GREEN:i.RED,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.readClassicCardBG(),isNaN(A.currentPlayer.difficulty)&&(A.currentPlayer.difficulty=3);var t,r=A.currentPlayer.difficulty;(r<0&&(r=3),r>3&&(r=0),A.currentPlayer.difficulty=r,this.readDifficulty(r),this.readCursor(),this.readLanguage(),this.readAnimationFrameRate(),"3.1415926535897932384626"==z.bilibiliNumber)?(this.bilibiliEnter.node.active=this.tooltips.WhiteListRequire.node.active=!1,this.tooltips.Language.node.parent.active=!1,z.currentLanguage=D.EN):(this.bilibiliEnter.node.active=isNaN(null==(t=z.bilibiliNumber)?void 0:t.length),this.tooltips.WhiteListRequire.node.active=!this.bilibiliEnter.node.active);this.setTileTurnip(),f.on(w.EventType.KEY_DOWN,(function(i){e.node.active&&M.shiftDown&&M.altDown&&M.ctrlDown&&(i.keyCode==T.KEY_R&&M.numEnterDown?(z.bilibiliNumber=null,z.camelGamingTime=0,Ri.saveSettings(),M.gotoScene(b.getScene().name)):i.keyCode==T.KEY_C?(z.bilibiliNumber="3.1415926535897932384626",z.currentLanguage=D.EN,Ri.saveSettings(),M.gotoScene(b.getScene().name)):i.keyCode==T.KEY_P&&"3.1415926535897932384626"!=z.bilibiliNumber&&(z.bilibiliNumber="31415926535897932384626",Ri.saveSettings(),M.gotoScene(b.getScene().name)))}),this)},a.uiCardsAtUpper=function(){N.cardsAtUpper=!N.cardsAtUpper,this.uiCardsAtUpperSprite.color=N.cardsAtUpper?i.GREEN:i.RED,Ri.saveSettings()},a.quit=function(){E.quit()},i.fullScreen=function(){E.isFullScreen()?E.window():E.fullScreen()},a.fullScreen=function(){i.fullScreen()},a.playLocalLevel=function(){null==Fi||Fi.click()},a.musicSlide=function(){v.setMusicVolume(this.musicSlider.progress),this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSlider.getComponent(C).progress=v.MusicVolume},a.sfxSlide=function(){F.setSoundFxVolume(this.sfxSlider.progress),this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sfxSlider.getComponent(C).progress=F.SoundFXVolume},a.ssmodeChange=function(){B.lncSelectionMode=(B.lncSelectionMode+1)%3,Ri.saveSettings()},a.setAllowCheat=function(){i.allowCheat=!i.allowCheat,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,Ri.saveSettings()},a.readDifficulty=function(e){var i="A";switch(e){case 0:i="D";break;case 1:i="C";break;case 2:i="B";break;default:i="A"}this.difficultyLevel.string=i},a.setDifficulty=function(){var e=A.currentPlayer.difficulty-1;e<0&&(e=3),e>3&&(e=0),A.currentPlayer.difficulty=e,this.readDifficulty(e),A.savePP()},a.update=function(e){this.fullScreenSprite.color=E.isFullScreen()?i.GREEN:i.RED,this.musicSlider.getComponent(C).progress=v.MusicVolume,this.sfxSlider.getComponent(C).progress=F.SoundFXVolume;var t="Nothing";switch(B.lncSelectionMode){case 0:t=z.getString(z.lyrics.SettingLyrics.SquareTipModeOptions.EachSquare,!1);break;case 1:t=z.getString(z.lyrics.SettingLyrics.SquareTipModeOptions.Crossing,!1);break;default:t=z.getString(z.lyrics.SettingLyrics.SquareTipModeOptions.None,!1)}this.ssmodeToolTip.string=t},l(i,null,[{key:"frameRate",get:function(){switch(i.animationFrameRate){case 1:return 24;case 2:return 30;case 3:return 60}return 0}}]),i}(L)).resolutionOptions=[new h(1920,1200),new h(1920,1080),new h(1680,1050),new h(1600,900),new h(1440,900),new h(1400,1050),new h(1280,1024),new h(1152,864),new h(960,640),new h(800,600)],fi.showFPS=!1,fi.defaultResolution=null,fi.animationFrameRate=0,fi.cursor=G.default,fi.showKeyTips=!0,fi.allowCheat=!0,fi.classicCardBG=!1,fi.GREEN=new m(20,255,0,255),fi.RED=new m(255,0,0,255),ei=i(($e=fi).prototype,"tooltips",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new vi}}),ii=i($e.prototype,"resolutionSettingKeyTip",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=i($e.prototype,"animationFrameRateToolTip",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=i($e.prototype,"TurnipBG",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=i($e.prototype,"TurnipPattern",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=i($e.prototype,"cursorStyleName",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=i($e.prototype,"languageName",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=i($e.prototype,"showFPSButton",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=i($e.prototype,"showKeyTipButton",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=i($e.prototype,"debugLevelJson",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=i($e.prototype,"classicCardBGSprite",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gi=i($e.prototype,"bilibiliEnter",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=i($e.prototype,"uiCardsAtUpperSprite",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=i($e.prototype,"fullScreenSprite",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=i($e.prototype,"musicSlider",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=i($e.prototype,"sfxSlider",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=i($e.prototype,"ssmodeToolTip",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi=i($e.prototype,"allowCheatSprite",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=i($e.prototype,"difficultyLevel",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=$e))||Ze));a._RF.pop()}}}));

System.register("chunks:///_virtual/shadeFloor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,r,i,a,s,l,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.NodePool,c=e.instantiate,h=e.Component}],execute:function(){var u,p,d,f,v,y;i._RF.push({},"04a71WG3ztLwYYMDSzCOCjz","shadeFloor",void 0);var P=a.ccclass,g=a.property;e("shadeFloor",(u=P("shadeFloor"),p=g(s),u(((y=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"shade",v,r(o)),o.shadePool=new l,o}t(o,e);var i=o.prototype;return i.giveShade=function(){return this.shadePool.size()?this.shadePool.get():c(this.shade)},i.putShade=function(e){this.shadePool.put(e)},i.onLoad=function(){o.component=this},o}(h)).component=void 0,v=o((f=y).prototype,"shade",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShadowShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var n,t,i,e,a,r,s,l,u,d,p,c,h,f,P;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Prefab},function(o){u=o.Plant,d=o.PlantProps},function(o){p=o.zombieDamageType,c=o.zombiePoison},function(o){h=o.ZombiePool},function(o){f=o.instantiatePooly},function(o){P=o.sounds}],execute:function(){var y,m,S,b,w,g,v,x,E,D,_,z,O,R;a._RF.push({},"8d400Hs9RdLfoEUYaSQ+giS","ShadowShroom",void 0);var j=r.ccclass,A=r.property,F=(y=j("shadowshroomSound"),m=A([s]),S=A([s]),y((g=n((w=function(){function o(){i(this,"deathExplodeSounds",g,this),i(this,"foodExplodeSounds",v,this)}var n=o.prototype;return n.playExplode=function(){P.playArray(this.deathExplodeSounds,1,.1)},n.playFood=function(){P.playArray(this.foodExplodeSounds,1,.1)},o}()).prototype,"deathExplodeSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(w.prototype,"foodExplodeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=w))||b),L=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(n=o.call.apply(o,[this].concat(i))||this).PoisonDuration=30,n.PoisonDPS=30,n}return t(n,o),n}(d);o("ShadowShroomPlant",(x=j("ShadowShroomPlant"),E=A(F),D=A(l),x((O=n((z=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,i(n,"soundRes",O,e(n)),n._objdataOwn=new L,i(n,"explPar",R,e(n)),n}t(n,o);var a=n.prototype;return a.specialPlantOnEaten=function(o,n,t,i){i<=0&&(n.setPoison(this._objdataOwn.PoisonDPS*this._dmgScale,this._objdataOwn.PoisonDuration,this.darkModeOn),this.playParticle(),this.soundRes.playExplode(),this.die(!1,!0,!1),this.node.destroy())},a.playParticle=function(){var o,n=f(this.explPar);n.parent=null==(o=this.inLane)?void 0:o.prjLayer,n.worldPosition=this.node.worldPosition},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},a.animationOnComplete=function(){this.fooding&&this.foodEnd()},a.animationListener=function(o){var n=this;"foodExplode"==o.name?h.pool().concat().forEach((function(o){var t=o.poison.isValid();o.setPoison(n._objdataOwn.PoisonDPS,n._objdataOwn.PoisonDuration),t&&(o.dealDamage(o.poison.DPS*o.poison.duration,!1,!1,!1,null,p.physicle,!0,!0),o.poison=new c(0,0))})):"foodSound"==o.name?this.soundRes.playFood():"playPar"==o.name&&this.playParticle()},n}(u)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),R=n(z.prototype,"explPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=z))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingStarfruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./CharacterManager.ts","./StarFruit.ts","./Lane.ts"],(function(o){var t,n,i,s,a,e,r,h,d;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,s=o.Vec2},function(o){a=o.Square},function(o){e=o.ZombiePool,r=o.TombPool},function(o){h=o.StarFruitPlant},function(o){d=o.Lane}],execute:function(){var l;n._RF.push({},"37416Pe9UdD54fshPVpOQxg","ShootingStarfruit",void 0);var u=i.ccclass;i.property,o("ShootingStarfruitPlant",u("ShootingStarfruit")(l=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var i=n.prototype;return i.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},i.specialPlantFoodEnd=function(){this.busy=0},i.animationListener=function(o){var t=this;if("Shoot"==o.name&&(this._shootStars(),this.fooding||this.soundResStar.playShootSound()),"foodEnd"==o.name&&this.foodEnd(),"foodStart"==o.name){this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0);var n=this._objdataOwn.PlantfoodPeaCount;this.anmControl.playAnimation("Fooding",1/0);var i=0;this.schedule((function(){t._shootStars(!0,!0,t.peaFood,20),++i>=n&&t.foodEnd()}),1/n,n,.01)}if("do"==o.name){this._shootStars(),this.soundResStar.playPiano(1);var e=this._shoot(!1,!1,this.peaFood,15,new s(1,0));e.worldPosition=new s(e._worldPositionX,a.getLane(4).getComponent(d).floorY)}if("re"==o.name){this._shootStars(),this.soundResStar.playPiano(2);var r=this._shoot(!1,!1,this.peaFood,15,new s(1,0));r.worldPosition=new s(r._worldPositionX,a.getLane(3).getComponent(d).floorY)}if("mi"==o.name){this._shootStars(),this.soundResStar.playPiano(3);var h=this._shoot(!1,!1,this.peaFood,15,new s(1,0));h.worldPosition=new s(h._worldPositionX,a.getLane(2).getComponent(d).floorY)}if("fa"==o.name){this._shootStars(),this.soundResStar.playPiano(4);var l=this._shoot(!1,!1,this.peaFood,15,new s(1,0));l.worldPosition=new s(l._worldPositionX,a.getLane(1).getComponent(d).floorY)}if("so"==o.name){this._shootStars(),this.soundResStar.playPiano(5);var u=this._shoot(!1,!1,this.peaFood,15,new s(1,0));u.worldPosition=new s(u._worldPositionX,a.getLane(0).getComponent(d).floorY)}if("la"==o.name){this._shootStars(),this.soundResStar.playPiano(6);var f=this._shoot(!1,!1,this.peaFood,15,new s(1,0));f.worldPosition=new s(f._worldPositionX,a.getLane(0).getComponent(d).floorY+a.SquareDisH)}},i.detectEnemy=function(){var o=this,t=!1;return e.pool().forEach((function(n){if(!t){var i=n.bodyRec.prjX();i.y>o.worldPositionX&&i.x<a.lawnRec.prjX().y+a.SquareDisW/2&&(t=!0)}})),!!t||(r.pool().forEach((function(n){t||n.inLnC.cIndex>o.inLnC.cIndex&&(t=!0)})),t)},i._shootStars=function(o,t,n,i){void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===i&&(i=20);for(var e=0;e<=4;e++){var r=this._shoot(o,t,n,i,new s(1,0));r.worldPosition=new s(r._worldPositionX,a.getLane(e).getComponent(d).floorY)}},n}(h))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Shovel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,s,o,r,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,l=t.dragonBones,c=t.Component}],execute:function(){var h,u,d,p,b,f,y;o._RF.push({},"9ac6bbxNX5PRbmn33VVbBXO","Shovel",void 0);var v=r.ccclass,x=r.property;t("Shovel",(h=v("Shovel"),u=x(a),d=x(l.ArmatureDisplay),h((f=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).index=0,n.indexPoint=0,i(n,"listener",f,s(n)),n.sunback=!1,i(n,"db",y,s(n)),n}e(n,t);var o=n.prototype;return o.select=function(){0==this.index?1==this.indexPoint?this.db.playAnimation("Pointed"+(this.sunback?"Sunback":""),-1):this.db.playAnimation("Idle"+(this.sunback?"Sunback":""),-1):1==this.index&&this.db.playAnimation("Chosen"+(this.sunback?"Sunback":""),-1)},o.choose=function(){this.index=1,this.select()},o.unchoose=function(){this.index=0,this.select()},o.switchMode=function(t){},o.onBtnEnter=function(){this.indexPoint=1,this.select()},o.onBtnLeave=function(){this.indexPoint=0,this.select()},o.onEnable=function(){this.index=0,this.select()},o.onLoad=function(){this.listener||(this.listener=this.node),this.db||(this.db=this.getComponent(l.ArmatureDisplay)),this.listener.on(a.EventType.MOUSE_ENTER,this.onBtnEnter,this),this.listener.on(a.EventType.MOUSE_LEAVE,this.onBtnLeave,this),this.index=0,this.indexPoint=0},n}(c)).prototype,"listener",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"db",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShovelUIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Shovel.ts","./UI.ts","./NodePools.ts","./SettingWindow.ts"],(function(e){var o,t,n,i,s,l,r,h,a,c,d,p,u,v,y,f,I;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Prefab,h=e.Label,a=e.Vec3,c=e.Color,d=e.math,p=e.instantiate,u=e.Component},function(e){v=e.Shovel},function(e){y=e.UIInGame},function(e){f=e.NodePools},function(e){I=e.SettingWindow}],execute:function(){var S,g,w,m,C,b,k,P,T,U;s._RF.push({},"229dc/E+75CkLChHl2JtR8h","ShovelUIController",void 0);var x=l.ccclass,K=l.property;e("ShovelUIController",(S=x("ShovelUIController"),g=K(r),w=K(r),m=K(h),S(((U=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return(o=e.call.apply(e,[this].concat(s))||this).index=0,o.UIParent=null,n(o,"Shovel",k,i(o)),n(o,"shovelInHand",P,i(o)),n(o,"KeyTip",T,i(o)),o.keyOffset=new a(0,0,0),o.shovelIcon=null,o.shovelReady=null,o.gameStarted=!1,o.oldpos=new a(0,0,0),o}t(o,e),o.gameStart=function(e){void 0===e&&(e=!1),this.shovelUI._gameStart(e)};var s=o.prototype;return s._gameStart=function(e){void 0===e&&(e=!1),this.shovelIcon.sunback=e,this.shovelIcon.select(),this.gameStarted||(this.gameStarted=!0,this.node.position=this.oldpos,this.KeyTip.node.position=this.node.position.clone().add(this.keyOffset))},s.keyScale=function(){return this.index?new a(.9,.9):new a(.7,.7)},s.keyColor=function(){return I.showKeyTips?this.index?new d.Color(100,255,100,255):new d.Color(245,255,0,255):new c(0,0,0,0)},s.shovelSelect=function(){this.index=-2==this.UIParent.index?1:0,this.shovelIcon.index=this.index,this.shovelIcon.select(),this.index&&(this.shovelReady=f.instantiatePooly(this.shovelInHand),this.shovelReady.parent=y.uiingame.plantInHandLayer),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.keyScale()},s.start=function(){this.KeyTip.color=this.keyColor()},s.onLoad=function(){this.gameStarted=!1,o.shovelUI=this;var e=p(this.Shovel);e.setPosition(0,0),e.parent=this.node,this.shovelIcon=e.getComponent(v),this.oldpos=this.node.position.clone(),this.KeyTip.node.worldPosition=new a(this.node.worldPosition.x+30,this.node.worldPosition.y-20,0),this.keyOffset=this.KeyTip.node.position.clone().add(this.node.position.clone().negative()),this.node.position=new a(5e3,5e3,5e3),this.KeyTip.node.position=this.node.position.clone().add(this.keyOffset)},o}(u)).shovelUI=void 0,k=o((b=U).prototype,"Shovel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(b.prototype,"shovelInHand",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(b.prototype,"KeyTip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(i){var t,n,e,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){o=i.Zombie}],execute:function(){var c;n._RF.push({},"06d1cZqR9RGLpQvyXYqe4VX","SkyBasicZombie",void 0);var r=e.ccclass;e.property,i("SkyBasicZombie",r("SkyBasicZombie")(c=function(i){function n(){return i.apply(this,arguments)||this}t(n,i);var e=n.prototype;return e.playDirtSpawn=function(i){this.walking=!1,this.switching=!0,this.body.playAnimation("Summon",1)},e.lockedTimeScale=function(){return this.fallingInSky?.001:-1},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Skyshooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./LnC.ts"],(function(t){var n,o,i,e,s,a;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.PeashooterPlant},function(t){a=t.TileType}],execute:function(){var r;i._RF.push({},"254deDOuS9NNLGb4CSIn6ID","Skyshooter",void 0);var l=e.ccclass;e.property,t("SkyshooterPlant",l("SkyshooterPlant")(r=function(t){function i(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._isFloating=!1,n.minShootInterval=.67,n}n(i,t);var e=i.prototype;return e.specialOnTileTypeChange=function(t,n){var o=n==a.floor||n==a.deck;this.isFloating=!o},e.waterable=function(){return!this.shooting&&!this.isFloating},e.specialPeashooterOnEnable=function(){this.anmControl.IdleAnim="Idle",this.isFloating=!1},o(i,[{key:"isFloating",get:function(){return this._isFloating},set:function(t){this._isFloating!=t&&(this.anmControl.IdleAnim="Idle"+(t?"_Sky":""),this.anmControl.RandomAnim=["Random"+(t?"_Sky":"")],this.shootAnimationName="Shoot"+(t?"_Sky":""),this.foodAnimationName="Food"+(t?"_Sky":""),this.deathAnm="Death"+(t?"_Sky":""),this.fooding||this.anmControl.playAnimation(t?"Fly":"Land",1,.1)),this._isFloating=t}}]),i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/SleighCartZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./LnC.ts","./Icetile.ts","./Square.ts","./MechZombie.ts","./SoundRescourses.ts"],(function(e){var t,i,n,o,a,r,s,l,u,h,c,d,g,p,f,m,b,y,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,u=e.Prefab,h=e.Vec3,c=e.UITransform},function(e){d=e.zombieDamageType},function(e){g=e.NodePools,p=e.ArrayGet},function(e){f=e.TileType},function(e){m=e.Icetile},function(e){b=e.Square},function(e){y=e.MechZombie},function(e){S=e.sounds}],execute:function(){var w,I,k,D,P,v,W,C,A,x,B,R,L,T,_,z,q,E,M;r._RF.push({},"f2cc7F3BvtLhblv4mRSDEN5","SleighCartZombie",void 0);var Z=s.ccclass,j=s.property;e("ModernSleighCartZombie",(w=Z("ModernSleighCartZombie"),I=j([l]),k=j([l]),D=j([l]),P=j([l]),v=j([l]),W=j([l]),C=j(u),A=j(l),w((R=t((B=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"blopSound",R,o(t)),n(t,"initiateSound",L,o(t)),n(t,"explodeSound",T,o(t)),n(t,"rollingSound",_,o(t)),n(t,"smashSound",z,o(t)),n(t,"ironHitSound",q,o(t)),n(t,"ice",E,o(t)),t._hurtStage=0,t.BP1Slots=[],t.BP2Slots=[],t.growingIce=null,t.potatoMineDisappear=!1,n(t,"eruptSound",M,o(t)),t}i(t,e);var r=t.prototype;return r.specialMechZombieOnLoad=function(){var e=this;this.BP1Slots=[],this.BP2Slots=[],this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP1")?e.BP1Slots.push(t):t.name.includes("_BP2")&&e.BP2Slots.push(t)}))},r.dealHurrikale=function(e){},r.setPerfume=function(e){},r.setChiliStun=function(e){return!1},r.specialSoundEventListener=function(e){"blop"==e.name?S.playArray(this.blopSound,.5,.1):"explode"==e.name?S.playArray(this.explodeSound,2,.1):"roll"==e.name?S.playArray(this.rollingSound,1,.1):"smash"==e.name?S.playArray(this.smashSound,1,.1):"hit"==e.name&&S.playArray(this.ironHitSound,1,.1)},r.playSpecialMechDie=function(e){this.judgeDeath(),this.growingIce&&(this.growingIce.master=null),this.growingIce=null},r.breakArm=function(){},r.setChill=function(e){return!1},r.setButter=function(e){return!1},r.specialZombieOnSquareChange=function(e,t){var i=t.getTileType();(i==f.deck||i==f.floor&&!this.reversed)&&this.spawnIce(e,t)},r.judgeHitPoint=function(){var e=2;this.health>2*this.toughness/3?("Walk"!=this.body.WalkAnm&&(this.db.playAnimation("Walk"),this.body.WalkAnm="Walk"),e=0):this.health>this.toughness/3&&this.health<=2*this.toughness/3?("Walk_Broken1"!=this.body.WalkAnm&&(this.walking&&this.db.playAnimation("Break0_1"),this.body.WalkAnm="Walk_Broken1",this.playBreakSound()),e=1):this.health>0&&this.health<=this.toughness/3&&("Walk_Broken2"!=this.body.WalkAnm&&(this.walking&&this.db.playAnimation("Break1_2"),this.body.WalkAnm="Walk_Broken2",this.playBreakSound()),e=2),this.hurtStage!=e&&(this.hurtStage=e)},r.spawnIce=function(e,t){if(!(this.shouldSpeedScale()<=0)){this.growingIce&&(this.growingIce.master=null),this.growingIce=null;var i=t.getTileType();if(i!=f.sky&&i!=f.sea&&i!=f.water&&!(e.cIndex<=t.cIndex&&9!=t.cIndex)&&5!=t.lIndex&&-1!=t.lIndex&&-1!=t.cIndex)if(t.iceTile||9==t.cIndex){if(t.iceTile&&9!=t.cIndex)this.growingIce=t.iceTile;else if(9==t.cIndex){var n=this.inLane;n.meltCountdown=80;var o=null;if(n.iceTile)o=n.iceTile.node;else{(o=g.instantiatePooly(this.ice)).parent=this.inLane.Lower,o.scale=new h(-b.SquareDisW/164.5,b.SquareDisW/164.5,b.SquareDisW/164.5);var a=b.getSquareWorldPosition(n.LaneIndex,8,1,.5);o.setWorldPosition(a.x+2*b.SquareDisW,a.y,0),o.getComponent(c).width=0,o.getComponent(m).length=0,n.iceTile=o.getComponent(m),o.getComponent(m).lane=n,n.addIceTile(o.getComponent(m))}this.growingIce=o.getComponent(m)}}else{var r,s=g.instantiatePooly(this.ice);s.parent=this.inLane.Lower,s.scale=new h(-b.SquareDisW/164.5,b.SquareDisW/164.5,b.SquareDisW/164.5);var l=b.getSquareWorldPosition(t.lIndex,t.cIndex,1,.5);s.setWorldPosition(l.x,l.y,0),this.growingIce=s.getComponent(m),this.growingIce.length=0,this.growingIce.getComponent(c).width=0,t.iceTile=this.growingIce,null==t||null==(r=t.getAllPlants())||r.forEach((function(e){null==e||e.kill()})),this.growingIce.lnc=t,this.inLane.addIceTile(s.getComponent(m)),t.readIndex()}}},r.setFreeze=function(e){return!1},r.detectPlant=function(e){var t=this;this.detectPlantOn()&&(this.inLane?e<=0||(this.walking||this.playWalk(),this.hypno?(this.inLane.zombiePool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.dps*e,!0,!1,!1,null)})),this.inLane.tombPool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.dps*e)}))):(this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t)})),this.inLane.hypnoZombiePool().forEach((function(i){t.bodyRec.judgeCrossRec(i.bodyRec)&&i.dealDamage(t.dps*e,!0,!1,!1,null)})))):this.playWalk())},r.specialMechUpdate=function(e){this.isAlive()&&this.walking&&(this.inLane.meltCountdown=80,this.growingIce&&(this.growingIce.master||(this.growingIce.master=this)))},r.specialMechOnEnable=function(){this.judgeHitPoint(),this.playOneShot(p.getRandom(this.initiateSound)),this.body.DeathAnm="Death",this.hurtStage=0,this.deathSound=[this.eruptSound]},r.dealDamage=function(e,t,i,n,o,a,r){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===a&&(a=d.physicle),void 0===r&&(r=!0),e>=this.totalToughness()||a==d.fire?this.body.DeathAnm="Explode":this.body.DeathAnm="Death";var s=this.dealNormalDamage(e,t,i,n,o,a,r);return this.dead?"Death"==this.body.DeathAnm?this.deathSound=[this.eruptSound]:this.deathSound=[]:this.judgeHitPoint(),s},a(t,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(e){switch(e){case 1:case 2:break;default:e=0}this.BP2Slots.forEach((function(t){t._setDisplayIndex(e)})),this.BP1Slots.forEach((function(t){t._setDisplayIndex(e>=1?1:0)})),this._hurtStage=e}},{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(e){this._plantDetectorRec=e}}]),t}(y)).prototype,"blopSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(B.prototype,"initiateSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(B.prototype,"explodeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(B.prototype,"rollingSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(B.prototype,"smashSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(B.prototype,"ironHitSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(B.prototype,"ice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"eruptSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=B))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SnapDragonFoodPar.ts","./Zombie.ts","./SoundRescourses.ts"],(function(a){var n,t,e,o,i,r,s,c,l,d,u,h,p,f,m,S,g,P;return{setters:[function(a){n=a.applyDecoratedDescriptor,t=a.inheritsLoose,e=a.initializerDefineProperty,o=a.assertThisInitialized},function(a){i=a.cclegacy,r=a._decorator,s=a.AudioClip,c=a.Prefab,l=a.Vec3,d=a.dragonBones},function(a){u=a.Plant,h=a.PlantProps},function(a){p=a.Square},function(a){f=a.Rectangle},function(a){m=a.NodePools},function(a){S=a.SnapDragonFoodPar},function(a){g=a.zombieDamageType},function(a){P=a.sounds}],execute:function(){var b,y,L,w,v,k,D,A,R,z,_,C,j,E,F,q,I,O;i._RF.push({},"453b1GI2oNCAZ6L07SmB6zz","SnapDragon",void 0);var M=r.ccclass,U=r.property,x=(b=M("snapdragonSound"),y=U(s),L=U([s]),w=U([s]),b((D=n((k=function(){function a(){e(this,"foodSound",D,this),e(this,"attackSound",A,this),e(this,"flapSound",R,this)}var n=a.prototype;return n.playFoodSound=function(){P.play(this.foodSound,1,.1)},n.playAttackSound=function(){P.playArray(this.attackSound,1,.2)},n.playFlapSound=function(){P.playArray(this.flapSound,1,.1)},a}()).prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(k.prototype,"attackSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(k.prototype,"flapSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=k))||v),H=function(a){function n(){for(var n,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(n=a.call.apply(a,[this].concat(e))||this).AttackInterval=1.85,n.AttackIntervalAdditional=.15,n.Damage=30,n.DamagePlantfood=1800,n}return t(n,a),n}(h);a("SnapDragon",(z=M("SnapDragon"),_=U(x),C=U(c),j=U(c),z((q=n((F=function(a){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=a.call.apply(a,[this].concat(i))||this,e(n,"soundRes",q,o(n)),e(n,"attPar",I,o(n)),e(n,"foodPar",O,o(n)),n._objdataOwn=new H,n.detector=void 0,n.attacking=!1,n.cd=0,n}t(n,a);var i=n.prototype;return i.attParScale=function(){return p.SquareDisH/350},i.foodParScale=function(){return 3*p.SquareDisH/440},i.specialPlantOnSquareChange=function(a,n){this.detector=f.createRectangleNodeSide(this.inLnC.node,2.5*p.SquareDisW,3*p.SquareDisH)},i.specialPlantOnEnable=function(){this.cd=0,this.attacking=!1},i.specialPlantFood=function(a){this.cd=0,this.attacking=!1,this.anmControl.playAnimation("Food",1)},i.waterable=function(){return!this.attacking},i.animationListener=function(a){var n=this;if("attackSound"==a.name)this.soundRes.playAttackSound();else if("flap"==a.name)this.soundRes.playFlapSound();else if("attackEnd"==a.name)this.attacking=!1;else if("foodEnd"==a.name)this.foodEnd();else if("foodAttack"==a.name){var t=m.instantiatePooly(this.foodPar);t.parent=this.inLane.LowerLane.prjLayer,t.worldPosition=this.inLnC.node.worldPosition.clone().add3f(2*p.SquareDisW,0,0);var e=this.foodParScale();t.worldScale=new l(e,e,e),this.soundRes.playFoodSound();var o=t.getComponent(S);o.inLane=this.inLane,o.damage=this._objdataOwn.DamagePlantfood,this._dmgScale&&(o.damage*=this._dmgScale)}else if("attackPar"==a.name)[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(a,t){if(!(a.LaneIndex<0||a.LaneIndex>4)){var e=-(t-1)*p.SquareDisH,o=m.instantiatePooly(n.attPar);o.parent=a.prjLayer,o.worldPosition=n.inLnC.node.worldPosition.clone().add3f(2.5*p.SquareDisW,e,0);var i=n.attParScale();o.worldScale=new l(i,i,i),o.getComponent(d.ArmatureDisplay).playAnimation("Play"+(Math.round(Math.random())+1).toString())}}));else if("attack"==a.name){var i=this._objdataOwn.Damage;this._dmgScale&&(i*=this._dmgScale);var r=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(a){a.bodyRec.judgeCrossRec(n.detector)&&-1==r.indexOf(a)&&(a.dealDamage(i/2,!0,!1,!1,null,g.fire),r.push(a))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(a){a.bodyRec.judgeCrossRec(n.detector)&&a.dealDamage(i/2)}))}else"attackSound"==a.name?this.soundRes.playAttackSound():("flap"==a.name||"flap"==a.name)&&this.soundRes.playFlapSound()},i.detectEnemy=function(){var a=this,n=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){n||(n=t.bodyRec.judgeCrossRec(a.detector))})),n||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){n||(n=t.bodyRec.judgeCrossRec(a.detector))})),n},i.specialPlantUpdate=function(a){if(!this.fooding&&(this.cd>0&&(this.cd-=a),this.cd<=0&&this.detectEnemy())){this.attacking=!0,this.cd=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random();var n=.1;this._cdScale&&(this.cd*=this._cdScale,n*=this._cdScale);var t=1.33/this.cd;this.anmControl.playAnimation("Attack",1,n,Math.max(t,1))}},n}(u)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),I=n(F.prototype,"attPar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(F.prototype,"foodPar",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=F))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragonFoodPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts"],(function(e){var n,a,i,o,t,r,s,l,c,d,u,f,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.dragonBones},function(e){c=e.ParticleSelfdestroy},function(e){d=e.NodePools},function(e){u=e.Square},function(e){f=e.Rectangle},function(e){p=e.zombieDamageType}],execute:function(){var b,m,h,g,L;t._RF.push({},"dc80fH7moFB7aL6Kk0BRt3H","SnapDragonFoodPar",void 0);var v=r.ccclass,y=r.property;e("SnapDragonFoodPar",(b=v("SnapDragonFoodPar"),m=y(s),b((L=n((g=function(e){function n(){for(var n,a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this).inLane=void 0,i(n,"ballFire",L,o(n)),n.damage=1800,n.dealtZombies=[],n.dealtTombs=[],n.burning=!0,n}a(n,e);var t=n.prototype;return t.specialOnEnable=function(){this.dealtTombs=[],this.dealtZombies=[],this.burning=!1},t.animationListener=function(e){var n=this;"burn"==e.name&&(this.burning=!0,[-1,0,1].forEach((function(e){[-1,0,1].forEach((function(a){var i=n.inLane;if(-1==e?i=n.inLane.UpperLane:1==e&&(i=n.inLane.LowerLane),!(i.LaneIndex<0||i.LaneIndex>4)){var o=d.instantiatePooly(n.ballFire);o.parent=i.prjLayer,o.getComponent(l.ArmatureDisplay).playAnimation("Play"+(1+Math.round(Math.random())).toString()),o.worldPosition=n.node.worldPosition.clone().add3f(a*u.SquareDisW,-e*u.SquareDisH,0)}}))})))},t.update=function(e){var n=this;if(this.dealtZombies.concat().forEach((function(e){if(!e.isAlive()){var a=n.dealtZombies.indexOf(e);n.dealtZombies.splice(a,1)}})),this.dealtTombs.concat().forEach((function(e){if(null==e||!e.isAlive()){var a=n.dealtTombs.indexOf(e);n.dealtTombs.splice(a,1)}})),this.burning){var a=f.createRectangleNodeCenter(this.node,3*u.SquareDisW,3*u.SquareDisH);[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==n.dealtZombies.indexOf(e)&&e.bodyRec.judgeCrossRec(a)&&(e.dealDamage(n.damage,!1,!1,!1,null,p.fire),e.isAlive()&&n.dealtZombies.push(e))})),e.tombPool().forEach((function(e){-1==n.dealtTombs.indexOf(e)&&e.bodyRec.judgeCrossRec(a)&&(e.dealDamage(n.damage),null!=e&&e.isAlive()&&n.dealtTombs.push(e))}))}))}},n}(c)).prototype,"ballFire",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/SniperPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./UI.ts","./SoundRescourses.ts","./levelController.ts","./Square.ts"],(function(n){var t,e,a,i,o,l,r,c,s,u,p,d,h,S,P,f,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.Prefab,c=n.input,s=n.Input,u=n.game,p=n.director},function(n){d=n.Plant},function(n){h=n.NodePools},function(n){S=n.UIInGame},function(n){P=n.sounds},function(n){f=n.LevelPlay},function(n){g=n.Square}],execute:function(){var y,b,L,C,m;o._RF.push({},"60bc59fo5ZBs5/odIcq+Yex","SniperPlant",void 0);var v=l.ccclass,I=l.property;n("SniperPlant",(y=v("SniperPlant"),b=I(r),y((m=t((C=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o))||this,a(t,"locator",m,i(t)),t.locatorNode=null,t.playSoundWhenCancel=!0,t}e(t,n);var o=t.prototype;return o.baseLocatable=function(){return!(this.fooding||this.dead||-1!=S.index||this.leapTween||this.locatorNode)},o.specialPlantFood=function(n){S.uiingame.currentSniperPlant==this&&(S.uiingame.tryChangingIndex(-1),this.locateCancel()),this.specialSniperFood(n)},o.specialSniperFood=function(n){},o.LocateStartKeyCode=function(){return null},o.specialPlantOnLoad=function(){var n=this;c.on(s.EventType.KEY_DOWN,(function(t){t.keyCode!=n.LocateStartKeyCode()||!f.gameStarted||u.isPaused()||p.isPaused()||n.sniperPlantLocatable()&&n.baseLocatable()&&n.locateStart()}),this)},o.specialSniperPlantDie=function(){},o.specialPlantDie=function(){S.uiingame.currentSniperPlant==this&&(S.uiingame.tryChangingIndex(-1),this.locateCancel()),this.specialSniperPlantDie()},o.sniperPlantLocatable=function(){return!1},o.specialPlantOnMouseDown=function(){return!(!this.sniperPlantLocatable()||!this.baseLocatable())&&(this.locateStart(),!0)},o.locateCancel=function(){this.locatorNode=null,this.playSoundWhenCancel&&P.playSniperPlantCancelSound(),this.specialSniperPlantLocateCancel()},o.locateStart=function(){this.locatorNode=h.instantiatePooly(this.locator),this.locatorNode.parent=S.uiingame.plantInHandLayer,S.uiingame.tryChangingIndex(-4),S.uiingame.currentSniperPlant=this,P.playLocateSound(),1!=g.lncSelectionMode&&S.uiingame.squares.plantGhost(),this.specialSniperPlantLocateStart()},o.trigger=function(n){this.specialSniperPlantTrigger(n),S.uiingame.currentSniperPlant=null,this.locatorNode=null,S.uiingame.tryChangingIndex(-1)},o.specialPlantOnEnable=function(){this.locatorNode=null,this.specialSniperPlantOnEnable(),this.playSoundWhenCancel=!0},o.specialSniperPlantOnEnable=function(){},o.specialSniperPlantLocateStart=function(){},o.specialSniperPlantLocateCancel=function(){},o.specialSniperPlantTrigger=function(n){},t}(d)).prototype,"locator",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/SnowPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts"],(function(o){var e,t,n,a,i,r,s,l,c,d,h,u,p,P,f;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,a=o.assertThisInitialized,i=o.createClass},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,c=o.Sprite,d=o.tween,h=o.Vec3,u=o.AnimationComponent},function(o){p=o.PeashooterPlant,P=o.PeashooterProps},function(o){f=o.NodePools}],execute:function(){var w,y,F,m,b,g,C;r._RF.push({},"827e88tbrhBe4CasTGWMNaj","SnowPea",void 0);var v=s.ccclass,z=s.property,I=function(o){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))||this).ChanceToFreeze=.2,e}return t(e,o),e}(P);o("SnowPeaPlant",(w=v("SnowPeaPlant"),y=z(l),F=z(l),w((g=e((b=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,n(e,"snowPeaFoodPar",g,a(e)),e.snowPeaFoodIce=null,n(e,"peaFreezy",C,a(e)),e._objdataOwn=new I,e}t(e,o);var r=e.prototype;return r.specialPlantFoodEnd=function(){if(this.anmControl.playAnimation("Water",1),this.busy=0,this.soundRes.playFoodEnd(),this.snowPeaFoodIce){var o=this.snowPeaFoodIce,e=o.getChildByName("bg"),t=o.getChildByName("face").getComponent(c);d(t.color).to(1,{a:0}).start(),d(e).to(1,{position:new h(3e3)}).call((function(){e.position=new h,f.destroyPooly(o)})).start()}this.snowPeaFoodIce=null},r.specialPeashooterUpdate=function(o){var e=this;this.inLane&&this.fooding&&this.inLane.zombiePool().forEach((function(o){o.node.worldPosition.x>e.node.worldPosition.x&&o.setChill(5)}))},r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2,0,1.2),this.soundRes.playFood(),this.snowPeaFoodPar&&(this.snowPeaFoodIce=f.instantiatePooly(this.snowPeaFoodPar),this.snowPeaFoodIce.parent=this.inLane.Lower,this.snowPeaFoodIce.worldPosition=this.inLnC.node.worldPosition,this.snowPeaFoodIce.getComponent(u).play()),this.busy=1/0},r.animationListenerAdd=function(o){"foodStart"==o.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting())},i(e,[{key:"defaultPea",get:function(){return Math.random()<this._objdataOwn.ChanceToFreeze?this.peaFreezy:this.pea}}]),e}(p)).prototype,"snowPeaFoodPar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"peaFreezy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/SolarTomato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./CharacterManager.ts","./Square.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var n,t,a,o,r,i,l,u,s,c,p,d,h,f,S,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Prefab,u=e.AudioClip,s=e.Vec3},function(e){c=e.CherryBombPlant,p=e.CherryBombProps},function(e){d=e.Rectangle},function(e){h=e.Square},function(e){f=e.sunflower},function(e){S=e.sounds},function(e){b=e.instantiatePooly}],execute:function(){var y,P,m,w,g,L,v,C,D,k,x;r._RF.push({},"f9d91TaBxdCSLkIe7EdpG5d","SolarTomato",void 0);var _=i.ccclass,j=i.property,z=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).StunDuration=8,n.SunValuePerZombie=50,n}return t(n,e),n}(p);e("SolarTomatoPlant",(y=_("SolarTomatoPlant"),P=j(l),m=j(u),w=j(u),g=j(u),y((C=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new z,a(n,"splatPar",C,o(n)),a(n,"attackPreSound",D,o(n)),a(n,"attackSound",k,o(n)),a(n,"explodeSound",x,o(n)),n}t(n,e);var r=n.prototype;return r.specialCherryBombOnEnable=function(){this.shadeAlphaScale=1},r.explode=function(){var e=this,n=d.createRectangleNodeCenter(this.inLnC.node,3*h.SquareDisW,3*h.SquareDisH);[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){var a;[-1,0,1].forEach((function(n){var a=b(e.splatPar);a.parent=t.prjLayer,a.worldPosition=new s(e.worldPositionX+n*h.SquareDisW,t.floorY,10)})),null==(a=t.zombiePool())||a.forEach((function(t){n.judgeCrossRec(t.bodyRec)&&(t.stun(e._objdataOwn.StunDuration),t.setSunBeanParticleCD(e._objdataOwn.StunDuration),f.produceSun(e._objdataOwn.SunValuePerZombie,new s(t.worldPositionX,t.worldPositionY,10),0,!0))}))}))},r.animationListener=function(e){"explode"==e.name?(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1),this.shadeAlphaScale=0,S.play(this.explodeSound,1,.2)):"charge"==e.name?S.play(this.attackPreSound,1,.2):"shout"==e.name&&S.play(this.attackSound,1,.2)},n}(c)).prototype,"splatPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(v.prototype,"attackPreSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(v.prototype,"attackSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(v.prototype,"explodeSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=v))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./levelController.ts","./UI.ts"],(function(t){var e,i,a,r,_,o,l,n,S,u,g,s,P,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,a=t.inheritsLoose,r=t.assertThisInitialized,_=t.createClass},function(t){o=t.cclegacy,l=t._decorator,n=t.AudioClip,S=t.Enum,u=t.JsonAsset,g=t.AudioSource,s=t.Component},function(t){P=t.MusicController},function(t){b=t.LevelPlay},function(t){h=t.UIInGame}],execute:function(){var L,c,p,y,E,m,C,f,w,B,M,I,z,D,Y,k,d,V,Z,U,F,G,A,K,O,v,R,T,x,W,N,J,j,q,H,Q,X,$,tt,et,it,at,rt,_t,ot,lt,nt,St,ut,gt,st,Pt,bt,ht,Lt,ct,pt,yt,Et,mt,Ct,ft,wt,Bt,Mt,It,zt,Dt,Yt,kt,dt,Vt,Zt,Ut,Ft,Gt,At,Kt,Ot,vt,Rt,Tt,xt,Wt,Nt,Jt,jt,qt,Ht,Qt,Xt,$t,te,ee,ie,ae,re,_e,oe,le,ne,Se,ue,ge,se,Pe,be,he,Le,ce,pe,ye,Ee,me,Ce,fe,we,Be,Me,Ie,ze,De,Ye,ke,de,Ve,Ze,Ue,Fe,Ge,Ae,Ke,Oe,ve,Re,Te,xe,We,Ne,Je,je,qe,He,Qe,Xe,$e,ti,ei,ii,ai,ri,_i,oi,li,ni,Si,ui,gi,si,Pi,bi,hi,Li,ci,pi,yi,Ei,mi,Ci,fi,wi,Bi,Mi,Ii,zi,Di,Yi,ki,di,Vi,Zi,Ui,Fi,Gi,Ai,Ki,Oi,vi,Ri,Ti,xi,Wi,Ni,Ji,ji,qi,Hi,Qi,Xi,$i,ta,ea,ia,aa,ra,_a,oa,la,na,Sa,ua,ga,sa,Pa,ba,ha,La,ca,pa,ya,Ea,ma,Ca,fa,wa,Ba,Ma,Ia,za,Da,Ya,ka,da,Va,Za,Ua,Fa,Ga,Aa,Ka,Oa,va,Ra,Ta,xa,Wa,Na,Ja,ja,qa,Ha,Qa,Xa,$a,tr,er,ir,ar,rr,_r,or,lr,nr,Sr,ur,gr,sr,Pr,br,hr,Lr,cr,pr,yr,Er,mr,Cr,fr,wr,Br,Mr,Ir,zr,Dr,Yr,kr,dr,Vr,Zr,Ur,Fr,Gr,Ar,Kr,Or,vr,Rr,Tr,xr,Wr,Nr,Jr,jr,qr,Hr,Qr,Xr,$r,t_,e_,i_,a_,r_,__,o_,l_,n_,S_,u_,g_,s_,P_,b_,h_,L_,c_,p_,y_,E_,m_,C_,f_,w_,B_,M_,I_,z_,D_,Y_,k_,d_,V_,Z_,U_,F_,G_,A_,K_,O_,v_,R_,T_,x_,W_,N_,J_,j_,q_,H_,Q_,X_,$_,to,eo,io,ao,ro,_o,oo,lo,no,So,uo,go,so,Po,bo,ho,Lo,co,po,yo,Eo,mo,Co,fo,wo,Bo,Mo,Io,zo,Do,Yo,ko,Vo,Zo,Uo,Fo,Go,Ao,Ko,Oo,vo,Ro,To,xo,Wo,No,Jo,jo,qo,Ho,Qo,Xo,$o,tl,el,il,al,rl,_l,ol,ll,nl,Sl,ul,gl,sl,Pl,bl,hl,Ll,cl,pl,yl,El,ml,Cl,fl,wl,Bl,Ml,Il,zl,Dl,Yl,kl,dl,Vl,Zl;o._RF.push({},"1d62fK5aZxCqp3U26v5DPCm","SoundManager",void 0);var Ul=l.ccclass,Fl=l.property,Gl=t("Music",Ul("Music")(L=function(){this.name="",this.clip=null,this.musicLength=10,this.randomOptions=[]})||L),Al=t("MusicGroup",(function(){this.musicStart=vl.MusicAmount,this.musicLoop=vl.MusicAmount})),Kl=t("WorldMusic",function(t){return t[t.Modern=0]="Modern",t[t.Egypt=1]="Egypt",t[t.Pirate=2]="Pirate",t[t.Cowboy=3]="Cowboy",t[t.Future=4]="Future",t[t.Dark=5]="Dark",t[t.Beach=6]="Beach",t[t.Ice=7]="Ice",t[t.Lost=8]="Lost",t[t.Punk=9]="Punk",t[t.Pop=10]="Pop",t[t.Rap=11]="Rap",t[t.Eightbit=12]="Eightbit",t[t.Metal=13]="Metal",t[t.Ballad=14]="Ballad",t[t.Dino=15]="Dino",t[t.Sky=16]="Sky",t[t.Kongfu=17]="Kongfu",t}({})),Ol=t("MusicSortEnum",function(t){return t[t.UltimateBattle=0]="UltimateBattle",t[t.Victory=1]="Victory",t[t.DemonstrateMinigame=2]="DemonstrateMinigame",t[t.Leave=3]="Leave",t[t.Lose=4]="Lose",t[t.ZombossIntro=5]="ZombossIntro",t[t.ZombossStage0=6]="ZombossStage0",t[t.ZombossStage1=7]="ZombossStage1",t[t.ZombossStage2_start=8]="ZombossStage2_start",t[t.ZombossStage2=9]="ZombossStage2",t[t.CYS_Start=10]="CYS_Start",t[t.CYS_LP=11]="CYS_LP",t[t.Stage1_Start=12]="Stage1_Start",t[t.Stage1_LP=13]="Stage1_LP",t[t.Stage2_Start=14]="Stage2_Start",t[t.Stage2_LP=15]="Stage2_LP",t[t.Stage3_Start=16]="Stage3_Start",t[t.Stage3_LP=17]="Stage3_LP",t[t.Stage4_Start=18]="Stage4_Start",t[t.Stage4_LP=19]="Stage4_LP",t}({})),vl=t("musicType",function(t){return t[t.WorldMap=0]="WorldMap",t[t.UB_Egypt=1]="UB_Egypt",t[t.UB_Pirate=2]="UB_Pirate",t[t.UB_Cowboy=3]="UB_Cowboy",t[t.UB_Kongfu=4]="UB_Kongfu",t[t.UB_Future=5]="UB_Future",t[t.UB_Dark=6]="UB_Dark",t[t.UB_Beach=7]="UB_Beach",t[t.UB_Ice=8]="UB_Ice",t[t.UB_Lost=9]="UB_Lost",t[t.UB_Sky=10]="UB_Sky",t[t.UB_Dino=11]="UB_Dino",t[t.UB_Modern=12]="UB_Modern",t[t.MG_Egypt=13]="MG_Egypt",t[t.MG_Pirate=14]="MG_Pirate",t[t.MG_Cowboy=15]="MG_Cowboy",t[t.MG_Kongfu=16]="MG_Kongfu",t[t.MG_Future=17]="MG_Future",t[t.MG_Dark=18]="MG_Dark",t[t.MG_Beach=19]="MG_Beach",t[t.MG_Ice=20]="MG_Ice",t[t.MG_Lost=21]="MG_Lost",t[t.MG_Sky=22]="MG_Sky",t[t.MG_Dino=23]="MG_Dino",t[t.MG_Modern=24]="MG_Modern",t[t.MG_Ballad=25]="MG_Ballad",t[t.MG_Pop=26]="MG_Pop",t[t.MG_Rap=27]="MG_Rap",t[t.MG_EightBit=28]="MG_EightBit",t[t.MG_Metal=29]="MG_Metal",t[t.UB_Victory=30]="UB_Victory",t[t.MG_Victory=31]="MG_Victory",t[t.Piano=32]="Piano",t[t.LEAVE_Egypt=33]="LEAVE_Egypt",t[t.LEAVE_Pirate=34]="LEAVE_Pirate",t[t.LEAVE_Cowboy=35]="LEAVE_Cowboy",t[t.LEAVE_Kongfu=36]="LEAVE_Kongfu",t[t.LEAVE_Future=37]="LEAVE_Future",t[t.LEAVE_Dark=38]="LEAVE_Dark",t[t.LEAVE_Beach=39]="LEAVE_Beach",t[t.LEAVE_Ice=40]="LEAVE_Ice",t[t.LEAVE_Lost=41]="LEAVE_Lost",t[t.LEAVE_Sky=42]="LEAVE_Sky",t[t.LEAVE_Eighties=43]="LEAVE_Eighties",t[t.LEAVE_Dino=44]="LEAVE_Dino",t[t.LEAVE_Modern=45]="LEAVE_Modern",t[t.LOSE_Egypt=46]="LOSE_Egypt",t[t.LOSE_Pirate=47]="LOSE_Pirate",t[t.LOSE_Cowboy=48]="LOSE_Cowboy",t[t.LOSE_Kongfu=49]="LOSE_Kongfu",t[t.LOSE_Future=50]="LOSE_Future",t[t.LOSE_Dark=51]="LOSE_Dark",t[t.LOSE_Beach=52]="LOSE_Beach",t[t.LOSE_Ice=53]="LOSE_Ice",t[t.LOSE_Lost=54]="LOSE_Lost",t[t.LOSE_Sky=55]="LOSE_Sky",t[t.LOSE_Eighties=56]="LOSE_Eighties",t[t.LOSE_Dino=57]="LOSE_Dino",t[t.LOSE_Modern=58]="LOSE_Modern",t[t.ZBI_Egypt=59]="ZBI_Egypt",t[t.ZBI_Pirate=60]="ZBI_Pirate",t[t.ZBI_Cowboy=61]="ZBI_Cowboy",t[t.ZBI_Future=62]="ZBI_Future",t[t.ZBI_Dark=63]="ZBI_Dark",t[t.ZBI_Beach=64]="ZBI_Beach",t[t.ZBI_Ice=65]="ZBI_Ice",t[t.ZBI_Lost=66]="ZBI_Lost",t[t.ZBI_Sky=67]="ZBI_Sky",t[t.ZBI_Eighties=68]="ZBI_Eighties",t[t.ZBI_Dino=69]="ZBI_Dino",t[t.ZBI_Modern=70]="ZBI_Modern",t[t.ZB_Stage0=71]="ZB_Stage0",t[t.ZB_Stage1=72]="ZB_Stage1",t[t.ZB_Stage2_Start=73]="ZB_Stage2_Start",t[t.ZB_Stage2=74]="ZB_Stage2",t[t.ZB_Victory=75]="ZB_Victory",t[t.CYS_Start_Egypt=76]="CYS_Start_Egypt",t[t.CYS_Start_Pirate=77]="CYS_Start_Pirate",t[t.CYS_Start_Cowboy=78]="CYS_Start_Cowboy",t[t.CYS_Start_Kongfu=79]="CYS_Start_Kongfu",t[t.CYS_Start_Future=80]="CYS_Start_Future",t[t.CYS_Start_Dark=81]="CYS_Start_Dark",t[t.CYS_Start_Beach=82]="CYS_Start_Beach",t[t.CYS_Start_Ice=83]="CYS_Start_Ice",t[t.CYS_Start_Lost=84]="CYS_Start_Lost",t[t.CYS_Start_Sky=85]="CYS_Start_Sky",t[t.CYS_Start_Eighties=86]="CYS_Start_Eighties",t[t.CYS_Start_Dino=87]="CYS_Start_Dino",t[t.CYS_Start_Modern=88]="CYS_Start_Modern",t[t.CYS_LP_Egypt=89]="CYS_LP_Egypt",t[t.CYS_LP_Pirate=90]="CYS_LP_Pirate",t[t.CYS_LP_Cowboy=91]="CYS_LP_Cowboy",t[t.CYS_LP_Kongfu=92]="CYS_LP_Kongfu",t[t.CYS_LP_Future=93]="CYS_LP_Future",t[t.CYS_LP_Dark=94]="CYS_LP_Dark",t[t.CYS_LP_Beach=95]="CYS_LP_Beach",t[t.CYS_LP_Ice=96]="CYS_LP_Ice",t[t.CYS_LP_Lost=97]="CYS_LP_Lost",t[t.CYS_LP_Sky=98]="CYS_LP_Sky",t[t.CYS_LP_Eighties=99]="CYS_LP_Eighties",t[t.CYS_LP_Dino=100]="CYS_LP_Dino",t[t.CYS_LP_Modern=101]="CYS_LP_Modern",t[t.Stage1_Start_Egypt=102]="Stage1_Start_Egypt",t[t.Stage1_Start_Pirate=103]="Stage1_Start_Pirate",t[t.Stage1_Start_Cowboy=104]="Stage1_Start_Cowboy",t[t.Stage1_Start_Kongfu=105]="Stage1_Start_Kongfu",t[t.Stage1_Start_Future=106]="Stage1_Start_Future",t[t.Stage1_Start_Dark=107]="Stage1_Start_Dark",t[t.Stage1_Start_Beach=108]="Stage1_Start_Beach",t[t.Stage1_Start_Ice=109]="Stage1_Start_Ice",t[t.Stage1_Start_Lost=110]="Stage1_Start_Lost",t[t.Stage1_Start_Sky=111]="Stage1_Start_Sky",t[t.Stage1_Start_Eighties=112]="Stage1_Start_Eighties",t[t.Stage1_Start_Dino=113]="Stage1_Start_Dino",t[t.Stage1_Start_Modern=114]="Stage1_Start_Modern",t[t.Stage1_LP_Egypt=115]="Stage1_LP_Egypt",t[t.Stage1_LP_Pirate=116]="Stage1_LP_Pirate",t[t.Stage1_LP_Cowboy=117]="Stage1_LP_Cowboy",t[t.Stage1_LP_Kongfu=118]="Stage1_LP_Kongfu",t[t.Stage1_LP_Future=119]="Stage1_LP_Future",t[t.Stage1_LP_Dark=120]="Stage1_LP_Dark",t[t.Stage1_LP_Beach=121]="Stage1_LP_Beach",t[t.Stage1_LP_Ice=122]="Stage1_LP_Ice",t[t.Stage1_LP_Lost=123]="Stage1_LP_Lost",t[t.Stage1_LP_Sky=124]="Stage1_LP_Sky",t[t.Stage1_LP_Eighties=125]="Stage1_LP_Eighties",t[t.Stage1_LP_Dino=126]="Stage1_LP_Dino",t[t.Stage1_LP_Modern=127]="Stage1_LP_Modern",t[t.Stage2_Start_Egypt=128]="Stage2_Start_Egypt",t[t.Stage2_Start_Pirate=129]="Stage2_Start_Pirate",t[t.Stage2_Start_Cowboy=130]="Stage2_Start_Cowboy",t[t.Stage2_Start_Kongfu=131]="Stage2_Start_Kongfu",t[t.Stage2_Start_Future=132]="Stage2_Start_Future",t[t.Stage2_Start_Dark=133]="Stage2_Start_Dark",t[t.Stage2_Start_Beach=134]="Stage2_Start_Beach",t[t.Stage2_Start_Ice=135]="Stage2_Start_Ice",t[t.Stage2_Start_Lost=136]="Stage2_Start_Lost",t[t.Stage2_Start_Sky=137]="Stage2_Start_Sky",t[t.Stage2_Start_Eighties=138]="Stage2_Start_Eighties",t[t.Stage2_Start_Dino=139]="Stage2_Start_Dino",t[t.Stage2_Start_Modern=140]="Stage2_Start_Modern",t[t.Stage2_LP_Egypt=141]="Stage2_LP_Egypt",t[t.Stage2_LP_Pirate=142]="Stage2_LP_Pirate",t[t.Stage2_LP_Cowboy=143]="Stage2_LP_Cowboy",t[t.Stage2_LP_Kongfu=144]="Stage2_LP_Kongfu",t[t.Stage2_LP_Future=145]="Stage2_LP_Future",t[t.Stage2_LP_Dark=146]="Stage2_LP_Dark",t[t.Stage2_LP_Beach=147]="Stage2_LP_Beach",t[t.Stage2_LP_Ice=148]="Stage2_LP_Ice",t[t.Stage2_LP_Lost=149]="Stage2_LP_Lost",t[t.Stage2_LP_Sky=150]="Stage2_LP_Sky",t[t.Stage2_LP_Eighties=151]="Stage2_LP_Eighties",t[t.Stage2_LP_Dino=152]="Stage2_LP_Dino",t[t.Stage2_LP_Modern=153]="Stage2_LP_Modern",t[t.Stage3_Start_Egypt=154]="Stage3_Start_Egypt",t[t.Stage3_Start_Pirate=155]="Stage3_Start_Pirate",t[t.Stage3_Start_Cowboy=156]="Stage3_Start_Cowboy",t[t.Stage3_Start_Kongfu=157]="Stage3_Start_Kongfu",t[t.Stage3_Start_Future=158]="Stage3_Start_Future",t[t.Stage3_Start_Dark=159]="Stage3_Start_Dark",t[t.Stage3_Start_Beach=160]="Stage3_Start_Beach",t[t.Stage3_Start_Ice=161]="Stage3_Start_Ice",t[t.Stage3_Start_Lost=162]="Stage3_Start_Lost",t[t.Stage3_Start_Sky=163]="Stage3_Start_Sky",t[t.Stage3_Start_Eighties=164]="Stage3_Start_Eighties",t[t.Stage3_Start_Dino=165]="Stage3_Start_Dino",t[t.Stage3_Start_Modern=166]="Stage3_Start_Modern",t[t.Stage3_LP_Egypt=167]="Stage3_LP_Egypt",t[t.Stage3_LP_Pirate=168]="Stage3_LP_Pirate",t[t.Stage3_LP_Cowboy=169]="Stage3_LP_Cowboy",t[t.Stage3_LP_Kongfu=170]="Stage3_LP_Kongfu",t[t.Stage3_LP_Future=171]="Stage3_LP_Future",t[t.Stage3_LP_Dark=172]="Stage3_LP_Dark",t[t.Stage3_LP_Beach=173]="Stage3_LP_Beach",t[t.Stage3_LP_Ice=174]="Stage3_LP_Ice",t[t.Stage3_LP_Lost=175]="Stage3_LP_Lost",t[t.Stage3_LP_Sky=176]="Stage3_LP_Sky",t[t.Stage3_LP_Eighties=177]="Stage3_LP_Eighties",t[t.Stage3_LP_Dino=178]="Stage3_LP_Dino",t[t.Stage3_LP_Modern=179]="Stage3_LP_Modern",t[t.Stage4_Start_Egypt=180]="Stage4_Start_Egypt",t[t.Stage4_Start_Pirate=181]="Stage4_Start_Pirate",t[t.Stage4_Start_Cowboy=182]="Stage4_Start_Cowboy",t[t.Stage4_Start_Kongfu=183]="Stage4_Start_Kongfu",t[t.Stage4_Start_Future=184]="Stage4_Start_Future",t[t.Stage4_Start_Dark=185]="Stage4_Start_Dark",t[t.Stage4_Start_Beach=186]="Stage4_Start_Beach",t[t.Stage4_Start_Ice=187]="Stage4_Start_Ice",t[t.Stage4_Start_Lost=188]="Stage4_Start_Lost",t[t.Stage4_Start_Sky=189]="Stage4_Start_Sky",t[t.Stage4_Start_Eighties=190]="Stage4_Start_Eighties",t[t.Stage4_Start_Dino=191]="Stage4_Start_Dino",t[t.Stage4_Start_Modern=192]="Stage4_Start_Modern",t[t.Stage4_LP_Egypt=193]="Stage4_LP_Egypt",t[t.Stage4_LP_Pirate=194]="Stage4_LP_Pirate",t[t.Stage4_LP_Cowboy=195]="Stage4_LP_Cowboy",t[t.Stage4_LP_Kongfu=196]="Stage4_LP_Kongfu",t[t.Stage4_LP_Future=197]="Stage4_LP_Future",t[t.Stage4_LP_Dark=198]="Stage4_LP_Dark",t[t.Stage4_LP_Beach=199]="Stage4_LP_Beach",t[t.Stage4_LP_Ice=200]="Stage4_LP_Ice",t[t.Stage4_LP_Lost=201]="Stage4_LP_Lost",t[t.Stage4_LP_Sky=202]="Stage4_LP_Sky",t[t.Stage4_LP_Eighties=203]="Stage4_LP_Eighties",t[t.Stage4_LP_Dino=204]="Stage4_LP_Dino",t[t.Stage4_LP_Modern=205]="Stage4_LP_Modern",t[t.VIC_Egypt=206]="VIC_Egypt",t[t.VIC_Pirate=207]="VIC_Pirate",t[t.VIC_Cowboy=208]="VIC_Cowboy",t[t.VIC_Kongfu=209]="VIC_Kongfu",t[t.VIC_Future=210]="VIC_Future",t[t.VIC_Dark=211]="VIC_Dark",t[t.VIC_Beach=212]="VIC_Beach",t[t.VIC_Ice=213]="VIC_Ice",t[t.VIC_Lost=214]="VIC_Lost",t[t.VIC_Sky=215]="VIC_Sky",t[t.VIC_Eighties=216]="VIC_Eighties",t[t.VIC_Dino=217]="VIC_Dino",t[t.VIC_Modern=218]="VIC_Modern",t[t.MusicAmount=219]="MusicAmount",t}({})),Rl=(c=Ul("MusicFiles"),p=Fl(n),y=Fl(n),E=Fl(n),m=Fl(n),C=Fl(n),f=Fl(n),w=Fl(n),B=Fl(n),M=Fl(n),I=Fl(n),z=Fl(n),D=Fl(n),Y=Fl(n),k=Fl(n),d=Fl(n),V=Fl(n),Z=Fl(n),U=Fl(n),F=Fl(n),G=Fl(n),A=Fl(n),K=Fl(n),O=Fl(n),v=Fl(n),R=Fl(n),T=Fl(n),x=Fl(n),W=Fl(n),N=Fl(n),J=Fl(n),j=Fl(n),q=Fl(n),H=Fl(n),Q=Fl(n),X=Fl(n),$=Fl(n),tt=Fl(n),et=Fl(n),it=Fl(n),at=Fl(n),rt=Fl(n),_t=Fl(n),ot=Fl(n),lt=Fl(n),nt=Fl(n),St=Fl(n),ut=Fl(n),gt=Fl(n),st=Fl(n),Pt=Fl(n),bt=Fl(n),ht=Fl(n),Lt=Fl(n),ct=Fl(n),pt=Fl(n),yt=Fl(n),Et=Fl(n),mt=Fl(n),Ct=Fl(n),ft=Fl(n),wt=Fl(n),Bt=Fl(n),Mt=Fl(n),It=Fl(n),zt=Fl(n),Dt=Fl(n),Yt=Fl(n),kt=Fl(n),dt=Fl(n),Vt=Fl(n),Zt=Fl(n),Ut=Fl(n),Ft=Fl(n),Gt=Fl(n),At=Fl(n),Kt=Fl(n),Ot=Fl(n),vt=Fl(n),Rt=Fl(n),Tt=Fl(n),xt=Fl(n),Wt=Fl(n),Nt=Fl(n),Jt=Fl(n),jt=Fl(n),qt=Fl(n),Ht=Fl(n),Qt=Fl(n),Xt=Fl(n),$t=Fl(n),te=Fl(n),ee=Fl(n),ie=Fl(n),ae=Fl(n),re=Fl(n),_e=Fl(n),oe=Fl(n),le=Fl(n),ne=Fl(n),Se=Fl(n),ue=Fl(n),ge=Fl(n),se=Fl(n),Pe=Fl(n),be=Fl(n),he=Fl(n),Le=Fl(n),ce=Fl(n),pe=Fl(n),ye=Fl(n),Ee=Fl(n),me=Fl(n),Ce=Fl(n),fe=Fl(n),we=Fl(n),Be=Fl(n),Me=Fl(n),Ie=Fl(n),ze=Fl(n),De=Fl(n),Ye=Fl(n),ke=Fl(n),de=Fl(n),Ve=Fl(n),Ze=Fl(n),Ue=Fl(n),Fe=Fl(n),Ge=Fl(n),Ae=Fl(n),Ke=Fl(n),Oe=Fl(n),ve=Fl(n),Re=Fl(n),Te=Fl(n),xe=Fl(n),We=Fl(n),Ne=Fl(n),Je=Fl(n),je=Fl(n),qe=Fl(n),He=Fl(n),Qe=Fl(n),Xe=Fl(n),$e=Fl(n),ti=Fl(n),ei=Fl(n),ii=Fl(n),ai=Fl(n),ri=Fl(n),_i=Fl(n),oi=Fl(n),li=Fl(n),ni=Fl(n),Si=Fl(n),ui=Fl(n),gi=Fl(n),si=Fl(n),Pi=Fl(n),bi=Fl(n),hi=Fl(n),Li=Fl(n),ci=Fl(n),pi=Fl(n),yi=Fl(n),Ei=Fl(n),mi=Fl(n),Ci=Fl(n),fi=Fl(n),wi=Fl(n),Bi=Fl(n),Mi=Fl(n),Ii=Fl(n),zi=Fl(n),Di=Fl(n),Yi=Fl(n),ki=Fl(n),di=Fl(n),Vi=Fl(n),Zi=Fl(n),Ui=Fl(n),Fi=Fl(n),Gi=Fl(n),Ai=Fl(n),Ki=Fl(n),Oi=Fl(n),vi=Fl(n),Ri=Fl(n),Ti=Fl(n),xi=Fl(n),Wi=Fl(n),Ni=Fl(n),Ji=Fl(n),ji=Fl(n),qi=Fl(n),Hi=Fl(n),Qi=Fl(n),Xi=Fl(n),$i=Fl(n),ta=Fl(n),ea=Fl(n),ia=Fl(n),aa=Fl(n),ra=Fl(n),_a=Fl(n),oa=Fl(n),la=Fl(n),na=Fl(n),Sa=Fl(n),ua=Fl(n),ga=Fl(n),sa=Fl(n),Pa=Fl(n),ba=Fl(n),ha=Fl(n),La=Fl(n),ca=Fl(n),pa=Fl(n),ya=Fl(n),Ea=Fl(n),c((fa=e((Ca=function(){i(this,"WorldMap",fa,this),i(this,"UB_Egypt",wa,this),i(this,"UB_Pirate",Ba,this),i(this,"UB_Cowboy",Ma,this),i(this,"UB_Kongfu",Ia,this),i(this,"UB_Future",za,this),i(this,"UB_Dark",Da,this),i(this,"UB_Beach",Ya,this),i(this,"UB_Ice",ka,this),i(this,"UB_Lost",da,this),i(this,"UB_Sky",Va,this),i(this,"UB_Dino",Za,this),i(this,"UB_Modern",Ua,this),i(this,"MG_Egypt",Fa,this),i(this,"MG_Pirate",Ga,this),i(this,"MG_Cowboy",Aa,this),i(this,"MG_Kongfu",Ka,this),i(this,"MG_Future",Oa,this),i(this,"MG_Dark",va,this),i(this,"MG_Beach",Ra,this),i(this,"MG_Ice",Ta,this),i(this,"MG_Lost",xa,this),i(this,"MG_Sky",Wa,this),i(this,"MG_Dino",Na,this),i(this,"MG_Modern",Ja,this),i(this,"MG_Ballad",ja,this),i(this,"MG_Pop",qa,this),i(this,"MG_Rap",Ha,this),i(this,"MG_EightBit",Qa,this),i(this,"MG_Metal",Xa,this),i(this,"UB_Victory",$a,this),i(this,"MG_Victory",tr,this),i(this,"PIANO_Cowboy",er,this),i(this,"LEAVE_Egypt",ir,this),i(this,"LEAVE_Pirate",ar,this),i(this,"LEAVE_Cowboy",rr,this),i(this,"LEAVE_Kongfu",_r,this),i(this,"LEAVE_Future",or,this),i(this,"LEAVE_Dark",lr,this),i(this,"LEAVE_Beach",nr,this),i(this,"LEAVE_Ice",Sr,this),i(this,"LEAVE_Lost",ur,this),i(this,"LEAVE_Sky",gr,this),i(this,"LEAVE_Eighties",sr,this),i(this,"LEAVE_Dino",Pr,this),i(this,"LEAVE_Modern",br,this),i(this,"LOSE_Egypt",hr,this),i(this,"LOSE_Pirate",Lr,this),i(this,"LOSE_Cowboy",cr,this),i(this,"LOSE_Kongfu",pr,this),i(this,"LOSE_Future",yr,this),i(this,"LOSE_Dark",Er,this),i(this,"LOSE_Beach",mr,this),i(this,"LOSE_Ice",Cr,this),i(this,"LOSE_Lost",fr,this),i(this,"LOSE_Sky",wr,this),i(this,"LOSE_Eighties",Br,this),i(this,"LOSE_Dino",Mr,this),i(this,"LOSE_Modern",Ir,this),i(this,"ZBI_Egypt",zr,this),i(this,"ZBI_Pirate",Dr,this),i(this,"ZBI_Cowboy",Yr,this),i(this,"ZBI_Future",kr,this),i(this,"ZBI_Dark",dr,this),i(this,"ZBI_Beach",Vr,this),i(this,"ZBI_Ice",Zr,this),i(this,"ZBI_Lost",Ur,this),i(this,"ZBI_Sky",Fr,this),i(this,"ZBI_Eighties",Gr,this),i(this,"ZBI_Dino",Ar,this),i(this,"ZBI_Modern",Kr,this),i(this,"ZB_Stage0",Or,this),i(this,"ZB_Stage1",vr,this),i(this,"ZB_Stage2_Start",Rr,this),i(this,"ZB_Stage2",Tr,this),i(this,"ZB_Victory",xr,this),i(this,"CYS_Start_Egypt",Wr,this),i(this,"CYS_Start_Pirate",Nr,this),i(this,"CYS_Start_Cowboy",Jr,this),i(this,"CYS_Start_Kongfu",jr,this),i(this,"CYS_Start_Future",qr,this),i(this,"CYS_Start_Dark",Hr,this),i(this,"CYS_Start_Beach",Qr,this),i(this,"CYS_Start_Ice",Xr,this),i(this,"CYS_Start_Lost",$r,this),i(this,"CYS_Start_Sky",t_,this),i(this,"CYS_Start_Eighties",e_,this),i(this,"CYS_Start_Dino",i_,this),i(this,"CYS_Start_Modern",a_,this),i(this,"CYS_LP_Egypt",r_,this),i(this,"CYS_LP_Pirate",__,this),i(this,"CYS_LP_Cowboy",o_,this),i(this,"CYS_LP_Kongfu",l_,this),i(this,"CYS_LP_Future",n_,this),i(this,"CYS_LP_Dark",S_,this),i(this,"CYS_LP_Beach",u_,this),i(this,"CYS_LP_Ice",g_,this),i(this,"CYS_LP_Lost",s_,this),i(this,"CYS_LP_Sky",P_,this),i(this,"CYS_LP_Eighties",b_,this),i(this,"CYS_LP_Dino",h_,this),i(this,"CYS_LP_Modern",L_,this),i(this,"P1_Start_Egypt",c_,this),i(this,"P1_Start_Pirate",p_,this),i(this,"P1_Start_Cowboy",y_,this),i(this,"P1_Start_Kongfu",E_,this),i(this,"P1_Start_Future",m_,this),i(this,"P1_Start_Dark",C_,this),i(this,"P1_Start_Beach",f_,this),i(this,"P1_Start_Ice",w_,this),i(this,"P1_Start_Lost",B_,this),i(this,"P1_Start_Sky",M_,this),i(this,"P1_Start_Eighties",I_,this),i(this,"P1_Start_Dino",z_,this),i(this,"P1_Start_Modern",D_,this),i(this,"P1_LP_Egypt",Y_,this),i(this,"P1_LP_Pirate",k_,this),i(this,"P1_LP_Cowboy",d_,this),i(this,"P1_LP_Kongfu",V_,this),i(this,"P1_LP_Future",Z_,this),i(this,"P1_LP_Dark",U_,this),i(this,"P1_LP_Beach",F_,this),i(this,"P1_LP_Ice",G_,this),i(this,"P1_LP_Lost",A_,this),i(this,"P1_LP_Sky",K_,this),i(this,"P1_LP_Eighties",O_,this),i(this,"P1_LP_Dino",v_,this),i(this,"P1_LP_Modern",R_,this),i(this,"P2_Start_Egypt",T_,this),i(this,"P2_Start_Pirate",x_,this),i(this,"P2_Start_Cowboy",W_,this),i(this,"P2_Start_Kongfu",N_,this),i(this,"P2_Start_Future",J_,this),i(this,"P2_Start_Dark",j_,this),i(this,"P2_Start_Beach",q_,this),i(this,"P2_Start_Ice",H_,this),i(this,"P2_Start_Lost",Q_,this),i(this,"P2_Start_Sky",X_,this),i(this,"P2_Start_Eighties",$_,this),i(this,"P2_Start_Dino",to,this),i(this,"P2_Start_Modern",eo,this),i(this,"P2_LP_Egypt",io,this),i(this,"P2_LP_Pirate",ao,this),i(this,"P2_LP_Cowboy",ro,this),i(this,"P2_LP_Kongfu",_o,this),i(this,"P2_LP_Future",oo,this),i(this,"P2_LP_Dark",lo,this),i(this,"P2_LP_Beach",no,this),i(this,"P2_LP_Ice",So,this),i(this,"P2_LP_Lost",uo,this),i(this,"P2_LP_Sky",go,this),i(this,"P2_LP_Eighties",so,this),i(this,"P2_LP_Dino",Po,this),i(this,"P2_LP_Modern",bo,this),i(this,"P3_Start_Egypt",ho,this),i(this,"P3_Start_Pirate",Lo,this),i(this,"P3_Start_Cowboy",co,this),i(this,"P3_Start_Kongfu",po,this),i(this,"P3_Start_Future",yo,this),i(this,"P3_Start_Dark",Eo,this),i(this,"P3_Start_Beach",mo,this),i(this,"P3_Start_Ice",Co,this),i(this,"P3_Start_Lost",fo,this),i(this,"P3_Start_Sky",wo,this),i(this,"P3_Start_Eighties",Bo,this),i(this,"P3_Start_Dino",Mo,this),i(this,"P3_Start_Modern",Io,this),i(this,"P3_LP_Egypt",zo,this),i(this,"P3_LP_Pirate",Do,this),i(this,"P3_LP_Cowboy",Yo,this),i(this,"P3_LP_Kongfu",ko,this),i(this,"P3_LP_Future",Vo,this),i(this,"P3_LP_Dark",Zo,this),i(this,"P3_LP_Beach",Uo,this),i(this,"P3_LP_Ice",Fo,this),i(this,"P3_LP_Lost",Go,this),i(this,"P3_LP_Sky",Ao,this),i(this,"P3_LP_Eighties",Ko,this),i(this,"P3_LP_Dino",Oo,this),i(this,"P3_LP_Modern",vo,this),i(this,"P4_Start_Egypt",Ro,this),i(this,"P4_Start_Pirate",To,this),i(this,"P4_Start_Cowboy",xo,this),i(this,"P4_Start_Kongfu",Wo,this),i(this,"P4_Start_Future",No,this),i(this,"P4_Start_Dark",Jo,this),i(this,"P4_Start_Beach",jo,this),i(this,"P4_Start_Ice",qo,this),i(this,"P4_Start_Lost",Ho,this),i(this,"P4_Start_Sky",Qo,this),i(this,"P4_Start_Eighties",Xo,this),i(this,"P4_Start_Dino",$o,this),i(this,"P4_Start_Modern",tl,this),i(this,"P4_LP_Egypt",el,this),i(this,"P4_LP_Pirate",il,this),i(this,"P4_LP_Cowboy",al,this),i(this,"P4_LP_Kongfu",rl,this),i(this,"P4_LP_Future",_l,this),i(this,"P4_LP_Dark",ol,this),i(this,"P4_LP_Beach",ll,this),i(this,"P4_LP_Ice",nl,this),i(this,"P4_LP_Lost",Sl,this),i(this,"P4_LP_Sky",ul,this),i(this,"P4_LP_Eighties",gl,this),i(this,"P4_LP_Dino",sl,this),i(this,"P4_LP_Modern",Pl,this),i(this,"VIC_Egypt",bl,this),i(this,"VIC_Pirate",hl,this),i(this,"VIC_Cowboy",Ll,this),i(this,"VIC_Kongfu",cl,this),i(this,"VIC_Future",pl,this),i(this,"VIC_Dark",yl,this),i(this,"VIC_Beach",El,this),i(this,"VIC_Ice",ml,this),i(this,"VIC_Lost",Cl,this),i(this,"VIC_Sky",fl,this),i(this,"VIC_Eighties",wl,this),i(this,"VIC_Dino",Bl,this),i(this,"VIC_Modern",Ml,this)}).prototype,"WorldMap",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wa=e(Ca.prototype,"UB_Egypt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=e(Ca.prototype,"UB_Pirate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ma=e(Ca.prototype,"UB_Cowboy",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=e(Ca.prototype,"UB_Kongfu",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=e(Ca.prototype,"UB_Future",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Da=e(Ca.prototype,"UB_Dark",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ya=e(Ca.prototype,"UB_Beach",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ka=e(Ca.prototype,"UB_Ice",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=e(Ca.prototype,"UB_Lost",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Va=e(Ca.prototype,"UB_Sky",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za=e(Ca.prototype,"UB_Dino",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua=e(Ca.prototype,"UB_Modern",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=e(Ca.prototype,"MG_Egypt",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=e(Ca.prototype,"MG_Pirate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aa=e(Ca.prototype,"MG_Cowboy",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ka=e(Ca.prototype,"MG_Kongfu",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oa=e(Ca.prototype,"MG_Future",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),va=e(Ca.prototype,"MG_Dark",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra=e(Ca.prototype,"MG_Beach",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=e(Ca.prototype,"MG_Ice",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xa=e(Ca.prototype,"MG_Lost",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wa=e(Ca.prototype,"MG_Sky",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na=e(Ca.prototype,"MG_Dino",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ja=e(Ca.prototype,"MG_Modern",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=e(Ca.prototype,"MG_Ballad",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa=e(Ca.prototype,"MG_Pop",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ha=e(Ca.prototype,"MG_Rap",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qa=e(Ca.prototype,"MG_EightBit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xa=e(Ca.prototype,"MG_Metal",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=e(Ca.prototype,"UB_Victory",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=e(Ca.prototype,"MG_Victory",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=e(Ca.prototype,"PIANO_Cowboy",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=e(Ca.prototype,"LEAVE_Egypt",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=e(Ca.prototype,"LEAVE_Pirate",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=e(Ca.prototype,"LEAVE_Cowboy",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=e(Ca.prototype,"LEAVE_Kongfu",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=e(Ca.prototype,"LEAVE_Future",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=e(Ca.prototype,"LEAVE_Dark",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=e(Ca.prototype,"LEAVE_Beach",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=e(Ca.prototype,"LEAVE_Ice",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=e(Ca.prototype,"LEAVE_Lost",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=e(Ca.prototype,"LEAVE_Sky",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=e(Ca.prototype,"LEAVE_Eighties",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=e(Ca.prototype,"LEAVE_Dino",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=e(Ca.prototype,"LEAVE_Modern",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=e(Ca.prototype,"LOSE_Egypt",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=e(Ca.prototype,"LOSE_Pirate",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=e(Ca.prototype,"LOSE_Cowboy",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=e(Ca.prototype,"LOSE_Kongfu",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=e(Ca.prototype,"LOSE_Future",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er=e(Ca.prototype,"LOSE_Dark",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=e(Ca.prototype,"LOSE_Beach",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=e(Ca.prototype,"LOSE_Ice",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=e(Ca.prototype,"LOSE_Lost",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=e(Ca.prototype,"LOSE_Sky",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=e(Ca.prototype,"LOSE_Eighties",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=e(Ca.prototype,"LOSE_Dino",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=e(Ca.prototype,"LOSE_Modern",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=e(Ca.prototype,"ZBI_Egypt",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=e(Ca.prototype,"ZBI_Pirate",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=e(Ca.prototype,"ZBI_Cowboy",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=e(Ca.prototype,"ZBI_Future",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=e(Ca.prototype,"ZBI_Dark",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=e(Ca.prototype,"ZBI_Beach",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=e(Ca.prototype,"ZBI_Ice",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur=e(Ca.prototype,"ZBI_Lost",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=e(Ca.prototype,"ZBI_Sky",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=e(Ca.prototype,"ZBI_Eighties",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=e(Ca.prototype,"ZBI_Dino",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=e(Ca.prototype,"ZBI_Modern",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=e(Ca.prototype,"ZB_Stage0",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=e(Ca.prototype,"ZB_Stage1",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=e(Ca.prototype,"ZB_Stage2_Start",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=e(Ca.prototype,"ZB_Stage2",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xr=e(Ca.prototype,"ZB_Victory",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr=e(Ca.prototype,"CYS_Start_Egypt",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nr=e(Ca.prototype,"CYS_Start_Pirate",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jr=e(Ca.prototype,"CYS_Start_Cowboy",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr=e(Ca.prototype,"CYS_Start_Kongfu",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=e(Ca.prototype,"CYS_Start_Future",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=e(Ca.prototype,"CYS_Start_Dark",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qr=e(Ca.prototype,"CYS_Start_Beach",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr=e(Ca.prototype,"CYS_Start_Ice",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=e(Ca.prototype,"CYS_Start_Lost",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t_=e(Ca.prototype,"CYS_Start_Sky",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e_=e(Ca.prototype,"CYS_Start_Eighties",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i_=e(Ca.prototype,"CYS_Start_Dino",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a_=e(Ca.prototype,"CYS_Start_Modern",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r_=e(Ca.prototype,"CYS_LP_Egypt",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),__=e(Ca.prototype,"CYS_LP_Pirate",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o_=e(Ca.prototype,"CYS_LP_Cowboy",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l_=e(Ca.prototype,"CYS_LP_Kongfu",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n_=e(Ca.prototype,"CYS_LP_Future",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S_=e(Ca.prototype,"CYS_LP_Dark",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u_=e(Ca.prototype,"CYS_LP_Beach",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g_=e(Ca.prototype,"CYS_LP_Ice",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s_=e(Ca.prototype,"CYS_LP_Lost",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P_=e(Ca.prototype,"CYS_LP_Sky",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b_=e(Ca.prototype,"CYS_LP_Eighties",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h_=e(Ca.prototype,"CYS_LP_Dino",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L_=e(Ca.prototype,"CYS_LP_Modern",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c_=e(Ca.prototype,"P1_Start_Egypt",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p_=e(Ca.prototype,"P1_Start_Pirate",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y_=e(Ca.prototype,"P1_Start_Cowboy",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E_=e(Ca.prototype,"P1_Start_Kongfu",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m_=e(Ca.prototype,"P1_Start_Future",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C_=e(Ca.prototype,"P1_Start_Dark",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f_=e(Ca.prototype,"P1_Start_Beach",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w_=e(Ca.prototype,"P1_Start_Ice",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B_=e(Ca.prototype,"P1_Start_Lost",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M_=e(Ca.prototype,"P1_Start_Sky",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I_=e(Ca.prototype,"P1_Start_Eighties",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z_=e(Ca.prototype,"P1_Start_Dino",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D_=e(Ca.prototype,"P1_Start_Modern",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y_=e(Ca.prototype,"P1_LP_Egypt",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k_=e(Ca.prototype,"P1_LP_Pirate",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d_=e(Ca.prototype,"P1_LP_Cowboy",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V_=e(Ca.prototype,"P1_LP_Kongfu",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z_=e(Ca.prototype,"P1_LP_Future",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U_=e(Ca.prototype,"P1_LP_Dark",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F_=e(Ca.prototype,"P1_LP_Beach",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G_=e(Ca.prototype,"P1_LP_Ice",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A_=e(Ca.prototype,"P1_LP_Lost",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K_=e(Ca.prototype,"P1_LP_Sky",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O_=e(Ca.prototype,"P1_LP_Eighties",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v_=e(Ca.prototype,"P1_LP_Dino",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R_=e(Ca.prototype,"P1_LP_Modern",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T_=e(Ca.prototype,"P2_Start_Egypt",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x_=e(Ca.prototype,"P2_Start_Pirate",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W_=e(Ca.prototype,"P2_Start_Cowboy",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N_=e(Ca.prototype,"P2_Start_Kongfu",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J_=e(Ca.prototype,"P2_Start_Future",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j_=e(Ca.prototype,"P2_Start_Dark",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q_=e(Ca.prototype,"P2_Start_Beach",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H_=e(Ca.prototype,"P2_Start_Ice",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q_=e(Ca.prototype,"P2_Start_Lost",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X_=e(Ca.prototype,"P2_Start_Sky",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$_=e(Ca.prototype,"P2_Start_Eighties",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=e(Ca.prototype,"P2_Start_Dino",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=e(Ca.prototype,"P2_Start_Modern",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=e(Ca.prototype,"P2_LP_Egypt",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=e(Ca.prototype,"P2_LP_Pirate",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=e(Ca.prototype,"P2_LP_Cowboy",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=e(Ca.prototype,"P2_LP_Kongfu",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=e(Ca.prototype,"P2_LP_Future",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=e(Ca.prototype,"P2_LP_Dark",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=e(Ca.prototype,"P2_LP_Beach",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=e(Ca.prototype,"P2_LP_Ice",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=e(Ca.prototype,"P2_LP_Lost",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=e(Ca.prototype,"P2_LP_Sky",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=e(Ca.prototype,"P2_LP_Eighties",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=e(Ca.prototype,"P2_LP_Dino",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bo=e(Ca.prototype,"P2_LP_Modern",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=e(Ca.prototype,"P3_Start_Egypt",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=e(Ca.prototype,"P3_Start_Pirate",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=e(Ca.prototype,"P3_Start_Cowboy",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po=e(Ca.prototype,"P3_Start_Kongfu",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=e(Ca.prototype,"P3_Start_Future",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=e(Ca.prototype,"P3_Start_Dark",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=e(Ca.prototype,"P3_Start_Beach",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=e(Ca.prototype,"P3_Start_Ice",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=e(Ca.prototype,"P3_Start_Lost",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wo=e(Ca.prototype,"P3_Start_Sky",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=e(Ca.prototype,"P3_Start_Eighties",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=e(Ca.prototype,"P3_Start_Dino",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=e(Ca.prototype,"P3_Start_Modern",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=e(Ca.prototype,"P3_LP_Egypt",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=e(Ca.prototype,"P3_LP_Pirate",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=e(Ca.prototype,"P3_LP_Cowboy",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ko=e(Ca.prototype,"P3_LP_Kongfu",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=e(Ca.prototype,"P3_LP_Future",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zo=e(Ca.prototype,"P3_LP_Dark",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=e(Ca.prototype,"P3_LP_Beach",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=e(Ca.prototype,"P3_LP_Ice",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=e(Ca.prototype,"P3_LP_Lost",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=e(Ca.prototype,"P3_LP_Sky",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=e(Ca.prototype,"P3_LP_Eighties",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=e(Ca.prototype,"P3_LP_Dino",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=e(Ca.prototype,"P3_LP_Modern",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=e(Ca.prototype,"P4_Start_Egypt",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To=e(Ca.prototype,"P4_Start_Pirate",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=e(Ca.prototype,"P4_Start_Cowboy",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=e(Ca.prototype,"P4_Start_Kongfu",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=e(Ca.prototype,"P4_Start_Future",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=e(Ca.prototype,"P4_Start_Dark",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=e(Ca.prototype,"P4_Start_Beach",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=e(Ca.prototype,"P4_Start_Ice",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=e(Ca.prototype,"P4_Start_Lost",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=e(Ca.prototype,"P4_Start_Sky",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=e(Ca.prototype,"P4_Start_Eighties",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=e(Ca.prototype,"P4_Start_Dino",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tl=e(Ca.prototype,"P4_Start_Modern",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=e(Ca.prototype,"P4_LP_Egypt",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),il=e(Ca.prototype,"P4_LP_Pirate",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=e(Ca.prototype,"P4_LP_Cowboy",[Qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rl=e(Ca.prototype,"P4_LP_Kongfu",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_l=e(Ca.prototype,"P4_LP_Future",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ol=e(Ca.prototype,"P4_LP_Dark",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll=e(Ca.prototype,"P4_LP_Beach",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nl=e(Ca.prototype,"P4_LP_Ice",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sl=e(Ca.prototype,"P4_LP_Lost",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ul=e(Ca.prototype,"P4_LP_Sky",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl=e(Ca.prototype,"P4_LP_Eighties",[_a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sl=e(Ca.prototype,"P4_LP_Dino",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pl=e(Ca.prototype,"P4_LP_Modern",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=e(Ca.prototype,"VIC_Egypt",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl=e(Ca.prototype,"VIC_Pirate",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=e(Ca.prototype,"VIC_Cowboy",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cl=e(Ca.prototype,"VIC_Kongfu",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pl=e(Ca.prototype,"VIC_Future",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yl=e(Ca.prototype,"VIC_Dark",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),El=e(Ca.prototype,"VIC_Beach",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=e(Ca.prototype,"VIC_Ice",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cl=e(Ca.prototype,"VIC_Lost",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=e(Ca.prototype,"VIC_Sky",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=e(Ca.prototype,"VIC_Eighties",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bl=e(Ca.prototype,"VIC_Dino",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ml=e(Ca.prototype,"VIC_Modern",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=Ca))||ma);S(Al),S(Ol);t("SoundManager",(Il=Ul("SoundManager"),zl=Fl(Rl),Dl=Fl(u),Il(((Zl=function(t){function e(){for(var e,a=arguments.length,_=new Array(a),o=0;o<a;o++)_[o]=arguments[o];return e=t.call.apply(t,[this].concat(_))||this,i(e,"musicFiles",dl,r(e)),e.currentMusicSort=NaN,e.currentWorldMusic=NaN,e._insertedMusic=null,e._insertedMusicDuration=1/0,e.leftRepeat=0,e.nextToPlay=null,e.nextSortToPlay=null,e._audioSource=void 0,e._audioSourceReplay=void 0,e.currentPlayingComponent=null,e.currentMusic=null,e.currentMusicType=vl.UB_Victory,e.keepupMusic=null,i(e,"musicJson",Vl,r(e)),e.pianoCountDown=0,e.pianoCountUp=0,e}a(e,t);var o=e.prototype;return o.switchMusic=function(t,e,i,a,r){if(void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===r&&(r=!0),t!=this.currentWorldMusic||e!=this.currentMusicSort||i){var _=vl.UB_Victory,o=1/0,l=!1,n=null,S=null;if(e==Ol.Victory&&this.currentMusicSort==Ol.UltimateBattle)_=vl.UB_Victory,l=!1,o=1;else if(e==Ol.Victory&&this.currentMusicSort==Ol.DemonstrateMinigame)_=vl.MG_Victory,l=!1,o=1;else if(e==Ol.Victory&&(this.currentMusicSort==Ol.ZombossIntro||this.currentMusicSort==Ol.ZombossStage0||this.currentMusicSort==Ol.ZombossStage1||this.currentMusicSort==Ol.ZombossStage2||this.currentMusicSort==Ol.ZombossStage2_start&&(e=Ol.ZombossStage2)))_=vl.ZB_Victory,l=!1,o=1;else if(e==Ol.ZombossStage0)_=vl.ZB_Stage0,l=!0,o=1/0;else if(e==Ol.ZombossStage1)_=vl.ZB_Stage1,l=!0,o=1/0;else if(e==Ol.ZombossStage2)_=vl.ZB_Stage2,l=!0,o=1/0;else if(e==Ol.ZombossStage2_start)_=vl.ZB_Stage2_Start,n=vl.ZB_Stage2,l=!0,o=1/0,e=Ol.ZombossStage2;else switch(t){case Kl.Egypt:e==Ol.UltimateBattle?(_=vl.UB_Egypt,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Egypt,l=!0):e==Ol.Leave?(_=vl.LEAVE_Egypt,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Egypt,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Egypt,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Egypt,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Egypt,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Egypt,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Egypt,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Egypt,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Egypt,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Egypt,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Egypt,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Egypt,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Egypt,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Egypt,l=!0);break;case Kl.Pirate:e==Ol.UltimateBattle?(_=vl.UB_Pirate,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Pirate,l=!0):e==Ol.Leave?(_=vl.LEAVE_Pirate,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Pirate,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Pirate,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Pirate,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Pirate,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Pirate,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Pirate,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Pirate,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Pirate,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Pirate,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Pirate,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Pirate,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Pirate,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Pirate,l=!0);break;case Kl.Cowboy:e==Ol.UltimateBattle?(_=vl.UB_Cowboy,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Cowboy,l=!0):e==Ol.Leave?(_=vl.LEAVE_Cowboy,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Cowboy,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Cowboy,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Cowboy,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Cowboy,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Cowboy,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Cowboy,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Cowboy,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Cowboy,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Cowboy,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Cowboy,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Cowboy,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Cowboy,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Cowboy,l=!0);break;case Kl.Future:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Future,l=!0):e==Ol.Leave?(_=vl.LEAVE_Future,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Future,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Future,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Future,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Future,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Future,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Future,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Future,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Future,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Future,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Future,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Future,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Future,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Future,l=!0);break;case Kl.Dark:e==Ol.UltimateBattle?(_=vl.UB_Dark,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Dark,l=!0):e==Ol.Leave?(_=vl.LEAVE_Dark,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Dark,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Dark,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Dark,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Dark,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Dark,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Dark,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Dark,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Dark,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Dark,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Dark,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Dark,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Dark,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Dark,l=!0);break;case Kl.Beach:e==Ol.UltimateBattle?(_=vl.UB_Beach,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Beach,l=!0):e==Ol.Leave?(_=vl.LEAVE_Beach,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Beach,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Beach,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Beach,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Beach,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Beach,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Beach,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Beach,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Beach,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Beach,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Beach,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Beach,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Beach,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Beach,l=!0);break;case Kl.Ice:e==Ol.UltimateBattle?(_=vl.UB_Ice,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Ice,l=!0):e==Ol.Leave?(_=vl.LEAVE_Ice,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Ice,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Ice,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Ice,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Ice,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Ice,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Ice,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Ice,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Ice,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Ice,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Ice,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Ice,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Ice,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Ice,l=!0);break;case Kl.Lost:e==Ol.UltimateBattle?(_=vl.UB_Lost,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Lost,l=!0):e==Ol.Leave?(_=vl.LEAVE_Lost,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Lost,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Lost,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Lost,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Lost,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Lost,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Lost,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Lost,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Lost,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Lost,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Lost,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Lost,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Lost,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Lost,l=!0);break;case Kl.Sky:e==Ol.UltimateBattle?(_=vl.UB_Sky,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Sky,l=!0):e==Ol.Leave?(_=vl.LEAVE_Sky,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Sky,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Sky,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Sky,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Sky,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Sky,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Sky,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Sky,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Sky,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Sky,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Sky,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Sky,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Sky,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Sky,l=!0);break;case Kl.Kongfu:e==Ol.UltimateBattle?(_=vl.UB_Kongfu,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Kongfu,l=!0):e==Ol.Leave?(_=vl.LEAVE_Kongfu,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Kongfu,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Egypt,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Kongfu,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Kongfu,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Kongfu,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Kongfu,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Kongfu,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Kongfu,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Kongfu,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Kongfu,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Kongfu,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Kongfu,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Kongfu,l=!0);break;case Kl.Ballad:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Ballad,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Punk:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Future,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Pop:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Pop,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Rap:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Rap,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Eightbit:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_EightBit,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Metal:e==Ol.UltimateBattle?(_=vl.UB_Future,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Metal,l=!0):e==Ol.Leave?(_=vl.LEAVE_Eighties,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Eighties,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Eighties,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Eighties,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Eighties,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Eighties,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Eighties,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Eighties,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Eighties,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Eighties,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Eighties,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Eighties,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Eighties,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Eighties,l=!0);break;case Kl.Dino:e==Ol.UltimateBattle?(_=vl.UB_Dino,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Dino,l=!0):e==Ol.Leave?(_=vl.LEAVE_Dino,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Dino,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Dino,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Dino,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Dino,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Dino,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Dino,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Dino,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Dino,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Dino,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Dino,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Dino,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Dino,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Dino,l=!0);break;default:e==Ol.UltimateBattle?(_=vl.UB_Modern,l=!0):e==Ol.DemonstrateMinigame?(_=vl.MG_Modern,l=!0):e==Ol.Leave?(_=vl.LEAVE_Modern,l=!1,o=1):e==Ol.Lose?(_=vl.LOSE_Modern,l=!1,o=1):e==Ol.ZombossIntro?(_=vl.ZBI_Modern,l=!1,n=vl.ZB_Stage0,e=Ol.ZombossStage0):e==Ol.Victory?(_=vl.VIC_Modern,l=!1,o=1):e==Ol.Stage1_Start?(_=vl.Stage1_Start_Modern,S=Ol.Stage1_LP,l=!1):e==Ol.Stage1_LP?(_=vl.Stage1_LP_Modern,l=!0):e==Ol.Stage2_Start?(_=vl.Stage2_Start_Modern,S=Ol.Stage2_LP,l=!1):e==Ol.Stage2_LP?(_=vl.Stage2_LP_Modern,l=!0):e==Ol.Stage3_Start?(_=vl.Stage3_Start_Modern,S=Ol.Stage3_LP,l=!1):e==Ol.Stage3_LP?(_=vl.Stage3_LP_Modern,l=!0):e==Ol.Stage4_Start?(_=vl.Stage4_Start_Modern,S=Ol.Stage4_LP,l=!1):e==Ol.Stage4_LP?(_=vl.Stage4_LP_Modern,l=!0):e==Ol.CYS_Start?(_=vl.CYS_Start_Modern,S=Ol.CYS_LP,l=!1):e==Ol.CYS_LP&&(_=vl.CYS_LP_Modern,l=!0)}return r&&this.playBGM(_,l&&!a,o),this.nextToPlay=n,this.nextSortToPlay=S,this.currentMusicSort=e,this.currentWorldMusic=t,_}},o.switchWorldMusic=function(t,e){return void 0===e&&(e=!0),t==this.currentWorldMusic?this.currentMusicType:this.switchMusic(t,this.currentMusicSort,e)},o.switchMusicSort=function(t,e,i,a){return void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===a&&(a=!0),t==this.currentMusicSort?this.currentMusicType:this.switchMusic(this.currentWorldMusic,t,e,i,a)},o.insertMusic=function(t){this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSource.currentTime=0,this.audioSourceReplay.currentTime=0,this.audioSource.clip=t,this.audioSourceReplay.clip=t,this.currentPlayingComponent=this.audioSource,this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=P.MusicVolume*P._volumeScalePause,this._insertedMusic=t,this._insertedMusicDuration=t.getDuration()-1},o.playBGM=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=1/0),!(t>=vl.MusicAmount)){t==vl.Piano&&(this.pianoCountUp=0),this.leftRepeat=i-1;var a=this.currentPlayingComponent&&e?this.currentPlayingComponent.currentTime:0;this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSourceReplay.currentTime=0,this.currentMusic=this.BackgroundMusic[t],this.keepupMusic=this.BackgroundMusic[t],this.audioSource.clip=this.currentMusic.clip,this.audioSourceReplay.clip=this.currentMusic.clip,this.currentPlayingComponent=this.audioSource,this.nextToPlay=null,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=a,this.currentPlayingComponent.volume=P.MusicVolume*P._volumeScalePause,this.currentMusicType=t}},o.pauseBGM=function(){var t,e;null!=(t=this.audioSource)&&t.playing&&this.audioSource.pause(),null!=(e=this.audioSourceReplay)&&e.playing&&this.audioSourceReplay.pause()},o.resumeBGM=function(){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=P.MusicVolume*P._volumeScalePause)},o.changeLoopPlayer=function(){this.currentPlayingComponent=this.currentPlayingComponent==this.audioSource?this.audioSourceReplay:this.audioSource,null!=this.nextToPlay?this.currentMusic=this.BackgroundMusic[this.nextToPlay]:null!=this.nextSortToPlay&&(this.currentMusic=this.BackgroundMusic[this.switchMusicSort(this.nextSortToPlay,!0,!0,!1)],this.nextSortToPlay=null),this.currentPlayingComponent.clip=this.currentMusic.clip,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=0,this.currentPlayingComponent.volume=P.MusicVolume*P._volumeScalePause,this.leftRepeat--},o.onLoad=function(){var t=this;this._audioSource=this.node.getChildByName("player1").getComponent(g),this._audioSourceReplay=this.node.getChildByName("player2").getComponent(g),this._insertedMusic=null,this._insertedMusicDuration=1/0,e.component=this,e.musicFeatures=this.musicJson.json.Musics,e.bgms.length<vl.MusicAmount&&(e.bgms=[],e.musicFeatures.forEach((function(i,a){var r=new Gl;r.name=i.name,r.clip=t.musicFiles[i.name],r.musicLength=Math.min(r.clip.getDuration()-.1,i.musicLength),e.bgms.push(r)})))},o.update=function(t){var e;this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.volume=P.MusicVolume*P._volumeScalePause,this.leftRepeat>0&&(null==h||null==(e=h.uiingame)||!e.paused)&&(this.currentPlayingComponent.currentTime>=this.currentMusic.musicLength||this._insertedMusic&&this.currentPlayingComponent.currentTime>=this._insertedMusicDuration)&&(this._insertedMusic=null,this._insertedMusicDuration=1/0,this.changeLoopPlayer()));this.pianoCountDown>0&&b.gaming&&(this.pianoCountUp+=t,this.pianoCountDown-=t,this.pianoCountDown<=0?this.switchMusic(this.currentWorldMusic,this.currentMusicSort,!0):this.currentMusicType!=vl.Piano&&this.playBGM(vl.Piano,!0))},o.start=function(){P._volumeScalePause=1},_(e,[{key:"BackgroundMusic",get:function(){return e.bgms}},{key:"audioSource",get:function(){return this._audioSource||(this._audioSource=this.node.getChildByName("player1").getComponent(g)),this._audioSource}},{key:"audioSourceReplay",get:function(){return this._audioSourceReplay||(this._audioSourceReplay=this.node.getChildByName("player2").getComponent(g)),this._audioSourceReplay}}]),e}(s)).bgms=[],Zl.musicFeatures=[],Zl.component=void 0,dl=e((kl=Zl).prototype,"musicFiles",[zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vl=e(kl.prototype,"musicJson",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl=kl))||Yl));o._RF.pop()}}}));

System.register("chunks:///_virtual/SoundRescourses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts","./UI.ts"],(function(e){var o,i,t,n,a,l,r,u,p,s,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.AudioClip,u=e.AudioSource,p=e.Component},function(e){s=e.SoundFXController},function(e){c=e.ArrayGet},function(e){h=e.gamingSpeed}],execute:function(){var y,d,f,S,b,m,w,g,v,C,z,F,P,R,O,k,D,A,W,L,H,T,X,V,U,B,E,M,Z,x,I,G,N,_,j,Y,q,J,K,Q,$,ee,oe,ie,te,ne,ae,le,re,ue,pe,se,ce,he,ye,de,fe,Se,be,me,we,ge,ve,Ce,ze,Fe,Pe,Re,Oe,ke,De,Ae,We,Le,He,Te,Xe,Ve,Ue,Be,Ee,Me,Ze,xe,Ie,Ge,Ne,_e,je,Ye,qe,Je,Ke,Qe,$e,eo,oo,io,to,no,ao,lo,ro,uo,po,so,co,ho,yo,fo,So,bo,mo,wo,go,vo,Co,zo,Fo,Po,Ro,Oo,ko,Do,Ao,Wo,Lo,Ho,To,Xo,Vo,Uo,Bo,Eo,Mo;a._RF.push({},"904d1auYeNBHZ5TOCP4aBg3","SoundRescourses",void 0);var Zo=l.ccclass,xo=l.property,Io=function(e,o,i){this.clip=void 0,this.volume=1,this.cooldown=0,this.clip=e,this.volume=o,this.cooldown=i},Go=function(e,o,i){this.clips=void 0,this.volume=1,this.cooldown=0,this.clips=e,this.volume=o,this.cooldown=i},No=e("sounds",function(){function e(){}return e.playLocateSound=function(){this.sr.playLocateSound()},e.playSniperPlantCancelSound=function(){this.sr.playSniperPlantCancelSound()},e.playLavaIdle=function(){this.sr.playLavaIdle()},e.playCameraMove=function(){this.sr.playCameraMove()},e.playAwooga=function(){this.sr.playAwooga()},e.playPlantBurn=function(){this.sr.playPlantBurn()},e.playReadySetPlant=function(){this.sr.playReadySetPlant()},e.playHugeWave=function(){this.sr.playHugeWave()},e.playFinalWave=function(){this.sr.playFinalWave()},e.playSeedChooserOn=function(){this.sr.playSeedChooserOn()},e.playSeedChooserOff=function(){this.sr.playSeedChooserOff()},e.playLetsRock=function(){this.sr.playLetsRock()},e.playButterOn=function(){this.sr.playButterOn()},e.playTombBreak=function(){this.sr.playTombBreak()},e.playTombRiseHeavy=function(){this.sr.playTombRiseHeavy()},e.playEmpSpark=function(){this.sr.playEmpSpark()},e.playZombieGulp=function(){this.sr.playZombieGulp()},e.playZombieChew=function(e){this.sr.playzombieChew(e)},e.playTileShadowSpawn=function(){this.sr.playTileShadowSpawn()},e.playSeaSplash=function(){this.sr.playSeaSplash()},e.playWaterSplash=function(){this.sr.playWaterSplash()},e.playZombossHPFillStart=function(){this.sr.playZombossHPFillStart()},e.playZombossHPFilling=function(){this.sr.playZombossHPFilling()},e.playPlantFoodStart=function(){this.sr.playPlantFoodStart()},e.playZombieLie=function(){this.sr.playZombieLie()},e.playZombieLimbPop=function(){this.sr.playZombieLimbPop()},e.playCardChooseFailed=function(e){void 0===e&&(e=!1),this.sr.playCardChooseFailed(e)},e.playCardCancel=function(){this.sr.playCardCancel()},e.playCardChosen=function(){this.sr.playCardChosen()},e.playRightButtonCancel=function(){this.sr.playRightButtonCancel()},e.playShovelActive=function(){this.sr.playShovelActive()},e.playSpeedUp=function(){this.sr.playSpeedUp()},e.playPlantOnWater=function(){this.sr.playPlantOnWater()},e.playPlantOnFloor=function(){this.sr.playPlantOnFloor()},e.playShovelDig=function(){this.sr.playShovelDig()},e.playPlantThrow=function(){this.sr.playPlantThrow()},e.playShovelDigWater=function(){this.sr.playShovelDigWater()},e.playZombieShock=function(e){void 0===e&&(e=!1),this.sr.playZombieShock(e)},e.playGargantuarAsh=function(){this.sr.playGargantuarAsh()},e.playLevelExit=function(){this.sr.playLevelExit()},e.playDirtRise=function(e,o){void 0===e&&(e=!1),void 0===o&&(o=!0),this.sr.playDirtRise(e,o)},e.playTombRiseMagical=function(){this.sr.playTombRiseMagical()},e.playSpudow=function(){this.sr.playSpudow()},e.playPlantStrengthen=function(){this.sr.playPlantStrengthen()},e.playExplosion=function(){this.sr.playExplosion()},e.playArmorHitPlastic=function(){this.sr.playArmorHitPlastic()},e.playArmorHitShield=function(){this.sr.playArmorHitShield()},e.playConveyorArrive=function(){this.sr.playConveyorArrive()},e.playPause=function(){this.sr.playPause()},e.playWorldMapStart=function(){this.sr.playWorldMapStart()},e.playSandStormWarn=function(){this.sr.playSandStormWarn()},e.playReadyOrSet=function(){this.sr.playReadyOrSet()},e.playPowerUpCD=function(e){this.sr.playPowerUpCD(e)},e.playPowerUpStart=function(e){this.sr.playPowerUpStart(e)},e.playBirdExpl=function(){this.sr.playBirdExpl()},e.playGemSpawn=function(){this.sr.playGemSpawn()},e.playZombieFart=function(){this.sr.playZombieFart()},e.playLevelTaskComplete=function(){this.sr.playLevelTaskComplete()},e.playLevelTaskFail=function(){this.sr.playLevelTaskFail()},e.playLevelTaskWarn=function(){this.sr.playLevelTaskWarn()},e.play=function(e,o,i,t){void 0===o&&(o=1),void 0===i&&(i=NaN),void 0===t&&(t=.5),e&&this.sr.play(e,o,i,t)},e.playArray=function(e,o,i,t){void 0===o&&(o=1),void 0===i&&(i=NaN),void 0===t&&(t=.5),null!=e&&e.length&&this.sr.playArray(e,o,i,t)},e}());No.sr=void 0;e("SoundRescourses",(y=Zo("SoundRescourses"),d=xo(r),f=xo([r]),S=xo(r),b=xo(r),m=xo([r]),w=xo([r]),g=xo(r),v=xo(r),C=xo(r),z=xo(r),F=xo(r),P=xo(r),R=xo(r),O=xo(r),k=xo([r]),D=xo([r]),A=xo([r]),W=xo([r]),L=xo([r]),H=xo([r]),T=xo(u),X=xo(r),V=xo([r]),U=xo([r]),B=xo(r),E=xo([r]),M=xo([r]),Z=xo([r]),x=xo([r]),I=xo([r]),G=xo(r),N=xo(r),_=xo(r),j=xo(r),Y=xo(r),q=xo(r),J=xo(r),K=xo(r),Q=xo(r),$=xo(r),ee=xo([r]),oe=xo([r]),ie=xo(r),te=xo([r]),ne=xo([r]),ae=xo([r]),le=xo([r]),re=xo([r]),ue=xo([r]),pe=xo([r]),se=xo([r]),ce=xo(r),he=xo(r),ye=xo(r),de=xo(r),fe=xo(r),Se=xo(r),be=xo([r]),me=xo(r),we=xo(r),ge=xo([r]),ve=xo(r),Ce=xo(r),ze=xo(r),Fe=xo(r),Pe=xo(r),y((ke=o((Oe=function(e){function o(){for(var o,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=e.call.apply(e,[this].concat(a))||this,t(o,"plantFoodStart",ke,n(o)),t(o,"zombieLie",De,n(o)),t(o,"zombieLimbPop",Ae,n(o)),t(o,"seaSplash",We,n(o)),t(o,"waterSplash",Le,n(o)),t(o,"zombossHPFilling",He,n(o)),t(o,"zombossHPFillStart",Te,n(o)),t(o,"cardChooseFailed",Xe,n(o)),o.cardChooseFailedCD=0,t(o,"cardChosen",Ve,n(o)),t(o,"cardCancel",Ue,n(o)),t(o,"rightButtonCancel",Be,n(o)),t(o,"shovelActive",Ee,n(o)),t(o,"speedUp",Me,n(o)),t(o,"speedLower",Ze,n(o)),t(o,"shovelDig",xe,n(o)),t(o,"plantThrow",Ie,n(o)),t(o,"shovelDigWater",Ge,n(o)),t(o,"plantOnWater",Ne,n(o)),t(o,"plantOnFloor",_e,n(o)),t(o,"tileShadowSpawn",je,n(o)),t(o,"audioSource0",Ye,n(o)),o.audioSources=[],o.coolingDownSounds=[],o.coolingDownSoundArrays=[],o.tickPlaySounds=[],o.tickPlaySoundArrays=[],t(o,"levelExit",qe,n(o)),t(o,"zombieShock",Je,n(o)),t(o,"gargantuarShock",Ke,n(o)),t(o,"gargantuarAsh",Qe,n(o)),t(o,"dirtRise",$e,n(o)),t(o,"dirtRiseHeavy",eo,n(o)),o.dirtRiseCooldown=0,t(o,"tombRiseMagical",oo,n(o)),t(o,"spudow",io,n(o)),t(o,"explosion",to,n(o)),t(o,"plantStrengthen",no,n(o)),t(o,"cameraMove",ao,n(o)),t(o,"plantBurn",lo,n(o)),t(o,"awooga",ro,n(o)),t(o,"hugeWave",uo,n(o)),t(o,"finalWave",po,n(o)),t(o,"readySetPlant",so,n(o)),t(o,"seedChooserOn",co,n(o)),t(o,"seedChooserOff",ho,n(o)),t(o,"letsRock",yo,n(o)),t(o,"butterOn",fo,n(o)),t(o,"tombBreak",So,n(o)),t(o,"tombRiseHeavy",bo,n(o)),t(o,"lavaIdle",mo,n(o)),o.lavaIdleCooldown=0,t(o,"locateSound",wo,n(o)),t(o,"sniperPlantCancelSound",go,n(o)),o.audioSource=void 0,t(o,"zombieChew",vo,n(o)),o.zombieChewCoolDown=0,t(o,"empSpark",Co,n(o)),o.empSparkCoolDown=0,t(o,"zombieGulp",zo,n(o)),o.zombieGulpCoolDown=1,t(o,"armorHitPlastic",Fo,n(o)),t(o,"armorHitShield",Po,n(o)),t(o,"conveyorArrive",Ro,n(o)),t(o,"pause",Oo,n(o)),t(o,"worldMapStart",ko,n(o)),t(o,"sandStormWarn",Do,n(o)),t(o,"readyOrSet",Ao,n(o)),t(o,"powerUpEnd",Wo,n(o)),t(o,"powerUpCD",Lo,n(o)),t(o,"powerUpSnowStart",Ho,n(o)),t(o,"powerUpCherryStart",To,n(o)),t(o,"birdExpl",Xo,n(o)),t(o,"gemSpawn",Vo,n(o)),t(o,"zombieFart",Uo,n(o)),t(o,"levelTaskComplete",Bo,n(o)),t(o,"levelTaskFail",Eo,n(o)),t(o,"levelTaskWarn",Mo,n(o)),o}i(o,e);var a=o.prototype;return a.playPlantFoodStart=function(){No.play(this.plantFoodStart,1,.1)},a.playZombieLie=function(){this.play(c.getRandom(this.zombieLie),1,.2)},a.playZombieLimbPop=function(){this.play(this.zombieLimbPop)},a.playSeaSplash=function(){this.audioSource.playOneShot(this.seaSplash,s.SoundFXVolume)},a.playWaterSplash=function(){this.audioSource.playOneShot(c.getRandom(this.waterSplash),s.SoundFXVolume)},a.playZombossHPFilling=function(){this.audioSource.playOneShot(c.getRandom(this.zombossHPFilling),s.SoundFXVolume)},a.playZombossHPFillStart=function(){this.audioSource.playOneShot(this.zombossHPFillStart,s.SoundFXVolume)},a.playCardChooseFailed=function(e){void 0===e&&(e=!1),(!e||this.cardChooseFailedCD<=0)&&(this.audioSource.playOneShot(this.cardChooseFailed,s.SoundFXVolume),this.cardChooseFailedCD=.5)},a.playCardChosen=function(){No.play(this.cardChosen,1,.02)},a.playCardCancel=function(){this.audioSource.playOneShot(this.cardCancel,s.SoundFXVolume)},a.playRightButtonCancel=function(){No.play(this.rightButtonCancel,1,0)},a.playShovelActive=function(){this.audioSource.playOneShot(this.shovelActive,s.SoundFXVolume)},a.playSpeedUp=function(){1==h?this.audioSource.playOneShot(this.speedLower,s.SoundFXVolume):this.audioSource.playOneShot(this.speedUp,s.SoundFXVolume)},a.playShovelDig=function(){No.play(c.getRandom(this.shovelDig),1,.1)},a.playPlantThrow=function(){No.play(c.getRandom(this.plantThrow),1,.1)},a.playShovelDigWater=function(){No.play(c.getRandom(this.shovelDigWater),1,.1)},a.playPlantOnWater=function(){No.play(c.getRandom(this.plantOnWater),1,.1)},a.playPlantOnFloor=function(){No.play(c.getRandom(this.plantOnFloor),1,.1)},a.playTileShadowSpawn=function(){this.play(c.getRandom(this.tileShadowSpawn))},a.update=function(e){this.empSparkCoolDown>0&&(this.empSparkCoolDown-=e),this.empSparkCoolDown<0&&(this.empSparkCoolDown=0),this.cardChooseFailedCD>0&&(this.cardChooseFailedCD-=e),this.cardChooseFailedCD<0&&(this.cardChooseFailedCD=0),this.dirtRiseCooldown>0&&(this.dirtRiseCooldown-=e),this.dirtRiseCooldown<0&&(this.dirtRiseCooldown=0),this.zombieChewCoolDown>0&&(this.zombieChewCoolDown-=e),this.zombieChewCoolDown<0&&(this.zombieChewCoolDown=0),this.lavaIdleCooldown>0&&(this.lavaIdleCooldown-=e),this.lavaIdleCooldown<0&&(this.lavaIdleCooldown=0)},a.playOneShot=function(e,o){this.audioSource.playOneShot(e,s.SoundFXVolume*o)},a.lateUpdate=function(e){var o=this;this.tickPlaySounds.forEach((function(e){e&&o.playOneShot(e.clip,e.volume)})),this.tickPlaySounds=[],this.coolingDownSounds.concat().forEach((function(i){if(i.cooldown>0&&(i.cooldown-=e),i.cooldown<=0){var t=o.coolingDownSounds.indexOf(i);-1!=t&&o.coolingDownSounds.splice(t,1)}})),this.tickPlaySoundArrays.forEach((function(e){e&&o.playOneShot(c.getRandom(e.clips),e.volume)})),this.tickPlaySoundArrays=[],this.coolingDownSoundArrays.concat().forEach((function(i){if(i.cooldown>0&&(i.cooldown-=e),i.cooldown<=0){var t=o.coolingDownSoundArrays.indexOf(i);-1!=t&&o.coolingDownSoundArrays.splice(t,1)}}))},a.playLevelExit=function(){No.play(this.levelExit)},a.playZombieShock=function(e){void 0===e&&(e=!1),this.audioSource.playOneShot(c.getRandom(e?this.gargantuarShock:this.zombieShock),s.SoundFXVolume)},a.playGargantuarAsh=function(){No.play(this.gargantuarAsh)},a.playDirtRise=function(e,o){void 0===o&&(o=!0),(this.dirtRiseCooldown<=0||!o)&&(this.audioSource.playOneShot(c.getRandom(e?this.dirtRiseHeavy:this.dirtRise),s.SoundFXVolume),this.dirtRiseCooldown=1)},a.playTombRiseMagical=function(){this.audioSource.playOneShot(c.getRandom(this.tombRiseMagical),s.SoundFXVolume)},a.playSpudow=function(){this.audioSource.playOneShot(c.getRandom(this.spudow),s.SoundFXVolume)},a.playExplosion=function(){this.audioSource.playOneShot(c.getRandom(this.explosion),s.SoundFXVolume)},a.playPlantStrengthen=function(){No.play(this.plantStrengthen,2,.1)},a.playCameraMove=function(){this.audioSource.playOneShot(this.cameraMove,s.SoundFXVolume)},a.playPlantBurn=function(){this.play(this.plantBurn)},a.playAwooga=function(){No.play(this.awooga,1,0)},a.playHugeWave=function(){No.play(this.hugeWave,1,0)},a.playFinalWave=function(){No.play(this.finalWave,1,0)},a.playReadySetPlant=function(){No.play(this.readySetPlant,1,0)},a.playSeedChooserOn=function(){No.play(this.seedChooserOn,1,0)},a.playSeedChooserOff=function(){No.play(this.seedChooserOff,1,0)},a.playLetsRock=function(){No.play(this.letsRock,1,0)},a.playButterOn=function(){this.play(c.getRandom(this.butterOn))},a.playTombBreak=function(){this.play(c.getRandom(this.tombBreak))},a.playTombRiseHeavy=function(){this.play(this.tombRiseHeavy,1,.1)},a.playLavaIdle=function(){this.lavaIdleCooldown<=0&&(this.audioSource.playOneShot(c.getRandom(this.lavaIdle),s.SoundFXVolume),this.lavaIdleCooldown=5*Math.random()+2.5)},a.playLocateSound=function(){this.audioSource.playOneShot(this.locateSound,s.SoundFXVolume)},a.playSniperPlantCancelSound=function(){this.audioSource.playOneShot(this.sniperPlantCancelSound,s.SoundFXVolume)},a.onLoad=function(){No.sr=this,this.getComponent(u)||this.addComponent(u),this.audioSource=this.getComponent(u),this.audioSources=[this.audioSource0]},a.playzombieChew=function(e){if(void 0===e&&(e=[]),0==this.zombieChewCoolDown){var o=c.getRandom(e);o||(o=c.getRandom(this.zombieChew)),this.audioSource.playOneShot(o,s.SoundFXVolume),this.zombieChewCoolDown=.5}},a.playEmpSpark=function(){if(0==this.empSparkCoolDown){var e=c.getRandom(this.empSpark);this.audioSource.playOneShot(e,s.SoundFXVolume),this.empSparkCoolDown=.4*Math.random()}},a.playZombieGulp=function(){this.play(c.getRandom(this.zombieGulp))},a.playArmorHitPlastic=function(){this.play(c.getRandom(this.armorHitPlastic))},a.playArmorHitShield=function(){this.play(c.getRandom(this.armorHitShield))},a.playConveyorArrive=function(){this.audioSource.playOneShot(this.conveyorArrive,s.SoundFXVolume)},a.playPause=function(){this.audioSource.playOneShot(this.pause,s.SoundFXVolume)},a.playWorldMapStart=function(){this.audioSource.playOneShot(this.worldMapStart,s.SoundFXVolume)},a.playSandStormWarn=function(){this.audioSource.playOneShot(this.sandStormWarn,s.SoundFXVolume)},a.playReadyOrSet=function(){this.audioSource.playOneShot(this.readyOrSet,s.SoundFXVolume)},a.playPowerUpCD=function(e){if(e<=0)this.audioSource.playOneShot(this.powerUpEnd,s.SoundFXVolume);else if(this.powerUpCD.length>0){var o=Math.ceil(e*(this.powerUpCD.length-1));No.play(this.powerUpCD[this.powerUpCD.length-1-o],s.SoundFXVolume)}},a.playPowerUpStart=function(e){switch(e){case 1:this.audioSource.playOneShot(this.powerUpSnowStart,s.SoundFXVolume);break;case 4:this.audioSource.playOneShot(this.powerUpCherryStart,s.SoundFXVolume)}},a.playBirdExpl=function(){this.play(c.getRandom(this.birdExpl))},a.playGemSpawn=function(){this.audioSource.playOneShot(this.gemSpawn,s.SoundFXVolume)},a.playZombieFart=function(){this.audioSource.playOneShot(this.zombieFart,s.SoundFXVolume)},a.playLevelTaskComplete=function(){No.play(this.levelTaskComplete,1,.02)},a.playLevelTaskFail=function(){No.play(this.levelTaskFail,1,.02)},a.playLevelTaskWarn=function(){No.play(this.levelTaskWarn,1,.5)},a.play=function(e,o,i,t){if(void 0===o&&(o=1),void 0===i&&(i=NaN),void 0===t&&(t=.5),e&&isNaN(i)&&(i=e.getDuration()*t),e){for(var n=0;n<this.coolingDownSounds.length;n++)if(this.coolingDownSounds[n].clip==e)return;for(var a=0;a<this.tickPlaySounds.length;a++)if(this.tickPlaySounds[a].clip==e)return void(this.tickPlaySounds[a].volume=Math.min(1,this.tickPlaySounds[a].volume+o));i<0&&(i=0);var l=new Io(e,o,i);this.tickPlaySounds.push(l),i>0&&this.coolingDownSounds.push(l)}},a.playArray=function(e,o,i,t){if(void 0===o&&(o=1),void 0===i&&(i=NaN),void 0===t&&(t=.5),null!=e&&e.length&&isNaN(i)&&(i=e[0].getDuration()*t),null!=e&&e.length){for(var n=0;n<this.coolingDownSoundArrays.length;n++)if(c.judgeSame(this.coolingDownSoundArrays[n].clips,e))return;for(var a=0;a<this.tickPlaySoundArrays.length;a++)if(c.judgeSame(this.tickPlaySoundArrays[a].clips,e))return void(this.tickPlaySoundArrays[a].volume=Math.min(1,this.tickPlaySoundArrays[a].volume+o));i<=0&&(i=0);var l=new Go(e,o,i);this.tickPlaySoundArrays.push(l),i>0&&this.coolingDownSoundArrays.push(l)}},o}(p)).prototype,"plantFoodStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=o(Oe.prototype,"zombieLie",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=o(Oe.prototype,"zombieLimbPop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=o(Oe.prototype,"seaSplash",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=o(Oe.prototype,"waterSplash",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=o(Oe.prototype,"zombossHPFilling",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=o(Oe.prototype,"zombossHPFillStart",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=o(Oe.prototype,"cardChooseFailed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=o(Oe.prototype,"cardChosen",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=o(Oe.prototype,"cardCancel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=o(Oe.prototype,"rightButtonCancel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=o(Oe.prototype,"shovelActive",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=o(Oe.prototype,"speedUp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=o(Oe.prototype,"speedLower",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=o(Oe.prototype,"shovelDig",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=o(Oe.prototype,"plantThrow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=o(Oe.prototype,"shovelDigWater",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=o(Oe.prototype,"plantOnWater",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=o(Oe.prototype,"plantOnFloor",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=o(Oe.prototype,"tileShadowSpawn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=o(Oe.prototype,"audioSource0",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=o(Oe.prototype,"levelExit",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=o(Oe.prototype,"zombieShock",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=o(Oe.prototype,"gargantuarShock",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=o(Oe.prototype,"gargantuarAsh",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=o(Oe.prototype,"dirtRise",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),eo=o(Oe.prototype,"dirtRiseHeavy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oo=o(Oe.prototype,"tombRiseMagical",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),io=o(Oe.prototype,"spudow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),to=o(Oe.prototype,"explosion",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),no=o(Oe.prototype,"plantStrengthen",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ao=o(Oe.prototype,"cameraMove",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lo=o(Oe.prototype,"plantBurn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ro=o(Oe.prototype,"awooga",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uo=o(Oe.prototype,"hugeWave",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),po=o(Oe.prototype,"finalWave",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),so=o(Oe.prototype,"readySetPlant",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),co=o(Oe.prototype,"seedChooserOn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ho=o(Oe.prototype,"seedChooserOff",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yo=o(Oe.prototype,"letsRock",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fo=o(Oe.prototype,"butterOn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),So=o(Oe.prototype,"tombBreak",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bo=o(Oe.prototype,"tombRiseHeavy",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mo=o(Oe.prototype,"lavaIdle",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wo=o(Oe.prototype,"locateSound",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),go=o(Oe.prototype,"sniperPlantCancelSound",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vo=o(Oe.prototype,"zombieChew",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Co=o(Oe.prototype,"empSpark",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zo=o(Oe.prototype,"zombieGulp",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fo=o(Oe.prototype,"armorHitPlastic",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Po=o(Oe.prototype,"armorHitShield",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ro=o(Oe.prototype,"conveyorArrive",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=o(Oe.prototype,"pause",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ko=o(Oe.prototype,"worldMapStart",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=o(Oe.prototype,"sandStormWarn",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=o(Oe.prototype,"readyOrSet",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=o(Oe.prototype,"powerUpEnd",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=o(Oe.prototype,"powerUpCD",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ho=o(Oe.prototype,"powerUpSnowStart",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To=o(Oe.prototype,"powerUpCherryStart",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=o(Oe.prototype,"birdExpl",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vo=o(Oe.prototype,"gemSpawn",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=o(Oe.prototype,"zombieFart",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=o(Oe.prototype,"levelTaskComplete",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=o(Oe.prototype,"levelTaskFail",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=o(Oe.prototype,"levelTaskWarn",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=Oe))||Re));a._RF.pop()}}}));

System.register("chunks:///_virtual/SoundsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SettingWindow.ts"],(function(n){var t,o,u,i,s,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,u=n._decorator,i=n.find},function(n){s=n.SoundManager},function(n){e=n.Setting}],execute:function(){o._RF.push({},"48b91/HEXVLkrHSK09gtryZ","SoundsController",void 0);u.ccclass,u.property;var c=function(){function n(){}return n.Instance=function(){return n.instance||(n.instance=new n),n.instance},n}();c.instance=void 0,c.totalVolume=1,n("SoundFXController",function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.setSoundFxVolume=function(n){this.SoundFXVolume=n*this.totalVolume,e.saveSettings()},o}(c)).SoundFXVolume=1;var r=n("MusicController",function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.soundManager=function(){return s.component?s.component:i("Resources/Music").getComponent(s)},o.insertMusic=function(n){this.soundManager().insertMusic(n)},o.playMusic=function(n,t){void 0===t&&(t=!1),this.soundManager().playBGM(n,t)},o.switchMusic=function(n,t){this.soundManager().switchMusic(n,t)},o.switchWorldMusic=function(n){this.soundManager().switchWorldMusic(n)},o.switchMusicSort=function(n,t,o,u){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===u&&(u=!0),this.soundManager().switchMusicSort(n,t,o,u)},o.pauseMusic=function(){this.soundManager().pauseBGM()},o.resumeMusic=function(){this.soundManager().resumeBGM()},o.setMusicVolume=function(n){this.MusicVolume=n*this.totalVolume,e.saveSettings()},o}(c));r.discoPlayed=!1,r.MusicVolume=1,r._volumeScalePause=1,o._RF.pop()}}}));

System.register("chunks:///_virtual/Spikerock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spikeweed.ts"],(function(e){var t,i,s,n,a,p;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator},function(e){n=e.spikeweed,a=e.SpikeweedPlant,p=e.SpikeweedProps}],execute:function(){var o;i._RF.push({},"41857lcip1ILqlkdZGd44Ij","Spikerock",void 0);var l=s.ccclass,r=(s.property,function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).MaxSpike=3,t}return t(i,e),i}(p));e("SpikerockPlant",l("SpikerockPlant")(o=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).spikeLeft=3,t._objdataOwn=new r,t}t(i,e);var s=i.prototype;return s.normalSmash=function(e){var t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale),n.stabOnZombie(null,e,t),this.fooding||this.invincible||this.setSpikeSlot(this.spikeLeft-1)},s.specialSpikeweedOnEnable=function(){this.setSpikeSlot()},s.specialSpikeweedFood=function(){this.setSpikeSlot()},s.replantable=function(){return this.spikeLeft<this._objdataOwn.MaxSpike},s.replant=function(){this.setSpikeSlot(this._objdataOwn.MaxSpike)},s.setSpikeSlot=function(e){void 0===e&&(e=this._objdataOwn.MaxSpike);var t,i=this.anmControl.body.armature();switch(e){case 2:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(0),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=2;break;case 1:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(-1),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=1;break;case 0:i.getSlot("spikeL")._setDisplayIndex(-1),i.getSlot("spikeM")._setDisplayIndex(-1),i.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=0,this.die();break;default:i.getSlot("spikeL")._setDisplayIndex(0),i.getSlot("spikeM")._setDisplayIndex(0),i.getSlot("spikeR")._setDisplayIndex(0),this.spikeLeft=3}this.dead||(null==(t=this.plantInLnC)||t.readIndex())},i}(a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/Spikeweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Zombie.ts","./LnC.ts","./Square.ts","./NodePools.ts","./Zombies.ts","./SoundRescourses.ts"],(function(t){var n,e,o,i,a,s,r,l,c,d,u,f,p,h,b,m,S,y,g,P;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.AudioClip,l=t.Prefab,c=t.Vec2,d=t.Vec3,u=t.dragonBones},function(t){f=t.PlantProps,p=t.Plant},function(t){h=t.Rectangle},function(t){b=t.zombieDamageType},function(t){m=t.TileType},function(t){S=t.Square},function(t){y=t.NodePools},function(t){g=t.ZombieEnum},function(t){P=t.sounds}],execute:function(){var k,w,D,_,v,O,A,C,E,R,L,j,Z,z,F,x;a._RF.push({},"4a5dc2VkfZMjLpTKsKE4QSn","Spikeweed",void 0);var T=s.ccclass,q=s.property,I=t("spikeweed",function(){function t(){}return t.stabOnZombie=function(t,n,e){switch(null==n?void 0:n.ID){case g.modern_sleighCart:n.body.DeathAnm=Math.random()>.3?"Death":"Lie";case g.pirate_barrel:case g.cowboy_piano:case g.modern_catapult:null==n||n.playDie(),null==t||t.normalSmash(n);break;default:null==n||n.dealDamage(e,!0,!1,!0,null,b.physicle)}},t}()),M=t("SpikeweedProps",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).Damage=10,n.AttackInterval=.5,n.PlantfoodDuration=5,n.PlantfoodDPS=400,n.PlantfoodSideDPS=20,n.PlantfoodDragSPS=3,n}return n(e,t),e}(f)),B=t("spikeweedSound",(k=T("spikeweedSound"),w=q([r]),D=q([r]),_=q([r]),k((A=e((O=function(){function t(){o(this,"attackSound",A,this),o(this,"foodSound",C,this),o(this,"foodEndSound",E,this)}var n=t.prototype;return n.playAttackSound=function(){P.playArray(this.attackSound,1,.2)},n.playFoodSound=function(){P.playArray(this.foodSound,1,.1)},n.playFoodEndSound=function(){P.playArray(this.foodEndSound,1,.1)},t}()).prototype,"attackSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(O.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(O.prototype,"foodEndSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=O))||v));t("SpikeweedPlant",(R=T("SpikeweedPlant"),L=q(l),j=q(B),R((F=e((z=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new M,o(n,"pfSpikeParticle",F,i(n)),n.detector=h.createRectangleCenter(new c(2,2),2,2),o(n,"soundRes",x,i(n)),n.foodSpikes=[],n.attacking=!1,n.busy=0,n}n(e,t);var a=e.prototype;return a.animationListener=function(t){var n=this;"attack"==t.name&&(this.inLane.zombiePool().forEach((function(t){if(!t.flying&&t.bodyRec.judgeCrossRec(n.detector)){var e=n._objdataOwn.Damage;n._dmgScale&&(e*=n._dmgScale),n.damageOnZombie(t,e)}})),this.attacking=!1)},a.setDetector=function(t){this.detector=h.createRectangleNodeCenter(t.node,S.SquareDisW,S.SquareDisH)},a.specialPlantOnSquareChange=function(t,n){this.setDetector(n)},a.specialSpikeweedFood=function(){},a.specialPlantFood=function(t){this.foodSpikes=[],this.anmControl.playAnimation("Food",1/0),this.scheduleOnce(this.foodEnd,this._objdataOwn.PlantfoodDuration),this.soundRes.playFoodSound();for(var n=0;n<=8;n++){var e=S.getLnC(this.inLnC.lIndex,n);if(e&&e!=this.inLnC&&(e.getTileType()==m.deck||e.getTileType()==m.floor)){var o=y.instantiatePooly(this.pfSpikeParticle);o.parent=e.inLane.prjLayer,o.worldPosition=new d(e.plantPoint.worldPosition.x,e.inLane.floorY-5,10),o.getComponent(u.ArmatureDisplay).playAnimation("Idle"),this.foodSpikes.push(o.getComponent(u.ArmatureDisplay))}}this.specialSpikeweedFood()},a.specialPlantFoodEnd=function(){this.foodSpikes.forEach((function(t){t.playAnimation("Die")})),this.foodSpikes=[],this.anmControl.playRandom(),this.soundRes.playFoodEndSound()},a.attackAnimation=function(){this.attacking=!0,this.soundRes.playAttackSound(),this.anmControl.playAnimation("Attack",1,0,Math.max(1,.5/this.busy))},a.specialPlantOnEaten=function(t,n,e,o){I.stabOnZombie(this,n,.05*t)},a.detectZombie=function(){var t=this,n=!1;return this.inLane.zombiePool().forEach((function(e){n||!e.flying&&t.detector.judgeCrossRec(e.bodyRec)&&(n=!0)})),n},a.specialPlantUpdate=function(t){var n=this;if(this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,!this.fooding&&this.detectZombie())){var e=this._objdataOwn.AttackInterval;this._cdScale&&(e*=this._cdScale),e=Math.max(.1,e),this.busy=e,this.attackAnimation()}if(this.fooding){var o=this._objdataOwn.PlantfoodSideDPS*t,i=this._objdataOwn.PlantfoodDPS*t;this._dmgScale&&(i*=this._dmgScale,o*=this._dmgScale),this.inLane.zombiePool().forEach((function(e){if(!e.flying)if(e.stun(.2),n.damageOnZombie(e,o),e.bodyRec.judgeCrossRec(n.detector))n.damageOnZombie(e,i);else if(e.knockBackable){var a=n._objdataOwn.PlantfoodDragSPS*t*S.SquareDisW;e.node.worldPosition.x>n.node.worldPosition.x?e.worldPositionX-=a:e.node.worldPosition.x<=n.node.worldPosition.x&&(e.worldPositionX+=a)}})),this.inLane.tombPool().forEach((function(t){t.dealDamage(o)}))}},a.specialSpikeweedOnEnable=function(){},a.specialPlantOnEnable=function(){this.busy=0,this.eaterDetectable=!1,this.attacking=!1,this.foodSpikes=[],this.specialSpikeweedOnEnable()},a.waterable=function(){return!this.attacking},a.normalSmash=function(t){var n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale),I.stabOnZombie(null,t,n),this.fooding||this.invincible||this.die()},a.damageOnZombie=function(t,n){I.stabOnZombie(this,t,n)},e}(p)).prototype,"pfSpikeParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),Z=z))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/splashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingWindow.ts","./MultiLanguage.ts","./NodePools.ts","./SoundManager.ts"],(function(e){var r,s,o,n,t,i,a,l,c,g,u,d,f,p,P,b,S,L,h,y,m,R;return{setters:[function(e){r=e.applyDecoratedDescriptor,s=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){t=e.cclegacy,i=e._decorator,a=e.JsonAsset,l=e.ProgressBar,c=e.Label,g=e.Node,u=e.Color,d=e.tween,f=e.resources,p=e.Prefab,P=e.director,b=e.Sprite,S=e.Component},function(e){L=e.Setting,h=e.SettingWindow},function(e){y=e.MultiLanguage},function(e){m=e.ArrayGet},function(e){R=e.SoundManager}],execute:function(){var v,_,C,w,M,N,B,F,z,D,G,j,J;t._RF.push({},"6ca297FSrxEoo6+4c+jGGKn","splashScene",void 0);var W=i.ccclass,Z=i.property;e("splashScene",(v=W("splashScene"),_=Z(a),C=Z(l),w=Z(c),M=Z([g]),N=Z(a),v((z=r((F=function(e){function r(){for(var r,s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return r=e.call.apply(e,[this].concat(t))||this,o(r,"lyrics",z,n(r)),r.screenColor=new u(0,0,0,255),o(r,"loadProgressBar",D,n(r)),o(r,"loadProgressLabel",G,n(r)),o(r,"fireNodes",j,n(r)),o(r,"musicFeaturesJson",J,n(r)),r}s(r,e);var t=r.prototype;return t.onLoad=function(){y.lyrics=this.lyrics.json;var e=L.getSettings();y.currentLanguage=isNaN(e.Language)?0:e.Language,null==h.defaultResolution&&(h.defaultResolution=h.getDefaultResolution())},t.setProgress=function(e,r){if(void 0===r&&(r=.2),this.loadProgressBar){var s=e/12;r>0?d(this.loadProgressBar).to(r,{progress:s}).start():this.loadProgressBar.progress=s}},t.loadRes=function(){var e,r=this;null!=(e=R.musicFeatures)&&e.length||(R.musicFeatures=this.musicFeaturesJson.json.Musics),this.setProgress(0,0),this.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Materials,!1),f.load("resouce_prefabs/MaterialsRP",p,(function(e,s){r.setProgress(1),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Plants,!1),f.load("resouce_prefabs/PlantsRP",p,(function(e,s){r.setProgress(2),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Zombies,!1),f.load("resouce_prefabs/ZombiesRP",p,(function(e,s){r.setProgress(3),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Musics,!1),f.load("resouce_prefabs/MusicRP",p,(function(e,s){r.setProgress(4),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.SFXs,!1),f.load("resouce_prefabs/SoundsRP",p,(function(e,s){r.setProgress(5),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Levels,!1),f.load("resouce_prefabs/LevelNodesRP",p,(function(e,s){r.setProgress(6),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Droppings,!1),f.load("resouce_prefabs/DroppingsRP",p,(function(e,s){r.setProgress(7),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Trophies,!1),f.load("resouce_prefabs/TrophiesRP",p,(function(e,s){r.setProgress(8),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Particles,!1),f.load("resouce_prefabs/ParticlesRP",p,(function(e,s){r.setProgress(9),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Worldmaps,!1),f.load("resouce_prefabs/WorldMapsRP",p,(function(e,s){r.setProgress(10),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.ZenGarden,!1),f.load("resouce_prefabs/ZenGardenRP",(function(e,s){r.setProgress(11),r.loadProgressLabel.string=y.getString(y.lyrics.LoadingScene.Others,!1),f.load("resouce_prefabs/ScenesRP",p,(function(e,s){r.setProgress(12),P.loadScene("mainScene")}))}))}))}))}))}))}))}))}))}))}))}))},t.start=function(){var e=this;this.screenColor=new u(0,0,0,255),this.node.getChildByName("ScreenCover").getComponent(b).color=this.screenColor,d(this.screenColor).to(1.33,{a:0}).call((function(){e.loadRes()})).start(),this.fireNodes[0]&&(m.getRandom(this.fireNodes).active=!0)},t.update=function(e){this.node.getChildByName("ScreenCover").getComponent(b).color=this.screenColor},r}(S)).prototype,"lyrics",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(F.prototype,"loadProgressBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=r(F.prototype,"loadProgressLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=r(F.prototype,"fireNodes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=r(F.prototype,"musicFeaturesJson",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=F))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/SplitPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts"],(function(t){var o,a,e,n,i,r,s,c,h,l,u,f,d,p,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.CCInteger,h=t.Prefab,l=t.tween,u=t.Vec2},function(t){f=t.PeashooterPlant,d=t.PeashooterProps},function(t){p=t.Square},function(t){P=t.Rectangle}],execute:function(){var y,C,_,S,b,g,m;r._RF.push({},"5cfcasdZnJG5Kr0DBCWOIf5","SplitPea",void 0);var v=s.ccclass,B=s.property,k=function(t){function o(){for(var o,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).PlantfoodPeaCountBack=90,o}return a(o,t),o}(d);t("SplitPeaPlant",(y=v("SplitPeaPlant"),C=B(c),_=B(h),y((g=o((b=function(t){function o(){for(var o,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this)._foodLeftBackPeaCount=0,e(o,"foodBackPeaMaxCount",g,n(o)),o._objdataOwn=new k,e(o,"peaMega",m,n(o)),o}a(o,t);var r=o.prototype;return r.animationListenerAdd=function(t){"ShootL"==t.name?this.fooding?(this._shootBack(!1,!1,this.peaMega),this.soundRes.playShootMega(),this.foodEnd()):this._shootBack(!1,!1):"ShootR"==t.name&&this._shoot()},r._shootBack=function(t,o,a){void 0===a&&(a=this.pea);var e=this._shoot(t,o,a);e.linearVelocity.x*=-1,e.worldPositionX-=50},r.foodShooting=function(){var t=this;this._foodLeftBackPeaCount=this._objdataOwn.PlantfoodPeaCountBack,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount,l(this).to(2,{foodLeftPeaCount:0,foodLeftBackPeaCount:0}).call((function(){t.anmControl.playAnimation("ShootL",1)})).start()},r.setDetecter=function(t,o){var a=p.lawnRec.prjX();this.detector=P.createRectangleCenter(new u((a.x+a.y)/2,o.node.worldPosition.y),11*p.SquareDisW,p.SquareDisH)},r.detectEnemySplit=function(){var t=this,o=0;return[].concat(this.inLane.zombiePool(),this.inLane.tombPool()).forEach((function(a){if(!(o>=3)&&a.bodyRec.judgeCrossRec(t.detector)){var e=a.bodyRec.prjX();if(1!=o&&e.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&e.x<=t._worldPositionX&&(o+=2)}})),o},r.specialPlantUpdate=function(t){if(this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding){var o=this.detectEnemySplit();if(o>0){this.shooting=!0;var a=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(a*=this._cdScale),this.busy=a;var e=Math.max(1,1.1/this.busy);1==o&&this.anmControl.playAnimation("ShootR",1,.1,e),2==o&&this.anmControl.playAnimation("ShootL",1,.1,e),3==o&&this.anmControl.playAnimation("ShootB",1,.1,e)}}},i(o,[{key:"foodLeftBackPeaCount",get:function(){return this._foodLeftBackPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftBackPeaCount)-Math.floor(t),a=0;a<o;a++)this._shootBack(!0,!0);this._foodLeftBackPeaCount=t}}]),o}(f)).prototype,"foodBackPeaMaxCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),m=o(b.prototype,"peaMega",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=b))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpringBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,s,r,l,c,u,d,h,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.AudioClip,l=e.Vec2},function(e){c=e.Plant,u=e.PlantProps},function(e){d=e.Rectangle,h=e.ZombiePool},function(e){p=e.Square},function(e){y=e.sounds}],execute:function(){var f,b,m,S,g,R,w,D,L,v,A,B,C,P,_,E,k,z;a._RF.push({},"a736bTbuoxA64KEceTSlBIx","SpringBean",void 0);var F=s.ccclass,I=s.property,O=(f=F("springbeanSound"),b=I(r),m=I(r),S=I(r),g=I(r),R=I(r),f((L=n((D=function(){function e(){i(this,"foodSound",L,this),i(this,"foodLeapSound",v,this),i(this,"foodBounceSound",A,this),i(this,"bounceSound",B,this),i(this,"readySound",C,this)}var n=e.prototype;return n.playFoodSound=function(){y.play(this.foodSound,1,.1)},n.playFoodLeapSound=function(){y.play(this.foodLeapSound,1,.1)},n.playFoodBounceSound=function(){y.play(this.foodBounceSound,1,.1)},n.playBounceSound=function(){y.play(this.bounceSound,1,.1)},n.playReadySound=function(){y.play(this.readySound,1,.1)},e}()).prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(D.prototype,"foodLeapSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(D.prototype,"foodBounceSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(D.prototype,"bounceSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(D.prototype,"readySound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w),q=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).KnockbackDistance=1,n.RestTime=7,n}return t(n,e),n}(u);e("SpringBean",(P=F("SpringBean"),_=I(O),P((z=n((k=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new q,i(n,"soundRes",z,o(n)),n.readyDetector=void 0,n.bounceDetector=void 0,n.switching=!1,n.ready=!1,n.asleep=0,n}t(n,e);var a=n.prototype;return a.dealLeapOnZombie=function(e){var n,t,i,o;e.leapable&&((null==(n=e.inLane)||!n.isSea)&&e.inLnC.cIndex>=4&&null!=(t=e.inLane.UpperLane)&&t.isSea?e.leapBy(new l(1,-1)):(null==(i=e.inLane)||!i.isSea)&&e.inLnC.cIndex>=4&&null!=(o=e.inLane.LowerLane)&&o.isSea?e.leapBy(new l(1,1)):e.leapBy(new l(this._objdataOwn.KnockbackDistance,0),!0,.5,27,!0,!0))},a.setDetector=function(e){this.readyDetector=d.createRectangleNodeCenter(e.node,3*p.SquareDisW,p.SquareDisH),this.bounceDetector=d.createRectangleNodeCenter(e.node,p.SquareDisW,p.SquareDisH)},a.setAnimation=function(e){void 0===e&&(e=0);var n=this.anmControl;1==e?(n.IdleAnim="Idle_Ready",n.RandomAnim=["Random_Ready"]):2==e?(n.IdleAnim="Sleep",n.RandomAnim=[]):(n.IdleAnim="Idle",n.RandomAnim=["Random"])},a.animationListener=function(e){var n=this;switch(e.name){case"sleep":this.damagable=!0,this.short_=!1,this.asleep=this._objdataOwn.RestTime;break;case"foodBounce":h.pool().forEach((function(e){e.flying||n.dealLeapOnZombie(e)})),this.soundRes.playFoodBounceSound();break;case"foodLeap":this.soundRes.playFoodLeapSound();break;case"ready":this.ready=!0,this.switching=!1;break;case"recover":this.switching=!1;break;case"foodEnd":this.foodEnd()}},a.specialPlantFood=function(e){this.setAnimation(),this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.ready=!1,this.asleep=0,this.switching=!1,this.damagable=!0},a.getReady=function(){this.damagable=!1,this.short_=!0,this.switching=!0,this.soundRes.playReadySound(),this.anmControl.playAnimation("Ready",1),this.setAnimation(1),this.eaterDetectable=!1,this.smasherDetectable=!1},a.recover=function(){this.ready=!1,this.switching=!0,this.short_=!1,this.damagable=!0,this.anmControl.playAnimation("Recover",1),this.setAnimation(),this.asleep=0,this.eaterDetectable=!0,this.smasherDetectable=!0},a.bounce=function(){this.asleep=1/0,this.soundRes.playBounceSound(),this.anmControl.playAnimation("Bounce",1),this.setAnimation(2),this.eaterDetectable=!0,this.smasherDetectable=!0},a.specialPlantOnEnable=function(){this.setAnimation(),this.anmControl.playRandom(),this.ready=!1,this.switching=!1,this.asleep=0},a.detectReadyEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.bodyRec.judgeCrossRec(n.readyDetector)&&(t=!0)})),t&&!this.ready?this.getReady():!t&&this.ready&&this.recover()},a.detectBounceEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.flying||!e.leapable||e.bodyRec.judgeCrossRec(n.bounceDetector)&&(n.dealLeapOnZombie(e),t=!0,n.bounce())}))},a.waterable=function(){return!this.asleep&&!this.ready&&!this.switching},a.specialPlantUpdate=function(e){this.asleep>0&&(this.asleep-=e,this.asleep<=0&&(this.asleep=0,this.recover())),!this.switching&&!this.fooding&&this.asleep<=0&&(this.detectReadyEnemy(),this.ready&&this.detectBounceEnemy())},a.specialPlantOnSquareChange=function(e,n){this.setDetector(n)},n}(c)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),E=k))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/Square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./UI.ts","./LnCLower.ts","./NodePools.ts","./FrontYard.ts","./Lane.ts","./CharacterManager.ts","./Mouse.ts","./levelController.ts","./Zombie.ts","./LevelTaskCount.ts","./SoundsController.ts","./foodLinkTile.ts","./Tiles.ts","./Particles.ts","./zombossMissileLocatorFree.ts"],(function(e){var n,t,i,o,r,a,l,s,u,c,h,d,g,f,m,L,C,p,S,v,w,q,y,P,b,I,x,D,E,H,R,A,N,z,_;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.UITransform,u=e.Node,c=e.AudioSource,h=e.Vec2,d=e.find,g=e.Vec3,f=e.instantiate,m=e.Size,L=e.Component},function(e){C=e.LnC},function(e){p=e.UIInGame},function(e){S=e.LnCLower},function(e){v=e.instantiatePooly},function(e){w=e.FrontYard},function(e){q=e.Lane},function(e){y=e.Rectangle,P=e.PlantPool},function(e){b=e.Mouse},function(e){I=e.LevelPlay},function(e){x=e.zombieDamageType},function(e){D=e.LevelTaskCountModeEnum},function(e){E=e.SoundFXController},function(e){H=e.judgeLitAll,R=e.judgeLitAllFalse},function(e){A=e.tiles,N=e.TileEnum},function(e){z=e.particle},function(e){_=e.zombossMissileLocatorFree}],execute:function(){var B,T,W,M,j,F,U,k,G,V,O,X,Y,Z,K,J,Q,$,ee,ne,te,ie;a._RF.push({},"3cbc1qLm3VDPKDOscw+4M6b","Square",void 0);var oe=l.ccclass,re=l.property;e("Square",(B=oe("Square"),T=re(s),W=re(s),M=re(u),j=re(C),F=re(C),U=re(C),k=re(C),G=re(C),V=re(c),B(((ie=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).laneAbstract=void 0,n.laneHere=void 0,n.laneThere=void 0,n.lanesInLawn=[],i(n,"selectCrossingV",Y,o(n)),i(n,"selectCrossingH",Z,o(n)),n.UIInGame=null,n.indexShovel=0,n.indexPF=0,i(n,"square00",K,o(n)),n.squares=[],n.inLawnLnCs=[],i(n,"LnCHere",J,o(n)),i(n,"LnCThere",Q,o(n)),i(n,"LnCLeft",$,o(n)),i(n,"LnCRight",ee,o(n)),i(n,"LnCAbstract",ne,o(n)),i(n,"ElectricLineLayer",te,o(n)),n.electricLineHitPar=void 0,n.electricHitCD=0,n}t(n,e),n.Square00WorldPosition=function(){return new h(this.Square00.worldPosition.x,this.Square00.worldPosition.y)},n.getSquareWorldPosition=function(e,n,t,i){return void 0===t&&(t=.5),void 0===i&&(i=.5),new h(this.Square00.worldPosition.x+n*this.SquareDisW+(t-.5)*this.SquareDisW,this.Square00.worldPosition.y-e*this.SquareDisH+(i-.5)*this.SquareDisH)},n.getSquare=function(e,n){if(e>=0&&e<=4){if(n>=0&&n<=8)return this.Square00.parent.getChildByName("Square"+e.toString()+n.toString());if(9==n)return this.Square00.parent.getChildByName("SquaresRight");if(-1==n)return this.Square00.parent.getChildByName("SquaresLeft")}else{if(5==e)return this.Square00.parent.getChildByName("SquaresHere");if(-1==e)return this.Square00.parent.getChildByName("SquaresThere")}return this.Square00.parent.getChildByName("SquaresAbstract")},n.getLnC=function(e,n){if(isNaN(e)||isNaN(n))return this.component.LnCAbstract;if(e>=0&&e<=4){if(n>=0&&n<=8)return this.component.inLawnLnCs[e][n];if(9==n)return this.component.LnCRight;if(-1==n)return this.component.LnCLeft}else{if(5==e)return this.component.LnCHere;if(-1==e)return this.component.LnCThere}return this.component.LnCAbstract},n.getAllLnC=function(){for(var e=[],t=0;t<=4;t++)for(var i=0;i<=8;i++)e.push(n.getLnC(t,i));return e},n.getRandomSquare=function(e,n,t,i){return void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===i&&(i=8),this.getRandomLnC(e,n,t,i).node},n.getRandomLnC=function(e,n,t,i){void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===i&&(i=8);var o=Math.floor(e);o<0&&(o=0),o>4&&(o=4);var r=Math.floor(n);r<0&&(r=0),r>4&&(r=4);var a=Math.floor(t);a<0&&(a=0),a>8&&(a=8);var l=Math.floor(i);l<0&&(l=0),l>8&&(l=8);var s=Math.floor(Math.random()*(r-o+1))+o,u=Math.floor(Math.random()*(l-a+1))+a;return this.getLnC(s,u)},n.getRandomSquares=function(e){for(var n=[];n.length<e&&n.length<45;){var t=this.getRandomSquare();-1==n.indexOf(t)&&n.push(t)}return n},n.getLane=function(e){return d(e>=-1&&e<=5?"Canvas/LawnCommon/squaresLower/Row"+e.toString():"Canvas/LawnCommon/squaresLower/Row-2")},n.getLaneComponent=function(e){if(this.component.laneAbstract||(this.component.laneAbstract=this.getLane(-2).getComponent(q)),this.component.laneHere||(this.component.laneHere=this.getLane(5).getComponent(q)),this.component.laneThere||(this.component.laneThere=this.getLane(-1).getComponent(q)),this.component.lanesInLawn.length<=0){this.component.lanesInLawn=[];for(var t=0;t<5;t++)this.component.lanesInLawn.push(n.getLane(t).getComponent(q))}return-1==e?this.component.laneThere:5==e?this.component.laneHere:e>=0&&e<=4?this.component.lanesInLawn[e]:this.component.laneAbstract},n.judgeInLawn=function(e){return this.lawnRec.judgeInRecP(new h(e.x,e.y))},n.moveCrossing=function(e,n){if(void 0===e&&(e=-1),void 0===n&&(n=-1),e>=0&&e<=4&&n>=0&&n<=8){var t=this.getSquareWorldPosition(2,n);this.component.selectCrossingV.node.worldPosition=new g(t.x,t.y,10);var i=this.getSquareWorldPosition(e,4);this.component.selectCrossingH.node.worldPosition=new g(i.x,i.y,10)}else this.component.selectCrossingV.node.worldPosition=new g(-1e3,0),this.component.selectCrossingH.node.worldPosition=new g(0,-1e3)},n.armorOnAllZombies=function(e){for(var n=[],t=0;t<5;t++){var i=this.getLaneComponent(t);i.zombiePool().concat(i.hypnoZombiePool()).forEach((function(e){-1==n.indexOf(e)&&n.push(e)}))}n.forEach((function(n){n.addArmor(e)}))},n.calculatePlants=function(){var e;null==p||null==(e=p.uiingame)||e.calculateLevelTask(D.PlantCountLimit,{AllPlantCount:P.getPlantAmount()})},n.foodAllPlants=function(){n.getAllLnC().forEach((function(e){e.getAllPlants().forEach((function(e){e.food()}))}))},n.allLnCSpawnPlant=function(e){n.getAllLnC().forEach((function(n){n.spawnPlantByPlantEnum(e,!0,!0,!0)||n.getAllPlants().forEach((function(n){n.ID==e&&n.replantable()&&(n.replant(),n.health=n.toughness)}))}))},n.shovelAllPlants=function(){n.getAllLnC().forEach((function(e){e.removePlant()}))},n.judgeCIndex=function(e){var t=n.lawnRec.prjX().x;if(e>t+9*n.SquareDisW)return 9;if(e<=t)return-1;for(var i=0;i<9;i++)if(e<=t+n.SquareDisW*(i+1))return i;return-1},n.judgeLIndex=function(e){var t=n.lawnRec.prjY().y;if(e<t-5*n.SquareDisH)return 5;if(e>=t)return-1;for(var i=0;i<5;i++)if(e>=t-n.SquareDisH*(i+1))return i;return-1},n.transFrom_ox_To_gx=function(e){return this.transFrom_ow_To_gw_(e)+this.Square00WorldPosition().x},n.transFrom_ow_To_gw_=function(e){return e/60*n.SquareDisW},n.transFrom_oh_To_gh_=function(e){return e/60*n.SquareDisH},n.locatePrjOnLnC=function(e,n,t,i){var o=v(z.freeLocator());o.parent=e.node;var r=o.getComponent(_);r.inLnC=e,r.countdown=t,r.prjID=n,r.targetType=i};var a=n.prototype;return a.plantGhost=function(){this.squares.forEach((function(e){var n=e.getComponent(C);1==n.indexPoint&&(n.index=1,n.ghostPoint.destroyAllChildren(),n.plantGhost())}))},a.readIndex=function(){this.UIInGame.index<=8&&this.UIInGame.index;this.indexShovel=-2==p.index?1:0,this.indexPF=-3==p.index?1:0,this.inLawnLnCs.forEach((function(e){e.forEach((function(e){e.selection()}))}))},a.deletePlantGhosts=function(){this.squares.forEach((function(e){e.getChildByName("PlantPoint").destroyAllChildren()}))},a.spawnElectricLineParticle=function(e,n){if(this.electricLineHitPar){var t=v(this.electricLineHitPar);t.parent=e,t.worldPosition=new g(n.x,n.y+30,10)}},a.dealElectricLines=function(e){var t=this,i=this.ElectricLineLayer.node.children.length;if(i>0&&!this.ElectricLineLayer.playing?this.ElectricLineLayer.play():i<=0&&this.ElectricLineLayer.playing&&this.ElectricLineLayer.stop(),this.ElectricLineLayer.volume=.3*E.SoundFXVolume,this.electricHitCD>0&&(this.electricHitCD-=e),this.electricHitCD<=0){var o=[],r=[];this.electricHitCD=.25,n.getAllLnC().forEach((function(e){(e.centerElectricCountdown>0||e.verticalElectricCountdown>0||e.horizontalElectricCountdown>0)&&(e.tombStone&&(e.tombStone.dealDamage(e.electricLineDamage),t.spawnElectricLineParticle(e.inLane.prjLayer,e.tombStone.worldPosition)),e.inLane.zombiePool().forEach((function(n){var t;-1==o.indexOf(n)&&null!=e&&null!=(t=e.rec)&&t.judgeCrossRec(n.bodyRec)&&(o.push(n),r.push(e.electricLineDamage))})))})),o.forEach((function(e,n){r[n]&&(e.dealDamage(r[n],!0,!0,!0,null,x.electricity),t.spawnElectricLineParticle(e.inLane.prjLayer,e.worldPosition))}))}},a.onLoad=function(){var e=this;n.electricLineLayer=this.ElectricLineLayer.node,n._component=this;var t=this.square00;n.Square00=t;var i=null==t?void 0:t.getComponent(C);if(i){i.RowParent=this.node.parent.getChildByName("squaresLower").getChildByName("Row0"),i.inLane=i.RowParent.getComponent(q),i.lIndex=i.cIndex=0,this.squares.push(t);for(var o=0;o<=4;o++){for(var r=1;r<9;r++){var a=null;(a=f(t)).parent=this.node,a.setPosition(this.node.getChildByName("Square"+o.toString()+(r-1).toString()).getPosition().x+n.SquareDisW,this.node.getChildByName("Square"+o.toString()+(r-1).toString()).getPosition().y),a.name="Square"+o.toString()+r.toString();var l=a.getComponent(C);l.RowParent=n.getLane(o),l.inLane=a.getComponent(C).RowParent.getComponent(q),l.lIndex=o,l.cIndex=r,this.squares.push(a)}if(4==o)break;var s=null;(s=f(this.node.getChildByName("Square"+o.toString()+"0"))).parent=this.node,s.setPosition(this.node.getChildByName("Square"+o.toString()+"0").getPosition().x,this.node.getChildByName("Square"+o.toString()+"0").getPosition().y-n.SquareDisH),s.name="Square"+(o+1).toString()+"0";var u=s.getComponent(C);u.RowParent=n.getLane(o+1),u.inLane=s.getComponent(C).RowParent.getComponent(q),u.lIndex=o+1,u.cIndex=0,this.squares.push(s)}var c=this.node.parent.getChildByName("squaresLower").getChildByName("Row0").getChildByName("Square00");c.getComponent(S).standardize(t);for(var h=c.getSiblingIndex(),g=0;g<=4;g++){for(var m=1;m<9;m++){var L=f(c);L.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+g.toString()),L.setSiblingIndex(h),L.name="Square"+g.toString()+m.toString(),L.getComponent(S).standardize(this.node.getChildByName(L.name))}if(4==g)break;var v=f(c);v.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+(g+1).toString()),v.name="Square"+(g+1).toString()+"0",v.setSiblingIndex(h),v.getComponent(S).standardize(this.node.getChildByName(v.name))}this.UIInGame=d("Canvas/UIInGame").getComponent(p),this.indexShovel=0,this.indexPF=0;for(var w=-1;w<=5;w++)n.getLaneComponent(w).midY=n.getSquareWorldPosition(w,0).y}[0,1,2,3,4].forEach((function(n){var t=[];[0,1,2,3,4,5,6,7,8].forEach((function(i){t.push(e.squares[9*n+i].getComponent(C))})),e.inLawnLnCs.push(t)})),[this.LnCAbstract,this.LnCLeft,this.LnCRight].forEach((function(e){e.inLane=n.getLane(-2).getComponent(q)})),this.LnCHere.inLane=n.getLaneComponent(5),this.LnCThere.inLane=n.getLaneComponent(-1)},a.moveCart=function(){if(b.followingCart)for(var e=b.mouseInL-b.followingCart.inLnC.lIndex,n=0;n<Math.abs(e);n++)e<0&&b.followingCart.moveUp(),e>0&&b.followingCart.moveDown()},a.update=function(e){var t,i,o=n.judgeLIndex(b.position.y),r=n.judgeCIndex(b.position.x),a=n.getLnC(o,r);(b.mouseInL=o,b.mouseInC=r,b.mouseInLnC!=a)&&(null==(t=b.mouseInLnC)||t.onMouseLeave(),b.mouseInLnC=null!=a&&a.isInLawn()?a:null,null==(i=b.mouseInLnC)||i.onMouseEnter());1==n.lncSelectionMode&&1==a.index&&a.isInLawn()?n.moveCrossing(o,r):n.moveCrossing(-1,-1),this.moveCart(),a&&null!=a&&a.mold&&p.index>=0&&p.index<=8?n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playHide()})):I.component.gameWon||n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playIdle()})),this.dealElectricLines(e)},a.lateUpdate=function(e){H&&(R(),A.tilePool().forEach((function(e){if(e.tileID==N.foodLinker){var n=e._lit?"Idle_Lit":"Idle_Unlit";e.db.playAnimation(n,1/0)}})))},a.start=function(){n.lawnRec=y.createRectangleNodeCenter(n.getSquare(2,4),9*n.SquareDisW,5*n.SquareDisH),n.zombieSpawnX=n.Square00WorldPosition().x+10.5*n.SquareDisW,this.selectCrossingV.contentSize=new m(n.SquareDisW,5*n.SquareDisH),this.selectCrossingH.contentSize=new m(9*n.SquareDisW,n.SquareDisH)},n.setSquareType=function(){w.currentLawn.initialize(),w.currentLawn.tideOnLoad&&w.addTide()},r(n,null,[{key:"component",get:function(){return this._component?this._component:d("Canvas/LawnCommon/Squares").getComponent(n)}}]),n}(L)).SquareDisH=84,ie.SquareDisW=72,ie.Square00=null,ie.zombieWinX=0,ie.zombieDieInsteadOfWinning=!1,ie.zombieSpawnX=1e3,ie.lawnRec=y.createRectangleCenter(new h(0,0),9*ie.SquareDisW,5*ie.SquareDisH),ie.lncSelectionMode=0,ie._component=void 0,ie.electricLineLayer=void 0,Y=n((X=ie).prototype,"selectCrossingV",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=n(X.prototype,"selectCrossingH",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(X.prototype,"square00",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(X.prototype,"LnCHere",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(X.prototype,"LnCThere",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(X.prototype,"LnCLeft",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(X.prototype,"LnCRight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(X.prototype,"LnCAbstract",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=n(X.prototype,"ElectricLineLayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=X))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/Squash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./levelController.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,i,e,n,s,a,l,r,h,u,d,c,f,m,p,g,y,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.AudioClip,r=t.Vec2,h=t.tween},function(t){u=t.Plant,d=t.PlantProps},function(t){c=t.Rectangle,f=t.ZombiePool},function(t){m=t.Square},function(t){p=t.TileType},function(t){g=t.LevelPlay},function(t){y=t.ArrayGet},function(t){b=t.sounds}],execute:function(){var P,T,w,S,L,k,A,v,R,C,q,D,j,Z,z,F;s._RF.push({},"5014euUaBJHzKQjX+6VD5ps","Squash",void 0);var _=a.ccclass,X=a.property,O=function(t){function o(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).PlantfoodSmashTime=2,o.SmashDamage=1800,o}return i(o,t),o}(d),x=(P=_("squashSound"),T=X([l]),w=X([l]),S=X([l]),L=X([l]),P((v=o((A=function(){function t(){e(this,"smashSounds",v,this),e(this,"lookSounds",R,this),e(this,"leapSaySounds",C,this),e(this,"foodSounds",q,this)}var o=t.prototype;return o.playSmash=function(){b.playArray(this.smashSounds,1,.1)},o.playLook=function(){b.playArray(this.lookSounds,1,.1)},o.playLeapSay=function(){b.playArray(this.leapSaySounds,1,.1)},o.playFood=function(){b.playArray(this.foodSounds,1,.1)},t}()).prototype,"smashSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=o(A.prototype,"lookSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=o(A.prototype,"leapSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(A.prototype,"foodSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=A))||k);t("SquashPlant",(D=_("SquashPlant"),j=X(x),D((F=o((z=function(t){function o(){for(var o,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(o=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new O,o.lockedTarget=void 0,o.lookedAtTarget=void 0,o.facingLeft=!1,o.busy=!1,e(o,"soundRes",F,n(o)),o.foodLeftTime=2,o.squashTween=null,o.detector=new c,o}i(o,t);var s=o.prototype;return s.specialPlantOnEnable=function(){var t;this.busy=!1,this.foodable=!0,null==(t=this.squashTween)||t.stop(),this.squashTween=null,this.lockedTarget=null,this.lookedAtTarget=null,this.facingLeft=!1,this.deathAnm="Death",this.eatDamagable=!1},s.specialPlantShovelable=function(){return null==this.squashTween},s.normalSmash=function(t){},s.animationListener=function(t){if("judgeTarget"==t.name){if(this.fooding)return;this.lookedAtTarget&&this.lookedAtTarget.isAlive()?(this.soundRes.playLeapSay(),this.anmControl.playAnimation("Jump"+(this.facingLeft?"L":"R"),1)):(this.anmControl.playRandom(),this.busy=!1)}else"jump"==t.name?this.lookedAtTarget&&this.lookedAtTarget.isAlive()?this.smashToZombie(this.lookedAtTarget):this.fooding?this.foodLeftTime<0?this.smashToZombie(null):this.smashToZombie(y.getRandom(f.pool())):(this.anmControl.playRandom(),this.facingLeft=!1,this.busy=!1):"die"==t.name&&this.body.setParent(this.node,!0)},s.animationOnComplete=function(){!this.busy||this.dead||this.fooding||this.smashToZombie(null),this.fooding&&(this.anmControl.playAnimation("JumpR",1),this.foodLeftTime--)},s.specialPlantFood=function(t){this.anmControl.playAnimation("LookR",1),this.soundRes.playFood(),this.foodLeftTime=this._objdataOwn.PlantfoodSmashTime},s.lookAtZombie=function(t){this.busy=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.lookedAtTarget=t;var o="LookR";this.facingLeft=!1,t.worldPositionX<this.worldPositionX&&(o="LookL",this.facingLeft=!0),this.soundRes.playLook(),this.anmControl.playAnimation(o,2)},s.smashZombies=function(){var t=c.createRectangleCenter(new r(this.worldPositionX,m.getLnC(this.inLane.LaneIndex,0).node.worldPosition.y),2*m.SquareDisW,m.SquareDisH),o=!1,i=this._objdataOwn.SmashDamage;this._dmgScale>0&&(i*=this._dmgScale),this.inLane.zombiePool().forEach((function(e){t.judgeCrossRec(e.bodyRec)&&(e.dealDamage(i,!0,!0,!0,new r(0,-20)),o=!0)}));var e=!1;if(!this.fooding){var n=this.inLnC.getTileType();n==p.water||n==p.sea?(this.body.setParent(this.node,!0),this.drown(n==p.sea),e=!0):n==p.sky?(this.body.setParent(this.node,!0),this.fall(),e=!0):o&&(this.deathAnm="null",this.die())}this.lockedTarget=null,this.lookedAtTarget=null,e||(g.shakeScreen(),this.soundRes.playSmash()),this.fooding&&this.foodLeftTime<0&&this.foodEnd()},s.smashToZombie=function(t){var o=this;t?(this.body.setParent(t.inLane.prjLayer,!0),this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:t.shadeSocket.worldPosition.x,worldPositionY:t.worldPositionY},{easing:"quadOut"}).to(.2,{}).call((function(){o.lockedTarget=t,o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies(),o.squashTween=null,o.foodable=!0})).start()):(this.body.setParent(this.node,!0),this.facingLeft=this.plantInLnC.plantPoint.worldPosition.x<this._worldPositionX,this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:this.plantInLnC.plantPoint.worldPosition.x,worldPositionY:this.plantInLnC.plantPoint.worldPosition.y},{easing:"quadOut"}).to(.2,{}).call((function(){o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies(),o.busy=!1,o.squashTween=null,o.foodable=!0})).start())},s.specialPlantOnSquareChange=function(t,o){this.detector=c.createRectangleNodeCenter(this.plantInLnC.node,3*m.SquareDisW,m.SquareDisH)},s.waterable=function(){return!this.busy},s.detectEnemies=function(){var t=this,o=1/0,i=null;this.inLane.zombiePool().forEach((function(e){var n=e.bodyRec.prjX().x;n<o&&e.bodyRec.judgeCrossRec(t.detector)&&(i=e,o=n)})),i&&this.lookAtZombie(i)},s.burn=function(){},s.specialPlantUpdate=function(t){this.lockedTarget&&(this.worldPositionX=this.lockedTarget.shadeSocket.worldPosition.x,this.worldPositionY=this.lockedTarget.worldPositionY),(!this.busy||this.lockedTarget&&!this.lockedTarget.isAlive())&&(this.lockedTarget=null),(!this.busy||this.lookedAtTarget&&!this.lookedAtTarget.isAlive())&&(this.lookedAtTarget=null),this.lookedAtTarget||this.busy||this.fooding||this.detectEnemies()},s.specialPlantUpdateForce=function(t){this.body.worldPosition=this.node.worldPosition},o}(u)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),Z=z))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/stageEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(t){var n,i,e,o,a,r,s,l,u,p,d,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.dragonBones,u=t.find,p=t.AudioSource,d=t.Component},function(t){c=t.ArrayGet},function(t){h=t.SoundFXController}],execute:function(){var f,m,y,g,S,A,C;a._RF.push({},"c9464IbAxdGdJwFFQW8KmBd","stageEffect",void 0);var w=r.ccclass,b=r.property;t("StageEffect",(f=w("stageEffect"),m=b([s]),y=b([s]),f((A=n((S=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).lower=null,n.upper=null,n.initiated=!1,e(n,"startSound0",A,o(n)),e(n,"startSound1",C,o(n)),n}i(n,t);var a=n.prototype;return a.onEnable=function(){this.lower=this.getComponent(l.ArmatureDisplay),this.upper=u("Canvas/LawnCommon/stageEffect/"+this.node.name).getComponent(l.ArmatureDisplay),this.getComponent(p)||this.addComponent(p),this.playNone()},a.playEnd=function(){this.initiated&&(this.initiated=!1,this.upper.playAnimation("End"),this.lower.playAnimation("End"))},a.playNone=function(){this.initiated&&(this.upper.playAnimation("None"),this.lower.playAnimation("None"),this.initiated=!1)},a.playIdle=function(){this.initiated||(this.upper.playAnimation("Idle"),this.lower.playAnimation("Idle"),this.initiated=!0)},a.playStart=function(){this.initiated||(this.upper.playAnimation("Start"),this.lower.playAnimation("Start"),this.startSound0.length&&this.getComponent(p).playOneShot(c.getRandom(this.startSound0),h.SoundFXVolume),this.startSound1.length&&this.getComponent(p).playOneShot(c.getRandom(this.startSound1),h.SoundFXVolume),this.initiated=!0)},n}(d)).prototype,"startSound0",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(S.prototype,"startSound1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=S))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/Stallia.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var t,n,o,i,r,a,l,s,u,c,p,d,f,h,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Color,u=e.tween},function(e){c=e.Plant,p=e.PlantProps},function(e){d=e.Rectangle,f=e.ZombiePool},function(e){h=e.Square},function(e){b=e.sounds},function(e){y=e.LevelPlay}],execute:function(){var m,S,P,g,C,w,v,D,L,R,E,z,x,q,j,A;r._RF.push({},"c8ac1JjQAJDaqryEOtad9Lt","Stallia",void 0);var F=a.ccclass,_=a.property,O=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).PerfumeDuration=12,t.PerfumeDurationPlantfood=12,t}return n(t,e),t}(p),H=(m=F("stalliaSound"),S=_([l]),P=_([l]),m((w=t((C=function(){function e(){o(this,"foodSound",w,this),o(this,"explodeSound",v,this)}var t=e.prototype;return t.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},t.playExplodeSound=function(){b.playArray(this.explodeSound,1,.1)},e}()).prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(C.prototype,"explodeSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=C))||g);e("StalliaPlant",(D=F("StalliaPlant"),L=_(H),R=_(s),E=_(s),D((q=t((x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"soundRes",q,i(t)),t._objdataOwn=new O,o(t,"purple1",j,i(t)),o(t,"purple2",A,i(t)),t.screenColor=new s(0,0,0,0),t.detector=void 0,t}n(t,e);var r=t.prototype;return r.specialPlantOnEnable=function(){this.damagable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1},r.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&y.screenFlashColors.push(this.screenColor)},r.specialPlantFood=function(e){this.anmControl.playAnimation("Food")},r.animationListener=function(e){var t=this;if("explode"==e.name){var n,o=d.createRectangleNodeCenter(this.inLnC.node,3*h.SquareDisW,3*h.SquareDisH);this.soundRes.playExplodeSound(),null==(n=this.inLane)||n.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.bodyRec.judgeCrossRec(o)&&e.setPerfume(t._objdataOwn.PerfumeDuration)}))}else if("foodExplode"==e.name){f.pool().concat().forEach((function(e){e.setPerfume(t._objdataOwn.PerfumeDurationPlantfood)}));var i=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.purple2.r,g:this.purple2.g,b:this.purple2.b,a:this.purple2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(i)}else if("foodEnd"==e.name)this.foodEnd();else if("foodExplodeStart"==e.name){this.soundRes.playFoodSound(),this.screenColor=new s(this.purple1.r,this.purple1.g,this.purple1.b,0);var r=u(this.screenColor).to(.4/this.anmControl.body.timeScale,{a:this.purple1.a}).start();this.bodyTweens.push(r)}},r.specialPlantUpdate=function(e){this.fooding||this.detectEnemy()},r.detectEnemy=function(){var e,t=this,n=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){n||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n&&this.die()},r.specialPlantOnSquareChange=function(e,t){this.detector=d.createRectangleNodeCenter(t.node,.5*h.SquareDisW,h.SquareDisH)},t}(c)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),j=t(x.prototype,"purple1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),A=t(x.prototype,"purple2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),z=x))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/StarFruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(o){var t,e,n,i,r,a,s,u,c,l,d,h,f,p,S,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.AudioClip,u=o.Prefab,c=o.HALF_PI,l=o.Vec2},function(o){d=o.PeashooterPlant},function(o){h=o.Square},function(o){f=o.Rectangle,p=o.ZombiePool,S=o.TombPool},function(o){y=o.sounds}],execute:function(){var b,D,g,m,F,R,q,P,v,w,C,E,A,L,_,z;r._RF.push({},"e7d20dLX0JKjqlLE9Yio589","StarFruit",void 0);var H=a.ccclass,W=a.property,j=(b=H("starFruitSound"),D=W([s]),g=W([s]),m=W([s]),b((q=t((R=function(){function o(){n(this,"shootSound",q,this),n(this,"foodSound",P,this),n(this,"piano",v,this)}var t=o.prototype;return t.playShootSound=function(){y.playArray(this.shootSound,1,.1)},t.playFoodSound=function(){y.playArray(this.foodSound,1,.1)},t.playPiano=function(o){o>=1&&o<=6&&this.piano.length>o-1&&y.play(this.piano[o-1],2,.1)},o}()).prototype,"shootSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(R.prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(R.prototype,"piano",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=R))||F);o("StarFruitPlant",(w=H("StarFruit"),C=W(u),E=W(j),w((_=t((L=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,n(t,"peaFood",_,i(t)),t.sideDetectors=[],t.laneDetector=null,n(t,"soundResStar",z,i(t)),t}e(t,o);var r=t.prototype;return r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",1/0),this.busy=1/0},r.setDetecter=function(o,t){this.sideDetectors=[],this.sideDetectors.push(f.createRectangleNodeCenter(t.node,30,5*h.SquareDisH),f.createRectangleNodeSide(t.node,10*h.SquareDisW,30,90*Math.atan2(h.SquareDisH,1.732*h.SquareDisW)/c),f.createRectangleNodeSide(t.node,10*h.SquareDisW,30,90*-Math.atan2(h.SquareDisH,1.732*h.SquareDisW)/c)),this.laneDetector=f.createRectangleNodeSide(t.node,-(t.cIndex+1)*h.SquareDisW,h.SquareDisH)},r.detectEnemy=function(){var o=this,t=!1;return this.inLane.zombiePool().forEach((function(e){t||e.isAlive()&&e.bodyRec.judgeCrossRec(o.laneDetector)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(e){t||e.bodyRec.judgeCrossRec(o.laneDetector)&&(t=!0)})),!!t||(p.pool().concat().forEach((function(e){t||o.sideDetectors.forEach((function(o){t||o.judgeCrossRec(e.bodyRec)&&(t=!0)}))})),!!t||(S.pool().concat().forEach((function(e){t||o.sideDetectors.forEach((function(o){t||o.judgeCrossRec(e.bodyRec)&&(t=!0)}))})),t)))},r.specialPlantFoodEnd=function(){this.busy=0,this.anmControl.playAnimation("FoodEnd",1)},r._shootStars=function(o,t,e,n){var i=this;void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===e&&(e=this.pea),void 0===n&&(n=20),[new l(-1,0),new l(0,1),new l(0,-1),new l(1.732*h.SquareDisW,h.SquareDisH),new l(1.732*h.SquareDisW,-h.SquareDisH)].forEach((function(r){i._shoot(o,t,e,n,r)}))},r.onFoodLeftPeaCountDec=function(){this._shootStars(!0,!0,this.peaFood,20)},r.animationListener=function(o){"Shoot"==o.name&&(this._shootStars(),this.soundResStar.playShootSound()),"foodStart"==o.name&&(this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0),this.anmControl.playAnimation("Fooding",1/0),this.foodShooting())},t}(d)).prototype,"peaFood",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"soundResStar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),A=L))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/sun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SunCount.ts","./dropping.ts","./Square.ts","./Droppings.ts"],(function(o){var i,t,n,s,e,r,l,a,h,d,b,u,c;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,s=o.assertThisInitialized,e=o.createClass},function(o){r=o.cclegacy,l=o._decorator,a=o.Vec2,h=o.tween},function(o){d=o.SunCount},function(o){b=o.dropping},function(o){u=o.Square},function(o){c=o.droppings}],execute:function(){var p,w,P,f,m;r._RF.push({},"36a5cpi8YZHxrqdx/7BmhHo","sun",void 0);var y=l.ccclass,g=l.property;o("sun",(p=y("sun"),w=g([Number]),p((m=i((f=function(o){function i(){for(var i,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i=o.call.apply(o,[this].concat(e))||this,n(i,"value",m,s(i)),i.mode="Normal",i.absorbTween=[],i._absorber=null,i}t(i,o);var r=i.prototype;return r.specialOnGroundHit=function(){this.willFade=!0,this.fadingOn()},r.specialDroppingFadable=function(){return"Normal"==this.mode},r.specialDroppingOnEnable=function(){this.absorbTween.forEach((function(o){o.stop()})),this.absorbTween=[],this.absorber=null,this.mode="Normal",this.db.playAnimation("Normal",1/0),this.willFade=!1},r.goToUIPath=function(){return"Canvas/UIInGame/SunSlot"},r.specialDroppingUpdate=function(o,i){var t;(!this.collected&&u.judgeInLawn(this.node.worldPosition)?c.registerSun(this):c.deleteSun(this),this._absorber)&&(!this.collected&&i.judgeInRecNode(this._absorber.absorber)&&(this.fade(),null==(t=this.absorber)||null==(t=t.absorbedValue)||t.push(this.value)))},r.switchMode=function(o){"Red"==o?("Normal"==this.mode?this.db.playAnimation("N-R"):"Blue"==this.mode&&this.db.playAnimation("B-R"),this.mode="Red"):"Blue"==o?("Normal"==this.mode?this.db.playAnimation("N-B"):"Red"==this.mode&&this.db.playAnimation("R-B"),this.mode="Blue"):("Blue"==this.mode?this.db.playAnimation("B-N"):"Red"==this.mode&&this.db.playAnimation("R-N"),this.mode="Normal")},r.specialGoToUI=function(o){c.deleteSun(this),this.switchMode("Normal"),d.component.playCollect(),d.component.SunAdd(this.value,!1),this.absorbTween.forEach((function(o){o.stop()})),this.absorbTween=[],this.absorber=null},r.specialUICall=function(o){d.component.SunAdd()},e(i,[{key:"absorber",get:function(){return this._absorber},set:function(o){var i=this;if(this._absorber=o,o){this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0;var t=.4,n=this;o.absorber.worldPosition.x,this._worldPositionX,o._worldPositionY,this._worldPositionY,o.absorber.worldPosition.y,o._worldPositionY,this.height;this.absorbTween=[h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-this.height)/4,worldPositionX:(o.absorber.worldPosition.x-this._worldPositionX)/4,worldPositionY:(o._worldPositionY-this._worldPositionY)/4}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-i.height)/3,worldPositionX:(o.absorber.worldPosition.x-i._worldPositionX)/3,worldPositionY:(o._worldPositionY-i._worldPositionY)/3}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-i.height)/2,worldPositionX:(o.absorber.worldPosition.x-i._worldPositionX)/2,worldPositionY:(o._worldPositionY-i._worldPositionY)/2}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).to(t,{height:o.absorber.worldPosition.y-o._worldPositionY,worldPositionX:o.absorber.worldPosition.x,worldPositionY:o._worldPositionY}).call((function(){i.absorber=null})).start())})).start())})).start())})).start()]}else this.absorbTween.forEach((function(o){o.stop()})),this.mode="Normal",this.absorbTween=[]}}]),i}(b)).prototype,"value",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),P=f))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/SunBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var t,i,o,e,a,r,l,s,u,d,f,p,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Vec3},function(n){d=n.Plant,f=n.PlantProps},function(n){p=n.sounds},function(n){c=n.instantiatePooly}],execute:function(){var h,b,y,m,P,w,S,A,g,R,B,z,C,v,E,F,L,_,j,O,M,D,H,I;a._RF.push({},"50d0c5j9tNOoLMlC8SpyjXn","SunBean",void 0);var N=r.ccclass,X=r.property,k=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).SunPerHitpoint=.2,t}return i(t,n),t}(f),x=(h=N("sunbeanSound"),b=X(l),y=X(l),m=X(l),P=X(l),w=X(l),S=X(l),h((R=t((g=function(){function n(){o(this,"buff",R,this),o(this,"buffMusic",B,this),o(this,"food",z,this),o(this,"foodEnd",C,this),o(this,"burnStart",v,this),o(this,"burn",E,this)}var t=n.prototype;return t.playBuff=function(){p.play(this.buff,1,.1),p.play(this.buffMusic,1,.1)},t.playFood=function(){p.play(this.food,1,.1)},t.playFoodEnd=function(){p.play(this.foodEnd,1,.1)},t.playBurn=function(){p.play(this.burn,1,.1),p.play(this.burnStart,1,.1)},n}()).prototype,"buff",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(g.prototype,"buffMusic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(g.prototype,"food",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"foodEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(g.prototype,"burnStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(g.prototype,"burn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=g))||A);n("SunBeanPlant",(F=N("SunBeanPlant"),L=X(x),_=X(s),j=X([l]),F((D=t((M=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,o(t,"soundRes",D,e(t)),t._objdataOwn=new k,t.fooded=!1,t.idleAnm="",t.randAnm=[],o(t,"blastPar",H,e(t)),o(t,"blastSounds",I,e(t)),t}i(t,n);var a=t.prototype;return a.specialPlantOnLoad=function(){this.idleAnm=this.anmControl.IdleAnim,this.randAnm=this.anmControl.RandomAnim},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food"),this.soundRes.playFood(),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="FoodLoop",this.anmControl.RandomAnim=[]},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd(),this.anmControl.playRandom()},a.specialPlantOnEnable=function(){this.fooded=!1,this.foodable=!0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randAnm},a.specialPlantOnEaten=function(n,t,i,o){if(o<=0&&t){if(this.fooded){t.sunbeanBlast(this.blastSounds),this.soundRes.playBurn();var e=c(this.blastPar);e.parent=this.inLane.prjLayer,e.worldPosition=new u(t._worldPositionX,t._worldPositionY+t.height)}else t.setSunBeanParticleCD(1/0),this.soundRes.playBuff();t.setSunBeanSunPerHitpoint(this._objdataOwn.SunPerHitpoint),this.die(),this.node.destroy()}},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},t}(d)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),H=t(M.prototype,"blastPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(M.prototype,"blastSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=M))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/sunbomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./UI.ts","./levelController.ts","./ParticleSelfdestroy.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts","./sunbombExplosion.ts"],(function(i){var t,o,n,e,s,a,r,l,d,u,c,h,p,f,y,b,P,w,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,r=i.AudioClip,l=i.Prefab,d=i.Vec2,u=i.Vec3,c=i.Color},function(i){h=i.dropping},function(i){p=i.UIInGame},function(i){f=i.LevelPlay},function(i){y=i.ParticleSelfdestroy},function(i){b=i.sunflower},function(i){P=i.sounds},function(i){w=i.instantiatePooly},function(i){g=i.sunbombExplosion}],execute:function(){var m,v,S,x,R,A,D,C,V,z,I,k,L;s._RF.push({},"1e38ao6MHtId7mFbgTMyktT","sunbomb",void 0);var E=a.ccclass,F=a.property;i("sunbomb",(m=E("sunbomb"),v=F(r),S=F(r),x=F(l),R=F(l),A=F(l),m((V=t((C=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(t=i.call.apply(i,[this].concat(s))||this).sunbombProps=void 0,n(t,"explodeSound",V,e(t)),n(t,"defuseSound",z,e(t)),n(t,"footPar",I,e(t)),t.footPsd=void 0,n(t,"rayPar",k,e(t)),t.rayPsd=void 0,n(t,"blastPar",L,e(t)),t}o(t,i);var s=t.prototype;return s.specialCollectable=function(){return p.uiingame.mouseDown||!f.gaming},s.collect=function(){this.collectable()&&(this.collected=!0,f.gaming?(this.explode(),this.bodyLinearVelocity=0,this.gravity=0,this.linearVelocity=new d(0,0)):this.defuse())},s.onKeyDown=function(i){},s.onFadeAwayStart=function(){},s.spawnRay=function(){this.killRay();var i=w(this.rayPar);i.parent=this.node.parent,i.setSiblingIndex(0),this.rayPsd=i.getComponent(y),this.rayPsd.db.playAnimation("Start",1/0);var t=w(this.footPar);t.parent=this.node.parent,t.setSiblingIndex(0),this.footPsd=t.getComponent(y),this.footPsd.db.playAnimation("Start",1/0),this.dealRay()},s.dealRay=function(){var i=this.node.scale.x;if(this.footPsd&&(this.footPsd.node.scale=new u(i,i,i),this.footPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)),this.rayPsd){var t=this.height/1410;this.rayPsd.node.scale=new u(i,t,i),this.rayPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)}},s.killRay=function(){if(this.footPsd&&(this.footPsd.db.playAnimation("Die",1/0),this.footPsd=null),this.rayPsd){var i=this.node.worldScale.x;this.rayPsd.node.scale=new u(i,i,i),this.rayPsd.db.playAnimation("Die",1/0),this.rayPsd=null}},s.specialOnGroundHit=function(){this.defuse()},s.specialDroppingOnEnable=function(){this.fadingStarted=!1,this.fadingCountdown=1/0,this.db.playAnimation("Purple",1/0),this.spawnRay()},s.explode=function(){P.play(this.explodeSound,1,.1),this.fadeAway();var i=w(this.blastPar);i.parent=this.node.parent,i.worldPosition=this.node.worldPosition,i.getComponent(g).sunbombProps=this.sunbombProps,this.killRay()},s.defuse=function(){var i=this;b.produceSun(50,new u(this.worldPositionX,this.worldPositionY),this.height,!1).forEach((function(t){t.linearVelocity=i.linearVelocity.clone(),t.gravity=i.gravity,t.bodyLinearVelocity=i.bodyLinearVelocity,t.db.playAnimation("P-N",1/0),t.fadingOn()})),this.db.playAnimation("P-N",1/0),P.play(this.defuseSound,1,.1),this.db.color=new c(255,255,255,0),this.fade(),this.killRay()},s.specialDroppingUpdate=function(i,t){this.dealRay()},s.fadingOn=function(){},t}(h)).prototype,"explodeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"defuseSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"footPar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"rayPar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(C.prototype,"blastPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=C))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/sunbombExplosion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(o){var n,e,t,s,r,a,i,c,l,u,b;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,t=o._decorator,s=o.Vec2},function(o){r=o.ParticleSelfdestroy},function(o){a=o.SunBombProperties},function(o){i=o.Rectangle,c=o.PlantPool,l=o.ZombiePool},function(o){u=o.Square},function(o){b=o.zombieDamageType}],execute:function(){var p;e._RF.push({},"4ab19/Qr/lHion7Mc4qSjjz","sunbombExplosion",void 0);var m=t.ccclass;t.property,o("sunbombExplosion",m("sunbombExplosion")(p=function(o){function e(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(n=o.call.apply(o,[this].concat(t))||this).sunbombProps=new a,n}return n(e,o),e.prototype.animationListener=function(o){var n=this;if("expl"==o.name){var e=new s(this.node.worldPosition.x,this.node.worldPosition.y),t=i.createRectangleCenter(e,2*u.transFrom_ow_To_gw_(this.sunbombProps.PlantBombExplosionRadius),2*u.transFrom_oh_To_gh_(this.sunbombProps.PlantBombExplosionRadius)),r=i.createRectangleCenter(e,2*u.transFrom_ow_To_gw_(this.sunbombProps.ZombieBombExplosionRadius),2*u.transFrom_oh_To_gh_(this.sunbombProps.ZombieBombExplosionRadius)),a=[];c.pool().concat().forEach((function(o){if(o.plantInLnC&&t.judgeCrossRec(o.bodyRec)){var n=o.plantInLnC.getAllPlants(!0)[0];-1==a.indexOf(n)&&a.push(n)}})),a.forEach((function(o){o.dealDamage(n.sunbombProps.PlantDamage,3)}));var p=[];l.pool().concat().forEach((function(o){r.judgeCrossRec(o.bodyRec)&&-1==p.indexOf(o)&&p.push(o)})),p.forEach((function(o){o.dealDamage(n.sunbombProps.ZombieDamage,!0,!0,!0,null,b.ray)}))}},e}(r))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/SunCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./SoundsController.ts","./NodePools.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./LevelTaskCount.ts","./SoundRescourses.ts"],(function(t){var n,o,i,u,e,s,a,r,d,h,l,S,c,C,p,g,f,m,v,y,T,w,b,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,a=t.AudioClip,r=t.Node,d=t.Vec3,h=t.EventMouse,l=t.Label,S=t.dragonBones,c=t.AudioSource,C=t.AnimationComponent,p=t.tween,g=t.Component},function(t){f=t.Cards},function(t){m=t.SoundFXController},function(t){v=t.ArrayGet},function(t){y=t.SettingWindow},function(t){T=t.LevelPlay},function(t){w=t.UIInGame},function(t){b=t.LevelTaskCountModeEnum},function(t){E=t.sounds}],execute:function(){var x,A,M,B,L,D,O,_,I,N;e._RF.push({},"1d63d0cB5hDTobysSOpxOPK","SunCount",void 0);var R=s.ccclass,F=s.property;t("SunCount",(x=R("SunCount"),A=F([a]),M=F(a),B=F(r),x(((N=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).initialSunCount=1e3,n.SunCount=0,n.SunCountTarget=0,n.ExpressedSunCount=0,i(n,"addSound",O,u(n)),i(n,"cheatAddSound",_,u(n)),i(n,"addButton",I,u(n)),n.audioSource=void 0,n.icon=void 0,n.oldpos=new d(0,0,0),n.shown=!0,n.count=void 0,n}o(n,t);var e=n.prototype;return e.setSunCount=function(t){t||(t=50),this.SunCount=t,this.SunCountTarget=t,this.ExpressedSunCount=t,this.count.string=this.ExpressedSunCount.toString()},e.playCollect=function(){E.play(v.getRandom(this.addSound),1,.1)},e.SunAdd=function(t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this.SunCount=Math.min(this.SunCount+t,9900),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.SunDec=function(t,n,o){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=!0),o&&t>0&&(w.uiingame.calculateLevelTask(b.SunCostLimit,{CostSun:t}),w.uiingame.calculateLevelTask(b.SunCostCountDownLimit,{CostSun:t})),this.SunCount=Math.max(this.SunCount-t,0),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.JudgeCardAffordable=function(){f.cardsController.JudgeCardsSelectable()},e.onMouseDown=function(t){t.preventSwallow=!0,t.getButton()==h.BUTTON_LEFT?(9900!=this.SunCount&&(this.audioSource.playOneShot(this.cheatAddSound,m.SoundFXVolume),this.audioSource.playOneShot(v.getRandom(this.addSound),m.SoundFXVolume)),this.SunAdd(1e3)):t.getButton()==h.BUTTON_RIGHT&&this.SunDec(1e3),this.SunCountTarget=this.SunCount},e.onLoad=function(){this.count=this.node.getChildByName("SunCount").getComponent(l),n.component=this,this.icon=this.node.getChildByName("SunSlotIcon").getComponent(S.ArmatureDisplay),this.oldpos=this.node.position.clone(),this.node.position.add3f(0,400,0),this.shown=!1,this.getComponent(c)||this.addComponent(c),this.audioSource=this.getComponent(c),this.node.getChildByName("add").on(r.EventType.MOUSE_DOWN,this.onMouseDown,this),this.SunCount=this.initialSunCount,this.SunCountTarget=this.initialSunCount,this.ExpressedSunCount=this.initialSunCount,this.count.string=this.ExpressedSunCount.toString()},e.playWarn=function(){this.getComponent(C).play("sunCountWarn")},n.show=function(){var t;null==(t=this.component)||t._show()},n.hide=function(){var t;null==(t=this.component)||t._hide()},e._show=function(){y.allowCheat||T.sandBoxModeOn||this.addButton.position.add(new d(-1e3,1e3,0)),this.shown||(this.shown=!0,p(this.node).to(.4,{position:this.oldpos},{easing:"cubicInOut"}).start())},e._hide=function(){this.shown&&(this.shown=!1,p(this.node).by(.4,{position:new d(0,400,0)},{easing:"cubicInOut"}).start())},e.update=function(t){if(this.ExpressedSunCount<this.SunCountTarget?this.icon.playAnimation("sunRising"):this.icon.playAnimation("sun"),this.ExpressedSunCount!=this.SunCountTarget){var n=1;n=Math.abs(this.ExpressedSunCount-this.SunCountTarget)>500?75:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=500&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>100?25:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=100&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>5?5:1,this.ExpressedSunCount>this.SunCountTarget?this.ExpressedSunCount-=n:this.ExpressedSunCount<this.SunCountTarget&&(this.ExpressedSunCount+=n),this.count.string=Math.round(this.ExpressedSunCount).toString()}},n}(g)).component=void 0,O=n((D=N).prototype,"addSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(D.prototype,"cheatAddSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(D.prototype,"addButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=D))||L));e._RF.pop()}}}));

System.register("chunks:///_virtual/Sunflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./dropping.ts","./Droppings.ts","./Square.ts","./sun.ts","./plantFood.ts","./coin.ts","./gem.ts","./SoundRescourses.ts","./UI.ts","./LevelTaskCount.ts","./levelController.ts","./sunbomb.ts"],(function(n){var o,t,i,e,a,r,u,l,s,d,c,p,y,h,f,P,w,S,m,b,v,g,x,C,M,j,V,L,O;return{setters:[function(n){o=n.inheritsLoose,t=n.applyDecoratedDescriptor,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.AudioClip,l=n.Node,s=n.Vec2,d=n.tween,c=n.dragonBones,p=n.Vec3,y=n.TWO_PI},function(n){h=n.PlantProps,f=n.Plant},function(n){P=n.NodePools},function(n){w=n.dropping},function(n){S=n.droppings},function(n){m=n.Square},function(n){b=n.sun},function(n){v=n.plantFood},function(n){g=n.coin},function(n){x=n.gem},function(n){C=n.sounds},function(n){M=n.UIInGame},function(n){j=n.LevelTaskCountModeEnum},function(n){V=n.LevelPlay,L=n.SunBombProperties},function(n){O=n.sunbomb}],execute:function(){var A,R,_,E,F,T,k,D,I,Y,z,B,X,G;a._RF.push({},"463e4u984hEbLGhv6WBjBYc","Sunflower",void 0);var q=r.ccclass,W=r.property,N=n("sunflower",function(){function n(){}return n.producePlantFood=function(n){var o=P.instantiatePooly(S.plantFood);o.parent=S.layer;var t=n.clone(),i=m.lawnRec.prjX(),e=m.lawnRec.prjY();t.x<i.x?t.x=i.x:t.x>i.y&&(t.x=i.y),t.y<e.x?t.y=e.x:t.y>e.y&&(t.y=e.y);var a=o.getComponent(v);a.worldPosition=t,a.linearVelocity=new s(Math.random()-.5,Math.random()-.5).normalize().multiplyScalar(5),a.gravity=0},n.dropOneCoin=function(n,o){void 0===o&&(o=0);var t=S.CoinSilver;1==o&&(t=S.CoinGold);var i=P.instantiatePooly(t);i.parent=S.layer;var e=n.clone(),a=m.lawnRec.prjX(),r=m.lawnRec.prjY();e.x<a.x?e.x=a.x:e.x>a.y&&(e.x=a.y),e.y<r.x?e.y=r.x:e.y>r.y&&(e.y=r.y);var u=i.getComponent(g),l=Math.round(6*Math.random());return u.linearVelocity=new s(-3+l,0),u.bodyLinearVelocity=10,u.worldPosition=e,u.gravity=1,u},n.dropOneGem=function(n){var o=S.Gem,t=P.instantiatePooly(o);t.parent=S.layer;var i=n.clone(),e=m.lawnRec.prjX(),a=m.lawnRec.prjY();i.x<e.x?i.x=e.x:i.x>e.y&&(i.x=e.y),i.y<a.x?i.y=a.x:i.y>a.y&&(i.y=a.y);var r=t.getComponent(x),u=Math.round(6*Math.random());return r.linearVelocity=new s(-3+u,0),r.bodyLinearVelocity=10,r.worldPosition=i,r.gravity=1,C.playGemSpawn(),r},n.dropOneSunBomb=function(n){var o,t,i=S.SunBomb,e=P.instantiatePooly(i);e.parent=S.layer;var a=n.clone(),r=m.lawnRec.prjX(),u=m.lawnRec.prjY();a.x<r.x?a.x=r.x:a.x>r.y&&(a.x=r.y),a.y<u.x?a.y=u.x:a.y>u.y&&(a.y=u.y);var l=null!=(o=V.component)&&o.sunbombProps?null==(t=V.component)?void 0:t.sunbombProps:new L,d=e.getComponent(O),c=Math.round(6*Math.random());return d.linearVelocity=new s(-3+c,0),d.bodyLinearVelocity=10,d.worldPosition=a,d.gravity=1,d.sunbombProps=l,d},n.produceSun=function(n,o,t,i,e){void 0===i&&(i=!0),void 0===e&&(e=!1);var a=m.getSquareWorldPosition(0,0,0,0),r=m.getSquareWorldPosition(4,8,1,1),u=o.clone();u.x<a.x?u.x=a.x:u.x>r.x&&(u.x=r.x),i&&M.uiingame.calculateLevelTask(j.SunProduceRequest,{SunProduceAdd:n});var l=[];switch(n){case 5:l=[P.instantiatePooly(S.SunTiny)];break;case 25:l=[P.instantiatePooly(S.SunSmall)];break;case 50:l=[P.instantiatePooly(S.SunMid)];break;case 75:l=[P.instantiatePooly(S.SunLarge)];break;case 100:l=[P.instantiatePooly(S.SunMid),P.instantiatePooly(S.SunMid)];break;default:for(var c=n+0;c>=75;)c-=75,l.push(P.instantiatePooly(S.SunLarge));for(;c>=50;)c-=50,l.push(P.instantiatePooly(S.SunMid));for(;c>=25;)c-=25,l.push(P.instantiatePooly(S.SunSmall));for(;c>=5;)c-=5,l.push(P.instantiatePooly(S.SunTiny))}for(var p=0;p<l.length;p++){var h=l[p],f=l.length;h.parent=S.layer;var v=h.getComponent(w);v.height=t,v.worldPosition=new s(f<=1?u.x:u.x-15+30/(f-1)*p,u.y),v.gravity=1;var g=Math.round(6*Math.random());v.linearVelocity=new s(-3+g,0),v.bodyLinearVelocity=10}var x=[];if(l.forEach((function(n){x.push(n.getComponent(b))})),e){var C=y/3,V=x.length-1;2==x.length?C=y/6:1==x.length&&(C=0);var L=-C/2;x.forEach((function(n,t){n.gravity=0,n.worldPositionX=o.x,n.height=0;var i=0;V>0&&(i=C*t/V+L);n.linearVelocity=new s(10*Math.sin(i),0),n.bodyLinearVelocity=10*Math.cos(i),d(n).to(.5,{linearVelocity:new s(0,0),bodyLinearVelocity:0}).start()}))}return x},n}()),U=n("SunflowerProps",function(n){function t(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).PlantfoodTime=3,o.SunValue=50,o.ProduceInterval=23.5,o.ProduceIntervalAdditional=1.5,o.ProduceCountdownStart=5,o.ProduceCountdownStartAdditional=5,o}return o(t,n),t}(h)),H=(A=q("sunflowerSound"),R=W(u),_=W(u),A((T=t((F=function(){function n(){i(this,"foodSound",T,this),i(this,"produceSound",k,this)}var o=n.prototype;return o.playFoodSound=function(){C.play(this.foodSound,1,.1)},o.playProduceSound=function(){C.play(this.produceSound,1,.2)},n}()).prototype,"foodSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(F.prototype,"produceSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=F))||E);n("SunflowerPlant",(D=q("Sunflower"),I=W(H),Y=W(l),D((X=t((B=function(n){function t(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new U,i(o,"soundRes",X,e(o)),o.sunValue=50,o.coinProducer=!1,i(o,"sunSpawnpoint",G,e(o)),o.producing=!1,o.busy=0,o}o(t,n);var a=t.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.defaultProduceAnimation=function(n){void 0===n&&(n="Produce"),this.producing=!0,this.setCD(this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional),this.anmControl.playAnimation(n,1,.1,Math.max(1,1.1/this.busy))},a.specialPlantFood=function(){var n;this.producing=!1,this.busy=1/0,null==(n=this.soundRes)||n.playFoodSound(),this.anmControl.playAnimation("Food",this._objdataOwn.PlantfoodTime),this.anmControl.body.once(c.EventObject.COMPLETE,this.foodEnd,this)},a.waterable=function(){return!this.producing},a.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional),this.anmControl.playRandom()},a.onObjdataSet=function(n,o){this.sunValue=o.SunValue,this.setCD(o.ProduceCountdownStart+Math.random()*o.ProduceCountdownStartAdditional)},a._produce=function(n){var o;(void 0===n&&(n=this.coinProducer),this.producing=!1,null==(o=this.soundRes)||o.playProduceSound(),n)?N.dropOneCoin(new s(this.worldPositionX,this.worldPositionY),Math.random()>.1?0:1).height=this.sunSpawnpoint.worldPosition.y-this.worldPositionY:N.produceSun(this.sunValue,new p(this.worldPositionX,this.worldPositionY,0),this.sunSpawnpoint.worldPosition.y-this.worldPositionY)},a.animationListener=function(n){"Produce"==n.name?this._produce():this.specialSunflowerAnimationListener(n)},a.specialSunflowerAnimationListener=function(n){},a.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional),this.specialSunflowerOnEnable()},a.specialSunflowerOnEnable=function(){},a.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},a.specialPlantUpdate=function(n){this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation()},t}(f)).prototype,"soundRes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),G=t(B.prototype,"sunSpawnpoint",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/SunShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts"],(function(t){var o,n,i,r,e,a,s,u,h,l,d,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,s=t.AudioClip,u=t.dragonBones,h=t.Vec3},function(t){l=t.SunflowerPlant,d=t.SunflowerProps},function(t){c=t.sounds}],execute:function(){var S,w,m,p,g,f,y,b,_,C,A,P,R,j;e._RF.push({},"6fd60koRUVMwqjBq2Zaw4u+","SunShroom",void 0);var O=a.ccclass,v=a.property,I=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this).SunValueList=[25,50,75],o.GrowTime0_1=18,o.GrowTime1_2=54,o}return n(o,t),o}(d),M=(S=O("sunShroomSound"),w=v([s]),m=v([s]),p=v([s]),S((y=o((f=function(){function t(){i(this,"foodSound",y,this),i(this,"produceSound",b,this),i(this,"growSound",_,this)}var o=t.prototype;return o.playFoodSound=function(){c.playArray(this.foodSound,1,.2)},o.playProduceSound=function(){c.playArray(this.produceSound,1,.2)},o.playGrowSound=function(){c.playArray(this.growSound,1,.2)},t}()).prototype,"foodSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(f.prototype,"produceSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(f.prototype,"growSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=f))||g);t("SunShroomPlant",(C=O("SunShroom"),A=v(M),C((j=o((R=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new I,i(o,"soundResSunShroom",j,r(o)),o.growthCountdown=0,o.growthStage=0,o.shouldScale=.3,o.currentScale=.3,o.orgWorldScale=0,o.produceAnm="Produce",o.step=void 0,o}n(o,t);var e=o.prototype;return e.specialPlantFood=function(){var t=this;this.busy=1/0,this.growthStage>=2?(this.anmControl.playAnimation("Food",1),this.soundResSunShroom.playFoodSound()):(this.growthStage=1,this.grow(),this.anmControl.body.once(u.EventObject.COMPLETE,(function(){t.anmControl.playAnimation("Food",1),t.soundResSunShroom.playFoodSound()}),this))},e.onObjdataSet=function(t,o){this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1),this.growthCountdown=o.GrowTime0_1},e.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional)},e.specialPlantOnEnable=function(){this.orgWorldScale=this.body.worldScale.x,this.shouldScale=.6*this.orgWorldScale,this.currentScale=this.shouldScale,this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional),this.growthStage=0,this.growthCountdown=Math.max(.1,this._objdataOwn.GrowTime0_1),this.produceAnm="Produce_Small",this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.anmControl.playRandom(),this.body.worldScale=new h(this.currentScale,this.currentScale,this.currentScale)},e.animationListener=function(t){"Produce"==t.name?this._produce():"ProduceFood"==t.name?(this._produce(),this._produce(),this._produce()):"foodEnd"==t.name&&this.foodEnd()},e.playProduceAnimation=function(){this.producing=!0,this.setCD(this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional),this.anmControl.playAnimation(this.produceAnm,1,.1,Math.max(1,1.1/this.busy)),this.soundResSunShroom.playProduceSound()},e.grow=function(){this.soundResSunShroom.playGrowSound(),this.anmControl.playAnimation("Grow",1),this.growthCountdown=this._objdataOwn.GrowTime1_2,this.growthStage++,0==this.growthStage?(this.shouldScale=.6*this.orgWorldScale,this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.produceAnm="Produce_Small"):1==this.growthStage?(this.shouldScale=.8*this.orgWorldScale,this.anmControl.IdleAnim="Idle_Mid",this.anmControl.RandomAnim=["Random_Mid"],this.produceAnm="Produce_Mid"):(this.shouldScale=1*this.orgWorldScale,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.produceAnm="Produce"),this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1)},e.specialPlantUpdate=function(t){if(this.busy>0&&(this.busy-=t),this.busy<=0&&this.playProduceAnimation(),this.growthCountdown>0&&this.growthStage<2&&(this.growthCountdown-=t),this.growthCountdown<=0&&(this.growthCountdown=0,!this.producing&&this.growthStage<2&&this.grow()),this.currentScale!=this.shouldScale){var o=this.shouldScale-this.currentScale;0==this.step&&(this.step=o/60),this.currentScale+=this.step*t*60,o*this.step<0&&(this.currentScale=this.shouldScale)}else this.step=0;this.body.worldScale.x!=this.shouldScale&&(this.body.worldScale=new h(this.currentScale,this.currentScale,this.currentScale))},o}(l)).prototype,"soundResSunShroom",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),P=R))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/TallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,a,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){i=t.WallNutPlant}],execute:function(){var s;a._RF.push({},"32029KEr/9LPa6AKkS+xB/b","TallNut",void 0);var o=e.ccclass;e.property,t("TallNutPlant",o("TallNutPlant")(s=function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var e=a.prototype;return e.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.setArmor(0),this.armorHealth=this.armorToughness,this.foodable=!1,this.foodEnd(),this.setAnimation(0)},e.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,a=this.anmControl;switch(t){case 1:a.IdleAnim="Idle1",this.deathAnm="Death1";break;case 2:a.IdleAnim="Idle2",this.deathAnm="Death2";break;default:a.IdleAnim="Idle0",this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)a.playRandom(),null==(n=this.plantInLnC)||n.readIndex()}},e.onDamaged=function(t,n,a){for(var e=1;e<=3;e++)if(a<=this.toughness/3*e){this.setAnimation(3-e);break}},e.animationListener=function(t){},a}(i))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/testScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts"],(function(t){var n,e,i,a,o,r,l,m,s,c,u,p,h,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Label,m=t.AudioClip,s=t.dragonBones,c=t.input,u=t.Input,p=t.KeyCode,h=t.Component},function(t){A=t.CardFeatureTotal}],execute:function(){var y,d,f,N,b,T,P,g,v,E,D;o._RF.push({},"1d57cs/IpdP/J12KO9nu/kj","testScene",void 0);var L=r.ccclass,F=r.property;t("testScene",(y=L("testScene"),d=F(l),f=F(m),N=F(s.ArmatureDisplay),b=F(A),y((g=n((P=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"anmNameLabel",g,a(n)),i(n,"foodSound",v,a(n)),i(n,"plant",E,a(n)),n.animations=[{Name:"Idle1",AnmName:"Idle",PlayTime:2},{Name:"Idle2",AnmName:"Rand",PlayTime:1},{Name:"PLANTFOOD",AnmName:"Food",PlayTime:3},{Name:"IDLE_PLANTFOOD",AnmName:"Idle_Food",PlayTime:10},{Name:"WATER",AnmName:"Water",PlayTime:3},{Name:"Death",AnmName:"Death",PlayTime:3}],n.currentAnimation=0,i(n,"cf",D,a(n)),n}e(n,t);var o=n.prototype;return o.switchAnimation=function(){this.anmNameLabel.string=this.animations[this.currentAnimation].Name;var t=this.animations[this.currentAnimation].AnmName;this.plant.playAnimation(t,this.animations[this.currentAnimation].PlayTime),this.currentAnimation++,this.currentAnimation>=this.animations.length&&(this.currentAnimation=0)},o.start=function(){var t=this;this.currentAnimation=0,this.plant.on(s.EventObject.FRAME_EVENT,(function(t){t.name}),this),this.plant.on(s.EventObject.COMPLETE,(function(){t.switchAnimation()}),this),c.on(u.EventType.KEY_DOWN,(function(n){n.keyCode==p.SPACE&&t.switchAnimation()})),this.cf&&(this.cf.ca._plant.playAnimation("skyshooter"),console.log(1))},n}(h)).prototype,"anmNameLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(P.prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(P.prototype,"plant",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(P.prototype,"cf",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=P))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/ThreePeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./Square.ts","./CharacterManager.ts"],(function(t){var n,e,o,i,a,s,r,h,c,l,d,u,L;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec2,a=t.Vec3,s=t.HALF_PI},function(t){r=t.peaShooter,h=t.PeashooterPlant},function(t){c=t.NodePools},function(t){l=t.CharacterType},function(t){d=t.commonShot},function(t){u=t.Square},function(t){L=t.Rectangle}],execute:function(){var p;e._RF.push({},"f6610F4CzZNQrwBOcJg3XSi","ThreePeater",void 0);var f=o.ccclass;o.property,t("ThreePeaterPlant",f("ThreePeater")(p=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).minShootInterval=2,n}n(e,t);var o=e.prototype;return o._shoot3=function(t,n,e){void 0===t&&(t=4),void 0===n&&(n=new i(15,0)),void 0===e&&(e=this.pea);var o=c.instantiatePooly(e),s=this.inLane.prjLayer;if(o){var h=r.shootOnePea(o,new a(this.peaSpawnpoint.getWorldPosition().x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y),s,n,l.zombie).getComponent(d);this.inLnC.havePeaBuff&&h.addPeaBuff(),this._dmgScale&&h.setDamage(h.damage_*this._dmgScale),0!=t&&2!=t||(0==t?h.setLockLane(this.inLane.UpperLane):2==t&&h.setLockLane(this.inLane.LowerLane),h.linearVelocity=new i(15,17*(1-t)),h.deceleration=new i(0,t-1))}},o.setDetecter=function(){this.detector=L.createRectangleNodeSide(this.inLnC.node,u.SquareDisW*(9-this.inLnC.cIndex),3*u.SquareDisH)},o.detectEnemy=function(){for(var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),n=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),e=0;e<t.length;e++)if(this.detector.judgeCrossRec(t[e].bodyRec))return!0;for(var o=0;o<n.length;o++)if(n[o].inLnC.cIndex>this.inLnC.cIndex)return!0;return!1},o.animationListener=function(t){"shootM"==t.name&&(this._shoot3(1),this.soundRes.playShootSound()),"shootU"==t.name&&0!=this.inLane.LaneIndex&&this._shoot3(0),"shootD"==t.name&&5!=this.inLane.LaneIndex&&this._shoot3(2)},o.specialPlantFood=function(){var t=this;this.isGatling()&&this.upgrade(),this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0;var n=this._objdataOwn.PlantfoodPeaCount,e=0;this.schedule((function(){var o=2*s*(n/2-Math.abs(e%n-n/2))/n;t._shoot3(3,new i(15*Math.cos(o),15*Math.sin(o))),t._shoot3(3,new i(15*Math.cos(o),-15*Math.sin(o))),t._shoot3(3),++e>n&&t.foodEnd()}),2/n,n,.01)},o._shootPeaAnimation=function(){var t="Shoot111";0==this.inLane.LaneIndex&&(t="Shoot110"),4==this.inLane.LaneIndex&&(t="Shoot011");var n=Math.max(.72/this.busy,1);this.anmControl.playAnimation(t,1,.1*this._cdScale,n)},e}(h))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/Tide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./NodePools.ts","./SoundsController.ts","./FrontYard.ts"],(function(t){var i,e,n,o,r,s,a,u,l,h,d,c,p,f,b,g,m,v,y,S,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.Prefab,l=t.Node,h=t.AudioClip,d=t.dragonBones,c=t.AudioSource,p=t.instantiate,f=t.Vec3,b=t.tween,g=t.Color,m=t.Component},function(t){v=t.Square},function(t){y=t.ArrayGet},function(t){S=t.SoundFXController},function(t){w=t.FrontYard}],execute:function(){var C,P,q,x,A,T,M,z,D,_,W,F,L;s._RF.push({},"c9fecsnRNZLHZrYMy0mtb8t","Tide",void 0);var N=a.ccclass,O=a.property,X=function(t,i){this.master=void 0,this.db=void 0,this.db=t.getComponent(d.ArmatureDisplay),this.master=i};t("Tide",(C=N("Tide"),P=O(u),q=O([l]),x=O(h),A=O(h),T=O([h]),C((D=i((z=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=t.call.apply(t,[this].concat(r))||this).blueSquares=[],n(i,"blue",D,o(i)),i._x=void 0,i._y=void 0,i.db=void 0,n(i,"tideMain",_,o(i)),i.tweening=void 0,i.moving=!1,i.pos=9,n(i,"pullSound",W,o(i)),n(i,"pushSound",F,o(i)),n(i,"ambience",L,o(i)),i.busyAmb=0,i.leftestX=0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){this.db=this.node.getChildByName("Main").getComponent(d.ArmatureDisplay),this.getComponent(c)||this.addComponent(c)},s.standardize=function(t){var i=this;void 0===t&&(t=9),this.leftestX=v.getSquareWorldPosition(0,0,0).x;var e=v.getSquareWorldPosition(2,t-1,1);this.pos=t,this.x=e.x,this.y=e.y;for(var n=0;n<5;n++)for(var o=0;o<9;o++)if((n+o)%2==0){var r=p(this.blue);r.parent=this.node.getChildByName("BlueSquares");var s=new X(r,v.getSquare(n,o)),a=v.getSquareWorldPosition(n,o);s.db.node.worldPosition=new f(a.x,a.y),this.blueSquares.push(s)}this.onPosChange(t-1,t),this.scheduleOnce((function(){i.onPosChange(t-1,t)}))},s.pushTide=function(t){var i=this;if(!(t<=0)){this.pos-t<0&&(t=this.pos),this.moving=!0;var e=b(this).by(3,{x:-t*v.SquareDisW},{easing:"cubicInOut"}).call((function(){i.moving=!1})).start();this.tweening=e,this.getComponent(c).playOneShot(this.pushSound,S.SoundFXVolume)}},s.pullTide=function(t){var i=this;if(!(t<=0)){this.pos+t>9&&(t=9-this.pos),this.moving=!0;var e=b(this).by(3,{x:t*v.SquareDisW},{easing:"cubicInOut"}).call((function(){i.moving=!1})).start();this.tweening=e,this.getComponent(c).playOneShot(this.pullSound,S.SoundFXVolume)}},s.moveTide=function(t){var i=t;t>9&&(i=9),t<0&&(i=0);var e=i-this.pos;e<0&&this.pushTide(-e),e>0&&this.pullTide(e)},s.playAmbience=function(){if(this.busyAmb>0&&this.busyAmb--,this.busyAmb<=0&&(this.busyAmb=0,this.ambience.length)){var t=5+Math.round(5*Math.random());this.busyAmb=60*t,this.getComponent(c).playOneShot(y.getRandom(this.ambience),S.SoundFXVolume)}},s.onPosChange=function(t,i){for(var e=i;e<=9;e++)for(var n=0;n<5;n++){var o;null==(o=v.getLnC(n,e))||o.readTileType()}for(var r=0;r<i;r++)for(var s=0;s<5;s++){var a;null==(a=v.getLnC(s,r))||a.readTileType()}},s.judgePos=function(){for(var t=this.pos,i=9,e=this.x,n=v.getSquareWorldPosition(0,0).x,o=0;o<9;o++){var r=n+v.SquareDisW*(o-1),s=n+v.SquareDisW*o;if(r<=e&&s>e){i=o;break}}this.pos=i,t!=i&&this.onPosChange(t,i)},s.update=function(t){var i=this,e=this.db.color,n=this.db.customMaterial,o=n.passes[0].getHandle("chillColor");n.passes[0].setUniform(o,w.currentLawn.atNight?1:0);var r=w.currentLawn.atNight?177:255;this.db.color=e=new g(r,r,255,255),this.blueSquares.forEach((function(t){var n=(t.db.node.worldPosition.x-i.x)/v.SquareDisW,o=255*(n<0?0:Math.min(1,n/2));t.db.color=new g(e.r,e.g,e.b,o)})),this.judgePos(),this.playAmbience()},r(i,[{key:"x",get:function(){return this._x},set:function(t){this.tideMain.forEach((function(i){i.worldPosition=new f(t,i.worldPosition.y,i.worldPosition.z)})),this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this.tideMain.forEach((function(i){i.worldPosition=new f(i.worldPosition.x,t,i.worldPosition.z)})),this._y=t}}]),i}(m)).prototype,"blue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"tideMain",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(z.prototype,"pullSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(z.prototype,"pushSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(z.prototype,"ambience",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=z))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts","./Tiles.ts","./GridItem.ts"],(function(i){var e,n,t,s,r,l,o,a,c,u,h,d,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,s=i.assertThisInitialized,r=i.createClass},function(i){l=i.cclegacy,o=i._decorator,a=i.Vec2,c=i.Vec3},function(i){u=i.ParticleSelfdestroy},function(i){h=i.Square},function(i){d=i.tiles},function(i){f=i.GridItem}],execute:function(){var p,C,L,I,g;l._RF.push({},"c7175wUllRAN4BK3lvhsK+r","Tile",void 0);var v=o.ccclass,S=o.property;i("Tile",(p=v("Tile"),C=S(a),p((g=e((I=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,t(e,"validSize",g,s(e)),e.tileID=0,e.gridItemCP=void 0,e._inLnC=void 0,e}n(e,i);var l=e.prototype;return l.specialTileOnLoad=function(){},l.specialOnLoad=function(){this.gridItemCP=this.getComponent(f),this.gridItemCP||(this.gridItemCP=this.addComponent(f)),this.gridItemCP._component=this,this.specialTileOnLoad()},l.setTileParent=function(i){this.node.parent=i.inLane.tileLayer},l.onLnCCall=function(i){},l.specialDie=function(){},l.die=function(){var i,e;d.deleteTile(this);var n=this._inLnC.tilesInSquare.indexOf(this);-1!=n&&this._inLnC.tilesInSquare.splice(n,1),null==(i=this._inLnC)||i.readIndex(),this._inLnC=null,this.db.playAnimation("Die",1/0),null==(e=this.gridItemCP)||e.delete(),this.specialDie()},l.onLnCChange=function(i,e){},l.tileOnEnable=function(){},l.specialOnEnable=function(){var i;this.tileOnEnable(),null==(i=this.gridItemCP)||i.register(),this.node.worldScale=new c(h.SquareDisW/this.validSize.x,h.SquareDisH/this.validSize.y,1)},l.onFoodedByPlayer=function(){},l.spawnZombie=function(i,e){return!this.inLnC||isNaN(i)||isNaN(e)?[]:this.inLnC.spawnZombie(i,e,!0)},r(e,[{key:"inLnC",get:function(){return this._inLnC},set:function(i){if(i!=this._inLnC)if(null!=i&&i.isInLawn()){if(d.registerTile(this),this.onLnCChange(this._inLnC,i),this.setTileParent(i),this.node.worldPosition=i.node.worldPosition,this._inLnC){var e=this._inLnC.tilesInSquare.indexOf(this);-1!=e&&this._inLnC.tilesInSquare.splice(e,1)}-1==i.tilesInSquare.indexOf(this)&&i.tilesInSquare.push(this)}else this.die();this._inLnC=i}}]),e}(u)).prototype,"validSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(72,84)}}),L=I))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/TileLiquid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./GridItem.ts"],(function(i){var t,e,n,r,o,s,l;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,r=i._decorator},function(i){o=i.ParticleSelfdestroy},function(i){s=i.GridItem,l=i.GridItemEnum}],execute:function(){var u;n._RF.push({},"43ca6I6UjlIhIAo9GKd98JV","TileLiquid",void 0);var a=r.ccclass;r.property,i("TileLiquid",a("TileLiquid")(u=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this)._liquidID=0,t.inLnC=void 0,t.GridItemCP=void 0,t}t(n,i);var r=n.prototype;return r.specialOnLoad=function(){this.getComponent(s)||this.addComponent(s),this.GridItemCP=this.getComponent(s),this.GridItemCP._component=this},r.specialOnEnable=function(){var i;null==(i=this.db)||i.playAnimation("Spawn"),this.GridItemCP.register()},r.die=function(){var i;null==(i=this.db)||i.playAnimation("Fade",1/0),this.GridItemCP.delete()},r.setInLnC=function(i){this.inLnC=i},r.spawnZombie=function(i,t){return!this.inLnC||isNaN(i)||isNaN(t)?[]:this.inLnC.spawnZombie(i,t,!0)},e(n,[{key:"liquidID",get:function(){return this._liquidID},set:function(i){this.GridItemCP.setGridItemType([l.tile_liquid,l.tile_liquid+i]),this._liquidID=i}}]),n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Tiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./foodLinkTile.ts"],(function(e){var i,o,n,r,t,l,a,s,u,f,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,a=e.Prefab,s=e.Component},function(e){u=e.instantiatePooly},function(e){f=e.FoodLinkTileTypeEnum,c=e.foodLinkTile}],execute:function(){var p,d,b,h,m,k,g,L,y,T,w,P,D,z,v,A,N,E,x,B,I,R,_;t._RF.push({},"aeb05Pyx3NEA6fSKLUD+AAV","Tiles",void 0);var F=l.ccclass,G=l.property,C=(e("TileEnum",function(e){return e[e.foodLinker=0]="foodLinker",e[e.cart=1]="cart",e[e.rail=2]="rail",e[e.endangered=3]="endangered",e[e.amount=4]="amount",e}({})),e("tiles",function(){function e(){}return e.registerTile=function(e){-1==this.res.tilePool.indexOf(e)&&this.res.tilePool.push(e)},e.deleteTile=function(e){var i=this.res.tilePool.indexOf(e);-1!=i&&this.res.tilePool.splice(i,1)},e.tilePool=function(){return this.res.tilePool.concat()},e.rail=function(){return this.res.rail},e.cart=function(){return this.res.cart},e.endangeredTile=function(){return this.res.endangeredTile},e.foodLinkTile=function(e){var i=this.res.foodLinkAlpha,o=0;if(e&&!isNaN(Number(e.ID)))switch(o=Number(e.ID)){case f.beta:i=this.res.foodLinkBeta;break;case f.delta:i=this.res.foodLinkDelta;break;case f.gamma:i=this.res.foodLinkGamma;break;case f.epsilon:i=this.res.foodLinkEpsilon;break;default:i=this.res.foodLinkAlpha,o=f.alpha}var n=u(i).getComponent(c);return n.foodLinkID=o,isNaN(e.PropagationDelay)?n.propagationDelay=0:n.propagationDelay=e.PropagationDelay,n},e.mold=function(){return this.res.mold},e.flower=function(){return this.res.flower},e}()));C.res=void 0;e("TileRes",(p=F("TilesRe"),d=G(a),b=G(a),h=G(a),m=G(a),k=G(a),g=G(a),L=G(a),y=G(a),T=G(a),w=G(a),p((z=i((D=function(e){function i(){for(var i,o=arguments.length,t=new Array(o),l=0;l<o;l++)t[l]=arguments[l];return i=e.call.apply(e,[this].concat(t))||this,n(i,"endangeredTile",z,r(i)),n(i,"rail",v,r(i)),n(i,"cart",A,r(i)),n(i,"mold",N,r(i)),n(i,"flower",E,r(i)),n(i,"foodLinkAlpha",x,r(i)),n(i,"foodLinkBeta",B,r(i)),n(i,"foodLinkDelta",I,r(i)),n(i,"foodLinkGamma",R,r(i)),n(i,"foodLinkEpsilon",_,r(i)),i.tilePool=[],i}return o(i,e),i.prototype.onLoad=function(){C.res=this},i}(s)).prototype,"endangeredTile",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(D.prototype,"rail",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(D.prototype,"cart",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(D.prototype,"mold",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(D.prototype,"flower",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(D.prototype,"foodLinkAlpha",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(D.prototype,"foodLinkBeta",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(D.prototype,"foodLinkDelta",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(D.prototype,"foodLinkGamma",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(D.prototype,"foodLinkEpsilon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D))||P));t._RF.pop()}}}));

System.register("chunks:///_virtual/TileTurnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Tiles.ts","./foodLinkTile.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var i,e,t,o,l,r,a,u,s,c,p,f,d;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){l=n.cclegacy,r=n._decorator,a=n.Enum,u=n.AudioClip},function(n){s=n.Plant},function(n){c=n.TileEnum},function(n){p=n.FoodLinkTileTypeEnum},function(n){f=n.sounds},function(n){d=n.ArrayGet}],execute:function(){var y,h,T,b,g,m,v;l._RF.push({},"e7b0cdNc7tGgIn6ey2N9vVp","TileTurnip",void 0);var L=r.ccclass,P=r.property;a(p);n("TileTurnipPlant",(y=L("TileTurnipPlant"),h=P({type:p}),T=P([u]),y((m=i((g=function(n){function i(){for(var i,e=arguments.length,l=new Array(e),r=0;r<e;r++)l[r]=arguments[r];return i=n.call.apply(n,[this].concat(l))||this,t(i,"foodLinkType",m,o(i)),t(i,"digSounds",v,o(i)),i}e(i,n);var l=i.prototype;return l.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.invincible=!0,this.anmControl.playAnimation("Dig",1,0,1),f.play(d.getRandom(this.digSounds),1,.1)},l.waterable=function(){return!1},l.animationListener=function(n){var i;if("tile"==n.name&&(this.die(!0,!1,!1),null!=(i=this.plantInLnC)&&i.tileExistable(c.foodLinker,!0))){var e,t=null==(e=this.plantInLnC)?void 0:e.putTile(c.foodLinker,{ID:this.foodLinkType,PropagationDelay:1},!1);null==t||t.flash(),null==t||t.replayAll()}},i}(s)).prototype,"foodLinkType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.epsilon}}),v=i(g.prototype,"digSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./NodePools.ts","./CharacterManager.ts","./SoundRescourses.ts","./Particles.ts","./Character.ts","./GridItem.ts"],(function(t){var e,i,n,a,o,s,r,h,l,d,c,u,m,g,b,p,y,f,C,S,P,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,h=t.Prefab,l=t.CCFloat,d=t.Size,c=t.Vec2,u=t.dragonBones,m=t.Material,g=t.Color},function(t){b=t.materialRes},function(t){p=t.NodePools},function(t){y=t.Rectangle,f=t.TombPool},function(t){C=t.sounds},function(t){S=t.particle},function(t){P=t.Character},function(t){v=t.GridItem}],execute:function(){var w,R,L,T,I,D,z,_,A,N,B;s._RF.push({},"f6bb0i5zL9AkK46tHIhjk6U","Tomb",void 0);var M=r.ccclass,x=r.property;t("Tomb",(w=M("Tomb"),R=x(h),L=x(l),T=x(Boolean),I=x(d),w((_=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"damageParticle",_,a(e)),e.health=0,n(e,"toughness",A,a(e)),e.hurting=0,e.body=null,e.stage=-1,n(e,"bustable",N,a(e)),e.mainSlot=void 0,e.GridItemCP=void 0,e.dead=!1,n(e,"bodyRecSize",B,a(e)),e.bodyRec=y.createRectangleSide(new c(1e5,1e5),0,0),e._hidden=!1,e.material=void 0,e}i(e,t);var s=e.prototype;return s.isAlive=function(){return!this.dead},s.onDamaged=function(t,e){var i;if(e<=0)this.die();else{var n=0;e>=this.toughness?n=0:e>=this.toughness/4*3?n=1:e>=this.toughness/2?n=2:e>=this.toughness/4?n=3:e>=0&&(n=4),n!=this.stage&&n>1&&this.playParticle(n-1),this.stage=n,null==(i=this.mainSlot)||i._setDisplayIndex(n)}},s.playSpawnParticle=function(){var t=p.instantiatePooly(S.dirtSpawn());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,C.playDirtRise(!1)},s.playParticle=function(t){var e=p.instantiatePooly(this.damageParticle);e.parent=this.node.parent,e.worldPosition=this.node.worldPosition,e.worldScale=this.node.worldScale,e.getComponent(u.ArmatureDisplay).playAnimation("Play"+t.toString()),C.playTombBreak()},s.specialTombDie=function(t){},s.die=function(t){var e,i;void 0===t&&(t=!0),this.specialTombDie(t),t&&this.playParticle(4),this.dead=!0,f.deleteTomb(this),null==(e=this.inLane)||e.deleteTomb(this),null==(i=this.GridItemCP)||i.delete(),this.inLnC&&(this.inLnC.tombStone=null,this.inLnC.readIndex()),p.destroyPooly(this.node),this.stage=-1},s.characterOnLoad=function(){this.body=this.node.getChildByName("Body").getComponent(u.ArmatureDisplay),this.db=this.body;var t=new m;t.initialize({effectAsset:b.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0),this.mainSlot=this.body.armature().getSlot("MAIN"),this.getComponent(v)||this.addComponent(v),this.GridItemCP=this.getComponent(v),this.GridItemCP._component=this},s.characterOnEnable=function(){this.dead=!1,f.registerTomb(this),this._hidden=!1,this.body.playAnimation("Spawn"),this.health=this.toughness,this.hurting=0,this.stage=-1,this.onDamaged(this.toughness,this.toughness)},s.dealDamage=function(t){var e=this.health+0;this.health-=t,this.hurting=10,this.onDamaged(e,this.health)},s.characterUpdate=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},s.setBodyRec=function(){this._hidden||this.health<=0?this.bodyRec=y.createRectangleSide(new c(1e5,1e5),0,0):this.bodyRec=y.createRectangleNodeSide(this.node,this.bodyRecSize.height,this.bodyRecSize.width,90)},s.characterOnLaneChange=function(t,e){null==t||t.deleteTomb(this),null==e||e.addTomb(this)},s.characterOnSquareChange=function(t,e){var i;this.setBodyRec(),null!=t&&t.tombStone&&(t.tombStone=null,t.readIndex()),e.tombStone=this,e.readIndex(),null==(i=this.GridItemCP)||i.register()},s.onLnCSet=function(t,e){},s.shouldMaterial=function(){var t=new g(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.body.customMaterial=this.material},s.characterOnDisable=function(){var t;f.deleteTomb(this),null==(t=this.inLane)||t.deleteTomb(this),this.inLnC&&(this.inLnC.tombStone=null,this.inLnC.readIndex())},s.characterLateUpdate=function(t){var e;this.dead?p.destroyPooly(this.node):(null==(e=this.inLnC)?void 0:e.tombStone)!=this&&this.die(!1)},s.spawnZombie=function(t,e){return!this.inLnC||isNaN(t)||isNaN(e)?[]:this.inLnC.spawnZombie(t,e,!0)},o(e,[{key:"hidden",get:function(){return this._hidden},set:function(t){var e;(this._hidden=t,t)?null==(e=this.body.armature().getSlot("MAIN"))||e._setDisplayIndex(-1):(this.stage=-1,this.onDamaged(this.health,this.health),this.playSpawnParticle());this.setBodyRec()}}]),e}(P)).prototype,"damageParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(z.prototype,"toughness",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 700}}),N=e(z.prototype,"bustable",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=e(z.prototype,"bodyRecSize",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(50,50)}}),D=z))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/tombBone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Tombs.ts","./CharacterManager.ts","./CabbagePult.ts","./Character.ts"],(function(n){var t,o,e,r,a,c,i,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){r=n.commonShot},function(n){a=n.TombEnum},function(n){c=n.Umbrellas},function(n){i=n.cabbagePult},function(n){u=n.CharacterType}],execute:function(){var l;o._RF.push({},"1a86fAtX2JEdLclRTAjmPcZ","tombBone",void 0);var s=e.ccclass;e.property,n("tombBone",s("tombBone")(l=function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.prototype.specialOnGroundHit=function(n){var t=this;if(n.isInLawn()){var o=!1;if(c.umbrellas.forEach((function(n){var e,r;!o&&n.detector.judgeInRecNode(t.node)&&(o=!0,i.lobOneCabbageOnNode(t.node,t.node.worldPosition,0,t.node.parent,t.linearVelocity.x>=0?null==(e=t.inLane)?void 0:e.toRight:null==(r=t.inLane)?void 0:r.toLeft,2,u.default,!0),n.owner.umbrella())})),o)return!1;n.addTomb(a.egypt,!0,!0)}return!0},o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/TombPlantfood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(o){var t,n,r,e,i,a,l,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,r=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator},function(o){l=o.Tomb},function(o){c=o.sunflower}],execute:function(){var u,s,p,f,d;i._RF.push({},"3c7a23C7TpA/JeXvAprml3S","TombPlantfood",void 0);var b=a.ccclass,m=a.property;o("TombPlantfood",(u=b("TombPlantfood"),s=m(Number),u((d=t((f=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=o.call.apply(o,[this].concat(i))||this,r(t,"plantfoodCount",d,e(t)),t}return n(t,o),t.prototype.specialTombDie=function(o){for(var t=0;t<this.plantfoodCount;t++)c.producePlantFood(this.worldPosition)},t}(l)).prototype,"plantfoodCount",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tombs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridItem.ts","./FrontYard.ts"],(function(r){var e,t,o,i,n,a,u,b,l,m,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,u=r.Prefab,b=r.Component},function(r){l=r.GridItem,m=r.GridItemEnum},function(r){s=r.FrontYard}],execute:function(){var c,p,T,f,y,d,g,h,k,w,D,_,E,I,z,v,G,B,F;n._RF.push({},"cb12ei5DPtMULkKKnzbNN6d","Tombs",void 0);var P=a.ccclass,L=a.property,N=r("TombEnum",function(r){return r[r.tutorial=0]="tutorial",r[r.egypt=1]="egypt",r[r.pirate=2]="pirate",r[r.cowboy=3]="cowboy",r[r.future=4]="future",r[r.dark=5]="dark",r[r.dark_sun=6]="dark_sun",r[r.dark_pf=7]="dark_pf",r}({})),C=r("tombs",function(){function r(){}return r.getTomb=function(r){switch(r){case N.tutorial:return this.res.TutorialTomb;case N.egypt:return this.res.EgyptTomb;case N.pirate:return this.res.PirateTomb;case N.cowboy:return this.res.CowboyTomb;case N.future:return this.res.FutureTomb;case N.dark:return this.res.DarkTomb;case N.dark_pf:return this.res.DarkTomb_pf;case N.dark_sun:return this.res.DarkTomb_sun;default:return this.res.TutorialTomb}},r.getTombEnumByRTID=function(r){var e=l.getGridItemEnumByRTID(r);return e?this.getTombEnumByGridItemID(e):NaN},r.getTombEnumByGridItemID=function(r){return r-m.gravestone-1},r.getTombEnumByLawn=function(r){var e=s.getLawnFeature(r),t=l.getGridItemEnumByCodeName(e.GRAVESTONE);return this.getTombEnumByGridItemID(t)},r}());C.res=void 0;r("Tombs",(c=P("Tombs"),p=L(u),T=L(u),f=L(u),y=L(u),d=L(u),g=L(u),h=L(u),k=L(u),c((_=e((D=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,o(e,"EgyptTomb",_,i(e)),o(e,"PirateTomb",E,i(e)),o(e,"CowboyTomb",I,i(e)),o(e,"FutureTomb",z,i(e)),o(e,"DarkTomb",v,i(e)),o(e,"DarkTomb_sun",G,i(e)),o(e,"DarkTomb_pf",B,i(e)),o(e,"TutorialTomb",F,i(e)),e}return t(e,r),e.prototype.onLoad=function(){C.res=this},e}(b)).prototype,"EgyptTomb",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(D.prototype,"PirateTomb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(D.prototype,"CowboyTomb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(D.prototype,"FutureTomb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(D.prototype,"DarkTomb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(D.prototype,"DarkTomb_sun",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(D.prototype,"DarkTomb_pf",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(D.prototype,"TutorialTomb",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=D))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/TombSun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(e){var n,t,o,r,i,u,c,s,a;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,c=e.Vec3},function(e){s=e.Tomb},function(e){a=e.sunflower}],execute:function(){var l,p,f,b,m;i._RF.push({},"0ac4fQX2FxDrqFSmvnp+Eqy","TombSun",void 0);var h=u.ccclass,y=u.property;e("TombSun",(l=h("TombSun"),p=y(Number),l((m=n((b=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return n=e.call.apply(e,[this].concat(i))||this,o(n,"sunValue",m,r(n)),n}return t(n,e),n.prototype.specialTombDie=function(e){a.produceSun(this.sunValue,new c(this.worldPositionX,this.worldPositionY,10),40,!0,!0)},n}(s)).prototype,"sunValue",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=b))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Torchwood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./GroundFire.ts","./Jalapeno.ts","./SoundRescourses.ts"],(function(n){var e,t,o,i,a,r,l,s,c,u,d,h,f,p,g,y,m,b,w,P,S,C;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,c=n.Vec2,u=n.Vec3},function(n){d=n.Plant,h=n.PlantProps},function(n){f=n.NodePools},function(n){p=n.peaShooter},function(n){g=n.CharacterType},function(n){y=n.Rectangle},function(n){m=n.Square},function(n){b=n.zombieDamageType},function(n){w=n.GroundFireColorEnum,P=n.GroundFireSpreadStyleEnum},function(n){S=n.jalapeno},function(n){C=n.sounds}],execute:function(){var v,D,_,L,O,R,I,j,z,A,F,E,k,B,T,x,q,G;a._RF.push({},"351b4USk6JLE4y6eM9xWOiD","Torchwood",void 0);var H=r.ccclass,M=r.property,N=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).Damage=6.25,e.DamageScale=2,e.DamageScalePlantfooded=3,e.DamageInterval=1,e.DeathDamage=450,e.DeathFireDuration=5,e.PlantfoodDuration=5,e}return t(e,n),e}(h),Y=(v=H("torchwoodSound"),D=M([l]),_=M([l]),L=M([l]),v((I=e((R=function(){function n(){o(this,"foodSounds",I,this),o(this,"igniteSounds",j,this),o(this,"attackSounds",z,this)}var e=n.prototype;return e.playFoodSound=function(){C.playArray(this.foodSounds,1,.1)},e.playIgniteSound=function(){C.playArray(this.igniteSounds,1,.5)},e.playAttackSound=function(){C.playArray(this.attackSounds,1,1)},n}()).prototype,"foodSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(R.prototype,"igniteSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(R.prototype,"attackSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=R))||O);n("TorchwoodPlant",(A=H("TorchwoodPlant"),F=M(Y),E=M(s),k=M(s),A((x=e((T=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).ignitedCSs=[],o(e,"soundRes",x,i(e)),e._objdataOwn=new N,e.detector=y.createRectangleCenter(new c,0,0),e.busy=0,o(e,"blueParticle",q,i(e)),o(e,"yellowParticle",G,i(e)),e.fooded=!1,e}t(e,n);var a=e.prototype;return a.ignite=function(n,e){var t;void 0===e&&(e=!1);var o=!1,i=null;if(!e&&n.canBeYellowIgnited&&n.yellowIgnited){var a=f.instantiatePooly(n.yellowIgnited);a.parent=n.node.parent;var r=p.shootOnePea(a,new u(n._worldPositionX,n._worldPositionY),n.height,n.node.parent,new c,g.zombie);r.copy(n,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,n.fade(),this.ignitedCSs.push(r),i=r}else if(e&&n.canBeBlueIgnited&&n.blueIgnited){var l=f.instantiatePooly(n.blueIgnited);l.parent=n.node.parent;var s=p.shootOnePea(l,new u(n._worldPositionX,n._worldPositionY),n.height,n.node.parent,new c,g.zombie);s.copy(n,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,n.fade(),this.ignitedCSs.push(s),i=s}return o&&this.soundRes.playIgniteSound(),this.inLnC.havePeaBuff&&(null==(t=i)||t.addPeaBuff()),i},a.animationListener=function(n){if("explode"==n.name){var e=this._objdataOwn.DeathDamage;this._dmgScale&&(e*=this._dmgScale),S.burnFromLnC(this.inLnC,e,!0,this._objdataOwn.DeathFireDuration,10,w.yellow,P.cross,9,9)}},a.spawnParticle=function(n){var e=f.instantiatePooly(this.fooded?this.blueParticle:this.yellowParticle);e.parent=n.inLane.prjLayer,e.worldPosition=new u(n.node.worldPosition.x,n.node.worldPosition.y+n.zombieHeight/2,100)},a.detectEnemies=function(){var n=this,e=[];if(this.inLane.zombiePool().concat().forEach((function(t){n.detector.judgeCrossRec(t.bodyRec)&&e.push(t)})),e.length){var t=this._objdataOwn.Damage*(this.fooded?this._objdataOwn.DamageScalePlantfooded:this._objdataOwn.DamageScale);this._dmgScale&&(t*=this._dmgScale),e.forEach((function(e){n.spawnParticle(e),e.dealDamage(t,!0,!1,!1,null,b.fire)}));var o=this._objdataOwn.DamageInterval;this._cdScale>0&&(o*=this._cdScale),this.busy=o,this.soundRes.playAttackSound()}},a.specialPlantOnSquareChange=function(n,e){this.detector=y.createRectangleNodeCenter(e.node,m.SquareDisW,m.SquareDisH)},a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},a.specialPlantFood=function(n){var e=this;this.foodable=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.fooded=!0,this.anmControl.IdleAnim="Idle_Blue",this.anmControl.RandomAnim=[],this.scheduleOnce((function(){e.foodEnd()}),this._objdataOwn.PlantfoodDuration)},a.specialPlantUpdate=function(n){var e=this;this.inLane.prjPool().concat().forEach((function(n){if(n.inLnC==e.inLnC&&-1==e.ignitedCSs.indexOf(n)){var t=e.ignite(n,e.fooded);t&&(t.inLnC=e.inLnC)}})),this.ignitedCSs.concat().forEach((function(n){n.inLnC!=e.inLnC&&e.ignitedCSs.splice(e.ignitedCSs.indexOf(n),1)})),this.busy>0?this.busy-=n:this.detectEnemies()},e}(d)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Y}}),q=e(T.prototype,"blueParticle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(T.prototype,"yellowParticle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=T))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/Trophies.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,r,e;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,e=o.Component}],execute:function(){var s;n._RF.push({},"85f44Xl39BGta8AE7/kY1hI","Trophies",void 0);var u=r.ccclass;r.property,o("TrophyEnum",function(o){return o[o.SunBoost=0]="SunBoost",o[o.ShovelBoost=1]="ShovelBoost",o[o.SlotBoost=2]="SlotBoost",o[o.PlantfoodBoost=3]="PlantfoodBoost",o}({})),o("Trophies",u("Trophies")(s=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var r=n.prototype;return r.start=function(){},r.update=function(o){},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Turnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombies.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(n){var t,o,i,a,e,l,s,r,h,c,u,d,m,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,e=n.createClass},function(n){l=n.cclegacy,s=n._decorator,r=n.CCInteger,h=n.AudioClip},function(n){c=n.PlantType,u=n.Plant},function(n){d=n.ZombieEnum},function(n){m=n.ArrayGet},function(n){p=n.Square},function(n){f=n.sounds}],execute:function(){var g,b,A,k,y,C,L,S,w;l._RF.push({},"6d880Lt6WJCHb4yQwDZCUtl","Turnip",void 0);var P=s.ccclass,I=s.property;n("TurnipPlant",(g=P("TurnipPlant"),b=I(r),A=I(h),k=I(h),g((L=t((C=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),l=0;l<o;l++)e[l]=arguments[l];return(t=n.call.apply(n,[this].concat(e))||this)._blocking=0,t._stage=0,t.idleAnm="Idle0",t.blockStartAnm="BlockStart0",t.blockLoopAnm="BlockLoop0",i(t,"maxFoodThrowAmount",L,a(t)),i(t,"landSound",S,a(t)),i(t,"foodSound",w,a(t)),t}o(t,n);var l=t.prototype;return l.specialPlantUpdate=function(n){this.blocking>0&&(this.blocking-=n)},l.onChiedFailed=function(n){this.blocking=3,this.anmControl.playAnimation(this.blockStartAnm)},l.canBeChied=function(){return!1},l.waterable=function(){return!this.blocking&&0==this.stage},l.throwChildren=function(){var n=this,t=[];if(t.length<this.maxFoodThrowAmount)for(var o=m.randomize(p.getAllLnC()),i=0;t.length<this.maxFoodThrowAmount&&i<o.length;i++){var a=o[i];-1==t.indexOf(a)&&a.putPlantAvailable(this.TYPE,!0,this.ID)&&t.push(a)}t.forEach((function(t){var o=n.inLnC.spawnPlantByPlantEnum(n.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),n.inLnC.pushPlant(o),o.plantType=c.plant,o.anmControl.playAnimation("Flying",1/0),o.leapTo(t,.8,200))}))},l.onLeapEnd=function(){f.play(this.landSound,1,.1),this.anmControl.playAnimation("LeapEnd",1)},l.onDamaged=function(n,t,o){for(var i=0,a=0;a<3;a++)o<=this.toughness*(1-a/3)&&(i=a);i!=this.stage&&(this.stage=i,this.anmControl.playRandom())},l.specialPlantFood=function(n){this.anmControl.playAnimation("Food",2),this.blocking=0,this.stage=0},l.replantable=function(){return this.stage>0},l.replant=function(){this.stage=0,this.anmControl.playRandom(),this.health=this.toughness},l.animationListener=function(n){"throw"==n.name?this.throwChildren():"foodEnd"==n.name?(this.anmControl.playRandom(),this.foodEnd()):"foodSound"==n.name&&f.play(this.foodSound,1,.1)},l.throwAway=function(n,t,o,i){(null==t?void 0:t.ID)==d.monk_nunchaku?this.dealNormalDamage(200):this.normalThrowAway(n,t,o,i)},l.specialPlantOnEnable=function(){this.stage=0,this.blocking=0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.playRandom()},e(t,[{key:"blocking",get:function(){return this._blocking},set:function(n){n<=0&&this._blocking>0?(n=0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.playRandom(.1)):n>0&&this._blocking<=0&&(this.anmControl.IdleAnim=this.blockLoopAnm,this.anmControl.playRandom(.1)),this._blocking=n}},{key:"stage",get:function(){return this._stage},set:function(n){switch(n){case 1:this.idleAnm="Idle1",this.blockStartAnm="BlockStart1",this.blockLoopAnm="BlockLoop1",this.deathAnm="Death1";break;case 2:this.idleAnm="Idle2",this.blockStartAnm="BlockStart2",this.blockLoopAnm="BlockLoop2",this.deathAnm="Death2";break;default:this.idleAnm="Idle0",this.blockStartAnm="BlockStart0",this.blockLoopAnm="BlockLoop0",this.deathAnm="Death0",n=0}var t;(this.anmControl.IdleAnim=this.blocking>0?this.blockLoopAnm:this.idleAnm,this._stage=n,this.dead)||(null==(t=this.plantInLnC)||t.readIndex())}}]),t}(u)).prototype,"maxFoodThrowAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),S=t(C.prototype,"landSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(C.prototype,"foodSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./Cards.ts","./Square.ts","./ShovelUIController.ts","./NodePools.ts","./SunCount.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./SoundsController.ts","./inGame.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./Conveyor.ts","./SettingWindow.ts","./SandBoxLevelSettingWindow.ts","./SandBoxZombieCards.ts","./PowerupFingers.ts","./LnC.ts","./CoinCollecterInGame.ts","./SoundManager.ts","./LevelTaskCount.ts","./KeyListener.ts","./Armors.ts","./CharacterManager.ts","./Zombie.ts","./Materials.ts","./Mouse.ts","./MultiLanguage.ts","./PauseScreen.ts"],(function(e){var t,n,o,i,s,a,r,l,c,u,d,h,p,m,S,g,f,b,w,C,y,v,T,x,B,k,I,P,L,A,E,M,D,O,U,Z,_,F,N,W,G,z,H,R,K,q,Y,j,V,X,J,Q,$,ee,te,ne,oe,ie,se,ae,re,le,ce;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){a=e.cclegacy,r=e._decorator,l=e.Label,c=e.dragonBones,u=e.Node,d=e.Sprite,h=e.Prefab,p=e.Button,m=e.director,S=e.Vec3,g=e.instantiate,f=e.find,b=e.KeyCode,w=e.Color,C=e.Tween,y=e.EventMouse,v=e.input,T=e.Input,x=e.game,B=e.tween,k=e.UIOpacity,I=e.Component},function(e){P=e.cardSelectAlmanac},function(e){L=e.Cards},function(e){A=e.Square},function(e){E=e.ShovelUIController},function(e){M=e.NodePools,D=e.ArrayGet},function(e){O=e.SunCount},function(e){U=e.PlantFoodCount},function(e){Z=e.CardFeatureTotal},function(e){_=e.MusicController},function(e){F=e.inGame},function(e){N=e.FrontYard,W=e.yardType,G=e.stageEffects},function(e){z=e.sounds},function(e){H=e.LevelPlay},function(e){R=e.plants},function(e){K=e.Conveyor},function(e){q=e.Setting},function(e){Y=e.SandBoxLevelSettingWindow},function(e){j=e.SandBoxZombieCards},function(e){V=e.PowerupFingers},function(e){X=e.LnCSpawnZombieStyleEnum},function(e){J=e.CoinCollecterInGame},function(e){Q=e.MusicSortEnum},function(e){$=e.LevelTaskCount},function(e){ee=e.KeyListener},function(e){te=e.armorEnum,ne=e.armors},function(e){oe=e.ZombiePool,ie=e.PlantPool},function(e){se=e.zombieDamageType},function(e){ae=e.materialRes},function(e){re=e.Mouse},function(e){le=e.MultiLanguage},function(e){ce=e.PauseScreen}],execute:function(){var ue,de,he,pe,me,Se,ge,fe,be,we,Ce,ye,ve,Te,xe,Be,ke,Ie,Pe,Le,Ae,Ee,Me,De,Oe,Ue,Ze,_e,Fe,Ne,We,Ge,ze,He,Re,Ke,qe,Ye,je,Ve,Xe,Je,Qe,$e,et,tt,nt,ot,it,st,at,rt,lt,ct,ut;e("setExitToMapScene",(function(t){void 0===t&&(t="worldMapScene");St=e("exitToMapScene",t)})),a._RF.push({},"c2160cIG6JF67sVDFCFV7Hp","UI",void 0);var dt=r.ccclass,ht=r.property,pt=e("gamingSpeed",1),mt=e("superSlowed",!1),St=e("exitToMapScene","worldMapScene");var gt=(ue=dt("UIInGameButtonTips"),de=ht(l),he=ht(l),ue((Se=t((me=function(){function e(){o(this,"RESTART",Se,this),o(this,"EXIT_TO_MAP",ge,this)}return e.prototype.start=function(){this.RESTART.string=le.getStringByPropsWithoutTricks("GamePaused","Restart"),this.EXIT_TO_MAP.string=le.getStringByPropsWithoutTricks("GamePaused","ExitToMap")},e}()).prototype,"RESTART",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(me.prototype,"EXIT_TO_MAP",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=me))||pe);e("UIInGame",(fe=dt("UIInGame"),be=ht(gt),we=ht(c.ArmatureDisplay),Ce=ht(u),ye=ht(d),ve=ht(u),Te=ht(u),xe=ht(h),Be=ht(p),ke=ht(h),Ie=ht(u),Pe=ht([u]),Le=ht(ce),Ae=ht(p),Ee=ht(p),Me=ht(u),De=ht(u),Oe=ht(d),Ue=ht(l),Ze=ht(l),_e=ht(u),Fe=ht(h),Ne=ht(u),fe(((ut=function(t){function a(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"toolTips",ze,i(e)),o(e,"sbZombieSpawnIcon",He,i(e)),e.currentSBZombieAddArmor=0,o(e,"SBZombieArmorIconSlot",Re,i(e)),e.currentSBZombieDirection=0,o(e,"SBZombieZombieDirectionArrow",Ke,i(e)),e.currentFreeSeedPacket=null,e.cards=null,e.squares=null,e.sceneEnabled=!1,o(e,"mouse",qe,i(e)),o(e,"UIUpper",Ye,i(e)),o(e,"sandBoxSettingWindowPrefab",je,i(e)),e.sandBoxSettingWindow=void 0,o(e,"sbButton",Ve,i(e)),e.sbButtonOldPos=void 0,o(e,"SBZombieCards",Xe,i(e)),o(e,"SBZombieCardsSlot",Je,i(e)),o(e,"uiWillBeHiden",Qe,i(e)),e.uiScaleMemorized=[],e.uiHidden=!1,e.shovel=null,e.index=-1,e.willCostSun=0,e.plantInHandType=[],e.plantReady=null,e.currentPlantName=null,e.isImitator=!1,e.shovelReady=null,e.currentSniperPlant=null,e.plantKeyCool=0,e.musicSortIndex=0,e.musicSortEnumGroup=[Q.Stage1_Start,Q.Stage2_Start,Q.Stage3_Start,Q.Stage4_Start,Q.DemonstrateMinigame,Q.UltimateBattle,Q.ZombossIntro],e.stageEffIndex=0,e.paused=!1,o(e,"pauseScreen",$e,i(e)),e.mainCamelTouch=void 0,e.failedCamelTouch=[],e.matchedCamelTouch=[],e.MouseListenOffThisTick=!1,e.MouseClickCoolingDown=2,e.mouseDown=!1,o(e,"pauseButton",et,i(e)),e.normalPause=void 0,e.hoverPause=void 0,e.pressedPause=void 0,o(e,"s2xButton",tt,i(e)),e.normal2x=void 0,e.hover2x=void 0,e.pressed2x=void 0,e.oldTick=m.tick,e.musicI=0,e.gameStarted=!1,o(e,"mouseListener",nt,i(e)),o(e,"plantInHandLayer",ot,i(e)),e.nextLevel=!1,o(e,"windowSplash",it,i(e)),o(e,"gameLoseTip",st,i(e)),o(e,"gameLoseTipSmall",at,i(e)),e.exitNextTick=!1,e.restartNextTick=!1,o(e,"gameLoseButtons",rt,i(e)),e.gameLoseButtonOldPos=new S,o(e,"levelTaskShower",lt,i(e)),o(e,"levelTaskShowerSlot",ct,i(e)),e.levelTasks=[],e.preStartTips=[],e}n(a,t);var r=a.prototype;return r.readSBZombieSpawnStyle=function(e){var t,n="DirectPut";switch(e){case X.dirtSpawn:n="DirtSpawn";break;case X.snowStorm:n="SnowStorm";break;case X.sandStorm:n="SandStorm";break;case X.fromLane:n="FromLane"}null==(t=this.sbZombieSpawnIcon)||t.playAnimation(n,1)},r.switchSBZombieSpawnStyle=function(){Y.zombieSpawnStyle++},r.switchSBZombieAddArmor=function(e){this.SBZombieArmorIconSlot.destroyAllChildren();for(var t=this.currentSBZombieAddArmor+e;t<0;)t+=te.amount;for(;t>=te.amount;)t-=te.amount;this.currentSBZombieAddArmor=t,g(ne.getArmor(t)).parent=this.SBZombieArmorIconSlot},r.addArmorOnZombies_sandbox=function(){A.armorOnAllZombies(this.currentSBZombieAddArmor)},r.switchSBZombieDirection=function(){for(var e=this.currentSBZombieDirection+1;e<0||e>=3;)e=0;switch(this.currentSBZombieDirection=e,e){case 1:case 2:this.SBZombieZombieDirectionArrow.node.angle=-90;break;default:this.SBZombieZombieDirectionArrow.node.angle=90}},r.showSBSettings=function(){this.sandBoxSettingWindow?(mt=e("superSlowed",!1),M.destroyPooly(this.sandBoxSettingWindow),this.sandBoxSettingWindow=null):(mt=e("superSlowed",!0),this.sandBoxSettingWindow=M.instantiatePooly(this.sandBoxSettingWindowPrefab),this.sandBoxSettingWindow.parent=this.UIUpper,this.sandBoxSettingWindow.worldPosition=this.node.parent.worldPosition,this.sandBoxSettingWindow.setSiblingIndex(this.sbButton.node.getSiblingIndex()))},r.hideUI=function(){var e=this;this.uiHidden?(this.uiScaleMemorized.forEach((function(e){e.node.scale=e.oldScale,e.node.position=e.oldPos})),this.uiHidden=!1):(this.uiWillBeHiden.forEach((function(t){e.uiScaleMemorized.push({node:t,oldScale:t.scale.clone(),oldPos:t.position.clone()})})),this.uiScaleMemorized.forEach((function(e){e.node.scale=new S(0,0,0)})),this.uiHidden=!0)},r.cardSelect=function(){this.cards.JudgeSelection(),this.cards.cardSelect(),this.shovel.shovelSelect(),U.component.choose(),this.squares.readIndex()},r.onEnable=function(){var e=this;this.scheduleOnce((function(){e.sceneEnabled=!0}),.1)},r.setSibling=function(){var e=f("Canvas/LawnCommon");this.node.setSiblingIndex(e.getSiblingIndex()),a.cardsAtUpper=e.getSiblingIndex()<this.node.getSiblingIndex(),q.saveSettings()},r.onKeyDown=function(t){var n;if(!H.component.gameLost){var o=L.cardsController.cardSlot;if(H.gameStarted||H.component.lastStandPrepareStarted)if(t.keyCode==b.BACK_QUOTE)this.hideUI();else{switch(t.keyCode){case b.DIGIT_1:if(this.plantKeyCool>0)break;o[0]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[0].getComponent(Z).ID):this.tryChangingIndex(0));break;case b.DIGIT_2:if(this.plantKeyCool>0)break;o[1]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[1].getComponent(Z).ID):this.tryChangingIndex(1));break;case b.DIGIT_3:if(this.plantKeyCool>0)break;o[2]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[2].getComponent(Z).ID):this.tryChangingIndex(2));break;case b.DIGIT_4:if(this.plantKeyCool>0)break;o[3]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[3].getComponent(Z).ID):this.tryChangingIndex(3));break;case b.KEY_Q:if(this.plantKeyCool>0)break;o[4]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[4].getComponent(Z).ID):this.tryChangingIndex(4));break;case b.KEY_W:if(this.plantKeyCool>0)break;o[5]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[5].getComponent(Z).ID):this.tryChangingIndex(5));break;case b.KEY_E:if(this.plantKeyCool>0)break;o[6]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[6].getComponent(Z).ID):this.tryChangingIndex(6));break;case b.KEY_R:if(this.plantKeyCool>0)break;o[7]&&(ee.ctrlDown&&H.sandBoxModeOn?A.allLnCSpawnPlant(L.cardsController.seedPackets[7].getComponent(Z).ID):this.tryChangingIndex(7));break;case b.F3:this.setSibling();break;case b.KEY_K:ee.ctrlDown&&H.sandBoxModeOn&&oe.pool().concat(oe.hypnoPool()).forEach((function(e){e.canBeKilledByRule&&(e.playDie(!0,null,!1,se.physicle,!1,!0,!1),M.destroyPooly(e.node))}));break;case b.KEY_D:ee.ctrlDown&&H.sandBoxModeOn?A.shovelAllPlants():this.tryChangingIndex(-2);break;case b.KEY_F:ee.ctrlDown&&H.sandBoxModeOn?A.foodAllPlants():this.tryChangingIndex(-3);break;case b.KEY_V:this.paused||this.speedUp()}if(H.sandBoxModeOn){if(!this.sandBoxSettingWindow)switch(t.keyCode){case b.ARROW_LEFT:N.pushTide(1);break;case b.ARROW_RIGHT:N.pullTide(1);break;case b.ENTER:N.pullTide(9);break;case b.BACKSPACE:N.addTide(),N.pushTide(9);break;case b.TAB:N.setStageEffect(this.stageEffIndex++%(G.none+1));break;case b.F1:null==(n=F.component)||n.loadZombies();break;case b.F2:N.changeFrontYard((N.currentLawnYardType+1)%W.yardAmount),this.musicI++;break;case b.F5:mt=e("superSlowed",!mt);break;case b.F7:this.sandboxSwitchMusic()}switch(t.keyCode){case b.F6:this.showSBSettings()}}}switch(t.keyCode){case b.SPACE:case b.ESCAPE:this.pauseMenu()}}},r.sandboxSwitchMusic=function(){this.musicSortIndex=(this.musicSortIndex+1)%this.musicSortEnumGroup.length,_.switchMusicSort(this.musicSortEnumGroup[this.musicSortIndex])},r.pauseMenu=function(){if(this.paused)this.paused=!1,this.pauseButton.hoverSprite=this.hoverPause,this.pauseButton.normalSprite=this.normalPause,this.pauseScreen.node.active=!1;else{if(H.component.gameWon)return;this.paused=!0,z.playPause(),this.pauseScreen.node.active=!0,this.pauseButton.hoverSprite=this.pressedPause,this.pauseButton.normalSprite=this.pressedPause}},r.plantInHand=function(e,t){if(void 0===t&&(t=!0),this.plantInHandType=[],this.plantReady=null,this.currentPlantName=null,this.willCostSun=0,t&&e){var n=e.getComponent(Z);this.currentPlantName=n.ID,this.isImitator=n.isImitator,this.plantInHandType=n.thisPlant.TYPE,this.willCostSun=n.SUNCOST,this.plantReady=M.instantiatePooly(R.getPlantsInCard(this.currentPlantName).plantDIS),this.plantReady.parent=this.plantInHandLayer,this.plantReady.getChildByName("Body").getComponent(c.ArmatureDisplay).color=new w(255,255,255,255),this.plantReady.setPosition(0,-20)}},r.spawnPlantCost=function(){var e;8==this.index&&(null==K||null==(e=K.component)||e.spliceCard(this.currentFreeSeedPacket)),O.component.SunDec(this.willCostSun),this.index>=0&&this.index<=7&&this.cards.CoolStart(this.index)},r.setTips=function(){var e;this.pauseScreen.node.active=!0,null==(e=this.pauseScreen)||e.setTips(this.preStartTips),this.pauseScreen.node.updateWorldTransform(),this.pauseScreen.node.active=!1},a.exit=function(){ie.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),a.uiingame.oldTickReturn(),C.stopAll(),M.clearAll(),ee.gotoScene(St,(function(){a.uiingame.paused=!1,M.clearAll(),C.stopAll()})),C.stopAll()},a.restart=function(){ie.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),a.uiingame.oldTickReturn(),C.stopAll(),M.clearAll(),ee.gotoScene("inGameScene",(function(){m.isPaused()&&m.resume(),C.stopAll()})),C.stopAll()},r.tryChangingIndex=function(e){var t;if(!this.paused&&!this.indexLocked&&!H.component.gameLost){var n=!1;switch(this.squares.deletePlantGhosts(),this.currentSniperPlant&&(this.currentSniperPlant.locateCancel(),this.currentSniperPlant.locatorNode=null,this.currentSniperPlant=null),e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:if(this.cards.seedPackets[e]){var o=this.cards.seedPackets[e].getComponent(P);o.getSelectable()?(M.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.cards.seedPackets[e]),z.playCardChosen(),this.squares.plantGhost()),n=!0):(z.playCardChooseFailed(),o.affordable||o.cooling||O.component.playWarn())}break;case 8:null!=(t=this.currentFreeSeedPacket)&&t.enabled&&this.currentFreeSeedPacket.getComponent(P).getSelectable()&&(M.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.currentFreeSeedPacket.node),z.playCardChosen(),this.squares.plantGhost()),n=!0);break;case 9:M.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.squares.plantGhost()),n=!0;break;case-1:if(M.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index<=8&&this.index>=0)this.plantInHand(null,!1),z.playCardCancel();else if(-2==this.index)z.playShovelActive();else if(-4==this.index){var i;null==(i=this.currentSniperPlant)||i.locateCancel(),this.currentSniperPlant=null}null!=j&&j.component&&(j.component.index=-1),this.index=-1,n=!0;break;case-2:E.shovelUI.gameStarted&&(M.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index=-2==this.index?-1:-2,z.playShovelActive(),n=!0);break;case-3:U.plantFoodNum>0||Y.freePF?H.gameStarted&&(this.index=-3==this.index?-1:-3,M.destroyNodeArrayPooly(this.plantInHandLayer.children),-3==this.index&&U.component.addMouseChild(),n=!0):U.plantfoodWarn();break;case-4:-4!=this.index&&(n=!0),this.index=-4;break;case-5:if(H.gameStarted){var s=this.index+0;this.index=-5==this.index?-1:-5,M.destroyNodeArrayPooly(this.plantInHandLayer.children),n=s!=this.index}}n&&(this.cardSelect(),V.component.judgeUIIndex(),8!=this.index&&this.currentFreeSeedPacket&&(z.playCardCancel(),this.currentFreeSeedPacket.getComponent(P).index=0,this.currentFreeSeedPacket=null))}},r.onMouseUp=function(e){var t;e.preventSwallow=!0,this.MouseClickCoolingDown>0||(this.MouseClickCoolingDown=2,e.getButton()==y.BUTTON_LEFT&&(this.mouseDown=!1,-5==this.index&&V.component.onMouseUp(e)),null==(t=re.mouseInLnC)||t.onMouseUp(e))},r.onMouseScroll=function(e){var t;e.preventSwallow=!0,this.MouseClickCoolingDown>0||(this.MouseClickCoolingDown=1,null==(t=re.mouseInLnC)||t.onMouseScroll(e))},r.flipAllCamelBack=function(){this.failedCamelTouch.forEach((function(e){e&&(e.flipped=!1)})),this.failedCamelTouch=[]},r.judgeMatchedCamelTouch=function(e){var t=this;(this.flipAllCamelBack(),this.unschedule(this.flipAllCamelBack),this.mainCamelTouch)?this.mainCamelTouch.camelTouchType==e.camelTouchType?(this.matchedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce((function(){t.matchedCamelTouch.forEach((function(e){e.match()}));var e=t.matchedCamelTouch.concat();t.scheduleOnce((function(){H.component.addCamelCombo(),e.forEach((function(e){e.playDie(!1,null,!0,se.physicle,!0,!0,!0)}))}),.5),t.matchedCamelTouch=[]}),.5)):(H.component.clearCamelCombo(),this.failedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce(this.flipAllCamelBack,3)):this.mainCamelTouch=e},r.onMouseDown=function(e){if(e.preventSwallow=!0,!(this.MouseClickCoolingDown>0)){this.MouseClickCoolingDown=2;var t,n=!1;if(this.gameStarted)if(e.getButton()==y.BUTTON_RIGHT){var o=this.index+0;this.tryChangingIndex(-1),-1!=o&&-1==this.index&&(z.playRightButtonCancel(),n=!0)}else if(-5==this.index&&e.getButton()==y.BUTTON_LEFT)V.component.onMouseDown(e);else if(-1==this.index&&e.getButton()==y.BUTTON_LEFT&&!this.MouseListenOffThisTick){this.mouseDown=!0;for(var i=function(){var e=A.getLaneComponent(s),t=D.sort(e.zombiePool(),"siblingIndexInLane").reverse(),o=!1;if(t.forEach((function(e){o||e.bodyRec.judgeInRecP(re.position)&&e.onMouseClicked()&&(o=!0)})),o)return n=!0,1},s=4;s>=0&&!i();s--);}if(!n&&!this.MouseListenOffThisTick)null==(t=re.mouseInLnC)||t.onMouseDown(e,!0)}},r.oldTickReturn=function(){pt=e("gamingSpeed",1),m.tick=this.oldTick},r.speedUp=function(){pt=e("gamingSpeed",1==pt?1.5:1),z.playSpeedUp(),1==pt?(this.s2xButton.normalSprite=this.normal2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,H.screenFlashLeftColor=new w(122,242,255,100)):(this.s2xButton.normalSprite=this.pressed2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,H.screenFlashLeftColor=new w(122,242,255,100))},a.gameStart=function(){this.uiingame._gameStart()},r._gameStart=function(){var e,t=this;if(!this.gameStarted){this.mouseDown=!1,H.sandBoxModeOn&&(this.sbButton.node.active=!0,this.sbButton.node.position=this.sbButtonOldPos,g(this.SBZombieCards).parent=this.SBZombieCardsSlot),J.component&&(J.component.show(),J.component.hidden=!1),this.levelTaskShowerSlot.active=!0,this.gameStarted=!0,this.s2xButton.getComponent(d).color=new w(255,255,255,255),this.s2xButton.node.on(u.EventType.MOUSE_DOWN,(function(e){t.paused||t.speedUp()})),this.shovel.node.on(u.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT&&t.tryChangingIndex(-2)}),this),f("Canvas/UIInGame/PlantFoodSlot/Button").on(u.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT?t.tryChangingIndex(-3):e.getButton()==y.BUTTON_MIDDLE&&H.sandBoxModeOn&&A.foodAllPlants()}),this),U.keyOn();var n=f("Canvas/LawnCommon");(a.cardsAtUpper&&n.getSiblingIndex()>this.node.getSiblingIndex()||!a.cardsAtUpper&&n.getSiblingIndex()<this.node.getSiblingIndex())&&this.setSibling(),null!=(e=this.SBZombieArmorIconSlot)&&e.active&&(this.switchSBZombieAddArmor(0),this.SBZombieArmorIconSlot.parent.on(u.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,e.getScrollY()>0?t.switchSBZombieAddArmor(-1):e.getScrollY()<0&&t.switchSBZombieAddArmor(1)}),this)),A.calculatePlants()}},r.onLoad=function(){this.uiHidden=!1,this.gameLoseButtonOldPos=this.gameLoseButtons.position.clone(),this.uiHidden=!0,this.hideUI(),this.sceneEnabled=!1,this.sbButtonOldPos=this.sbButton.node.position.clone(),this.sbButton.node.position.add3f(-1e3,1e3,0),mt=e("superSlowed",!1),this.gameStarted=!1,this.currentFreeSeedPacket=null,a.uiingame=this,v.on(T.EventType.KEY_DOWN,this.onKeyDown,this),this.s2xButton.getComponent(d).color=new w(255,255,255,0),this.squares=f("Canvas/LawnCommon/Squares").getComponent(A),this.cards=this.node.getChildByName("Cards").getComponent(L),this.shovel=this.node.getChildByName("Shovel").getComponent(E),this.shovel.UIParent=this,this.normalPause=this.pauseButton.normalSprite,this.hoverPause=this.pauseButton.hoverSprite,this.pressedPause=this.pauseButton.pressedSprite,this.normal2x=this.s2xButton.normalSprite,this.hover2x=this.s2xButton.hoverSprite,this.pressed2x=this.s2xButton.pressedSprite},r.start=function(){var e,t,n,o;this.paused=!1,this.pauseScreen.node.active=!1,this.showGameLoseButtons(!1),this.windowSplashColorA=0,this.cards.enabled=!0,null==(e=this.toolTips)||e.start(),null==(t=this.mouseListener)||t.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),null==(n=this.mouseListener)||n.on(u.EventType.MOUSE_UP,this.onMouseUp,this),null==(o=this.mouseListener)||o.on(u.EventType.MOUSE_WHEEL,this.onMouseScroll,this)},r.update=function(e){var t,n,o,i=this;if(this.plantKeyCool>0&&this.plantKeyCool--,this.plantInHandLayer.worldPosition=this.mouse.worldPosition,null!=(t=this.currentSniperPlant)&&t.locatorNode&&(this.currentSniperPlant.locatorNode.worldPosition=this.mouse.worldPosition),this.UIUpper.position=this.node.position,this.paused&&_._volumeScalePause>0?_._volumeScalePause-=.016667:!this.paused&&_._volumeScalePause<1&&(_._volumeScalePause+=.016667),this.sceneEnabled&&!H.component.gameLost)if(mt||this.paused)m.tick=function(e){var t;null==i||null==(t=i.oldTick)||t.call(m,60*x.deltaTime*0)};else{var s=H.sandBoxModeOn&&!H.gameStarted?4:1;m.tick=function(e){var t;null==i||null==(t=i.oldTick)||t.call(m,pt/60*s*(60*x.deltaTime))}}else this.oldTickReturn();this.exitNextTick?this.nextLevel&&(null!=H&&null!=(n=H.component)&&n.isDangerroom||null!=H&&null!=(o=H.component)&&o.isDangerroomMiniGame)?a.restart():a.exit():this.restartNextTick&&a.restart();this.SBZombieZombieDirectionArrow&&(this.SBZombieZombieDirectionArrow.color=2==this.currentSBZombieDirection?ae.zombieHypno:new w(255,255,255,255))},r.victoryExit=function(){var e,t=this;z.playLevelExit();var n=null==H||null==(e=H.component)||null==(e=e.bossZombie)?void 0:e.bossOnPriceCollected();this.windowSplash.color=new w(255,255,255,0),B(this).to(2.5+(isNaN(n)?0:n),{}).to(2.5,{windowSplashColorA:255}).call((function(){t.exitNextTick=!0,t.nextLevel=!0})).start()},r.showGameLoseButtons=function(e){void 0===e&&(e=!0),e?(this.gameLoseButtons.active=!0,this.gameLoseButtons.position=this.gameLoseButtonOldPos):(this.gameLoseButtons.active=!1,this.gameLoseButtons.position=new S(0,1e4,0))},r.loseDarken=function(e,t,n){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=le.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","BrainEaten")),void 0===n&&(n=""),!H.component.gameLost&&!H.component.gameWon){this.tryChangingIndex(-1),H.component.gameLost=!0,H.component.onLoseDarken(),_.switchMusicSort(Q.Lose),e&&(e.node.setParent(this.windowSplash.node.parent,!0),e.node.setSiblingIndex(this.windowSplash.node.getSiblingIndex()+1),e.triggerGameLose(),e.isGameLoseTriggerer=!0),this.gameLoseTip.string=t,this.windowSplash.color=new w(0,0,0,0),this.gameLoseTip.string=t;var i=this.gameLoseTip.getComponent(k);i.opacity=0,this.gameLoseTip.node.scale=new S(.5,1,1);var s=B(i).to(1.5,{opacity:255},{easing:"quadOut"}),a=B(this.gameLoseTip.node).to(1.5,{scale:new S(1,1,1)},{easing:"quadOut"});this.gameLoseTipSmall.string=n,this.gameLoseTipSmall.node.position=new S(0,420,10);B(this.gameLoseTipSmall.node).to(1.5,{position:new S(0,130,10)},{easing:"quadIn"}).to(1,{position:new S(0,220,10)},{easing:"quadOut"}).to(1,{position:new S(0,130,10)},{easing:"quadIn"}).to(.5,{position:new S(0,170,10)},{easing:"quadOut"}).to(.5,{position:new S(0,130,10)},{easing:"quadIn"}).start();B(this).to(2,{windowSplashColorA:255}).call((function(){H.component.gameOver=!0,s.start(),a.start(),o.showGameLoseButtons()})).start()}},r.lateUpdate=function(e){this.MouseListenOffThisTick=!1,this.MouseClickCoolingDown>0&&this.MouseClickCoolingDown--},r.calculateLevelTask=function(e,t){this.gameStarted&&!H.component.lastStandPrepareStarted&&this.levelTasks.forEach((function(n){n.changeObjdata(e,t)}))},r.warnLevelTask=function(e){this.levelTasks.forEach((function(t){t.mode==e&&t.playWarn()}))},r.judgeLevelTasksVictory=function(){var e=!0;return this.levelTasks.forEach((function(t){e&&(e=t.judgeVictory())})),e},r.getLevelTaskObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].objdata},r.getLevelTaskStartingObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].startingObjdata},r.pushLevelTask=function(e,t){if(t){this.levelTaskShowerSlot.active=!1;var n=g(this.levelTaskShower);n.parent=this.levelTaskShowerSlot;var o=n.getComponent($);o.switchMode(e,t),this.levelTasks.push(o)}},r.pushGamePreStartTip=function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){e.preStartTips.push(t)}))},s(a,[{key:"indexLocked",get:function(){return V.uiIndexLocked}},{key:"windowSplashColorA",get:function(){return this.windowSplash.color.a},set:function(e){var t=this.windowSplash.color.clone();this.windowSplash.color=new w(t.r,t.g,t.b,e)}}],[{key:"index",get:function(){return this.uiingame.index}}]),a}(I)).cardsAtUpper=!1,ut.uiingame=void 0,ze=t((Ge=ut).prototype,"toolTips",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=t(Ge.prototype,"sbZombieSpawnIcon",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(Ge.prototype,"SBZombieArmorIconSlot",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=t(Ge.prototype,"SBZombieZombieDirectionArrow",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=t(Ge.prototype,"mouse",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ge.prototype,"UIUpper",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Ge.prototype,"sandBoxSettingWindowPrefab",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(Ge.prototype,"sbButton",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(Ge.prototype,"SBZombieCards",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=t(Ge.prototype,"SBZombieCardsSlot",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(Ge.prototype,"uiWillBeHiden",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$e=t(Ge.prototype,"pauseScreen",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=t(Ge.prototype,"pauseButton",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=t(Ge.prototype,"s2xButton",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=t(Ge.prototype,"mouseListener",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=t(Ge.prototype,"plantInHandLayer",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(Ge.prototype,"windowSplash",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=t(Ge.prototype,"gameLoseTip",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=t(Ge.prototype,"gameLoseTipSmall",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=t(Ge.prototype,"gameLoseButtons",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=t(Ge.prototype,"levelTaskShower",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=t(Ge.prototype,"levelTaskShowerSlot",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=Ge))||We));a._RF.pop()}}}));

System.register("chunks:///_virtual/UmbrellaLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,n,i,a,o,s,r,l,u,c,h,m,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,u=t.Vec2,c=t.AudioSource},function(t){h=t.Plant},function(t){m=t.Rectangle,d=t.Umbrellas},function(t){f=t.Square},function(t){b=t.sounds}],execute:function(){var p,A,g,y,S,R,I,_,C,k,w,D,U,v;s._RF.push({},"f671cHIAU9Era0nTV0pwgDI","UmbrellaLeaf",void 0);var P=r.ccclass,x=r.property,z=t("umbrellaLeafRange",(function(t,e){this.owner=void 0,this.detector=void 0,this.owner=t,this.detector=e})),B=(p=P("umbrellaleafSound"),A=x([l]),g=x([l]),y=x([l]),p((I=e((R=function(){function t(){i(this,"umbrellaSound",I,this),i(this,"bounceSound",_,this),i(this,"foodSound",C,this)}var e=t.prototype;return e.playUmbrellaSound=function(){b.playArray(this.umbrellaSound,1,.1)},e.playBounceSound=function(){b.playArray(this.bounceSound,1,.5)},e.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},t}()).prototype,"umbrellaSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(R.prototype,"bounceSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(R.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=R))||S);t("UmbrellaLeafPlant",(k=P("UmbrellaLeaf"),w=x(B),k((v=e((U=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"soundRes",v,a(e)),e.blockAnm="Block",e._stage=0,e.thisUmbrella=new z(a(e),m.createRectangleCenter(new u(0,0),3*f.SquareDisW,3*f.SquareDisH)),e.zombiesInRange=[],e.detector=void 0,e}n(e,t);var s=e.prototype;return s.umbrella=function(){return this.soundRes.playUmbrellaSound(),this.anmControl.playAnimation(this.blockAnm,1),this.setAnimation(!0),!0},s.specialPlantFood=function(t){this.foodable=!1,this.foodEnd(),this.soundRes.playFoodSound(),this.allowStack=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.stage=2+this.stage%2,this.anmControl.playRandom()},s.bounce=function(){c.maxAudioChannel,this.soundRes.playBounceSound(),this.anmControl.playAnimation(this.blockAnm,1,0,.7),this.setAnimation(!0)},s.specialPlantDie=function(){var t=d.umbrellas.indexOf(this.thisUmbrella);-1!=t&&d.umbrellas.splice(t,1)},s.specialPlantOnEnable=function(){this.stage=0,-1==d.umbrellas.indexOf(this.thisUmbrella)&&d.umbrellas.push(this.thisUmbrella),this.zombiesInRange=[],this.setAnimation(!1),this.anmControl.playRandom()},s.setAnimation=function(t){this.anmControl;t?this.stage>=2?this.stage=3:this.stage=1:this.stage>=2?this.stage=2:this.stage=0},s.specialPlantOnSquareChange=function(t,e){this.detector=m.createRectangleNodeCenter(e.node,3*f.SquareDisW,3*f.SquareDisH),this.thisUmbrella.detector=this.detector},o(e,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.anmControl.IdleAnim="Idle_Excited",this.anmControl.RandomAnim=["Random_Excited"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block";break;case 2:this.anmControl.IdleAnim="Idle_Infi",this.anmControl.RandomAnim=["Random_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;case 3:this.anmControl.IdleAnim="Idle_Excited_Infi",this.anmControl.RandomAnim=["Random_Excited_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;default:t=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block"}this._stage=t}}]),e}(h)).prototype,"soundRes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),D=U))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateContentWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfoWindow.ts","./MultiLanguage.ts"],(function(t){var e,n,i,o,r,l,a,s,c,p,u,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,s=t.Color,c=t.instantiate,p=t.sys},function(t){u=t.InfoWindow},function(t){b=t.MultiLanguage}],execute:function(){var g,d,f,w,h,y,v,W,L;r._RF.push({},"7b585vVwQlBCbYb6LroAnl3","UpdateContentWindow",void 0);var U=l.ccclass,m=l.property;t("UpdateContentWindow",(g=U("UpdateContentWindow"),d=m(a),f=m(a),w=m(a),g((v=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"label0",v,o(e)),i(e,"title",W,o(e)),i(e,"wbstLabel",L,o(e)),e}n(e,t);var r=e.prototype;return r.readObject=function(t){this.title.string=b.getStringByPropsWithoutTricks("UpdateWindow","Title"),this.wbstLabel.string=b.getStringByPropsWithoutTricks("UpdateWindow","GoToOfficialWebsite"),this.label0.string=t.Name+"\n("+t.Version+")\n",this.label0.color=new s(0,0,182,255);for(var e=t.Updates,n=0;n<(null==e?void 0:e.length);n++){var i=c(this.label0.node);i.parent=this.label0.node.parent;var o=i.getComponent(a);o.string=b.getString(e[n],!1),o.color=n%2?new s(175,0,182,255):new s(182,0,95,255)}return""},r.gotoWebSite=function(){p.openURL("https://pvzge.com")},e}(u)).prototype,"label0",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(y.prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(y.prototype,"wbstLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Vamporcini.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,i,a,e,r,s,l,u,h,c,b,d,p,f,m,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,u=t.Vec2,h=t.dragonBones},function(t){c=t.Plant,b=t.PlantProps},function(t){d=t.Rectangle},function(t){p=t.Square},function(t){f=t.zombieDamageType},function(t){m=t.NodePools},function(t){g=t.sounds}],execute:function(){var S,y,P,L,w,A,D,C,v,R,z,E,_,j,F,k,I,O,x,M,T,V,q,U,B,H,N,G;e._RF.push({},"e13e99QG7VHJpt/BDlmuh0l","Vamporcini",void 0);var J=r.ccclass,Q=r.property,W=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=t.call.apply(t,[this].concat(i))||this).MaxToughness=6e3,o.DPS=20,o.AttackDuration=6,o.DPSPlantfood=40,o.AttackDurationPlantfood=10,o}return n(o,t),o}(b),Z=(S=J("vamporciniSound"),y=Q([s]),P=Q([s]),L=Q([s]),w=Q(s),A=Q(s),D=Q(s),C=Q([s]),S((z=o((R=function(){function t(){i(this,"foodStartSound",z,this),i(this,"absorbStartSound",E,this),i(this,"absorbEndSound",_,this),i(this,"batLoopSound",j,this),i(this,"batFoodLoopSound",F,this),i(this,"fogLoopSound",k,this),i(this,"batIdleSound",I,this)}var o=t.prototype;return o.playAbsorbStart=function(t){void 0===t&&(t=!1),g.playArray(t?this.foodStartSound:this.absorbStartSound,1,.1)},o.playAbsorbEnd=function(){g.playArray(this.absorbEndSound,1,.1)},o.playAbsorbLoop=function(t){var o;g.play(this.fogLoopSound,1,null==(o=this.fogLoopSound)?void 0:o.getDuration());var n=t?this.batFoodLoopSound:this.batLoopSound;g.play(n,1,null==n?void 0:n.getDuration()),g.playArray(this.batIdleSound,1,1)},t}()).prototype,"foodStartSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=o(R.prototype,"absorbStartSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(R.prototype,"absorbEndSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(R.prototype,"batLoopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(R.prototype,"batFoodLoopSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(R.prototype,"fogLoopSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(R.prototype,"batIdleSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=R))||v);t("VamporciniPlant",(O=J("VamporciniPlant"),x=Q(Z),M=Q(l),T=Q(l),V=Q(l),O((B=o((U=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new W,i(o,"soundRes",B,a(o)),o.attackCD=1/0,i(o,"batParticles",H,a(o)),i(o,"hereParticles",N,a(o)),i(o,"thereParticles",G,a(o)),o.particles=[],o.absorbStartable=!0,o.absorbing=!1,o.absorbFinished=!1,o.detector=d.createRectangleCenter(new u,0,0),o}n(o,t);var e=o.prototype;return e.onDamaged=function(t,o,n){var i=5,a=this.anmControl.body.armature();for(i=5;i>=0;i--){var e=a.getSlot("SLOT"+(5-i).toString());n<this._objdataOwn.MaxToughness/7*(i+1)?null==e||e._setDisplayIndex(-1):null==e||e._setDisplayIndex(0)}},e.waterable=function(){return!this.absorbing&&this.absorbStartable},e.specialPlantOnEnable=function(){this.absorbing=!1,this.absorbFinished=!1,this.attackCD=1/0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},e.specialPlantOnSquareChange=function(t,o){this.detector=d.createRectangleNodeCenter(o.node,3*p.SquareDisW,3*p.SquareDisH),this.particles.forEach((function(t){t.node.worldPosition=o.node.worldPosition}))},e.spawnParticles=function(){var t=this,o=m.instantiatePooly(this.thereParticles);o.parent=this.inLane.UpperLane.prjLayer;var n=m.instantiatePooly(this.hereParticles);n.parent=this.inLane.prjLayer;var i=m.instantiatePooly(this.batParticles);i.parent=this.inLane.prjLayer,[o,n,i].forEach((function(o){o.worldPosition=t.inLnC.node.worldPosition;var n=o.getComponent(h.ArmatureDisplay);t.particles.push(n),n.playAnimation("Start",1)}))},e.deleteParticles=function(){this.particles.forEach((function(t){t.playAnimation("Death")})),this.particles=[]},e.absorb=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale);var n=0;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){i.bodyRec.judgeCrossRec(o.detector)&&(i.dealDamage(t,!1,!1,!1,null,f.physicle,!0,!0),n+=t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(i){i.bodyRec.judgeCrossRec(o.detector)&&(i.dealDamage(t),n+=t)})),this.toughness=Math.min(this.toughness+4*n,this._objdataOwn.MaxToughness),this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},e.detectEnemies=function(){var t=this,o=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o},e.specialPlantFood=function(t){this.absorbStart()},e.absorbStart=function(){this.deleteParticles(),this.soundRes.playAbsorbStart(this.fooding),this.absorbing=!1,this.absorbStartable=!1,this.attackCD=1/0,this.anmControl.playAnimation(this.fooding?"FoodStart":"AbsorbStart",1),this.damagable=!1,this.anmControl.IdleAnim=this.fooding?"Fooding":"Absorbing",this.anmControl.RandomAnim=[]},e.absorbEnd=function(){this.absorbing=!1,this.damagable=!0,this.deleteParticles(),this.soundRes.playAbsorbEnd(),this.fooding?this.anmControl.playAnimation("FoodEnd",1,.1):this.anmControl.playAnimation("AbsorbEnd",1,.1),this.anmControl.IdleAnim="Idle_Red",this.anmControl.RandomAnim=["Random_Red"],this.deathAnm="Death_Red"},e.animationListener=function(t){"absorbStart"==t.name?(this.absorbing=!0,this.spawnParticles(),this.attackCD=this.fooding?this._objdataOwn.AttackDurationPlantfood:this._objdataOwn.AttackDuration):"foodStart"==t.name?this.anmControl.playAnimation("Fooding",1/0):"foodEnd"==t.name&&this.foodEnd()},e.specialPlantDie=function(){this.deleteParticles()},e.specialPlantUpdate=function(t){if(this.absorbStartable&&this.detectEnemies()&&this.absorbStart(),this.absorbing){var o=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*t;this.absorb(o),this.attackCD>0?this.attackCD-=t:this.absorbEnd(),this.soundRes.playAbsorbLoop(this.fooding)}},o}(c)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z}}),H=o(U.prototype,"batParticles",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=o(U.prototype,"hereParticles",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(U.prototype,"thereParticles",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=U))||q));e._RF.pop()}}}));

System.register("chunks:///_virtual/WallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(t){var n,a,e,i,o,r,s,h,l,u,d;return{setters:[function(t){n=t.inheritsLoose,a=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip},function(t){l=t.PlantProps,u=t.Plant},function(t){d=t.sounds}],execute:function(){var m,c,f,p,g,A,b,y,S,v;r._RF.push({},"d56b3xZyPhKQrzCj5jI3A26","WallNut",void 0);var D=s.ccclass,I=s.property,R=t("WallnutProps",function(t){function a(){for(var n,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).ArmorToughness=4e3,n}return n(a,t),a}(l)),w=t("wallnutSound",(m=D("wallnutSound"),c=I(h),m((g=a((p=function(){function t(){e(this,"foodSound",g,this)}return t.prototype.playFoodSound=function(){d.play(this.foodSound,1,.1)},t}()).prototype,"foodSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));t("WallNutPlant",(A=D("WallNutPlant"),b=I(w),A((v=a((S=function(t){function a(){for(var n,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new R,n.armorHealth=0,e(n,"soundRes",v,i(n)),n.armorStage=3,n.hurtStage=0,n}n(a,t);var r=a.prototype;return r.specialPlantOnLoad=function(){},r.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):this.die())},r.replantable=function(){return this.hurtStage>0},r.replant=function(){this.health=this.toughness,this.setAnimation()},r.onArmorDestroy=function(){},r.specialPlantOnEnable=function(){this.foodable=!0,this.hurtStage=1,this.setAnimation(),this.armorStage=3,this.setArmor(),this.armorHealth=0},r.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"wearArmor"==t.name&&(this.setArmor(0),this.armorHealth=this.armorToughness)},r.waterable=function(){return 0==this.hurtStage},r.specialPlantOnKilled=function(){this.setArmor()},r.setArmor=function(t){void 0===t&&(t=3);var n=this.anmControl.body.armature().getSlot("ARMOR"),a=this.armorStage;switch(this.armorStage=t,t){case 0:n._setDisplayIndex(0);break;case 1:n._setDisplayIndex(1);break;case 2:n._setDisplayIndex(2);break;default:n._setDisplayIndex(-1),this.armorStage=3,a<this.armorStage&&this.onArmorDestroy()}},r.dealNormalDamage=function(t,n){if(!this.invincible){var a=this.health+0;if(this.armorHealth>0){var e=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);for(var i=0;i<=3;i++)e>=this.toughness/3*i&&this.armorHealth<=this.toughness/3*i&&this.setArmor(3-i)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==n),this.onDamaged(t,a,this.health+0)),this.health<=0&&this.die();return this.health}},r.specialWallnutOnDamaged=function(t,n,a){},r.onDamaged=function(t,n,a){for(var e=1;e<=4;e++)if(a<=this.toughness/4*e){this.setAnimation(4-e);break}this.specialWallnutOnDamaged(t,n,a)},r.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,a=this.anmControl;switch(t){case 1:a.IdleAnim="Idle2",a.RandomAnim=[],this.deathAnm="Death2";break;case 2:a.IdleAnim="Idle3",a.RandomAnim=[],this.deathAnm="Death3";break;case 3:a.IdleAnim="Idle4",a.RandomAnim=[],this.deathAnm="Death4";break;default:a.IdleAnim="Idle1",a.RandomAnim=["Rand11","Rand12"],this.deathAnm="Death1",this.hurtStage=0}if(!this.dead)a.playRandom(),this.replantable()&&(null==(n=this.plantInLnC)||n.readIndex())}},o(a,[{key:"armorToughness",get:function(){return this._objdataOwn.ArmorToughness}}]),a}(u)).prototype,"soundRes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./LevelNodes.ts","./Plants.ts","./PlayerProperties.ts","./SoundRescourses.ts","./worldMapScene.ts","./KeyListener.ts"],(function(e){var t,i,n,o,l,a,r,s,c,p,u,d,h,y,f,v,m,g,b,N,P,w,E,x,I,D,L,C,M,z,B,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized,l=e.createClass},function(e){a=e.cclegacy,r=e._decorator,s=e.Enum,c=e.JsonAsset,p=e.Node,u=e.CCFloat,d=e.Vec3,h=e.dragonBones,y=e.tween,f=e.Color,v=e.UIOpacity,m=e.input,g=e.Input,b=e.Label,N=e.Vec2,P=e.Component,w=e.HALF_PI},function(e){E=e.NodePools,x=e.instantiatePooly},function(e){I=e.levelNodeRes},function(e){D=e.PlantEnum,L=e.plants},function(e){C=e.AllPlayerProperties},function(e){M=e.sounds},function(e){z=e.WorldMapSceneDisplayEnum,B=e.worldMapScene},function(e){X=e.KeyListener}],execute:function(){var S,_,A,W,T,F,R,H,O,J,U,k,V,K,Y,j,q,G,Q,Z,$,ee,te,ie,ne,oe,le,ae,re,se,ce,pe,ue,de,he,ye,fe,ve,me,ge,be;a._RF.push({},"c950fgYqFxBG7Ic+A1nhlTR","WorldMap",void 0);var Ne=r.ccclass,Pe=r.property,we=function(e){return e[e.level=0]="level",e[e.plant=1]="plant",e[e.giftBox=2]="giftBox",e[e.trophy=3]="trophy",e}(we||{}),Ee=function(e){return e[e.normal=0]="normal",e[e.minigame=1]="minigame",e[e.gargantuar=2]="gargantuar",e}(Ee||{});s(D),s(Ee),s(we);var xe=(S=Ne("LevelIsland"),_=Pe({type:we}),A=Pe({type:D,visible:function(){return this.islandDisplay==we.plant}}),W=Pe({type:Ee,visible:function(){return this.islandDisplay==we.level}}),T=Pe({type:c,visible:function(){return this.islandDisplay==we.level}}),F=Pe({type:String,visible:function(){return this.islandDisplay==we.level}}),R=Pe(p),H=Pe(p),O=Pe([p]),S((k=t((U=function(){i(this,"islandDisplay",k,this),i(this,"plantDisplayed",V,this),i(this,"levelNodeAppearance",K,this),i(this,"levelJson",Y,this),i(this,"levelNodeName",j,this),i(this,"islandNode",q,this),i(this,"nextIsland",G,this),i(this,"otherNextIslands",Q,this)}).prototype,"islandDisplay",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return we.level}}),V=t(U.prototype,"plantDisplayed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Peashooter}}),K=t(U.prototype,"levelNodeAppearance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.normal}}),Y=t(U.prototype,"levelJson",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"levelNodeName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=t(U.prototype,"islandNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(U.prototype,"nextIsland",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(U.prototype,"otherNextIslands",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=U))||J),Ie=(Z=Ne("Farlands"),$=Pe(p),ee=Pe(u),Z((ne=t((ie=function(){i(this,"islandNode",ne,this),i(this,"offsetScale",oe,this),this.orgPosition=new d(0,0,0)}).prototype,"islandNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(ie.prototype,"offsetScale",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),te=ie))||te);s(z);e("WorldMap",(le=Ne("WorldMap"),ae=Pe([xe]),re=Pe(Boolean),se=Pe(p),ce=Pe(p),pe=Pe([Ie]),ue=Pe({type:z}),le((ye=t((he=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"levelIslands",ye,o(t)),i(t,"atNight",fe,o(t)),t.levelNodeLayer=void 0,t.levelPathLayer=void 0,i(t,"islandParent",ve,o(t)),i(t,"levelParent",me,o(t)),t.levelNodes=[],i(t,"farIslands",ge,o(t)),t._mapX=0,t.maxMapX=0,t.velocity=0,i(t,"displayEnum",be,o(t)),t.dbs=[],t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.dbs=this.getComponentsInChildren(h.ArmatureDisplay),this.levelNodes=[];var e=this.node.getChildByName("Levels");this.levelNodeLayer=e.getChildByName("Nodes"),this.levelPathLayer=e.getChildByName("Paths"),this.farIslands.forEach((function(e){e.orgPosition=e.islandNode.position.clone()}))},a.onDisable=function(){C.savePP()},a.moveBy=function(e,t){void 0===t&&(t=.1);var i=this.mapX+e;i>0&&(i=0),i<-this.maxMapX&&(i=-this.maxMapX);t>0?y(this).to(t,{mapX:i}).start():this.mapX=i},a.moveLefter=function(){this.velocity<0&&(this.velocity=0),this.velocity+=20},a.moveRighter=function(){this.velocity>0&&(this.velocity=0),this.velocity-=20},a.onEnable=function(){var e=this;this.dbs.forEach((function(t){var i=t.color.clone();t.color=new f(i.r,i.g,i.b,e.node.parent.getComponent(v).opacity)})),this.velocity=0,this.mapX=B.getWMXByDisplayEnum(this.displayEnum),B.component&&(B.component.atNight=this.atNight)},a.update=function(e){var t=this;this.dbs.forEach((function(e){var i=e.color.clone();e.color=new f(i.r,i.g,i.b,t.node.parent.getComponent(v).opacity)})),0!=this.velocity&&(this.moveBy(this.velocity,0),this.velocity/=1.05),this.islandParent.children.forEach((function(e){e.active=e.worldPosition.x>-500&&e.worldPosition.x<1500}))},a.start=function(){var e=this;this.dbs.forEach((function(t){var i=t.color.clone();t.color=new f(i.r,i.g,i.b,e.node.parent.getComponent(v).opacity)})),M.playWorldMapStart(),m.on(g.EventType.MOUSE_WHEEL,(function(t){var i=.2*t.getScrollY();e.velocity=0,e.moveBy(i,0)}),this),m.on(g.EventType.TOUCH_MOVE,(function(t){var i=t.getDeltaX()*e.node.worldScale.x;e.velocity=i,e.moveBy(i,0)}),this),this.levelIslands.forEach((function(t){var i=t.islandNode.worldPosition;if(t.islandDisplay==we.level){var n=I.normalNode();switch(t.levelNodeAppearance){case Ee.gargantuar:n=I.gargantuarNode();break;case Ee.minigame:n=I.minigameNode()}var o=E.instantiatePooly(n);o.parent=e.levelNodeLayer,o.worldPosition=i,o.getChildByName("title").getComponent(b).string=t.levelNodeName,e.levelNodes.push(o),o.getChildByName("listener").on(p.EventType.TOUCH_END,(function(){X.goToLevel(t.levelJson)}))}else if(t.islandDisplay==we.plant){var l=E.instantiatePooly(L.getPlantsInCard(t.plantDisplayed).plantDIS);l.parent=e.levelNodeLayer,l.worldPosition=i}t.otherNextIslands.concat(t.nextIsland?[t.nextIsland]:[]).forEach((function(i){var n=x(I.path()),o=new N(i.worldPosition.x-t.islandNode.worldPosition.x,i.worldPosition.y-t.islandNode.worldPosition.y),l=o.length(),a=90*Math.atan2(o.y,o.x)/w;n.parent=e.levelPathLayer,n.worldPosition=t.islandNode.worldPosition,n.worldScale=new d(l/330,n.worldScale.y,1),n.angle=a}));var a=i.clone().add(e.islandParent.worldPosition.clone().negative()).x;a>e.maxMapX&&(e.maxMapX=a)}))},l(t,[{key:"mapX",get:function(){return this._mapX},set:function(e){this.levelParent.position=new d(e,this.levelParent.position.y,0),this.islandParent.position=new d(e,this.islandParent.position.y,0),this.farIslands.forEach((function(t){t.islandNode.position=new d(e*t.offsetScale+t.orgPosition.x,t.orgPosition.y,0)})),this._mapX=e,B.setWMXByDisplayEnum(this.displayEnum,this._mapX)}}]),t}(P)).prototype,"levelIslands",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(he.prototype,"atNight",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=t(he.prototype,"islandParent",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(he.prototype,"levelParent",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(he.prototype,"farIslands",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(he.prototype,"displayEnum",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.egypt}}),de=he))||de));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./worldMapScene.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(t){var n,e,o,i,r,a,l,s,c,u,h,d,p,f,b,y,m,g,w,v,x,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,o=t.inheritsLoose,i=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Enum,c=t.Node,u=t.AudioClip,h=t.Color,d=t.UIOpacity,p=t.Vec3,f=t.dragonBones,b=t.input,y=t.Input,m=t.tween,g=t.Component},function(t){w=t.WorldMapSceneDisplayEnum,v=t.worldMapScene},function(t){x=t.AllPlayerProperties},function(t){M=t.sounds}],execute:function(){var P,C,I,E,S,_,T,z,A,W,D,N,B,O,k,F,H,L,R,U,j,q,Q,V;a._RF.push({},"0afd7/QFy1OXrADNpaZkrno","WorldMapChooser",void 0);var X=l.ccclass,Y=l.property;s(w);var Z=(P=X("WorldMapIcon"),C=Y(c),I=Y(Boolean),E=Y({type:w,visible:function(){return this.enterable}}),S=Y(Boolean),P((z=n((T=function(){e(this,"node",z,this),e(this,"enterable",A,this),e(this,"enterTo",W,this),e(this,"atNight",D,this),this.x=0}).prototype,"node",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(T.prototype,"enterable",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W=n(T.prototype,"enterTo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.egypt}}),D=n(T.prototype,"atNight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=T))||_);t("WorldMapChooser",(N=X("WorldMapChooser"),B=Y(c),O=Y(c),k=Y([Z]),F=Y(u),H=Y(u),N((U=n((R=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"mid",U,i(n)),e(n,"iconParent",j,i(n)),e(n,"icons",q,i(n)),e(n,"touchStartSound",Q,i(n)),e(n,"touchEndSound",V,i(n)),n._currentI=0,n.xMax=0,n._x=0,n.dbs=[],n.entering=!1,n}o(n,t);var a=n.prototype;return a.onMouseWheel=function(t){var n=t.getScrollY()>0?-1:1;this.moveBy(n)},a.moveTo=function(t){void 0===t&&(t=0),this.currentI=t},a.moveBy=function(t){void 0===t&&(t=0),this.moveTo(this.currentI+t)},a.update=function(t){var n=this;this.dbs.forEach((function(t){var e=t.color.clone();t.color=new h(e.r,e.g,e.b,n.node.parent.getComponent(d).opacity)})),this.icons.forEach((function(t){var e=t.node.worldPosition.x-n.mid.worldPosition.x,o=Math.max(1-Math.abs(e)/600,.3);t.node.scale=new p(o,o,o)}))},a.onEnable=function(){var t=this;this.entering=!1,this.dbs.forEach((function(n){var e=n.color.clone();n.color=new h(e.r,e.g,e.b,t.node.parent.getComponent(d).opacity)})),this.icons.forEach((function(n){var e=n.node.worldPosition.x-t.mid.worldPosition.x,o=Math.max(1-Math.abs(e)/600,.3);n.node.scale=new p(o,o,o)})),this.currentI=isNaN(x.currentPlayer.worldChooserI)?0:x.currentPlayer.worldChooserI},a.onLoad=function(){var t=this;this.dbs=this.getComponentsInChildren(f.ArmatureDisplay),this.currentI=0,b.on(y.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.icons.forEach((function(n,e){var o=n.node.worldPosition.x-t.mid.worldPosition.x;n.x=o,t.xMax<=o&&(t.xMax=o),n.node.on(c.EventType.TOUCH_START,(function(){var o=Math.abs(n.node.worldPosition.x-t.mid.worldPosition.x);t.entering||(n.enterable&&o<5?M.play(t.touchStartSound):o>=5&&(t.currentI=e))}),t),n.node.on(c.EventType.TOUCH_END,(function(){var e=Math.abs(n.node.worldPosition.x-t.mid.worldPosition.x);t.entering||n.enterable&&e<5&&(v.component.switchWM(n.enterTo),t.entering=!0,M.play(t.touchEndSound))}),t)}))},r(n,[{key:"currentI",get:function(){return this._currentI},set:function(t){var n=this;if(t>=n.icons.length&&(t=n.icons.length-1),t<0&&(t=0),this._currentI!=t){m(n).to(.2,{x:n.icons[t].x},{easing:"quadOut"}).start();var e=n.icons[this._currentI].enterable,o=n.icons[t].enterable,i=n.icons[t].atNight;this._currentI=t,x.currentPlayer.worldChooserI=t,e&&!o?this.mid.getComponent(f.ArmatureDisplay).playAnimation("Fade"):!e&&o&&this.mid.getComponent(f.ArmatureDisplay).playAnimation("Start"),v.component&&(v.component.atNight=i)}}},{key:"x",get:function(){return this._x},set:function(t){t<0&&(t=0),t>this.xMax&&(t=this.xMax),this.iconParent.worldPosition=this.mid.worldPosition.clone().add(new p(-t,0,0)),this._x=t}}]),n}(g)).prototype,"mid",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(R.prototype,"iconParent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(R.prototype,"icons",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(R.prototype,"touchStartSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(R.prototype,"touchEndSound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=R))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMaps.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,o,l,a,n,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,n=e.Prefab,u=e.Component}],execute:function(){var p,c,s,b,y,M,f,W,g,w,d,h,m;l._RF.push({},"5c9aeSHwwpMsYe+LVqE6pgO","WorldMaps",void 0);var z=a.ccclass,v=a.property;e("WorldMaps",(p=z("WorldMaps"),c=v(n),s=v(n),b=v(n),y=v(n),M=v(n),p((g=r((W=function(e){function r(){for(var r,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return r=e.call.apply(e,[this].concat(l))||this,t(r,"WMChooser",g,o(r)),t(r,"EgyptWM",w,o(r)),t(r,"PirateWM",d,o(r)),t(r,"CowboyWM",h,o(r)),t(r,"FutureWM",m,o(r)),r}return i(r,e),r}(u)).prototype,"WMChooser",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(W.prototype,"EgyptWM",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=r(W.prototype,"PirateWM",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=r(W.prototype,"CowboyWM",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(W.prototype,"FutureWM",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=W))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/worldMapScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./SoundManager.ts","./PlayerProperties.ts","./UI.ts","./Almanac.ts","./KeyListener.ts"],(function(e){var t,r,n,i,o,a,u,c,l,s,p,y,h,b,f,g,d,M,W,w,S,m,P,N,v,k,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,u=e._decorator,c=e.UIOpacity,l=e.dragonBones,s=e.Color,p=e.Prefab,y=e.Node,h=e.director,b=e.AudioSource,f=e.input,g=e.Input,d=e.KeyCode,M=e.instantiate,W=e.tween,w=e.Component},function(e){S=e.MusicController,m=e.SoundFXController},function(e){P=e.musicType},function(e){N=e.AllPlayerProperties},function(e){v=e.setExitToMapScene},function(e){k=e.Almanac},function(e){C=e.KeyListener}],execute:function(){var X,z,D,E,L,_,A,B,x,F,G,U,I,K,T,V,O,R,Y,j,H,J,Z,q,Q,$,ee,te,re,ne;a._RF.push({},"27653LZNN5NYJNVVGpF/xdf","worldMapScene",void 0);var ie=u.ccclass,oe=u.property,ae=e("WorldMapSceneDisplayEnum",function(e){return e[e.chooser=0]="chooser",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e}({}));e("worldMapScene",(X=ie("worldMapScene"),z=oe(c),D=oe(c),E=oe(c),L=oe([l.ArmatureDisplay]),_=oe(s),A=oe(s),B=oe(p),x=oe(p),F=oe(p),G=oe(p),U=oe(p),I=oe(p),K=oe(y),X(((ne=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"WMSlot",O,i(t)),n(t,"WMLowerSlot",R,i(t)),n(t,"BGUpper",Y,i(t)),n(t,"bgdb",j,i(t)),n(t,"DayColor",H,i(t)),n(t,"NightColor",J,i(t)),t._atNight=!1,t.audioSource=void 0,n(t,"WMChooser",Z,i(t)),n(t,"egyptWM",q,i(t)),n(t,"pirateWM",Q,i(t)),n(t,"cowboyWM",$,i(t)),n(t,"futureWM",ee,i(t)),n(t,"darkWM",te,i(t)),t.settingsShown=void 0,n(t,"settingWindow",re,i(t)),t}r(t,e);var a=t.prototype;return a.zengarden=function(){C.gotoScene("zenGardenScene")},a.almanac=function(){var e;k.exitScene=null==(e=h.getScene())?void 0:e.name,C.gotoScene("almanacScene")},a.exit=function(){N.currentPlayer.currentWM==ae.chooser?C.gotoScene("mainScene"):this.switchWM(ae.chooser)},t.getWMXByDisplayEnum=function(e){switch(e){case ae.egypt:return isNaN(N.currentPlayer.egyptWMX)?0:N.currentPlayer.egyptWMX;case ae.pirate:return isNaN(N.currentPlayer.pirateWMX)?0:N.currentPlayer.pirateWMX;case ae.cowboy:return isNaN(N.currentPlayer.cowboyWMX)?0:N.currentPlayer.cowboyWMX;case ae.future:return isNaN(N.currentPlayer.futureWMX)?0:N.currentPlayer.futureWMX;case ae.dark:return isNaN(N.currentPlayer.darkWMX)?0:N.currentPlayer.darkWMX}return 0},t.setWMXByDisplayEnum=function(e,t){switch(e){case ae.egypt:N.currentPlayer.egyptWMX=t;break;case ae.pirate:N.currentPlayer.pirateWMX=t;break;case ae.cowboy:N.currentPlayer.cowboyWMX=t;break;case ae.future:N.currentPlayer.futureWMX=t;break;case ae.dark:N.currentPlayer.darkWMX=t}},a.onLoad=function(){var e=this;t.component=this,this.getComponent(b)||this.addComponent(b),this.audioSource=this.getComponent(b),f.on(g.EventType.KEY_DOWN,(function(t){t.keyCode==d.ESCAPE&&e.exit()}),this)},a.switchWM=function(e){var t=this,r=this.WMChooser;switch(e){case ae.egypt:r=this.egyptWM;break;case ae.pirate:r=this.pirateWM;break;case ae.cowboy:r=this.cowboyWM;break;case ae.future:r=this.futureWM;break;case ae.dark:r=this.darkWM}var n=255==this.BGUpper.opacity?.01:.5,i=M(r);W(this.BGUpper).to(n,{opacity:255}).call((function(){})).to(.1,{}).call((function(){t.WMSlot.node.destroyAllChildren(),i.parent=t.WMLowerSlot.node})).to(.1,{}).call((function(){i.parent=t.WMSlot.node})).to(.5,{opacity:0}).start(),N.currentPlayer.currentWM=e,N.savePP()},a.setting=function(){this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0)},a.start=function(){S.playMusic(P.WorldMap),this.settingsShown=!0,this.audioSource.volume=.3*m.SoundFXVolume,this.setting();var e=isNaN(N.currentPlayer.currentWM)?0:N.currentPlayer.currentWM;this.switchWM(e),v()},a.update=function(e){this.audioSource.volume=.3*m.SoundFXVolume},o(t,[{key:"atNight",get:function(){return this._atNight},set:function(e){var t=this;this._atNight!=e&&this.bgdb.forEach((function(r){W(r).to(1,{color:e?t.NightColor:t.DayColor}).start()})),this._atNight=e}}]),t}(w)).component=void 0,O=t((V=ne).prototype,"WMSlot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(V.prototype,"WMLowerSlot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(V.prototype,"BGUpper",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(V.prototype,"bgdb",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(V.prototype,"DayColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),J=t(V.prototype,"NightColor",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),Z=t(V.prototype,"WMChooser",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(V.prototype,"egyptWM",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(V.prototype,"pirateWM",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(V.prototype,"cowboyWM",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(V.prototype,"futureWM",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(V.prototype,"darkWM",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(V.prototype,"settingWindow",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGarden.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./AnimationController.ts","./PlayerProperties.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./ZenGardenFeatures.ts","./CharacterManager.ts","./Mouse.ts","./SoundRescourses.ts","./ZenGardenObjectPar.ts"],(function(t){var n,e,i,o,a,l,r,s,u,h,p,c,d,m,f,P,g,b,w,v,y,S,I,C,A,k,D,Z,T,N,R;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.createClass,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Enum,u=t.Node,h=t.AudioClip,p=t.dragonBones,c=t.instantiate,d=t.Vec3,m=t.tween,f=t.Color,P=t.Vec2,g=t.EventMouse,b=t.Component},function(t){w=t.plants},function(t){v=t.AnimationController},function(t){y=t.AllPlayerProperties},function(t){S=t.instantiatePooly,I=t.destroyPooly,C=t.NodePools,A=t.ArrayGet},function(t){k=t.ParticleSelfdestroy},function(t){D=t.ZenPrefabRes},function(t){Z=t.Rectangle},function(t){T=t.Mouse},function(t){N=t.sounds},function(t){R=t.ZenGardenObjectPar}],execute:function(){var E,G,L,z,M,j,x,q,F,O,_,W,B,U,H,V,Y,J,K,Q,X,$,tt,nt,et,it,ot,at,lt,rt,st,ut,ht,pt,ct,dt;t("shortenFullTime",(function(){wt=t("ZenGardenPlantFullTime",5*Pt)})),l._RF.push({},"2b2a9iG5A5L1JexYuHSHIIe","ZenGarden",void 0);var mt=r.ccclass,ft=r.property,Pt=t("OneSecond",1e3),gt=t("OneMinute",60*Pt),bt=t("OneHour",60*gt),wt=t("ZenGardenPlantFullTime",24*bt);t("PlantFeaturesInZen",(function(){this.PlantPlace="dirt",this.IdleAnim=null,this.RandomAnim=null}));var vt=t("PlantInZenGardenRequirementEnum",function(t){return t[t.water=0]="water",t[t.fertilizer=1]="fertilizer",t[t.jukebox=2]="jukebox",t[t.pesticide=3]="pesticide",t}({})),yt=t("PlantInZenGarden",(function(){this.ID=0,this.inZen=0,this.pos=0,this.grownTime=0,this.oldTime=0,this.stuck=!1,this.waterCD=0,this.waterLeftTime=0,this.requirement=0})),St=function(t){return t[t.any=0]="any",t[t.deck=1]="deck",t[t.ground=2]="ground",t[t.grass=3]="grass",t}(St||{});s(St);var It=t("ZenGardenSlot",(E=mt("ZenGardenSlot"),G=ft(u),L=ft(Boolean),z=ft({type:Boolean,visible:function(){return!this.addPot}}),M=ft({type:St}),E((q=n((x=function(){function t(){o(this,"node",q,this),o(this,"addPot",F,this),o(this,"addFloater",O,this),o(this,"groundType",_,this),this.pot=void 0,this.floater=void 0,this.plant=void 0,this._plantAnmControl=void 0,this.shade=void 0,this.sprout=void 0,this.pos=0,this.selection=void 0,this.requirePar=void 0,this.inZen=void 0,this.rec=new Z,this._mouseIsIn=!1,this.disabled=!1}var n=t.prototype;return n.receivePlant=function(t){!this.plant&&t&&(this.plant=t,t.pos=this.pos,t.inZen=this.inZen.ID,this.showPlant(this.inZen.PlantLayer),D.getPlantsInZen(this.inZen.ID).push(t),y.savePP())},n.movePlant=function(t){if(t.sprout&&!t.plant&&!t.plantAnmControl&&this.plant&&this.plantAnmControl){t.plant=this.plant,t.plant.pos=t.pos,this.plantAnmControl.node.worldPosition=t.sprout.node.worldPosition,t.plantAnmControl=this.plantAnmControl,this.showSprout(this.plantAnmControl.node.parent).db.playAnimation("Empty"),t.sprout&&(t.sprout.node.destroy(),t.sprout=null);var n=this.stuck;t.stuck=!n,t.stuck=n,this.plantAnmControl=null,this.plant=null,this.stuck=!1,N.playPlantOnFloor(),this.inZen.clearSibling(),y.savePP()}},n.showSelection=function(t){var n=S(D.selectionUI);n.parent=t,n.worldPosition=this.node.worldPosition,this.selection=n.getComponent(k),this.selection.db.playAnimation("Null")},n.addRequire=function(t){var n=D.waterpourPar;switch(t){case vt.fertilizer:n=D.fertilizerPar;break;case vt.pesticide:n=D.pesticidePar;break;case vt.jukebox:n=D.jukeboxPar}this.plant.requirement=t;var e=S(n);e.parent=this.selection.node.parent,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(this.selection.node.getSiblingIndex()+1);var i=e.getComponent(R);i.played=!1,i.zenSlot=this,i.ID=t,i.db.playAnimation("Idle"),this.requirePar=i,y.savePP()},n.fulFillRequire=function(t){var n;void 0===t&&(t=!0),null==(n=this.requirePar)||n.play(t),this.plant&&(this.plant.waterCD=(7+3*Math.random())*Pt)},n.showPot=function(t){var n=S(D.flowerpot);n.parent=t,n.worldPosition=this.node.worldPosition,this.pot=n.getComponent(p.ArmatureDisplay)},n.showFloater=function(t){var n=S(D.floater);n.parent=t,n.worldPosition=this.node.worldPosition,this.floater=n.getComponent(p.ArmatureDisplay)},n.getStage=function(t){return Math.floor(4*t)},n.onStageChanged=function(t,n){this.stuck;if(this.stuck=!0,"float"==w.getPlantFeature(this.plant.ID).ZENGARDEN.PlantPlace){var e=this.getStage(this.plant.grownTime/wt),i=vt.fertilizer;e>2&&(i=Math.random()>.5?vt.jukebox:vt.pesticide),this.plant.waterLeftTime=0,this.addRequire(i)}else this.addRequire(vt.water),this.plant.waterLeftTime=3},n.getScale=function(t){return At.getPlantScale(t)},n.grow=function(t){var n=this;if(void 0===t&&(t=NaN),isNaN(t)){if(!this.plant)return;t=this.getStage(this.plant.grownTime/wt)+1}if(t>=0){if(this.sprout&&(this.sprout.db.playAnimation("Grow"),!this.plantAnmControl)){var e=c(w.getPlantsInCard(this.plant.ID).plantDIS);e.parent=this.sprout.node.parent,e.worldPosition=this.sprout.node.worldPosition,this.plantAnmControl=e.getComponent(v),this.plantAnmControl.body.node.scale=new d(0,0,0),this.plantAnmControl.node.scale=new d(1,1,1)}var i=this.getScale(t),o=m(this.plantAnmControl.body.node).call((function(){i!=n.plantAnmControl.body.node.scale.x&&D.playSproutGrowthSound()})).to(.7,{scale:new d(i,i,i)},{easing:"backInOut"}).call((function(){n.stuck=!1}));this.sprout?(this.sprout.db.once(p.EventObject.FRAME_EVENT,(function(t){"grow"==t.name&&(o.start(),D.playPlantDisappearSound())}),this),this.sprout=null):o.start()}this.stuck=!1,this.plant.grownTime=t/4*wt+1,this.inZen.clearSibling(),y.savePP()},n.showSprout=function(t){if(this.sprout)return this.sprout;var n=c(D.sproutPar);n.parent=t,n.worldPosition=this.node.worldPosition;var e=n.getComponent(k);return this.sprout=e,this.sprout&&(this.sprout.db.timeScale=.9+.2*Math.random()),this.judgeSelection(),e},n.removePlant=function(){var t,n;if(this.plant){var e=this.sprout?this.sprout.node:this.plantAnmControl.node;this.showSprout(e.parent).db.playAnimation("Empty"),null==(t=this.plantAnmControl)||null==(t=t.node)||t.destroy(),this.plantAnmControl=null;var i,o=D.getPlantsInZen(this.plant.inZen),a=o.indexOf(this.plant);if(-1!=a&&o.splice(a,1),null==(n=this.pot)||n.playAnimation("Idle"),this.plant=null,this.stuck=!1,this.requirePar)I(null==(i=this.requirePar)?void 0:i.node),this.requirePar=null;this.judgeSelection(),this.inZen.clearSibling(),y.savePP()}},n.addPlant=function(t,n){var e;if(!this.plant){var i=new yt;i.ID=t,i.pos=this.pos,i.inZen=n,i.oldTime=(new Date).getTime();var o=w.getPlantFeature(t).ZENGARDEN.PlantPlace;i.waterLeftTime="float"==o?-1:3,this.plant=i,this.stuck=!1,this.stuck=!0,null==this||null==(e=this.sprout)||null==(e=e.db)||e.playAnimation("Birth",1),D.getPlantsInZen(n).push(this.plant),D.playSproutBirthSound(),this.judgeSelection(),y.savePP()}},n.showPlant=function(t){var n,e;if(!this.plant)return this.showSprout(t).db.playAnimation("Empty"),null==(n=this.floater)||n.playAnimation("Idle"),void(null==(e=this.pot)||e.playAnimation("Idle"));if(!this.plantAnmControl){var i=this.getStage(this.plant.grownTime/wt);if(i>0){var o=c(w.getPlantsInCard(this.plant.ID).plantDIS);o.parent=t,o.worldPosition=this.node.worldPosition,this.plantAnmControl=o.getComponent(v);var a=this.getScale(i);this.plantAnmControl.body.node.scale=new d(a,a,a),this.plantAnmControl.node.scale=new d(1,1,1),this.sprout&&(I(this.sprout.node),this.sprout=null)}else{this.showSprout(t).db.playAnimation("Idle")}var l=this.stuck;this.plant.stuck=!l,this.stuck=l,this.plant.waterCD=isNaN(this.plant.waterCD)?0:this.plant.waterCD,this.plant.waterLeftTime=isNaN(this.plant.waterLeftTime)?0:this.plant.waterLeftTime,this.plant.waterCD<=0&&this.stuck&&(isNaN(this.plant.requirement)?this.addRequire(vt.water):this.addRequire(this.plant.requirement)),this.judgeSelection()}},n.dealPlant=function(t){if(this.plant){var n=t-this.plant.oldTime,e=this.getStage(this.plant.grownTime/wt);if(this.stuck){if(!this.requirePar&&(this.plant.waterCD-=n,this.plant.waterCD<=0)){this.plant.waterCD=0;var i=vt.water;this.plant.waterLeftTime<0&&(i=e>2?Math.random()>.5?vt.jukebox:vt.pesticide:vt.fertilizer),this.addRequire(i)}}else this.plant.grownTime+=n;var o=this.plant.grownTime/wt,a=Math.min(this.getStage(o),e+1);e==a||this.stuck||(this.onStageChanged(e,a),this.plant.grownTime=a/4*wt-1),this.plant.oldTime=t}},n.update=function(){if(this.shade&&this.plantAnmControl){var t=.6*this.plantAnmControl.body.node.scale.x;this.shade.scale=new d(t,t,t)}this.rec=Z.createRectangleNodeCenter(this.node,300*this.inZen.node.worldScale.x,300*this.inZen.node.worldScale.y)},n.judgeMouse=function(){return this.rec.judgeInRec(T.position.x,T.position.y)},n.judgeSelection=function(){var t=!1;if(!this.plant&&D.isShoveling)t=!0;else if(D.isGloving){var n;(this.plant&&this.stuck||!this.plant||this.sprout)&&!D.cp.willMovePlantSlot?t=!0:!D.cp.willMovePlantSlot||!this.plant&&At.judgePlantableInSlot(this,null==(n=D.cp.willMovePlantSlot.plant)?void 0:n.ID)||(t=!0)}else if(D.isCarting){var e;(D.cp.plantInCart||this.plant&&!this.stuck&&!this.sprout)&&(!D.cp.plantInCart||!this.plant&&At.judgePlantableInSlot(this,null==(e=D.cp.plantInCart)?void 0:e.ID))||(t=!0)}this.disabled=t;var i=this.disabled?new f(122,122,122,255):new f(255,255,255,255);this.pot&&(this.pot.color=i),this.floater&&(this.floater.color=i),this.sprout&&(this.sprout.db.color=i),this.plantAnmControl&&(this.plantAnmControl.body.color=i)},e(t,[{key:"plantAnmControl",get:function(){return this._plantAnmControl},set:function(t){if(t&&(t.willInitScaleOnEnable=!1),t&&!this.shade){var n=S(D.shade);n.parent=this.inZen.ShadeLayer,this.shade=n,n.worldPosition=t.node.worldPosition,n.scale=new d(0,0,0)}else!t&&this.shade&&(C.destroyPooly(this.shade),this.shade=null);this._plantAnmControl=t}},{key:"stuck",get:function(){return this.plant&&this.plant.stuck},set:function(t){var n;if(this.plant&&t!=(null==(n=this.plant)?void 0:n.stuck)){var e,i=null==(e=w.getPlantFeature(this.plant.ID))||null==(e=e.ZENGARDEN)?void 0:e.PlantPlace;if(this.pot){var o="Idle",a="Idle_Golden";"float"!=i&&"sink"!=i||(o="Water",a="Water_Golden"),this.pot.playAnimation(t?o:a)}else if(this.floater){var l="Idle",r="Idle_Golden";if("float"==i||"sink"==i||"fly"==i)switch(l="Water",r="Water_Golden",this.floater.animationName){case"Sink":case"Idle":case"Idle_Golden":l="Sink",r="Sink_Golden"}var s=t?l:r;this.floater.playAnimation(s)}}else if(!this.plant){var u,h;null==(u=this.pot)||u.playAnimation("Idle"),null==(h=this.floater)||h.playAnimation("Idle")}this.plant&&(this.plant.stuck=t),this.judgeSelection()}},{key:"mouseIsIn",get:function(){return this._mouseIsIn},set:function(t){var n;t!=this._mouseIsIn&&(null==(n=this.selection)||null==(n=n.db)||n.playAnimation(t?"Yellow":"Null"));this._mouseIsIn=t}}]),t}()).prototype,"node",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(x.prototype,"addPot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=n(x.prototype,"addFloater",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=n(x.prototype,"groundType",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=x))||j)),Ct=t("ZenGardenTypeEnum",function(t){return t[t.main=0]="main",t[t.mushroom=1]="mushroom",t[t.beach=2]="beach",t[t.amount=3]="amount",t}({}));s(Ct);var At=t("ZenGarden",(W=mt("ZenGarden"),B=ft({type:Ct}),U=ft([It]),H=ft(u),V=ft(u),Y=ft(u),J=ft(u),K=ft(u),Q=ft(u),X=ft([h]),$=ft([h]),tt=ft(h),W((it=n((et=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i))||this,o(n,"ID",it,a(n)),o(n,"slots",ot,a(n)),o(n,"PlantLayer",at,a(n)),o(n,"ShadeLayer",lt,a(n)),o(n,"PotLayer",rt,a(n)),o(n,"UILayer",st,a(n)),o(n,"corner1",ut,a(n)),o(n,"corner2",ht,a(n)),n.NE=new P,n.SW=new P,n.initialized=!1,n.mouseInSlot=null,n.ambOccCD=0,n.ambRareCD=0,o(n,"ambOcc",pt,a(n)),o(n,"ambRare",ct,a(n)),o(n,"ambience",dt,a(n)),n}i(n,t),n.judgePlantableInSlot=function(t,n){if(isNaN(n))return!1;var e=w.getPlantFeature(n).ZENGARDEN.PlantPlace;switch(t.groundType){case St.any:return!0;case St.deck:case St.grass:return"dirt"==e||"fly"==e;case St.ground:return"solid"==e||"dirt"==e||"fly"==e}},n.getPlantScale=function(t){var n=1;switch(t){case 1:n=.7;break;case 2:n=1;break;default:n=1.3}return n};var e=n.prototype;return e.judgeSelection=function(){this.slots.forEach((function(t){t.judgeSelection()}))},e.setCorner=function(){var t=Math.min(this.corner1.position.x,this.corner2.position.x),n=Math.max(this.corner1.position.x,this.corner2.position.x),e=Math.min(this.corner1.position.y,this.corner2.position.y),i=Math.max(this.corner1.position.y,this.corner2.position.y);this.NE=new P(n,i),this.SW=new P(t,e)},e.onLoad=function(){},e.initialize=function(t){var e=this;this.initialized||(this.initialized=!0,this.slots.forEach((function(n,i){var o;n.inZen=e,n.pos=i;var a=null;t.forEach((function(t){a||t.inZen==e.ID&&t.pos==i&&(a=t)})),n.addPot?n.showPot(e.PotLayer):n.addFloater&&n.showFloater(e.PotLayer),n.showSelection(e.UILayer),n.plant=a,null==(o=n.floater)||o.playAnimation("Water"),n.showPlant(e.PlantLayer),n.rec=Z.createRectangleNodeCenter(n.node,90,90),e.setCorner()})),this.node.parent.on(u.EventType.MOUSE_DOWN,(function(t){if(t.preventSwallow=!0,e.node.active&&e.mouseInSlot&&t.getButton()==g.BUTTON_LEFT)if(D.isShoveling)e.mouseInSlot.disabled||(e.mouseInSlot.removePlant(),N.playShovelDig(),D.fastShovel||D.shovel());else if(D.isGloving)e.mouseInSlot.disabled||(D.cp.willMovePlantSlot?(D.cp.willMovePlantSlot.movePlant(e.mouseInSlot),D.cp.indexTo_1()):D.setWillMovePlantSlot(e.mouseInSlot));else if(D.isCarting)e.mouseInSlot.disabled||(D.cp.plantInCart?(e.mouseInSlot.receivePlant(D.cp.plantInCart),D.cp.plantInCart=null):(D.cp.plantInCart=e.mouseInSlot.plant,e.mouseInSlot.removePlant()),N.playPlantOnFloor(),D.cp.indexTo_1());else if(e.mouseInSlot.plant)e.mouseInSlot.requirePar&&e.mouseInSlot.fulFillRequire();else for(var i=A.randomize(w.defaultPlantChooserOrder),o=0;o<i.length;o++)if(n.judgePlantableInSlot(e.mouseInSlot,i[o])){e.mouseInSlot.addPlant(i[o],e.ID);break}}),this))},e.judgeMouseInSlot=function(){var t=null;this.slots.concat().reverse().forEach((function(n){n.update(),n.mouseIsIn=!1,t||n.judgeMouse()&&(t=n,n.mouseIsIn=!0)})),this.mouseInSlot=t},e.update=function(t){this.playAmbience(t);var n=(new Date).getTime();this.judgeMouseInSlot(),this.slots.forEach((function(t){t.dealPlant(n)})),y.savePP()},e.clearSibling=function(){var t=this;this.slots.forEach((function(n){var e,i,o,a,l;null==(e=n.sprout)||null==(e=e.node)||e.setSiblingIndex(t.PlantLayer.children.length),null==(i=n.plantAnmControl)||null==(i=i.node)||i.setSiblingIndex(t.PlantLayer.children.length),(null==(o=n.requirePar)||null==(o=o.node)?void 0:o.parent)==(null==n||null==(a=n.plantAnmControl)||null==(a=a.node)?void 0:a.parent)&&(null==(l=n.requirePar)||null==(l=l.node)||l.setSiblingIndex(t.PlantLayer.children.length))}))},e.playAmbience=function(t){this.ambOccCD>0?this.ambOccCD-=t:(N.play(A.getRandom(this.ambOcc)),this.ambOccCD=5),this.ambRareCD>0?this.ambRareCD-=t:(N.play(A.getRandom(this.ambRare)),this.ambRareCD=10)},n}(b)).prototype,"ID",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ot=n(et.prototype,"slots",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=n(et.prototype,"PlantLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=n(et.prototype,"ShadeLayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=n(et.prototype,"PotLayer",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=n(et.prototype,"UILayer",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=n(et.prototype,"corner1",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=n(et.prototype,"corner2",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=n(et.prototype,"ambOcc",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=n(et.prototype,"ambRare",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=n(et.prototype,"ambience",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=et))||nt));l._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenFeatures.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.sounds}],execute:function(){e._RF.push({},"d666aCh3t9KLJVvAcizC/YV","ZenGardenFeatures",void 0);i.ccclass,i.property;t("ZenPrefabRes",function(){function t(){}return t.playWaterPourSound=function(){r.play(this.cp.waterPourSound,1,.1)},t.playPesticideSound=function(){r.play(this.cp.pesticideSound,1,.1)},t.playJukeboxFallSound=function(){r.play(this.cp.jukeboxFallSound,1,.1)},t.playJukeboxPlaySound=function(){r.play(this.cp.jukeboxPlaySound,1,.1)},t.playFertilizerFallSound=function(){r.play(this.cp.fertilizerFallSound,1,.1)},t.playFertilizerBlastSound=function(){r.play(this.cp.fertilizerBlastSound,1,.1)},t.playSproutBirthSound=function(){r.play(this.cp.sproutBirthSound,1,.1)},t.playSproutGrowthSound=function(){r.play(this.cp.sproutGrowthSound,1,.1),r.play(this.cp.plantGrowthSound,1,.1)},t.playPlantDisappearSound=function(){r.play(this.cp.plantDisappearSound,1,.1)},t.getPlantsInZen=function(t){return this.cp.getPlants(t)},t.shovel=function(){var t;null==(t=this.cp)||t.shovel()},t.glove=function(){var t;null==(t=this.cp)||t.glove()},t.setWillMovePlantSlot=function(t){var n;null==(n=this.cp)||n.setWillMovePlantSlot(t)},t.cart=function(){var t;null==(t=this.cp)||t.cart()},n(t,null,[{key:"sproutPar",get:function(){return this.cp.sproutPar}},{key:"jukeboxPar",get:function(){return this.cp.jukeboxPar}},{key:"pesticidePar",get:function(){return this.cp.pesticidePar}},{key:"fertilizerPar",get:function(){return this.cp.fertilizerPar}},{key:"waterpourPar",get:function(){return this.cp.waterpourPar}},{key:"selectionUI",get:function(){return this.cp.selectionUI}},{key:"flowerpot",get:function(){return this.cp.flowerpot}},{key:"floater",get:function(){return this.cp.floater}},{key:"shade",get:function(){return this.cp.shade}},{key:"isShoveling",get:function(){return this.cp&&this.cp.isShoveling}},{key:"fastShovel",get:function(){return this.cp&&this.cp.fastShovel}},{key:"isGloving",get:function(){return this.cp&&this.cp.isGloving}},{key:"isCarting",get:function(){return this.cp&&this.cp.isCarting}}]),t}()).cp=void 0;t("ZenGardenPlayerProperties",(function(){this.plantsInMain=[],this.plantsInMushroom=[],this.plantsInBeach=[],this.plantInCart=null}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenObjectPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./CharacterManager.ts"],(function(e){var t,n,l,a,i,r,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e._decorator},function(e){a=e.ParticleSelfdestroy},function(e){i=e.PlantInZenGardenRequirementEnum,r=e.OneSecond},function(e){o=e.AllPlayerProperties},function(e){s=e.ZenPrefabRes},function(e){u=e.Rectangle}],execute:function(){var d;n._RF.push({},"b989dQJ/TVCLbUIdLcGkilZ","ZenGardenObjectPar",void 0);var c=l.ccclass;l.property,e("ZenGardenObjectPar",c("ZenGardenObjectPar")(d=function(e){function n(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).zenSlot=void 0,t.ID=0,t.played=!1,t}t(n,e);var l=n.prototype;return l.animationListener=function(e){if(this.ID==i.water){if(this.zenSlot&&"water_done"==e.name)this.zenSlot.plant.waterCD=(7+3*Math.random())*r,o.savePP();else if("water_pour"==e.name){var t;s.playWaterPourSound(),null==(t=this.zenSlot)||null==(t=t.plantAnmControl)||t.playAnimation("Water",1)}}else if(this.ID==i.pesticide)"pesticide_shoot"==e.name&&s.playPesticideSound();else if(this.ID==i.jukebox){if("jukebox_smash"==e.name)s.playJukeboxFallSound();else if("jukebox_play"==e.name){var n;s.playJukeboxPlaySound(),null==(n=this.zenSlot)||null==(n=n.plantAnmControl)||n.playAnimation("Water",1)}}else this.ID==i.fertilizer&&("fertilizer_blast"==e.name?s.playFertilizerBlastSound():"fertilizer_drop"==e.name&&s.playFertilizerFallSound());var l;"grow"==e.name&&(null==(l=this.zenSlot)||l.grow());"die"==e.name&&(this.zenSlot&&(this.zenSlot.requirePar=null),this.zenSlot=null)},l.play=function(e){var t=this;if(void 0===e&&(e=!0),!this.played){if(this.played=!0,this.db.playAnimation("Play"),this.ID==i.water){if(e){var n;this.db.playAnimation("Play_Gold");var l=u.createRectangleNodeCenter(this.zenSlot.node,180*s.cp.scale,180*s.cp.scale);null==(n=this.zenSlot)||null==(n=n.inZen)||null==(n=n.slots)||n.forEach((function(e){e.requirePar&&e.requirePar.ID==t.ID&&e.rec.judgeCrossRec(l)&&e.fulFillRequire(!1)}))}this.zenSlot.plant.waterLeftTime--,this.zenSlot.plant.waterCD=(7+3*Math.random())*r}else if(this.ID==i.jukebox){var a,d,c=null==(a=this.zenSlot)||null==(a=a.sprout)?void 0:a.node;c||(c=null==(d=this.zenSlot)||null==(d=d.plantAnmControl)?void 0:d.node),this.node.setParent(c.parent,!0),this.node.setSiblingIndex(c.getSiblingIndex()+1)}o.savePP()}},l.update=function(e){var t;(null==(t=this.zenSlot)?void 0:t.requirePar)!=this&&this.node.destroy()},n}(a))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenRP.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,i,a,o,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,u=e.Component}],execute:function(){var l,s,p,f,d,b,g;a._RF.push({},"271c65utO5IFpEoUrfZi3tn","ZenGardenRP",void 0);var y=o.ccclass,h=o.property;e("ZenGardenRP",(l=y("ZenGardenRP"),s=h([c]),p=h([c]),l((b=r((d=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,t(r,"gardenObjects",b,i(r)),t(r,"gardens",g,i(r)),r}return n(r,e),r}(u)).prototype,"gardenObjects",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(d.prototype,"gardens",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/zenGardenScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./NodePools.ts","./SoundsController.ts","./SoundRescourses.ts","./Mouse.ts","./Shovel.ts","./KeyListener.ts","./SettingWindow.ts","./AnimationController.ts","./Plants.ts"],(function(e){var n,t,i,l,r,a,o,s,u,c,h,p,d,g,y,f,v,b,P,w,I,S,m,z,C,T,x,_,M,E,U,H,Z,O,B,k,D,N,A;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Prefab,u=e.AudioClip,c=e.AudioSource,h=e.Node,p=e.Toggle,d=e.Vec2,g=e.director,y=e.EventMouse,f=e.input,v=e.Input,b=e.KeyCode,P=e.Vec3,w=e.UITransform,I=e.Component},function(e){S=e.ZenGarden,m=e.ZenGardenTypeEnum,z=e.shortenFullTime,C=e.ZenGardenPlantFullTime},function(e){T=e.AllPlayerProperties},function(e){x=e.ZenPrefabRes,_=e.ZenGardenPlayerProperties},function(e){M=e.ArrayGet,E=e.instantiatePooly},function(e){U=e.MusicController,H=e.SoundFXController},function(e){Z=e.sounds},function(e){O=e.Mouse},function(e){B=e.Shovel},function(e){k=e.KeyListener},function(e){D=e.WindowSize},function(e){N=e.AnimationController},function(e){A=e.plants}],execute:function(){var G,F,L,W,j,K,R,Y,V,X,q,Q,J,$,ee,ne,te,ie,le,re,ae,oe,se,ue,ce,he,pe,de,ge,ye,fe,ve,be,Pe,we,Ie,Se,me,ze,Ce,Te,xe,_e,Me,Ee,Ue,He,Ze,Oe,Be,ke,De,Ne,Ae,Ge,Fe,Le,We,je,Ke,Re,Ye,Ve,Xe,qe,Qe,Je,$e,en,nn,tn;a._RF.push({},"28f67d8p+VHj4E+vcc2h1Ka","zenGardenScene",void 0);var ln=o.ccclass,rn=o.property;e("zenGardenScene",(G=ln("zenGardenScene"),F=rn(s),L=rn(s),W=rn(s),j=rn(s),K=rn(s),R=rn(s),Y=rn(s),V=rn(s),X=rn(s),q=rn(u),Q=rn(u),J=rn(u),$=rn(u),ee=rn(u),ne=rn(u),te=rn(u),ie=rn(u),le=rn(u),re=rn(u),ae=rn([S]),oe=rn([u]),se=rn(c),ue=rn(c),ce=rn(B),he=rn(B),pe=rn(h),de=rn(p),ge=rn(B),ye=rn(h),fe=rn(B),ve=rn(h),be=rn(h),Pe=rn(h),we=rn(h),G((me=n((Se=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"sproutPar",me,l(n)),i(n,"jukeboxPar",ze,l(n)),i(n,"pesticidePar",Ce,l(n)),i(n,"fertilizerPar",Te,l(n)),i(n,"waterpourPar",xe,l(n)),i(n,"selectionUI",_e,l(n)),i(n,"flowerpot",Me,l(n)),i(n,"floater",Ee,l(n)),i(n,"shade",Ue,l(n)),i(n,"sproutBirthSound",He,l(n)),i(n,"sproutGrowthSound",Ze,l(n)),i(n,"plantGrowthSound",Oe,l(n)),i(n,"waterPourSound",Be,l(n)),i(n,"pesticideSound",ke,l(n)),i(n,"jukeboxFallSound",De,l(n)),i(n,"jukeboxPlaySound",Ne,l(n)),i(n,"fertilizerFallSound",Ae,l(n)),i(n,"fertilizerBlastSound",Ge,l(n)),i(n,"plantDisappearSound",Fe,l(n)),i(n,"gardens",Le,l(n)),i(n,"musics",We,l(n)),i(n,"musicPlayer",je,l(n)),i(n,"sfxPlayer",Ke,l(n)),i(n,"nextZenButton",Re,l(n)),i(n,"shovelUI",Ye,l(n)),i(n,"shovelInHand",Ve,l(n)),n.willMovePlantSlot=void 0,i(n,"fastShovelToggle",Xe,l(n)),i(n,"gloveUI",qe,l(n)),i(n,"gloveInHand",Qe,l(n)),n.gloveOldScale=.5,i(n,"cartUI",Je,l(n)),i(n,"cartInHand",$e,l(n)),i(n,"plantInCartLayer",en,l(n)),n.cartOldScale=.5,n._plantInCart=null,n.plantInCartAnm=null,n.currentZen=void 0,n.pressed=!1,i(n,"uiNode",nn,l(n)),i(n,"zenParent",tn,l(n)),n._scale=1,n._pos=new d,n}t(n,e);var a=n.prototype;return a.musicControl=function(){this.musicPlayer.playing||(this.musicPlayer.clip=M.getRandom(this.musics),this.musicPlayer.play()),this.musicPlayer.volume=U.MusicVolume,this.sfxPlayer.volume=H.SoundFXVolume},a.onLoad=function(){this.gloveOldScale=this.gloveInHand.scale.x,this.cartOldScale=this.cartInHand.scale.x,x.cp=this,T.currentPlayer.zengarden||(T.currentPlayer.zengarden=new _),T.savePP()},a.exitToMap=function(){g.loadScene("worldMapScene")},a.getPlants=function(e){switch(e){case m.main:return T.currentPlayer.zengarden.plantsInMain||(T.currentPlayer.zengarden.plantsInMain=[]),T.currentPlayer.zengarden.plantsInMain;case m.mushroom:return T.currentPlayer.zengarden.plantsInMushroom||(T.currentPlayer.zengarden.plantsInMushroom=[]),T.currentPlayer.zengarden.plantsInMushroom;case m.beach:return T.currentPlayer.zengarden.plantsInBeach||(T.currentPlayer.zengarden.plantsInBeach=[]),T.currentPlayer.zengarden.plantsInBeach}return[]},a.indexTo_1=function(){this.isCarting&&this.cart(),this.isShoveling&&this.shovel(),this.isGloving&&this.glove(),this.willMovePlantSlot&&this.setWillMovePlantSlot(null)},a.setWillMovePlantSlot=function(e){!e&&this.willMovePlantSlot?this.willMovePlantSlot=null:e&&(Z.playCardChosen(),this.willMovePlantSlot=e),this.currentZen.judgeSelection()},a.shovel=function(){Z.playShovelActive();var e=!this.isShoveling;e&&this.indexTo_1(),this.isShoveling=e,this.shovelUI.index=this.isShoveling?1:0,this.shovelUI.select(),this.currentZen.judgeSelection()},a.glove=function(){Z.playCardCancel();var e=!this.isGloving;e&&this.indexTo_1(),this.isGloving=e,this.gloveUI.index=this.isGloving?1:0,this.gloveUI.select(),this.currentZen.judgeSelection()},a.cart=function(){var e=!this.isCarting;e?(!this.willMovePlantSlot||this.plantInCart||this.willMovePlantSlot.stuck||this.willMovePlantSlot.sprout||(this.plantInCart=this.willMovePlantSlot.plant,this.willMovePlantSlot.removePlant(),Z.playPlantOnFloor(),e=!1),Z.playCardChosen(),this.indexTo_1()):Z.playRightButtonCancel(),this.isCarting=e,this.cartUI.index=this.isCarting?1:0,this.cartUI.select(),this.currentZen.judgeSelection()},a.clearScale=function(){this.pos=new d(0,0),this.scale=1},a.switchZen=function(e){this.indexTo_1(),e>=this.gardens.length&&(e=0),e<0&&(e=this.gardens.length-1),this.gardens[e]||(e=0),this.gardens.forEach((function(e){e.node.active=!1}));var n=this.gardens[e];this.currentZen=n,n.node.active=!0,this.sfxPlayer.stop(),this.sfxPlayer.clip=n.ambience,this.sfxPlayer.play(),n.initialize(this.getPlants(n.ID)),this.clearScale()},a.nextZen=function(){var e=this.gardens.indexOf(this.currentZen);this.switchZen(e+1)},a.start=function(){var e,n,t=this;(this.switchZen(0),this.sfxPlayer.loop=!0,this.sfxPlayer.play(),null!=(e=T.currentPlayer.zengarden)&&e.plantInCart)&&(this.plantInCart=null==(n=T.currentPlayer.zengarden)?void 0:n.plantInCart);T.savePP(),this.nextZenButton.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT&&t.nextZen()}),this),this.shovelUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT&&t.shovel()}),this),this.gloveUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT&&t.glove()}),this),this.cartUI.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_LEFT&&t.cart()}),this),this.node.on(h.EventType.MOUSE_DOWN,(function(e){e.getButton()==y.BUTTON_RIGHT?(t.indexTo_1(),t.pressed=!0):e.getButton()==y.BUTTON_MIDDLE&&(t.pressed=!0)}),this),this.node.on(h.EventType.MOUSE_UP,(function(e){e.getButton()!=y.BUTTON_MIDDLE&&e.getButton()!=y.BUTTON_RIGHT||(t.pressed=!1)}),this),f.on(v.EventType.KEY_DOWN,(function(e){e.keyCode==b.KEY_D?t.shovel():e.keyCode==b.KEY_M?t.glove():e.keyCode==b.KEY_C?t.cart():e.keyCode==b.DIGIT_0&&k.ctrlDown?t.clearScale():e.keyCode==b.ESCAPE?t.exitToMap():e.keyCode==b.KEY_A?t.currentZen.slots.forEach((function(e){e.fulFillRequire()})):e.keyCode==b.KEY_P?k.ctrlDown&&k.shiftDown&&k.altDown&&z():e.keyCode==b.BACK_QUOTE?t.hideUI():e.keyCode==b.TAB&&t.nextZen()}),this),this.zenParent.parent.parent.on(h.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,t.scale*=Math.pow(1.01,e.getScrollY()/50)}),this),this.zenParent.parent.on(h.EventType.MOUSE_MOVE,(function(e){t.pressed&&(t.pos=t.pos.clone().add(e.getDelta()))}),this)},a.hideUI=function(){this.uiNode.active=!this.uiNode.active},a.update=function(e){if(this.gloveInHand.active)if(this.willMovePlantSlot){var n=.2*this.scale;this.gloveInHand.scale=new P(n,n,n),this.gloveInHand.worldPosition=this.willMovePlantSlot.node.worldPosition.clone().add(new P(0,-20*this.scale,0))}else{var t=this.gloveOldScale;this.gloveInHand.scale=new P(t,t,t),this.gloveInHand.worldPosition=new P(O.position.x,O.position.y,10)}if(this.cartInHand.active){var i=this.cartOldScale*this.scale;this.cartInHand.scale=new P(i,i,i),this.cartInHand.worldPosition=new P(O.position.x,O.position.y,10)}if(this.plantInCartAnm)if(this.isCarting){var l=.3*this.scale;this.plantInCartAnm.node.scale=new P(l,l,l),this.plantInCartAnm.node.worldPosition=this.cartInHand.worldPosition.clone().add(new P(0,20*this.scale,0))}else{this.plantInCartAnm.node.scale=new P(.3,.3,.3),this.plantInCartAnm.node.worldPosition=this.cartUI.node.worldPosition.clone().add(new P(0,20,0))}this.musicControl(),this.shovelInHand.active&&(this.shovelInHand.worldPosition=new P(O.position.x,O.position.y,10))},r(n,[{key:"isShoveling",get:function(){return this.shovelInHand&&this.shovelInHand.active},set:function(e){this.shovelInHand&&(this.shovelInHand.active=e)}},{key:"fastShovel",get:function(){return this.fastShovelToggle&&this.fastShovelToggle.isChecked}},{key:"isGloving",get:function(){return this.gloveInHand&&this.gloveInHand.active},set:function(e){this.gloveInHand&&(this.gloveInHand.active=e)}},{key:"isCarting",get:function(){return this.cartInHand&&this.cartInHand.active},set:function(e){this.cartInHand&&(this.cartInHand.active=e)}},{key:"plantInCart",get:function(){return this._plantInCart},set:function(e){if(e&&!this._plantInCart){var n=E(A.getPlantsInCard(e.ID).plantDIS);n.parent=this.plantInCartLayer,this.plantInCartAnm=n.getComponent(N);var t=Math.floor(e.grownTime/C*4),i=S.getPlantScale(t);this.plantInCartAnm.body.node.scale=new P(i,i,i)}else!e&&this._plantInCart&&this.plantInCartAnm&&(this.plantInCartAnm.node.destroy(),this.plantInCartAnm=null);this._plantInCart=e,T.currentPlayer.zengarden.plantInCart=e,T.savePP()}},{key:"scale",get:function(){return this._scale},set:function(e){var n=this.node.getComponent(w),t=this._scale,i=n.height,l=i*D,r=this.currentZen.node.scale.x,a=(this.currentZen.NE.x-this.currentZen.SW.x)*r,o=(this.currentZen.NE.y-this.currentZen.SW.y)*r;e=Math.min(10,Math.max(e,l/a,i/o)),this.zenParent.parent.scale=new P(e,e,e),t=e/this._scale,this._scale=e,this.pos=this.pos.clone().multiplyScalar(t)}},{key:"pos",get:function(){return this._pos},set:function(e){var n=this.node.getComponent(w),t=this.currentZen.node.scale.x,i=n.height,l=i*D,r=l/2-this.currentZen.NE.x*t*this._scale,a=-l/2-this.currentZen.SW.x*t*this._scale,o=i/2-this.currentZen.NE.y*t*this._scale,s=-i/2-this.currentZen.SW.y*t*this._scale;r>=a?e.x=(r+a)/2:e.x<r?e.x=r:e.x>a&&(e.x=a),o>=s?e.y=(o+s)/2:e.y<o?e.y=o:e.y>s&&(e.y=s),this.zenParent.worldPosition=this.zenParent.parent.worldPosition.clone().add(new P(e.x,e.y,10)),this._pos=e}}]),n}(I)).prototype,"sproutPar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=n(Se.prototype,"jukeboxPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=n(Se.prototype,"pesticidePar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=n(Se.prototype,"fertilizerPar",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=n(Se.prototype,"waterpourPar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=n(Se.prototype,"selectionUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=n(Se.prototype,"flowerpot",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=n(Se.prototype,"floater",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=n(Se.prototype,"shade",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=n(Se.prototype,"sproutBirthSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=n(Se.prototype,"sproutGrowthSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=n(Se.prototype,"plantGrowthSound",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=n(Se.prototype,"waterPourSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=n(Se.prototype,"pesticideSound",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=n(Se.prototype,"jukeboxFallSound",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=n(Se.prototype,"jukeboxPlaySound",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=n(Se.prototype,"fertilizerFallSound",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=n(Se.prototype,"fertilizerBlastSound",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=n(Se.prototype,"plantDisappearSound",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=n(Se.prototype,"gardens",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=n(Se.prototype,"musics",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=n(Se.prototype,"musicPlayer",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=n(Se.prototype,"sfxPlayer",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=n(Se.prototype,"nextZenButton",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=n(Se.prototype,"shovelUI",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=n(Se.prototype,"shovelInHand",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=n(Se.prototype,"fastShovelToggle",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=n(Se.prototype,"gloveUI",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=n(Se.prototype,"gloveInHand",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=n(Se.prototype,"cartUI",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=n(Se.prototype,"cartInHand",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=n(Se.prototype,"plantInCartLayer",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=n(Se.prototype,"uiNode",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=n(Se.prototype,"zenParent",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Se))||Ie));a._RF.pop()}}}));

System.register("chunks:///_virtual/Zombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Armor.ts","./Character.ts","./BodyGrouper.ts","./SoundsController.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./Armors.ts","./SoundRescourses.ts","./Particles.ts","./FrontYard.ts","./Materials.ts","./Plant.ts","./levelController.ts","./Sunflower.ts","./Zombies.ts","./ZombieAshParticle.ts","./EgyptSandStormParticle.ts","./ParticleSelfdestroy.ts","./Plants.ts","./UI.ts","./LevelTaskCount.ts"],(function(i){var t,e,n,o,a,s,r,l,h,d,u,c,p,b,m,f,y,g,w,S,P,v,k,D,C,z,L,A,T,B,_,R,E,H,W,x,O,I,F,Z,M,X,j,N,q,V,Y,G,U;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty,n=i.inheritsLoose,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,r=i._decorator,l=i.CCFloat,h=i.Enum,d=i.dragonBones,u=i.AudioClip,c=i.Prefab,p=i.Node,b=i.Vec2,m=i.Size,f=i.Color,y=i.Vec3,g=i.tween,w=i.AudioSource,S=i.Material,P=i.math,v=i.TWO_PI},function(i){k=i.instantiatePooly,D=i.NodePools},function(i){C=i.Armor},function(i){z=i.Character},function(i){L=i.BodyGrouper},function(i){A=i.SoundFXController},function(i){T=i.Rectangle,B=i.ZombiePool,_=i.Umbrellas},function(i){R=i.Square},function(i){E=i.TileType},function(i){H=i.armors},function(i){W=i.sounds},function(i){x=i.particle},function(i){O=i.FrontYard},function(i){I=i.materialRes},function(i){F=i.PlantType},function(i){Z=i.LevelPlay},function(i){M=i.sunflower},function(i){X=i.ZombieEnum,j=i.zombies},function(i){N=i.ZombieAshParticle},function(i){q=i.EgyptSandStormParticle},function(i){V=i.ParticleSelfdestroy},function(i){Y=i.PlantEnum},function(i){G=i.UIInGame},function(i){U=i.LevelTaskCountModeEnum}],execute:function(){var K,J,Q,$,ii,ti,ei,ni,oi,ai,si,ri,li,hi,di,ui,ci,pi,bi,mi,fi,yi,gi,wi,Si,Pi,vi,ki,Di,Ci,zi,Li,Ai,Ti,Bi,_i,Ri,Ei,Hi,Wi,xi,Oi,Ii,Fi,Zi,Mi,Xi,ji,Ni,qi,Vi,Yi,Gi,Ui,Ki,Ji,Qi,$i,it,tt,et,nt,ot,at,st,rt,lt,ht,dt,ut,ct,pt,bt,mt,ft,yt;s._RF.push({},"1f230U4V25L0KJSottj1hy0","Zombie",void 0);var gt=r.ccclass,wt=r.property,St=i("zombiePoison",(K=gt("ZombiePoison"),J=wt({type:l,visible:!0}),Q=wt({type:l,visible:!0}),$=wt({type:Boolean,visible:function(){return this.isValid()}}),K((ei=t((ti=function(){var i=t.prototype;function t(i,t){e(this,"DPS",ei,this),e(this,"duration",ni,this),e(this,"infective",oi,this),this.DPS=i,this.duration=t}return i.isValid=function(){return this.DPS>0&&this.duration>0},i.copy=function(){return new t(this.DPS,this.duration)},t}()).prototype,"DPS",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ni=t(ti.prototype,"duration",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oi=t(ti.prototype,"infective",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ii=ti))||ii)),Pt=i("zombieDamageType",function(i){return i[i.physicle=0]="physicle",i[i.fire=1]="fire",i[i.electricity=2]="electricity",i[i.potatoMine=3]="potatoMine",i[i.ray=4]="ray",i}({})),vt=i("ZombieGroanSoundGroupEnum",function(i){return i[i.modern=0]="modern",i[i.egypt=1]="egypt",i[i.pirate=2]="pirate",i[i.cowboy=3]="cowboy",i[i.future=4]="future",i[i.dark=5]="dark",i[i.beach=6]="beach",i[i.ice=7]="ice",i[i.lost=8]="lost",i[i.stage=9]="stage",i[i.dino=10]="dino",i[i.imp=11]="imp",i[i.gargantuar=12]="gargantuar",i[i.none=13]="none",i[i.kongfu=14]="kongfu",i}({}));h(vt);i("Zombie",(ai=gt("Zombie Features"),si=wt(l),ri=wt(d.ArmatureDisplay),li=wt({type:vt}),hi=wt(Boolean),di=wt(Boolean),ui=wt([u]),ci=wt([u]),pi=wt({type:l,max:1,min:0}),bi=wt([u]),mi=wt([u]),fi=wt([u]),yi=wt([u]),gi=wt([u]),wi=wt(c),Si=wt(L),Pi=wt(Boolean),vi=wt(l),ki=wt(c),Di=wt(c),Ci=wt(Number),zi=wt({type:Number,min:0}),Li=wt(Number),Ai=wt(p),Ti=wt(Boolean),Bi=wt({type:Boolean,visible:function(){return this.chompable}}),_i=wt(b),Ri=wt(m),Ei=wt(Number),Hi=wt(b),Wi=wt(m),xi=wt(Boolean),Oi=wt(Number),ai((Zi=t((Fi=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this)._reversed=!1,t.chilibeanFartTween=null,t.chilibeanPoisoning=!1,e(t,"chiliStunDurationScale",Zi,o(t)),t.chiliStunParticle=null,t._chiliStun=0,t.displayed=!1,e(t,"butterFace",Mi,o(t)),t.butterStun=0,e(t,"zombieGroanSoundGroup",Xi,o(t)),t.ID=X.modern_basic,t.finalWaveVictoryCountdown=.1,t._poison=new St(0,0),t.poisonPar=void 0,t._perfume=0,t.perfumeParticle=void 0,e(t,"sapflingProof",ji,o(t)),t.sapflingCD=0,t.flying=!1,e(t,"flyZombie",Ni,o(t)),t.currentFlyZombie=!1,e(t,"breakSound",qi,o(t)),e(t,"hurtSound",Vi,o(t)),e(t,"hurtSoundVolume",Yi,o(t)),e(t,"deathSound",Gi,o(t)),e(t,"onHeadThrownSound",Ui,o(t)),e(t,"lieSound",Ki,o(t)),e(t,"chewSound",Ji,o(t)),e(t,"groanSound",Qi,o(t)),t.enteredLawn=!1,e(t,"zombieAshParticle",$i,o(t)),t.zombieAshParticle_=null,e(t,"body",it,o(t)),e(t,"countHealthToThisWave",tt,o(t)),e(t,"toughness",et,o(t)),t.health=190,t.stunned=0,t._sunBeanParticleCD=0,t.accumulatedSunBeanHitPoint=0,t.sunbeanSunPerHitpoint=0,t.sunBeanParticle=void 0,t.WPC_real=100,t.WPC_wave=100,e(t,"zombieHead",nt,o(t)),e(t,"zombieArm",ot,o(t)),e(t,"zombieHeight",at,o(t)),t.isGargantuar=!1,t.potatoMineDisappear=!0,t.knockBackTween=null,t.changeLaneTween=null,t.knockBackable=!0,t.leapable=!0,t.tallNutBlock=!1,t.leapHeightTween=null,t.canBeKilledByRule=!0,t.dirtSpawning=!1,t.dirtSpawnTweens=[],t.teleporting=!1,t.objdata={},e(t,"squarePerSec",st,o(t)),t.randomSpeed=.3,e(t,"anmSpeed",rt,o(t)),t.haveArm=!0,e(t,"headDropPoint",lt,o(t)),t.haveHead=!0,t.armors=[],t._armorSocket=null,e(t,"chompable",ht,o(t)),t.chompable_=!0,e(t,"easyToChomp",dt,o(t)),t.easyToChomp_=!1,t.chill=0,t.freeze=0,t.haveSun=0,t.icetrapParticle=void 0,t.dead=!1,t.dealDamageScale=[],t.isRealZombie=!0,t.chewSoundWhenEat=!0,t.eating=!1,t.walking=!1,t._hypno=!1,t._usedToBeHypno=!1,t.coloredWhenHypnoed=!0,t.hypnoPar=void 0,t.audioSource=void 0,t.inWater=!1,e(t,"plantDetectorRecOffset",ut,o(t)),e(t,"plantDetectorRecSize",ct,o(t)),t._plantDetectorRec=T.createRectangleCenter(new b(1e5,1e5),1,1),e(t,"dps",pt,o(t)),t.lieEnded=!1,e(t,"bodyRecOffset",bt,o(t)),e(t,"bodyRecSize",mt,o(t)),t.bodyRecHiddenCD=1,t._bodyRec=T.createRectangleCenter(new b(1e5,1e5),1,1),t.hurting=0,t.havePlantfood=!1,e(t,"allowWaveAddPlantFood",ft,o(t)),t.material=void 0,t._addColor=new f(0,0,0,255),t.destroyWhenFallEnd=!1,e(t,"depthScale",yt,o(t)),t.sandStormPar=void 0,t.sandStormTween=void 0,t.zombieWave=null,t.blew=!1,t.pfParCD=0,t.isBoss=!1,t.switching=!1,t.brainEater=!0,t.oldTileType=E.floor,t.eatSoundCoolDown=0,t}n(t,i);var s=t.prototype;return s.onReversedSet=function(i){},s.empStun=function(i){},s.commonShotPopOnTouch=function(i){return!0},s.getGargantuarName=function(){switch(j.getZombieFeature(this.ID).OBTAINWORLD){case"egypt":return X.egypt_gargantuar;case"pirate":return X.pirate_gargantuar;case"cowboy":return X.cowboy_gargantuar;case"future":return X.future_gargantuar}return X.modern_gargantuar},s.playPopOut=function(){var i=this.body.node.scale.clone();this.body.node.scale=new y(.1,.1,0),g(this.body.node).to(.3,{scale:i.clone().multiplyScalar(1.1)},{easing:"quadOut"}).to(.2,{scale:i},{easing:"quadInOut"}).start()},s.chilibeanFart=function(){var i=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=g(this.db.color).to(2,{r:0,g:255,b:0}).call((function(){W.playZombieFart(),i.chilibeanPoisoning=!1,i.switching=!0,i.playIdle();var t=k(x.zombieFart());t.parent=i.node.parent,t.setSiblingIndex(i.node.getSiblingIndex()),t.worldPosition=new y(i._worldPositionX,i._worldPositionY+i.height),t.scale=i.node.scale.clone().multiply(i.body.node.scale);i._bodyRec.prjX();i.reversed?i.inLane.zombiePool().forEach((function(t){t.bodyRec.prjX().x<=i.worldPositionX+20&&t.setChiliStun(10)})):i.inLane.zombiePool().forEach((function(t){t.bodyRec.prjX().y>=i.worldPositionX-20&&t.setChiliStun(10)}))})).to(1,{r:255,g:255,b:255}).call((function(){i.playDie(),i.chilibeanFartTween=null})).start()},s.sunbeanBlast=function(i){var t=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=g(this.db.color).to(1,{}).call((function(){i.forEach((function(i){W.play(i,1,.1)})),t.chilibeanPoisoning=!1,t.chilibeanFartTween=null,t.playAsh(),t.playDie()})).start()},s.dealChiliStun=function(i){this.chiliStun>0&&(this.chiliStun-=i,this.chiliStunParticle&&(this.chiliStunParticle.node.worldPosition=new y(this._worldPositionX,this._worldPositionY)))},s.onChiliStunned=function(i){},s.setChiliStun=function(i){return this.dead||(this.chiliStun=i>this.chiliStun?i*this.chiliStunDurationScale:this.chiliStun),this.freeze>0&&(this.onChiliStunned(this.chiliStun),this._onStunned(this.chiliStun)),!0},s.lobberTarget=function(){return this},s.lobberToPos=function(i){var t=this._bodyRec.prjX();return new b((t.x+t.y)/2-2*this.getShouldSpeed()*i*(this.reversed?-1:1),this.worldPositionY)},s.correctShadeWP=function(){this.worldPositionX=this.shadeSocket.worldPosition.x},s.onButtered=function(i){},s.setButter=function(i,t){return void 0===t&&(t=!1),t&&this.butterStun<=0&&i>0&&W.playButterOn(),this.butterStun=this.butterStun>i?this.butterStun:i,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0},s.dealButter=function(i){this.butterStun>0&&(this.butterStun-=i),this.butterFace&&(this.butterFace.node.active=this.butterStun>0)},s.dealHurrikale=function(i){var t;null!=(t=this.inLane)&&t.hurrikaleBlowing()&&(this.flying?this.blowAway():(this.knockBackBy(new b(.2),!1,.1,!0,!1,!1),this.setChill(8)))},s.setPoison=function(i,t,e){void 0===e&&(e=!1);var n=new St(i>=this.poison.DPS?i:this.poison.duration,t>=this.poison.duration?t:this.poison.duration);n.infective=this.poison.infective||e,this.poison=n},s.dealPoison=function(i){var t,e=this;null==(t=this.body.body.armature().getSlot("POISONFACE"))||t._setDisplayIndex(this.poison.isValid()?0:-1),this.poison.isValid()?(this.dealDamage(i*this.poison.DPS,!1,!1,!1,null,0,!1),this.poison.duration-=i,this.poison.infective&&this.isAlive()&&this.inLane.zombiePool().forEach((function(i){var t;null!=(t=i.poison)&&t.isValid()||!e.bodyRec.judgeCrossRec(i.bodyRec)||i.setPoison(e.poison.DPS,e.poison.duration,!0)}))):this.poison=new St(0,0)},s.setPerfume=function(i){this.perfume=i>this.perfume?i:this.perfume},s.dealPerfume=function(i){this.perfume>0&&(this.perfumeParticle&&(this.perfumeParticle.node.worldPosition=this.node.worldPosition),this.perfume-=i)},s.specialZombieOnLanding=function(){},s.onLanding=function(){var i=this.inLnC.getTileType();i==E.sky?this.playFall():i==E.sea&&this.dropSea(),this.dead||this.fallingInSky||this.specialZombieOnLanding()},s.playOnHeadThrownSound=function(){W.playArray(this.onHeadThrownSound)},s.playDeathSound=function(){W.playArray(this.deathSound)},s.playHurtSound=function(){W.playArray(this.hurtSound,this.hurtSoundVolume)},s.playBreakSound=function(){this.breakSound.length?W.playArray(this.breakSound):W.playZombieLimbPop()},s.specialAshPlayed=function(i){},s.playAsh=function(){if(!this.zombieAshParticle_)return null;var i=D.instantiatePooly(this.zombieAshParticle_);if(null!=i&&i.isValid){i.parent=this.node.parent,i.setSiblingIndex(this.node.getSiblingIndex()),i.worldPosition=new y(this.shadeSocket.worldPosition.x,this.body.body.node.worldPosition.y,1),i.scale=this.node.scale.clone().multiply(this.body.node.scale),this.playDie(!0),D.destroyPooly(this.node);var t=i.getComponent(N);return this.smartShadeHider?t.inLnC=this.shadeInLnC:t.inLnC=this.inLnC,t.height=this.height,t.playAsh(),this.isGargantuar&&W.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(t),t.db}},s.extraHealth=function(){return 0},s.totalToughness=function(){var i=this.toughness;return this.armors.forEach((function(t){i+=t.health})),i+=this.extraHealth()},s.totalHealth=function(){if(!this.isAlive())return 0;var i=this.health;return this.armors.forEach((function(t){i+=t.health})),i+=this.extraHealth()},s._onStunned=function(i){this.endSandStorm(),this.onStunned(i)},s.onStunned=function(i){},s.stun=function(i){this.stunned=i>this.stunned?i:this.stunned,this._onStunned(i)},s.pushSunBeanHealth=function(i){if(!(this.sunbeanSunPerHitpoint<=0)){this.accumulatedSunBeanHitPoint+=i*this.sunbeanSunPerHitpoint;var t=this.accumulatedSunBeanHitPoint%5,e=this.accumulatedSunBeanHitPoint-t;e>=5&&M.produceSun(e,new y(this.worldPositionX,this.worldPositionY),this.zombieHeight/2,!0),this.accumulatedSunBeanHitPoint=t}},s.setSunBeanSunPerHitpoint=function(i){this.sunbeanSunPerHitpoint=Math.max(i,this.sunbeanSunPerHitpoint)},s.setSunBeanParticleCD=function(i){this.sunBeanParticleCD=Math.max(i,this._sunBeanParticleCD)},s.dealSunBeanPar=function(i){this.sunBeanParticleCD>0&&(this.sunBeanParticleCD-=i,this.sunBeanParticle&&(this.sunBeanParticle.node.worldPosition=new y(this._worldPositionX,this._worldPositionY+this.zombieHeight/2)))},s.setToughness=function(i){void 0===i&&(i=190),this.toughness=i},s.onDamaged=function(i,t,e){},s.fallImmediatelyWhenHeavyDamaged=function(){return!0},s.dealNormalDamage=function(i,t,e,n,o,a,s,r){var l=this;if(void 0===s&&(s=!0),void 0===r&&(r=!1),!this.dead&&i>0){var h=Z.zombieDamageReceiveScale;if(this.dealDamageScale.forEach((function(i){h*=i})),a==Pt.fire&&(this.chill=0,this.freeze=0),this.armors.length<=0||!t){s&&(this.hurting=10);var d=this.health+0;if(this.health-=i*h,this.health<0&&(this.health=0),this.pushSunBeanHealth(d-this.health),n&&this.playHurtSound(),this.onDamaged(d,this.health+0,a),r&&this.health>0&&this.armors.concat().forEach((function(t){if(t.dealDamage(i,e)<=0){l.throwArmor(t,o);var n=l.armors.indexOf(t);-1!=n&&l.armors.splice(n,1),D.destroyPooly(t.node)}})),this.health<=this.toughness/2&&this.haveArm&&(a!=Pt.ray&&a!=Pt.fire&&a!=Pt.electricity||!(this.health<=0))){var u=null==o?void 0:o.clone();u&&u.multiply2f(1,.5).normalize().multiplyScalar(o.length()),this.breakArm(u)}if(this.health<=0)if(this.throwAllArmors(o),a!=Pt.ray&&a!=Pt.fire&&a!=Pt.electricity||!this.zombieAshParticle_)this.playDie(!1,o,!0,a,!0,i>=this.toughness&&this.fallImmediatelyWhenHeavyDamaged());else{var c=this.playAsh();c&&a==Pt.electricity&&(c.playAnimation("Shock",2),W.playZombieShock(this.isGargantuar))}!this.isAlive()&&a==Pt.potatoMine&&this.potatoMineDisappear&&D.destroyPooly(this.node)}else if(this.armors.length>0&&t){var p,b=null==(p=this.armors[0])?void 0:p.dealDamage(i,e);if(null!=b&&b<=0){var m=this.armors[0];this.throwArmor(m,o),this.armors.shift(),D.destroyPooly(m.node),this.dealDamage(-b,!0,e,n,o,a,s)}}return this.health}},s.dealDamage=function(i,t,e,n,o,a,s,r){return void 0===i&&(i=0),void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===a&&(a=Pt.physicle),void 0===s&&(s=!0),void 0===r&&(r=!1),this.dealNormalDamage(i,t,e,n,o,a,s,r)},s.specialMagnetedObject=function(){return null},s.getMagnetedObject=function(){var i=this.specialMagnetedObject();if(i)return i;if(this.armors[0]&&this.armors[0].isMetal){var t=this.armors[0];this.armors.shift();var e=this.throwArmor(t,null);return e.db.playAnimation(t.db.animationName),D.destroyPooly(t.node),e}},s.onArmorThrown=function(i){},s.throwAllArmors=function(i){var t=this;void 0===i&&(i=null),this.armors.length&&(this.armors.concat().forEach((function(e){t.throwArmor(e,i),D.destroyPooly(e.node)})),this.armors=[])},s.throwArmor=function(i,t){this.pushSunBeanHealth(i.health),this.onArmorThrown(i);var e=this.drop(i.armorDROP,i.node.worldPosition.y-this._worldPositionY,new y(i.node.worldPosition.x,this._worldPositionY,0),t,this.node.parent,.4);e.getComponent(d.ArmatureDisplay).playAnimation("Broken2");var n=i.node.worldScale.x;return e.node.worldScale=new y(n,n,n),e},s.specialOnMouseClicked=function(){return!1},s.onMouseClicked=function(){return this.specialOnMouseClicked()},s.specialZombieOnDisable=function(){},s.characterOnDisable=function(){var i,t,e;(this.armors.length&&(this.armors.concat().forEach((function(i){D.destroyPooly(null==i?void 0:i.node)})),this.armors=[]),B.deleteZombie(this),null==(i=this.inLane)||i.deleteZombie(this),null!=(t=this.zombieWave)&&t.isValid)&&(this.zombieWave.getComponent(d.ArmatureDisplay).playAnimation("Fade"),this.zombieWave=null);null!=(e=this.icetrapParticle)&&e.isValid&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null),this.clearBuff(),this.specialZombieOnDisable(),this.dirtSpawnTweens.forEach((function(i){null==i||i.stop()}))},s.changeLaneTo=function(i,t,e){var n=this;void 0===t&&(t=2),void 0===e&&(e="linear"),i!=this.lIndex&&(this.knockBackTween||this.changeLaneTween||(this.changeLaneTween=g(this).to(t,{worldPositionY:R.getLaneComponent(i).floorY},{easing:e}).call((function(){n.changeLaneTween=null})).start()))},s.onKnockBackStart=function(){},s._onKnockBackEnd=function(){var i;this.flying=this.currentFlyZombie,null==(i=this.knockBackTween)||i.stop(),this.knockBackTween=null,this.flying||this.onLanding(),this.tallNutBlock=!1},s.specialZombieKnockbackable=function(){return!0},s.knockBackTo=function(i,t,e,n,o){var a,s=this;if(void 0===t&&(t=!0),void 0===e&&(e=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),this.specialZombieKnockbackable()&&!this.changeLaneTween){this._onStunned(e),this.onKnockBackStart(),this.chiliStun=0,n||null==(a=this.knockBackTween)||a.stop(),this.flying=!!t||this.flying,this.tallNutBlock=o;this.knockBackTween=g(this).to(e*(this.currentFlyZombie?.2:1),{worldPositionX:i.x,worldPositionY:i.y}).call((function(){s._onKnockBackEnd()})).start()}},s.knockBackDistanceScale=function(){return 1},s.knockBackBy=function(i,t,e,n,o,a){if(void 0===t&&(t=!0),void 0===e&&(e=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a=!1),this.specialZombieKnockbackable()&&!this.changeLaneTween){var s=this.node.worldPosition.x+i.x*R.SquareDisW*this.knockBackDistanceScale(),r=R.getSquareWorldPosition(0,8,1,1).x-1,l=R.getSquareWorldPosition(0,0,0).x;!o&&s>r&&(s=Math.min(this.node.worldPosition.x+i.x*R.SquareDisW,Math.max(this.node.worldPosition.x,r))),s<l&&(s=l);var h=new b(s,this._worldPositionY-i.y*R.SquareDisH);this.knockBackTo(h,t,e,n,a)}},s._onLeapEnd=function(i){var t;null==(t=this.leapHeightTween)||t.stop(),this.leapHeightTween=null,this.onLeapEnd(i)},s.specialZombieLeapable=function(){return!0},s.leapBy=function(i,t,e,n,o,a,s,r){var l,h=this;if(void 0===t&&(t=!0),void 0===e&&(e=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===r&&(r=!0),this.specialZombieLeapable()){null==(l=this.leapHeightTween)||l.stop(),r&&this.stun(e);var d=this.height;n<d&&(n=d);var u=n-d,c=e/(1+Math.sqrt(u/n));this.knockBackBy(i,t,e,!1,a,s);this.leapHeightTween=g(this).to(e-c,{height:n},{easing:"quadOut"}).to(c,{height:0},{easing:"quadIn"}).call((function(){h._onLeapEnd(o)})).start()}},s.leapTo=function(i,t,e,n,o,a,s){var r,l=this;if(void 0===t&&(t=!0),void 0===e&&(e=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),this.specialZombieLeapable()){s&&this.stun(e),null==(r=this.leapHeightTween)||r.stop();var h=this.height;n<h&&(n=h);var d=n-h,u=e/(1+Math.sqrt(d/n));this.knockBackTo(i,t,e,!1,a);this.leapHeightTween=g(this).to(e-u,{height:n},{easing:"quadOut"}).to(u,{height:0},{easing:"quadIn"}).call((function(){l._onLeapEnd(o)})).start()}},s.specialOnLeapEnd=function(){},s.onLeapEnd=function(i){var t=this;if(void 0===i&&(i=!0),this.specialOnLeapEnd(),i&&this.isAlive()&&!this.hypno){var e=!1;_.umbrellas.forEach((function(i){var n,o,a;e||(null==i||null==(n=i.owner)?void 0:n.inLane)!=t.inLane&&(null==i||null==(o=i.owner)||null==(o=o.inLane)?void 0:o.UpperLane)!=t.inLane&&(null==i||null==(a=i.owner)||null==(a=a.inLane)?void 0:a.LowerLane)!=t.inLane||!i.detector.judgeCrossRec(t.bodyRec)||(e=!0,i.owner.bounce())})),e&&this.leapBy(new b(10,0),!0,.5,80,!1)}this.inLane&&(this.inLane.LaneIndex<0||this.inLane.LaneIndex>4)&&this.playDie()},s.onTallNutBlocked=function(){},s.tallNutListen=function(){var i,t=this;null==(i=this.inLane)||i.plantPool().forEach((function(i){i.ID==Y.Tallnut&&t.knockBackTween&&t.leapHeightTween&&t.bodyRec.judgeCrossRec(i.bodyRec)&&(t._onKnockBackEnd(),t.onLeapEnd(!0),t.height=0,t.onTallNutBlocked())}))},s.onDirtSpawned=function(i){},s.playDirtSpawn=function(i){var t,e=this;if(i<0&&(i=0),this.playIdle(),this.dirtSpawning=!0,this.switching=!0,this.onDirtSpawned(i),null!=(t=this.db)&&t.isValid){var n,o,a;this.db.color=new f(255,255,255,0);var s=g(null==this||null==(n=this.db)?void 0:n.color).to(i,{}).to(.5,{a:255}).start();this.db.node.scale=new y(1,.3,1),this.db.node.position=new y(0,-this.zombieHeight/this.originalScale,0);var r=g(null==this||null==(o=this.db)?void 0:o.node).to(i,{}).to(.5,{scale:new y(1,1,1)},{easing:"quadOut"}).start(),l=g(null==this||null==(a=this.db)?void 0:a.node).to(i,{}).call((function(){var i=k(x.dirtSpawn());i.parent=e.node.parent,i.worldPosition=new y(e._worldPositionX,e._worldPositionY,10),W.playDirtRise(!1,!0)})).to(1,{position:new y},{easing:"quadOut"}).call((function(){e.dirtSpawning=!1,e.switching=!1,e.playWalk(),e.detectPlant(.01)})).start();this.dirtSpawnTweens.push(s,r,l)}},s.endDirtSpawn=function(){this.dirtSpawning&&(this.dirtSpawnTweens.forEach((function(i){i.stop()})),this.dirtSpawning=!1,this.db.node.scale=new y(1,1,1),this.db.node.position=new y(0,0,0),this.db.color=new f(255,255,255,255))},s.onTeleportStart=function(i){void 0===i&&(i=this.worldPositionX)},s.playTeleportSpawn=function(i){var t=this;void 0===i&&(i=this.worldPositionX);var e=this.body.node.scale.clone();this.teleporting=!0,this.body.node.scale=new y(.1,.1,0),this.addColor=new f(255,255,255,255),g(this.addColor).by(1,{}).to(.1,{r:0,g:0,b:0}).to(.1,{r:255,g:255,b:255}).to(.1,{r:0,g:0,b:0}).call((function(){t.teleporting=!1})).start(),g(this.body.node).to(.4,{scale:e.clone().multiplyScalar(1.3)},{easing:"quadOut"}).to(.4,{scale:e},{easing:"quadInOut"}).start(),isNaN(i)||(this.worldPositionX=i),this.onTeleportStart(i)},s.getShouldSpeed=function(){return this.randomSpeed*R.SquareDisW/60*this.shouldSpeedScale()*(this.walking?1:0)},s.setSpeed=function(i,t){void 0===t&&(t=!0),this.walking=t},s.defaultShouldSpeedScale=function(){if(this.leapHeightTween&&!this.isAlive())return 0;if(this.dead)return 1;if(this.fadingAway||this.teleporting||this.stunned>0||this.butterStun>0||this.fallingInSky||this.freeze>0||this.chilibeanPoisoning||this.chiliStun>0)return 0;var i=1;return this.chill>0&&(i*=.5),this.perfume>0&&(i*=.5),this.sapflingCD>0&&(i*=.5),i},s.willTrampleFlower=function(){return!0},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},s.drop=function(i,t,e,n,o,a){var s,r;void 0===a&&(a=.2);var l=null==n?void 0:n.clone();l&&a&&l.multiplyScalar(1+a*(1-2*Math.random())),l||(l=this.defaultDirection());var h=D.instantiatePooly(i);if(o||(o=null==(s=this.inLane)?void 0:s.zombieLayer),null==(r=o)||r.addChild(h),null!=h&&h.isValid){var d=h.getComponent(z);return d.worldPosition=new b(e.x,e.y),d.height=t,d.linearVelocity=new b(l.x,0),d.node.angle=0,d.bodyLinearVelocity=l.y,d.gravity=3,d.detectEnemyOn=!1,d.bodyOmega=Math.pow(-1,Math.round(Math.random()))*Math.round(2*Math.random()+1),d}},s.breakArm=function(i){void 0===i&&(i=null),this.body.showArm(!1),this.haveArm=!1,this.zombieArm&&(this.drop(this.zombieArm,this.zombieHeight/2,new y(this.shadeSocket.worldPosition.x,this._worldPositionY,0),i,this.node.parent),this.playBreakSound())},s.dropHead=function(i,t){void 0===t&&(t=this.zombieHeight),this.throwAllArmors(i),this.haveHead&&this.zombieHead&&(this.playBreakSound(),this.drop(this.zombieHead,t,new y(this.headDropPoint?this.headDropPoint.worldPosition.x:this.shadeSocket.worldPosition.x,this._worldPositionY,0),i,this.node.parent),this.haveHead=!1)},s.defaultDirection=function(){return new b(Math.pow(-1,Math.round(Math.random()))*Math.round(10*Math.random()),15)},s.addArmor=function(i){var t;if(!this._armorSocket&&(this._armorSocket=null==(t=this.node.getChildByName("Body"))?void 0:t.getChildByName("ArmorSocket"),!this._armorSocket))return;var e=D.instantiatePooly(H.getArmor(i));e.parent=this._armorSocket;var n=e.getComponent(C);return n.owner=this,n.ID=i,n.health=n.toughness,this.armors.unshift(n),this.onArmorAdded(i),this.node},s.onArmorDamaged=function(i,t){},s.onArmorAdded=function(i){},s.copyBuff=function(i){this.setChill(i.chill),this.setFreeze(i.freeze),this.stun(i.stunned),this.setPoison(i.poison.DPS,i.poison.duration),this.setButter(i.butterStun)},s.onChill=function(i){},s.setChill=function(i){return this.dead||(this.chill=i>this.chill?i:this.chill),this.chill>0&&this.onChill(this.chill),!0},s.onFrozen=function(i){},s.setFreeze=function(i,t){return void 0===t&&(t=!0),this.dead||(t&&this.flying?this.chill=i>this.chill?i:this.chill:this.freeze=i>this.freeze?i:this.freeze),this.freeze>0&&(this.onChill(this.chill),this.onFrozen(this.freeze),this._onStunned(this.freeze)),!0},s.dropSuns=function(i){var t=0,e=M.produceSun(i,this.node.worldPosition,this.zombieHeight/2,!1);2==e.length?t=-v/12:e.length>2&&(t=-v/6);var n=-2*t;e.concat().forEach((function(i){i.linearVelocity=new b(10*Math.sin(t),0),i.bodyLinearVelocity=10*Math.cos(t),i.gravity=0,e.length>=2&&(t+=n/(e.length-1)),g(i).to(.6,{bodyLinearVelocity:0}).start(),g(i).to(.6,{linearVelocity:new b(0,0)}).start()}))},s.deathCauseReader=function(i,t){void 0===t&&(t=Pt.physicle)},s.throwPlantFoodAndSun=function(){this.havePlantfood&&(this.havePlantfood=!1,M.producePlantFood(this.worldPosition)),this.haveSun>0&&this.dropSuns(this.haveSun),this.haveSun=0},s.playDie=function(i,t,e,n,o,a,s){var r,l,h=this;if(void 0===i&&(i=!1),void 0===t&&(t=null),void 0===e&&(e=!0),void 0===n&&(n=Pt.physicle),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),!this.dead){if(this.pushSunBeanHealth(this.totalHealth()),this.sunbeanSunPerHitpoint=0,this.endSandStorm(),this.isRealZombie&&s&&!this.hypno&&G.uiingame.calculateLevelTask(U.ZombieKillCountDown,{}),this.throwPlantFoodAndSun(),this.deathCauseReader(t,n),this.isRealZombie&&!this.displayed&&s){var d=Math.random();d<.001?M.dropOneGem(this.worldPosition):d<.01?M.dropOneCoin(this.worldPosition,1):d<.025&&M.dropOneCoin(this.worldPosition,0)}this.sunBeanParticleCD=0,this.chiliStun=0,this.eating=!1,this.dead=!0,B.deleteZombie(this),null==(r=this.inLane)||r.deleteZombie(this),this.displayed||null==(l=Z.component)||l.dealFightAlonePlantProgress(this.WPC_wave),this.clearBuff(),this.armors.length&&(this.armors.concat().forEach((function(i){h.displayed||h.throwArmor(i,t),D.destroyPooly(i.node)})),this.armors=[]),i||(e&&this.playOnHeadThrownSound(),this.haveHead&&o&&this.dropHead(t),this.body.showHead(!1),this.playSpecialZombieDie(t),a&&this.judgeDeath()),this.displayed||this.playSpecialZombieDieForced(),this.dirtSpawning&&this.endDirtSpawn(),this.hypno=!1,this.setBodyRec(!0)}},s.playSpecialZombieDie=function(i){},s.playSpecialZombieDieForced=function(){},s.replayAnimation=function(){this.walking?(this.walking=!1,this.playWalk()):this.eating?(this.eating=!1,this.playEat(0)):this.playIdle()},s.playEat=function(i){this.walking=!1,this.eatSoundCoolDown>0?this.eatSoundCoolDown-=i:(this.chewSoundWhenEat&&W.playZombieChew(this.chewSound),this.eatSoundCoolDown=1),this.eating||(this.eatSoundCoolDown=0,this.body.playAnimation(this.body.EatAnm),this.setSpeed(0,!1),this.correctShadeWP(),this.eating=!0),this.body.currentAnimationName!=this.body.EatAnm&&this.body.playAnimation(this.body.EatAnm)},s.playIdle=function(i){void 0===i&&(i=0),this.walking=!1,this.eating=!1,this.body.playAnimation(this.body.IdleAnm,1/0,i),this.setSpeed(0,!1)},s.onWalkStart=function(){},s.playWalk=function(i){void 0===i&&(i=0),this.eating=!1,this.walking||(this.body.playAnimation(this.body.WalkAnm,1/0,i),this.walking=!0,this.setSpeed(this.shouldSpeedScale()),this.onWalkStart())},s.specialZombieOnLoad=function(){},s.additionalZombies=function(){return[]},s.onPutDirectly=function(i){},s.animationOnLPComplete=function(){},s.playOneShot=function(i,t,e,n){return void 0===t&&(t=1),void 0===e&&(e=!1),void 0===n&&(n=(null==i?void 0:i.getDuration())/2),i&&t>0&&(e?this.audioSource.playOneShot(i,t*A.SoundFXVolume/this.audioSource.volume):W.play(i,t,n)),!0},s.characterOnLoadForced=function(){var i;this._armorSocket=null==(i=this.node.getChildByName("Body"))?void 0:i.getChildByName("ArmorSocket")},s.characterOnLoad=function(){var i=this;this.body.body=this.body.getComponent(d.ArmatureDisplay),this.body.body.addEventListener(d.EventObject.FRAME_EVENT,this.animationListener,this),this.body.body.addEventListener(d.EventObject.SOUND_EVENT,this.soundEventListener,this),this.body.body.addEventListener(d.EventObject.LOOP_COMPLETE,(function(){i.blew||i.fallingInSky||(i.animationOnLPComplete(),i.judgeFade(),i.judgeDeath())}),this),this.db=this.body.body,this.getComponent(w)||this.addComponent(w),this.audioSource=this.getComponent(w),this.specialZombieOnLoad();var t=new S;t.initialize({effectAsset:I.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t},s.specialZombieOnSquareChange=function(i,t){},s.characterOnSquareChange=function(i,t){var e=t.getTileType(),n=this.inWater;this.inWater=e==E.water,!n&&this.inWater&&this.enterWater(),n&&!this.inWater&&this.exitWater(),this.isAlive()&&!this.sandStormTween&&this.specialZombieOnSquareChange(i,t)},s.enterWater=function(){this.onEnterWater()},s.onEnterWater=function(){},s.exitWater=function(){this.body.node.position=new y(0,0,0),this.onExitWater()},s.onExitWater=function(){},s.moveFromLaneToLane=function(i,t){null==i||i.deleteZombie(this),null==t||t.addZombie(this)},s.specialZombieOnLaneChange=function(i,t){},s.characterOnLaneChange=function(i,t){var e,n;if(!i&&t&&(this._hypno=!1),!this.fallingInSky){var o=t.zombieLayer;this.hypno&&(o=t.hypnoZombieLayer),this.node.setParent(o,!0),this.isAlive()&&this.moveFromLaneToLane(i,t)}this.zombieWave&&(this.zombieWave.setParent(this.node.parent,!0),this.zombieWave.setSiblingIndex(this.node.getSiblingIndex()+1)),null==(e=this.icetrapParticle)||null==(e=e.node)||e.setParent(this.node.parent),null==(n=this.icetrapParticle)||null==(n=n.node)||n.setSiblingIndex(this.node.getSiblingIndex()+1),this.perfumeParticle&&this.perfumeParticle.node.setParent(this.inLane.prjLayer,!0),this.hypnoPar&&this.hypnoPar.node.setParent(this.inLane.prjLayer,!0),this.poisonPar&&this.poisonPar.node.setParent(this.inLane.prjLayer,!0),this.chiliStunParticle&&this.chiliStunParticle.node.setParent(this.inLane.prjLayer,!0),this.sunBeanParticle&&this.sunBeanParticle.node.setParent(this.inLane.prjLayer,!0)},s.setPlantDetectorRec=function(){Z.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.plantDetectorRec=T.createRectangleCenter(new b(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height):this.plantDetectorRec=T.createRectangleCenter(new b(1e4,1e4),1,1)},s.plantEatExtraAllowed=function(i){return!1},s.plantEatAllowed=function(i){return!0},s.detectPlantOn=function(){return!this.switching&&!Z.component.gameLost},s.ignorePlants=function(){return!1},s.defaultDetectPlant=function(i){var t=this;if(0!=i)if(this.inLane){if(this.detectPlantOn()){var e=this.plantDetectorRec,n=null,o=null,a=null;if(!this.ignorePlants())if(this.hypno){var s=1/0;this.inLane.zombiePool().forEach((function(i){var t=i.bodyRec.prjX().x;t<s&&e.judgeCrossRec(i.bodyRec)&&(s=t,o=i)})),s=1/0,this.inLane.tombPool().forEach((function(i){var t=i.bodyRec.prjX().x;t<s&&i.bodyRec.judgeCrossRec(e)&&(s=t,a=i)}))}else{var r,l;null==(r=this.inLane)||r.plantPool().forEach((function(i){(i.eaterDetectable&&t.plantEatAllowed(i)||t.plantEatExtraAllowed(i))&&e.judgeCrossRec(i.bodyRec)&&(n&&i.plantType!=F.vine&&i.plantType!=F.plant&&i.plantType!=F.lilyPad&&i.plantType!=F.pot||(n=i))}));var h=-1/0;null==(l=this.inLane)||l.hypnoZombiePool().forEach((function(i){var t=i.bodyRec.prjX().y;t>h&&e.judgeCrossRec(i.bodyRec)&&(h=t,o=i)}))}o?(o.dealDamage(this.dps*i,!0,!1,!1,null),this.playEat(i)):a?(a.dealDamage(this.dps*i),this.playEat(i)):n?(n.eat(this.dps*i,this),this.playEat(i)):this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}}else this.playWalk()},s.allowWalk=function(){return!0},s.detectPlant=function(i){this.defaultDetectPlant(i)},s.specialZombieOnEnable=function(){},s.characterOnEnable=function(){var i,t,e,n;this.sunbeanSunPerHitpoint=0,this.canBeKilledByRule=!0,this._hypno=!1,this.coloredWhenHypnoed=!0,this._usedToBeHypno=!1,this.tallNutBlock=!1,this.dirtSpawning=!1,null==(i=this.knockBackTween)||i.stop(),this.knockBackTween=null,null==(t=this.changeLaneTween)||t.stop(),this.changeLaneTween=null,null==(e=this.leapHeightTween)||e.stop(),this.leapHeightTween=null,this.lieEnded=!1,this.chiliStun=0,this.chiliStunParticle=null,this.sunBeanParticle=null,this.perfume=0,this.perfumeParticle=null,this.teleporting=!1,this.sapflingCD=0,this.dealDamageScale=[],this.bodyRecHiddenCD=2,this.hurting=0,this.haveHead=!0,null==(n=this.chilibeanFartTween)||n.stop(),this.chilibeanFartTween=null,this.chilibeanPoisoning=!1,this.displayed=!1,this.enteredLawn=!1,this.node.angle=0,this.inLane=null,this.inLnC=null,this.currentFlyZombie=this.flyZombie,this.flying=this.flyZombie,this.zombieAshParticle_=this.zombieAshParticle,B.registerZombie(this),this.chompable_=this.chompable,this.easyToChomp_=this.easyToChomp,this.oldTileType=E.floor,this.zombieWave=null,this.eating=!1,this.dead=!1,this.blew=!1,this.fallingInSky=!1,this.haveArm=!0,this.walking=!1,this.inWater=!1,this.body.node.angle=0,this.body.showHead(!0),this.body.showArm(),this.clearBuff(),this.setRandomSpeed(),this.health=this.toughness,this.body.node.scale=new y(1,1,1),this.walking=!1,this.playWalk(),this.detectPlant(.01),this.switching=!1,this.reversed=!1,this.setBodyRec(!0),this.specialZombieOnEnable()},s.setRandomSpeed=function(i,t){void 0===i&&(i=this.squarePerSec),void 0===t&&(t=.012),this.randomSpeed=i+t*(1-2*Math.random())},s.playSpecialZombieDeath=function(){},s.judgeDeath=function(i){void 0===i&&(i=.1),this.blew||this.dead&&this.body.currentAnimationName!=this.body.DeathAnm&&(this.playDeathSound(),this.walking=!1,this.body.playAnimation(this.body.DeathAnm,1,i),this.body.body.timeScale=1,this.setSpeed(0,!1),this.playSpecialZombieDeath())},s.judgeFade=function(){this.lieEnded&&!this.fadingAway&&(P.Color.set(this.body.body.color,255,255,255,255),this.fadeAway())},s.specialSoundEventListener=function(i){},s.soundEventListener=function(i){"fall"==i.name&&this.inLnC.getTileType()!=E.sky&&(this.lieSound.length?W.playArray(this.lieSound):W.playZombieLie()),this.specialSoundEventListener(i)},s.specialSetBodyRec=function(){this.bodyRec=T.createRectangleCenter(new b(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x*(this.reversed?-1:1),this._worldPositionY+this.bodyRecOffset.y+this._height),this.bodyRecSize.width,this.bodyRecSize.height)},s.currentFarBodyRec=function(){return!1},s.setBodyRec=function(i){void 0===i&&(i=this.currentFarBodyRec()),i||this.bodyRecHiddenCD>0?this.bodyRec=new T:this.specialSetBodyRec()},s.prevDistance=function(){return R.SquareDisW},s.isInLawn=function(){return this.inLnC&&this.inLnC.lIndex>=0&&this.inLnC.lIndex<=4&&this.inLnC.cIndex>=0&&this.inLnC.cIndex<=8},s.isAlive=function(){return!(this.dead||this.fallingInSky||this.blew||this.displayed)},s.shouldMaterial=function(){var i=this,t=new f(0,0,0,255);this.teleporting&&(t.r+=this.addColor.r,t.g+=this.addColor.g,t.b+=this.addColor.b,this.armors.forEach((function(t){t.hurting=i.addColor.b/10})));var e=0;this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting),this.dead||this.fallingInSky||((this.chill>0||this.freeze>0)&&(e=1),this.havePlantfood&&(t.r+=I.zombiePF.r,t.g+=I.zombiePF.g,t.b+=I.zombiePF.b),this.haveSun>0&&(t.r+=I.zombieSunAdd.r,t.g+=I.zombieSunAdd.g,t.b+=I.zombieSunAdd.b));var n=this.material.passes[0].getHandle("chillColor"),o=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(n,e),this.material.passes[0].setUniform(o,t),this.body.body.customMaterial=this.material},s.shouldColor=function(){var i=new f(255,255,255,255);this.poison.isValid()?(i.r-=255-I.zombiePoisonColor.r,i.g-=255-I.zombiePoisonColor.g,i.b-=255-I.zombiePoisonColor.b):this.perfume>0&&(i.r-=255-I.zombiePerfumeColor.r,i.g-=255-I.zombiePerfumeColor.g,i.b-=255-I.zombiePerfumeColor.b),this.coloredWhenHypnoed&&this.hypno&&(i.r-=255-I.zombieHypno.r,i.g-=255-I.zombieHypno.g,i.b-=255-I.zombieHypno.b),this.dead&&(i=new f(255,255,255,255)),0==i.r&&0==i.g&&0==i.b&&(i=new f(255,255,255,255)),this.dirtSpawning||(this.body.body.color=i)},s.onLaneSpawnSettled=function(i){},s.animationListener=function(i){Z.component.gameOver&&!this.isGameLoseTriggerer||this.blew||this.fallingInSky||("die"==i.name?this.lieEnded=!0:"land"==i.name?(this.flying=!1,this.currentFlyZombie=!1,this.blew||this.onLanding()):"leapEnd"==i.name?this.blew||this.onLeapEnd():"switchingFalse"==i.name&&(this.switching=!1,this.isAlive()&&!Z.component.gameOver?this.detectPlantOn()?(this.playWalk(),this.detectPlant(.001)):this.playWalk():this.judgeDeath(0)),this.specialAnimationListener(i))},s.specialAnimationListener=function(i){},s.dropSea=function(){this.blew||(x.spawnSeaSplash(this.inLnC.lIndex,this.node.worldPosition),this.playDie(!0),D.destroyPooly(this.node))},s.clearBuff=function(){var i,t;this.chill=0,this.freeze=0,this.stunned=0,this.chiliStun=0,this.perfume=0,null==(i=this.icetrapParticle)||i.playAnimation("Die",1),this.icetrapParticle=null,this.poison=new St(0,0),null==(t=this.body.body.armature().getSlot("POISONFACE"))||t._setDisplayIndex(-1),this.butterStun=0,this.butterFace&&(this.butterFace.node.active=!1),this.shouldColor(),this.shouldMaterial()},s.playFall=function(){var i=this;this.fallingInSky||this.blew||(this.knockBackTween&&(this.knockBackTween.stop(),this.knockBackTween=null),this.leapHeightTween&&(this.leapHeightTween.stop(),this.leapHeightTween=null),this.body.body.timeScale=0,this.walking=!1,this.armors.forEach((function(t){i.throwArmor(t,null),D.destroyPooly(t.node)})),this.armors=[],this.setPlantDetectorRec(),this.dead||this.playDie(!0),this.fallInSky(!0),this.setSpeed(0))},s.onSkyFallEnd=function(){this.reversed=!1,this.destroyWhenFallEnd?this.node.destroy():D.destroyPooly(this.node)},s.endSandStorm=function(){var i,t;this.sandStormTween&&(this.playWalk(),this.detectPlant(.01),null==(i=this.sandStormPar)||i.end(),this.sandStormPar=null,null==(t=this.sandStormTween)||t.stop(),this.sandStormTween=null)},s.onSandStormStart=function(){},s.playSandStorm=function(i,t){var e=this;if(void 0===t&&(t=0),!this.sandStormTween){this.onSandStormStart(),this.playIdle();var n=x.sandStorm();1==t&&(n=x.snowStorm());var o=k(n);o.parent=this.node.parent,o.worldPosition=this.node.worldPosition,o.setSiblingIndex(this.node.getSiblingIndex()+1),this.sandStormPar=o.getComponent(q),this.worldPositionX=this.inLane.toRight.worldPosition.x,this.sandStormPar.onSettled(),this.sandStormTween=g(this).to(3,{worldPositionX:i},{easing:"quadOut"}).to(1,{}).call((function(){e.endSandStorm()})).start()}},s.specialZombieUpdate=function(i,t,e){},s.specialZombieUpdateForced=function(i,t,e){},s.onTileTypeChange=function(i,t){this.displayed||(this.flying||this.blew||(t==E.sky&&this.playFall(),t==E.sea&&this.dropSea()),i!=E.water&&t==E.water&&(this.inWater=!0,this.enterWater()),i==E.water&&t!=E.water&&(this.inWater=!1,this.exitWater()))},s.addZombieWave=function(i){if(!this.flying){if(i==E.water&&!this.zombieWave){var t=D.instantiatePooly(x.zombieWaterWave());t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex()+1),t.getComponent(d.ArmatureDisplay).playAnimation("Idle",1/0),this.zombieWave=t,this.shadeHidden=!0}this.zombieWave&&(this.zombieWave.worldPosition=new y(this.shadeSocket.worldPosition.x,this._worldPositionY),this.shade&&(this.zombieWave.worldScale=new y(this.originalShadeScale.width,this.originalShadeScale.height,1).multiplyScalar(2)),this.shadeHidden=!0,i!=E.water&&(this.zombieWave.getComponent(d.ArmatureDisplay).playAnimation("Fade"),this.zombieWave=null,this.shadeHidden=!1))}},s.specialDisblowable=function(){return!1},s.blowAway=function(i){var t=this;if(void 0===i&&(i="quadIn"),!this.blew&&!this.specialDisblowable()){this.blew=!0,this.playDie(!0,null,!1);var e=g(this).by(1,{worldPositionX:2e3},{easing:i}).call((function(){t.armors.concat().forEach((function(i){D.destroyPooly(i.node)})),t.armors=[],t.clearBuff(),e.stop(),D.destroyPooly(t.node)})).start()}},s.tossAway=function(){var i=this;this.blew||this.specialDisblowable()||(g(this).by(1,{height:600+300*Math.random()}).start(),g(this.node).by(1,{angle:90+90*Math.random()}).call((function(){i.node.angle=0})).start(),this.blowAway("linear"))},s.plantFoodPar=function(i){if(this.pfParCD>0&&(this.pfParCD-=i),this.pfParCD<=0){var t;this.pfParCD=3+3*Math.random();var e=D.instantiatePooly(x.PFLightning());if(e.parent=null==(t=this.inLane)?void 0:t.prjLayer,e.active){var n=Math.random()>.5;e.worldPosition=new y(n?this._bodyRec.prjX().x:this._bodyRec.prjX().y,this.node.worldPosition.y,this.node.worldPosition.z),e.getComponent(d.ArmatureDisplay).playAnimation("");var o=this.zombieHeight/96;e.scale=new y(o,o,o)}}},s.bossOnPriceCollected=function(){return 0},s.specialTriggerGameLose=function(){},s.triggerGameLose=function(){this.switching=!0,this.playEat(0),this.specialTriggerGameLose()},s.lockedTimeScale=function(){return-1},s.walkDisScale=function(){return 1},s.walkTimeScale=function(i,t,e){return i/t},s.characterUpdate=function(i){var t,e;this.bodyRecHiddenCD--,this.setPlantDetectorRec(),this.setBodyRec(!this.isAlive()),this.havePlantfood&&this.plantFoodPar(i),!this.enteredLawn&&this.bodyRec.judgeCrossRec(R.lawnRec)&&(this.enteredLawn=!0),null==(t=this.icetrapParticle)||null==(t=t.node)||t.setWorldPosition(new y(this._worldPositionX,this._worldPositionY));var n=this.shouldSpeedScale(),o=this.randomSpeed*R.SquareDisW/60*n*(this.enteredLawn?1:2);!this.fallingInSky&&this.walking?(this.body.body.timeScale=this.walkTimeScale(o,this.anmSpeed,n),this.worldPositionX-=o*i*60*(this._reversed?-1:1)*this.walkDisScale()):this.lockedTimeScale()>=0?this.body.body.timeScale=this.lockedTimeScale():this.eating||this.switching?this.body.body.timeScale=n:this.dead?this.body.body.timeScale=1:this.body.body.timeScale=n*this.randomSpeed/this.squarePerSec,this.hypnoPar&&(this.hypnoPar.node.worldPosition=new y(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)),this.poisonPar&&(this.poisonPar.node.worldPosition=new y(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)),this.isAlive()?(this.worldPositionX<R.zombieWinX&&!this.reversed?Z.sandBoxModeOn?this.worldPositionX=R.zombieSpawnX:!this.reversed&&!this.hypno&&this.brainEater&&this.isRealZombie&&(R.zombieDieInsteadOfWinning?this.playDie(!1,null,!0,Pt.physicle,!0,!1,!1):G.uiingame.loseDarken(this)):this.worldPositionX>R.zombieSpawnX&&this.reversed&&Z.sandBoxModeOn&&(this.worldPositionX=R.zombieWinX),(this.worldPositionX>R.zombieSpawnX+R.SquareDisW&&this._reversed||this.worldPositionX<=Math.max(R.zombieWinX-R.SquareDisW,0)&&!this._reversed)&&(this.playDie(!0),D.destroyPooly(this.node)),this.inLane&&!this.dirtSpawning&&!this.sandStormTween&&Z.gaming&&(this.detectPlant(i*n),this.specialZombieUpdate(i*n,i,n)),this.dealPoison(i),this.dealButter(i),this.dealChiliStun(i),this.dealSunBeanPar(i),this.dealPerfume(i),this.dealHurrikale(i)):this.havePlantfood&&(this.havePlantfood=!1,M.producePlantFood(this.worldPosition)),this.specialZombieUpdateForced(i*n,i,n);var a=null==(e=this.inLnC)?void 0:e.getTileType();if(a!=this.oldTileType&&this.onTileTypeChange(this.oldTileType,a),!this.flying){var s=-O.depth(this._worldPositionX)*this.depthScale;this.body.node.position=new y(0,s/this.body.node.worldScale.y,1)}if(this.hurting>0&&(this.hurting-=60*i),this.stunned>0&&(this.stunned-=i),this.chill>0&&this.freeze<=0&&(this.chill-=i),this.sapflingCD>0&&(this.sapflingCD-=1),this.freeze>0){if(this.freeze-=i,!this.icetrapParticle){var r=D.instantiatePooly(x.zombieIceTrap());this.inLane&&(r.parent=this.inLane.zombieLayer,r.worldPosition=this.node.worldPosition,r.setSiblingIndex(this.node.getSiblingIndex()+1),this.icetrapParticle=r.getComponent(d.ArmatureDisplay),this.icetrapParticle.playAnimation("Idle",1/0))}}else this.icetrapParticle&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null);this.shouldMaterial(),this.dead||this.shouldColor(),this.addZombieWave(a),this.tallNutBlock&&this.tallNutListen(),this.sandStormPar&&(this.sandStormPar.node.worldPosition=new y(this._worldPositionX,this._worldPositionY)),Z.component.gameWon&&this.canBeKilledByRule&&this.playDie(),this.isGameLoseTriggerer&&this.playEat(i)},a(t,[{key:"reversed",get:function(){return this._reversed},set:function(i){var t=this.shadeSocket.worldPosition.x-this.worldPositionX,e=this.node.scale.clone(),n=this.node.scale.clone();this.node.scale=new y(Math.abs(e.x)*(i?-1:1),e.y,e.z),this.node.scale!=n&&(this.worldPositionX+=2*t),i!=this._reversed&&this.onReversedSet(i),this._reversed=i,this.setBodyRec(),this.setPlantDetectorRec()}},{key:"chiliStun",get:function(){return this._chiliStun},set:function(i){if(this.chiliStun<=0&&i>0){var t=k(x.zombieChiliBeanStun());t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex()+1),t.worldPosition=new y(this.shade.node.worldPosition.x,this._worldPositionY),this.chiliStunParticle=t.getComponent(V),this.chiliStunParticle.db.playAnimation("Start",1)}else this._chiliStun>0&&i<=0&&this.chiliStunParticle&&(this.chiliStunParticle.db.playAnimation("Die",2),this.chiliStunParticle=null);this._chiliStun=i}},{key:"poison",get:function(){return this._poison},set:function(i){if(i.isValid()&&i.infective&&!this.poisonPar){var t=k(x.zombiePoisonBubble());t.parent=this.node.parent;var e=t.getComponent(V);this.poisonPar=e,e.db.playAnimation("Idle",1/0),t.worldPosition=new y(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)}else i.isValid()&&i.infective||!this.poisonPar||(this.poisonPar.db.playAnimation("Die"),this.poisonPar=null);this._poison=i}},{key:"perfume",get:function(){return this._perfume},set:function(i){if(i>0&&this._perfume<=0){var t=k(x.zombiePerfumeSlow());t.parent=this.inLane.prjLayer,t.worldPosition=this.node.worldPosition.clone(),t.worldScale=this.node.worldScale.clone(),this.perfumeParticle=t.getComponent(V),this.perfumeParticle.db.playAnimation("Idle",1/0)}else if(i<=0&&this._perfume>0){var e;null==(e=this.perfumeParticle)||null==(e=e.db)||e.playAnimation("Die",1)}this._perfume=i}},{key:"sunBeanParticleCD",get:function(){return this._sunBeanParticleCD},set:function(i){if(this._sunBeanParticleCD<=0&&i>0){var t=k(x.zombieSunBean());t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex()+1),t.worldPosition=new y(this.shade.node.worldPosition.x,this._worldPositionY+this.zombieHeight/2),this.sunBeanParticle=t.getComponent(V),this.sunBeanParticle.db.playAnimation("Idle",2)}else this._sunBeanParticleCD>0&&i<=0&&this.sunBeanParticle&&(this.sunBeanParticle.db.playAnimation("Die",2),this.sunBeanParticle=null);this._sunBeanParticleCD=i}},{key:"hypno",get:function(){return this._hypno},set:function(i){if(i&&this.coloredWhenHypnoed&&!this.hypnoPar){var t=k(x.zombieHypnoBubble());t.parent=this.node.parent;var e=t.getComponent(V);this.hypnoPar=e,e.db.playAnimation("Idle",1/0),t.worldPosition=new y(this.shadeWorldPosition.x,this.worldPositionY+this.height+this.zombieHeight)}else i&&this.coloredWhenHypnoed||!this.hypnoPar||(this.hypnoPar.db.playAnimation("Die"),this.hypnoPar=null);var n=this._hypno!=i;this._hypno=i,i&&(this._usedToBeHypno=!0,this.reversed=!0,this.throwPlantFoodAndSun()),n&&(i&&G.uiingame.calculateLevelTask(U.ZombieKillCountDown,{}),this.inLane&&this.characterOnLaneChange(this.inLane,this.inLane),B.deleteZombie(this),B.registerZombie(this))}},{key:"plantDetectorRec",get:function(){return!this.isAlive()||this.dirtSpawning?new T:this._plantDetectorRec},set:function(i){this._plantDetectorRec=i}},{key:"siblingIndexInLane",get:function(){return this.node.getSiblingIndex()}},{key:"bodyRec",get:function(){return!Z.gameStarted||!this.isAlive()||this.dirtSpawning||this.chilibeanFartTween||this.teleporting?new T:this._bodyRec},set:function(i){this._bodyRec=i}},{key:"addColor",get:function(){return this._addColor},set:function(i){this._addColor=i}}]),t}(z)).prototype,"chiliStunDurationScale",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mi=t(Fi.prototype,"butterFace",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xi=t(Fi.prototype,"zombieGroanSoundGroup",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vt.modern}}),ji=t(Fi.prototype,"sapflingProof",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ni=t(Fi.prototype,"flyZombie",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qi=t(Fi.prototype,"breakSound",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vi=t(Fi.prototype,"hurtSound",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yi=t(Fi.prototype,"hurtSoundVolume",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gi=t(Fi.prototype,"deathSound",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ui=t(Fi.prototype,"onHeadThrownSound",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ki=t(Fi.prototype,"lieSound",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ji=t(Fi.prototype,"chewSound",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qi=t(Fi.prototype,"groanSound",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$i=t(Fi.prototype,"zombieAshParticle",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Fi.prototype,"body",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=t(Fi.prototype,"countHealthToThisWave",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),et=t(Fi.prototype,"toughness",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 190}}),nt=t(Fi.prototype,"zombieHead",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Fi.prototype,"zombieArm",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Fi.prototype,"zombieHeight",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),st=t(Fi.prototype,"squarePerSec",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),rt=t(Fi.prototype,"anmSpeed",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),lt=t(Fi.prototype,"headDropPoint",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=t(Fi.prototype,"chompable",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dt=t(Fi.prototype,"easyToChomp",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ut=t(Fi.prototype,"plantDetectorRecOffset",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(0,38)}}),ct=t(Fi.prototype,"plantDetectorRecSize",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(32,96)}}),pt=t(Fi.prototype,"dps",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),bt=t(Fi.prototype,"bodyRecOffset",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(0,38)}}),mt=t(Fi.prototype,"bodyRecSize",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(48,96)}}),ft=t(Fi.prototype,"allowWaveAddPlantFood",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yt=t(Fi.prototype,"depthScale",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),Ii=Fi))||Ii));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts"],(function(e){var t,i,n,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){r=e.ParticleSelfdestroy},function(e){o=e.TileType}],execute:function(){var s;i._RF.push({},"5fe0cRIBMdG9a1Hu7mi2SL6","ZombieAshParticle",void 0);var a=n.ccclass;n.property,e("ZombieAshParticle",a("ZombieAshParticle")(s=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).sky=!1,t.inLnC=void 0,t.height=0,t}t(i,e);var n=i.prototype;return n.zombieAshDBListener=function(e){},n.animationListener=function(e){"ash"==e.name&&this.playAsh(),this.zombieAshDBListener(e)},n.playAsh=function(){var e,t="PlayFloor",i=null==(e=this.inLnC)?void 0:e.getTileType();(this.height>5||i==o.sea||i==o.water||i==o.sky)&&(t="PlaySky"),this.db.playAnimation(t)},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/zombieDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts"],(function(t){var i,o,e,n,r,a;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Vec2,r=t.Size},function(t){a=t.commonShot}],execute:function(){var c;o._RF.push({},"45bb9Yr+sNB1ZuCJPlM2PYm","zombieDrop",void 0);var s=e.ccclass;e.property,t("zombieDrop",s("zombieDrop")(c=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).popWhenStatic=!1,i}i(o,t);var e=o.prototype;return e.hitFloor=function(t){this.detectEnemyOn=!1,this.height=0;var i=this.linearVelocity.clone(),o=this.bodyLinearVelocity,e=new n(i.x/2,i.y/2),r=o/-2-.55*t*60*this.gravity;r<=3&&!this.fadingAway&&(e=new n(0,0),r=0,this.fallingInSky||(this.bodyOmega=0),this.gravity=0,this.fadeAway()),this.linearVelocity=e,this.bodyLinearVelocity=r},e.characterOnEnable=function(){this.initialize(),this.size_=new r(30,30)},e.pop=function(){this.playPopSound(),this.detectEnemyOn=!1,this.bodyLinearVelocity*=-1*(Math.random()+.5),this.bodyLinearVelocity+=5*(Math.random()+.5),this.bodyOmega*=Math.random()+.5,this.linearVelocity.multiplyScalar(-.4*(Math.random()+.5)),0==this.gravity&&(this.gravity=3)},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Zombies.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombie.ts","./Armors.ts","./Square.ts","./SoundRescourses.ts","./EgyptCamelZombie.ts","./FrontYard.ts","./levelController.ts","./CowboyPonchoZombie.ts","./EgyptCamelTouchZombie.ts"],(function(e){var o,a,r,i,t,n,b,l,m,u,c,p,s,g,_,y,k,f,Z,h,d,w,z,C;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){t=e.cclegacy,n=e._decorator,b=e.JsonAsset,l=e.AudioClip,m=e.Prefab,u=e.Vec2,c=e.Component,p=e.instantiate},function(e){s=e.ArrayGet,g=e.NodePools},function(e){_=e.Zombie,y=e.ZombieGroanSoundGroupEnum},function(e){k=e.armorEnum},function(e){f=e.Square},function(e){Z=e.sounds},function(e){h=e.EgyptCamelZombie},function(e){d=e.FrontYard},function(e){w=e.LevelPlay},function(e){z=e.CowboyPonchoZombie},function(e){C=e.EgyptCamelTouchZombie}],execute:function(){var B,R,S,G,P,A,T,F,v,I,M,E,D,N,O,L,W,J,j,x,H,V,q,Y,U,K,X,Q,$,ee,oe,ae,re,ie,te,ne,be,le,me,ue,ce,pe,se,ge,_e,ye,ke,fe,Ze,he,de,we,ze,Ce,Be,Re,Se,Ge,Pe,Ae,Te,Fe,ve,Ie,Me,Ee,De,Ne,Oe,Le,We,Je,je,xe,He,Ve,qe,Ye,Ue,Ke,Xe,Qe,$e,eo,oo,ao,ro,io,to,no,bo,lo,mo,uo,co,po,so,go,_o,yo,ko,fo,Zo,ho,wo,zo,Co,Bo,Ro,So,Go,Po,Ao,To,Fo,vo,Io,Mo,Eo,Do,No,Oo,Lo,Wo,Jo,jo,xo,Ho,Vo,qo,Yo,Uo,Ko,Xo,Qo,$o,ea,oa,aa,ra,ia,ta,na,ba,la,ma,ua,ca,pa,sa,ga,_a,ya,ka,fa,Za,ha,da,wa,za,Ca,Ba,Ra,Sa,Ga,Pa,Aa,Ta,Fa,va,Ia,Ma,Ea,Da,Na,Oa,La,Wa,Ja,ja,xa,Ha,Va,qa,Ya,Ua,Ka,Xa,Qa,$a,er,or,ar,rr,ir,tr,nr,br,lr,mr,ur,cr,pr,sr,gr,_r,yr,kr,fr,Zr,hr,dr,wr;t._RF.push({},"3127d1KIzhGIqdUCpakDMry","Zombies",void 0);var zr=n.ccclass,Cr=n.property,Br=(e("ZombieFeature",(function(){this.NAME="",this._CARDSPRITENAME="",this.CODENAME="",this.SUNCOST=0,this.WAVEPOINTCOST=100,this.WEIGHT=100,this.OBTAINWORLD="egypt",this.objdata={}})),e("ZombieEnum",function(e){return e[e.modern_basic=0]="modern_basic",e[e.modern_cone=1]="modern_cone",e[e.modern_bucket=2]="modern_bucket",e[e.modern_bricks=3]="modern_bricks",e[e.modern_flag=4]="modern_flag",e[e.modern_rally=5]="modern_rally",e[e.modern_imp=6]="modern_imp",e[e.modern_gargantuar=7]="modern_gargantuar",e[e.modern_bobSled=8]="modern_bobSled",e[e.modern_bobSled_team=9]="modern_bobSled_team",e[e.modern_balloon=10]="modern_balloon",e[e.modern_allstar=11]="modern_allstar",e[e.modern_sleighCart=12]="modern_sleighCart",e[e.modern_catapult=13]="modern_catapult",e[e.egypt_basic=14]="egypt_basic",e[e.egypt_cone=15]="egypt_cone",e[e.egypt_bucket=16]="egypt_bucket",e[e.egypt_bricks=17]="egypt_bricks",e[e.egypt_flag=18]="egypt_flag",e[e.egypt_rally=19]="egypt_rally",e[e.egypt_ra=20]="egypt_ra",e[e.egypt_camel=21]="egypt_camel",e[e.egypt_camel_onehump=22]="egypt_camel_onehump",e[e.egypt_camel_twohump=23]="egypt_camel_twohump",e[e.egypt_camel_threehump=24]="egypt_camel_threehump",e[e.egypt_camel_manyhump=25]="egypt_camel_manyhump",e[e.egypt_camel_touch=26]="egypt_camel_touch",e[e.egypt_camel_onehump_touch=27]="egypt_camel_onehump_touch",e[e.egypt_camel_twohump_touch=28]="egypt_camel_twohump_touch",e[e.egypt_camel_threehump_touch=29]="egypt_camel_threehump_touch",e[e.egypt_camel_manyhump_touch=30]="egypt_camel_manyhump_touch",e[e.egypt_explorer=31]="egypt_explorer",e[e.egypt_torchlight=32]="egypt_torchlight",e[e.egypt_tombraiser=33]="egypt_tombraiser",e[e.egypt_pharaoh_inner=34]="egypt_pharaoh_inner",e[e.egypt_pharaoh_weak=35]="egypt_pharaoh_weak",e[e.egypt_pharaoh=36]="egypt_pharaoh",e[e.egypt_imp=37]="egypt_imp",e[e.egypt_gargantuar=38]="egypt_gargantuar",e[e.egypt_zomboss=39]="egypt_zomboss",e[e.egypt_zomboss2=40]="egypt_zomboss2",e[e.pirate_basic=41]="pirate_basic",e[e.pirate_cone=42]="pirate_cone",e[e.pirate_bucket=43]="pirate_bucket",e[e.pirate_bricks=44]="pirate_bricks",e[e.pirate_flag=45]="pirate_flag",e[e.pirate_rally=46]="pirate_rally",e[e.pirate_swashbuckler=47]="pirate_swashbuckler",e[e.pirate_seagull=48]="pirate_seagull",e[e.pirate_pelican=49]="pirate_pelican",e[e.pirate_barrel_pusher=50]="pirate_barrel_pusher",e[e.pirate_barrel=51]="pirate_barrel",e[e.pirate_cannon=52]="pirate_cannon",e[e.pirate_captain=53]="pirate_captain",e[e.pirate_parrot=54]="pirate_parrot",e[e.pirate_imp=55]="pirate_imp",e[e.pirate_gargantuar=56]="pirate_gargantuar",e[e.pirate_zomboss=57]="pirate_zomboss",e[e.pirate_zomboss2=58]="pirate_zomboss2",e[e.cowboy_basic=59]="cowboy_basic",e[e.cowboy_cone=60]="cowboy_cone",e[e.cowboy_bucket=61]="cowboy_bucket",e[e.cowboy_bricks=62]="cowboy_bricks",e[e.cowboy_flag=63]="cowboy_flag",e[e.cowboy_rally=64]="cowboy_rally",e[e.cowboy_prospector=65]="cowboy_prospector",e[e.cowboy_piano=66]="cowboy_piano",e[e.cowboy_poncho=67]="cowboy_poncho",e[e.cowboy_poncho_no_plate=68]="cowboy_poncho_no_plate",e[e.cowboy_poncho_plate=69]="cowboy_poncho_plate",e[e.cowboy_chicken_farmer=70]="cowboy_chicken_farmer",e[e.cowboy_chicken=71]="cowboy_chicken",e[e.cowboy_chicken_pumpkin=72]="cowboy_chicken_pumpkin",e[e.cowboy_bull=73]="cowboy_bull",e[e.cowboy_bull_black=74]="cowboy_bull_black",e[e.cowboy_imp=75]="cowboy_imp",e[e.cowboy_gargantuar=76]="cowboy_gargantuar",e[e.cowboy_zomboss=77]="cowboy_zomboss",e[e.cowboy_zomboss2=78]="cowboy_zomboss2",e[e.kongfu_basic=79]="kongfu_basic",e[e.kongfu_cone=80]="kongfu_cone",e[e.kongfu_bucket=81]="kongfu_bucket",e[e.kongfu_helmet=82]="kongfu_helmet",e[e.kongfu_flag=83]="kongfu_flag",e[e.kongfu_rally=84]="kongfu_rally",e[e.kongfu_hammer=85]="kongfu_hammer",e[e.kongfu_torch=86]="kongfu_torch",e[e.kongfu_chi=87]="kongfu_chi",e[e.monk_basic=88]="monk_basic",e[e.monk_cone=89]="monk_cone",e[e.monk_bucket=90]="monk_bucket",e[e.monk_helmet=91]="monk_helmet",e[e.monk_flag=92]="monk_flag",e[e.monk_rally=93]="monk_rally",e[e.monk_blade=94]="monk_blade",e[e.monk_nunchaku=95]="monk_nunchaku",e[e.monk_torch=96]="monk_torch",e[e.future_basic=97]="future_basic",e[e.future_cone=98]="future_cone",e[e.future_bucket=99]="future_bucket",e[e.future_bricks=100]="future_bricks",e[e.future_flag=101]="future_flag",e[e.future_rally=102]="future_rally",e[e.future_jetpack=103]="future_jetpack",e[e.future_jetpack_veteran=104]="future_jetpack_veteran",e[e.future_jetpack_disco=105]="future_jetpack_disco",e[e.future_protector=106]="future_protector",e[e.future_protector_shield=107]="future_protector_shield",e[e.future_infinut_shield=108]="future_infinut_shield",e[e.future_mech_cone=109]="future_mech_cone",e[e.future_mech_football=110]="future_mech_football",e[e.future_mech_disco=111]="future_mech_disco",e[e.future_imp=112]="future_imp",e[e.future_gargantuar=113]="future_gargantuar",e[e.future_zomboss=114]="future_zomboss",e[e.future_zomboss2=115]="future_zomboss2",e[e.dark_basic=116]="dark_basic",e[e.dark_cone=117]="dark_cone",e[e.dark_bucket=118]="dark_bucket",e[e.dark_helmet=119]="dark_helmet",e[e.dark_bricks=120]="dark_bricks",e[e.dark_flag=121]="dark_flag",e[e.dark_rally=122]="dark_rally",e[e.dark_jester=123]="dark_jester",e[e.dark_imp=124]="dark_imp",e[e.dark_gargantuar=125]="dark_gargantuar",e[e.lost_relichunter=126]="lost_relichunter",e[e.sky_basic=127]="sky_basic",e[e.sky_cone=128]="sky_cone",e[e.sky_bucket=129]="sky_bucket",e[e.sky_flag=130]="sky_flag",e[e.zombieAmount=131]="zombieAmount",e}({}))),Rr=e("zombies",function(){function e(){}return e.playGroan=function(e,o){void 0===o&&(o=1),this.zombieRes.playZombieGroan(e,o)},e.getLessZombieLane=function(e){if(void 0===e&&(e=[0,1,2,3,4]),e.length){var o=1/0,a=s.randomize(e),r=Math.floor(5*Math.random());return a.forEach((function(e){var a=0;f.getLaneComponent(e).zombiePool().forEach((function(e){a+=e.totalHealth()})),a<o&&(r=e,o=a)})),r}return Math.floor(5*Math.random())},e.getZombieSpawnL=function(e,o){if(isNaN(e)||null==e){var a,r,i=d.currentLawn;if(!o.flyZombie&&null!=i&&null!=(a=i.PlankRows)&&a.length)e=this.getLessZombieLane(i.PlankRows);else if(o.flyZombie&&null!=i&&null!=(r=i.PlankRows)&&r.length)e=this.getLessZombieLane(i.SeaRows);else{var t,n,b=null==w||null==(t=w.component)?void 0:t.onlyLanesForRandomSpawn;null!=(n=b)&&n.length||(b=[0,1,2,3,4]),e=this.getLessZombieLane(b)}}return e},e.createZombie=function(o,a,r){void 0===r&&(r=null);var i=e.getZombie(a,!1,r),t=i.getComponent(_);o=this.getZombieSpawnL(o,t);var n=f.getLaneComponent(o);return i.parent=n.zombieLayer,t.worldPosition=new u(f.zombieSpawnX+n.zombieSpawnOffset,n.floorY),n.zombieSpawnOffset+=f.SquareDisW,t.onLaneSpawnSettled(n),t},e.createZombieByRTID=function(e,o){var a=this.getZombieEnumByRTID(o);return this.createZombie(e,a)},e.getZombiesWithNamesAndPoint=function(o,a,r){void 0===r&&(r=!0);var i=[],t=o.concat(),n=1/0;for(t.concat().forEach((function(o){var r=e.getZombieWavePointCost(o);r>a&&t.splice(t.indexOf(o),1),r<n&&(n=r)}));a>=n;){var b=r?e.pickZombieByWeight(t):s.getRandom(t),l=e.getZombieWavePointCost(b);if(l<=a)i.push(b),a-=l;else{var m=t.indexOf(b);-1!=m&&t.splice(m,1)}}return i},e.getZombie=function(e,o,a){void 0===o&&(o=!1),void 0===a&&(a=null);var r=this.zombieRes,i=o?p:g.instantiatePooly,t=i(r.basicZombie),n=e+0;switch(e){case Br.modern_sleighCart:t=i(r.sleighCartZombie);break;case Br.modern_basic:t=i(r.basicZombie);break;case Br.modern_cone:t=i(r.basicZombie).getComponent(_).addArmor(k.basic_cone),n=Br.modern_basic;break;case Br.modern_bucket:t=i(r.basicZombie).getComponent(_).addArmor(k.basic_bucket),n=Br.modern_basic;break;case Br.modern_bricks:t=i(r.basicZombie).getComponent(_).addArmor(k.basic_bricks),n=Br.modern_basic;break;case Br.modern_flag:t=i(r.basicFlagZombie);break;case Br.modern_rally:t=i(r.basicRallyZombie);break;case Br.modern_imp:t=i(r.modernImpZombie);break;case Br.modern_gargantuar:t=i(r.modernGargantuarZombie);break;case Br.modern_bobSled:t=i(r.bobSledZombie);break;case Br.modern_allstar:t=i(r.allstarZombie);break;case Br.modern_balloon:t=i(r.balloonZombie);break;case Br.future_basic:t=i(r.futureBasicZombie);break;case Br.future_cone:t=i(r.futureBasicZombie).getComponent(_).addArmor(k.future_cone),n=Br.future_basic;break;case Br.future_bucket:t=i(r.futureBasicZombie).getComponent(_).addArmor(k.future_bucket),n=Br.future_basic;break;case Br.future_bricks:t=i(r.futureBasicZombie).getComponent(_).addArmor(k.future_bricks),n=Br.future_basic;break;case Br.future_flag:t=i(r.futureFlagZombie);break;case Br.future_rally:t=i(r.futureRallyZombie);break;case Br.future_jetpack:t=i(r.futureJetpackZombie);break;case Br.future_jetpack_veteran:t=i(r.futureJetpackVeteranZombie);break;case Br.future_jetpack_disco:t=i(r.futureJetpackDiscoZombie);break;case Br.future_protector:t=i(r.futureProtectorZombie);break;case Br.future_protector_shield:t=i(r.futureProtectorShieldZombie);break;case Br.future_infinut_shield:t=i(r.futureInfiNutShieldZombie);break;case Br.future_mech_cone:t=i(r.futureMechConeZombie);break;case Br.future_mech_football:t=i(r.futureMechFootballZombie);break;case Br.future_mech_disco:t=i(r.futureMechDiscoZombie);break;case Br.future_imp:t=i(r.futureImpZombie);break;case Br.future_gargantuar:t=i(r.futureGargantuarZombie);break;case Br.future_zomboss:(t=i(r.futureZombossMech)).getComponent(_).mechToChoose=0;break;case Br.future_zomboss2:(t=i(r.futureZombossMech)).getComponent(_).mechToChoose=1;break;case Br.lost_relichunter:t=i(r.lostRelicHunterZombie);break;case Br.modern_bobSled_team:t=i(r.bobSledZombieTeam);break;case Br.modern_catapult:t=i(r.catapultZombie);break;case Br.egypt_basic:t=i(r.egyptBasicZombie);break;case Br.egypt_cone:t=i(r.egyptBasicZombie).getComponent(_).addArmor(k.egypt_cone),n=Br.egypt_basic;break;case Br.egypt_bucket:t=i(r.egyptBasicZombie).getComponent(_).addArmor(k.egypt_bucket),n=Br.egypt_basic;break;case Br.egypt_bricks:t=i(r.egyptBasicZombie).getComponent(_).addArmor(k.egypt_bricks),n=Br.egypt_basic;break;case Br.egypt_flag:t=i(r.egyptFlagZombie);break;case Br.egypt_rally:t=i(r.egyptRallyZombie);break;case Br.egypt_ra:t=i(r.egyptRaZombie);break;case Br.egypt_camel:(t=i(r.egyptCamelZombie)).getComponent(h).teamAmount=0,t.getComponent(h).defaultShowSlot=0;break;case Br.egypt_camel_onehump:(t=i(r.egyptCamelZombie)).getComponent(h).teamAmount=3,t.getComponent(h).defaultShowSlot=0,n=Br.egypt_camel;break;case Br.egypt_camel_twohump:(t=i(r.egyptCamelZombie)).getComponent(h).teamAmount=4,t.getComponent(h).defaultShowSlot=0,n=Br.egypt_camel;break;case Br.egypt_camel_threehump:(t=i(r.egyptCamelZombie)).getComponent(h).teamAmount=5,t.getComponent(h).defaultShowSlot=0,n=Br.egypt_camel;break;case Br.egypt_camel_manyhump:(t=i(r.egyptCamelZombie)).getComponent(h).teamAmount=4+Math.ceil(3*Math.random()),t.getComponent(h).defaultShowSlot=0,n=Br.egypt_camel;break;case Br.egypt_camel_touch:var b,l=(t=i(r.egyptCamelTouchZombie)).getComponent(C);if(null!=(b=a)&&null!=(b=b.PresetCamelTouchID)&&b.length){var m=a.PresetCamelTouchID;l.presetCamelIDs=m,l.teamAmount=m.length}else l.teamAmount=0;l.defaultShowSlot=0;break;case Br.egypt_camel_onehump_touch:(t=i(r.egyptCamelTouchZombie)).getComponent(C).teamAmount=3,t.getComponent(C).defaultShowSlot=0,n=Br.egypt_camel_touch;break;case Br.egypt_camel_twohump_touch:(t=i(r.egyptCamelTouchZombie)).getComponent(C).teamAmount=4,t.getComponent(C).defaultShowSlot=0,n=Br.egypt_camel_touch;break;case Br.egypt_camel_threehump_touch:(t=i(r.egyptCamelTouchZombie)).getComponent(C).teamAmount=5,t.getComponent(C).defaultShowSlot=0,n=Br.egypt_camel_touch;break;case Br.egypt_camel_manyhump_touch:(t=i(r.egyptCamelTouchZombie)).getComponent(C).teamAmount=6,t.getComponent(C).defaultShowSlot=0,n=Br.egypt_camel_touch;break;case Br.egypt_explorer:t=i(r.egyptExplorerZombie);break;case Br.egypt_torchlight:t=i(r.egyptTorchlightZombie);break;case Br.egypt_tombraiser:t=i(r.egyptTombRaiserZombie);break;case Br.egypt_pharaoh_weak:t=i(r.egyptPharaohWeakZombie);break;case Br.egypt_pharaoh:t=i(r.egyptPharaohZombie);break;case Br.egypt_gargantuar:t=i(r.egyptGargantuarZombie);break;case Br.egypt_zomboss:(t=i(r.egyptZombossMech)).getComponent(_).mechToChoose=0;break;case Br.egypt_zomboss2:(t=i(r.egyptZombossMech)).getComponent(_).mechToChoose=1;break;case Br.egypt_pharaoh_inner:t=i(r.egyptPharaohInnerZombie);break;case Br.egypt_imp:t=i(r.egyptImpZombie);break;case Br.pirate_basic:t=i(r.pirateBasicZombie);break;case Br.pirate_cone:t=i(r.pirateBasicZombie).getComponent(_).addArmor(k.pirate_cone),n=Br.pirate_basic;break;case Br.pirate_bucket:t=i(r.pirateBasicZombie).getComponent(_).addArmor(k.pirate_bucket),n=Br.pirate_basic;break;case Br.pirate_bricks:t=i(r.pirateBasicZombie).getComponent(_).addArmor(k.pirate_bricks),n=Br.pirate_basic;break;case Br.pirate_flag:t=i(r.pirateFlagZombie);break;case Br.pirate_rally:t=i(r.pirateRallyZombie);break;case Br.pirate_swashbuckler:t=i(r.pirateSwashbucklerZombie);break;case Br.pirate_seagull:t=i(r.pirateSeagullZombie);break;case Br.pirate_pelican:t=i(r.piratePelicanZombie);break;case Br.pirate_barrel_pusher:t=i(r.pirateBarrelPusherZombie);break;case Br.pirate_barrel:t=i(r.pirateBarrel);break;case Br.pirate_cannon:t=i(r.pirateImpCannonZombie);break;case Br.pirate_captain:t=i(r.pirateCaptainZombie);break;case Br.pirate_parrot:t=i(r.pirateParrotZombie);break;case Br.pirate_imp:t=i(r.pirateImpZombie);break;case Br.pirate_gargantuar:t=i(r.pirateGargantuarZombie);break;case Br.pirate_zomboss:(t=i(r.pirateZombossMech)).getComponent(_).mechToChoose=0;break;case Br.pirate_zomboss2:(t=i(r.pirateZombossMech)).getComponent(_).mechToChoose=1;break;case Br.cowboy_basic:t=i(r.cowboyBasicZombie);break;case Br.cowboy_cone:t=i(r.cowboyBasicZombie).getComponent(_).addArmor(k.cowboy_cone),n=Br.cowboy_basic;break;case Br.cowboy_bucket:t=i(r.cowboyBasicZombie).getComponent(_).addArmor(k.cowboy_bucket),n=Br.cowboy_basic;break;case Br.cowboy_bricks:t=i(r.cowboyBasicZombie).getComponent(_).addArmor(k.cowboy_bricks),n=Br.cowboy_basic;break;case Br.cowboy_flag:t=i(r.cowboyFlagZombie);break;case Br.cowboy_rally:t=i(r.cowboyRallyZombie);break;case Br.cowboy_prospector:t=i(r.cowboyProspectorZombie);break;case Br.cowboy_piano:t=i(r.cowboyPianoZombie);break;case Br.cowboy_poncho:var u=(t=i(r.cowboyPonchoZombie)).getComponent(z);u&&(u.spawnPlateMode=-1),n=Br.cowboy_poncho;break;case Br.cowboy_poncho_no_plate:var c=(t=i(r.cowboyPonchoZombie)).getComponent(z);c&&(c.spawnPlateMode=0),n=Br.cowboy_poncho;break;case Br.cowboy_poncho_plate:var s=(t=i(r.cowboyPonchoZombie)).getComponent(z);s&&(s.spawnPlateMode=1),n=Br.cowboy_poncho;break;case Br.cowboy_chicken_farmer:t=i(r.cowboyChickenFarmerZombie);break;case Br.cowboy_chicken:t=i(r.cowboyChickenZombie);break;case Br.cowboy_chicken_pumpkin:t=i(r.cowboyChickenPumpkinZombie);break;case Br.cowboy_bull:t=i(r.cowboyBullZombie);break;case Br.cowboy_bull_black:t=i(r.cowboyBlackBullZombie);break;case Br.cowboy_imp:t=i(r.cowboyImpZombie);break;case Br.cowboy_gargantuar:t=i(r.cowboyGargantuarZombie);break;case Br.cowboy_zomboss:(t=i(r.cowboyZombossMech)).getComponent(_).mechToChoose=0;break;case Br.cowboy_zomboss2:(t=i(r.cowboyZombossMech)).getComponent(_).mechToChoose=1;break;case Br.kongfu_basic:t=i(r.kongfuBasicZombie);break;case Br.kongfu_cone:t=i(r.kongfuBasicZombie).getComponent(_).addArmor(k.kongfu_cone),n=Br.kongfu_basic;break;case Br.kongfu_bucket:t=i(r.kongfuBasicZombie).getComponent(_).addArmor(k.kongfu_bucket),n=Br.kongfu_basic;break;case Br.kongfu_helmet:t=i(r.kongfuBasicZombie).getComponent(_).addArmor(k.kongfu_helmet),n=Br.kongfu_basic;break;case Br.kongfu_flag:t=i(r.kongfuFlagZombie);break;case Br.kongfu_rally:t=i(r.kongfuRallyZombie);break;case Br.kongfu_hammer:t=i(r.kongfuHammerZombie);break;case Br.kongfu_torch:t=i(r.kongfuTorchZombie);break;case Br.kongfu_chi:t=i(r.kongfuChiZombie);break;case Br.monk_basic:t=i(r.monkBasicZombie);break;case Br.monk_cone:t=i(r.monkBasicZombie).getComponent(_).addArmor(k.kongfu_cone),n=Br.monk_basic;break;case Br.monk_bucket:t=i(r.monkBasicZombie).getComponent(_).addArmor(k.kongfu_bucket),n=Br.monk_basic;break;case Br.monk_helmet:t=i(r.monkBasicZombie).getComponent(_).addArmor(k.kongfu_helmet),n=Br.monk_basic;break;case Br.monk_flag:t=i(r.monkFlagZombie);break;case Br.monk_rally:t=i(r.monkRallyZombie);break;case Br.monk_blade:t=i(r.monkBladeZombie);break;case Br.monk_nunchaku:t=i(r.monkNunchakuZombie);break;case Br.monk_torch:t=i(r.monkTorchZombie);break;case Br.dark_basic:t=i(r.darkBasicZombie);break;case Br.dark_cone:t=i(r.darkBasicZombie).getComponent(_).addArmor(k.dark_cone),n=Br.future_basic;break;case Br.dark_bucket:t=i(r.darkBasicZombie).getComponent(_).addArmor(k.dark_bucket),n=Br.future_basic;break;case Br.dark_helmet:t=i(r.darkBasicZombie).getComponent(_).addArmor(k.dark_helmet),n=Br.future_basic;break;case Br.dark_bricks:t=i(r.darkBasicZombie).getComponent(_).addArmor(k.dark_bricks),n=Br.future_basic;break;case Br.dark_flag:t=i(r.darkFlagZombie);break;case Br.dark_rally:t=i(r.darkRallyZombie);break;case Br.dark_jester:t=i(r.darkJesterZombie);break;case Br.dark_imp:t=i(r.darkImpZombie);break;case Br.dark_gargantuar:t=i(r.darkGargantuarZombie);break;case Br.sky_basic:t=i(r.skyBasicZombie);break;case Br.sky_cone:t=i(r.skyBasicZombie).getComponent(_).addArmor(k.sky_cone),n=Br.future_basic;break;case Br.sky_bucket:t=i(r.skyBasicZombie).getComponent(_).addArmor(k.sky_bucket),n=Br.future_basic;break;case Br.sky_flag:t=i(r.skyFlagZombie);break;default:n=Br.modern_basic,t=i(r.basicZombie)}var y=t.getComponent(_);y.ID=n;var f=this.getZombieFeature(e),Z=this.getZombieFeature(n);return y.objdata=Z.objdata,y.WPC_real=Z.WAVEPOINTCOST,y.WPC_wave=f.WAVEPOINTCOST,t},e.getZombieEnumByString=function(e){var o=-1;return this.zombieRes.ZombieFeatures.forEach((function(a,r){-1==o&&a.CODENAME==e&&(o=r)})),-1==o&&(o=Br.modern_basic,console.warn("Can't find '"+e+"' as a Zombie Codename.")),o},e.getZombieEnumByRTID=function(e){var o=e.concat(),a=o.indexOf("RTID("),r=o.indexOf("@ZombieTypes)"),i="";return-1!=a&&(i=o.slice(a+5,r)),this.getZombieEnumByString(i)},e.getZombieWavePointCost=function(e){return this.zombieRes.ZombieFeatures[e].WAVEPOINTCOST},e.getZombieWeight=function(e){return this.zombieRes.ZombieFeatures[e].WEIGHT},e.pickZombieByWeight=function(e){var o=this,a=[],r=0;e.forEach((function(e){var i=o.getZombieWeight(e);a.push(r+i),r+=i}));for(var i=Math.random()*r,t=0;t<a.length;t++)if(i<a[t])return e[t];return s.getRandom(e)},e.getZombieFeature=function(e){return this.zombieRes.ZombieFeatures[e]},e}());Rr.zombieRes=null;e("Zombies",(B=zr("Zombies"),R=Cr(b),S=Cr([l]),G=Cr([l]),P=Cr([l]),A=Cr([l]),T=Cr([l]),F=Cr([l]),v=Cr([l]),I=Cr([l]),M=Cr([l]),E=Cr([l]),D=Cr([l]),N=Cr([l]),O=Cr([l]),L=Cr([l]),W=Cr(m),J=Cr(m),j=Cr(m),x=Cr(m),H=Cr(m),V=Cr(m),q=Cr(m),Y=Cr(m),U=Cr(m),K=Cr(m),X=Cr(m),Q=Cr(m),$=Cr(m),ee=Cr(m),oe=Cr(m),ae=Cr(m),re=Cr(m),ie=Cr(m),te=Cr(m),ne=Cr(m),be=Cr(m),le=Cr(m),me=Cr(m),ue=Cr(m),ce=Cr(m),pe=Cr(m),se=Cr(m),ge=Cr(m),_e=Cr(m),ye=Cr(m),ke=Cr(m),fe=Cr(m),Ze=Cr(m),he=Cr(m),de=Cr(m),we=Cr(m),ze=Cr(m),Ce=Cr(m),Be=Cr(m),Re=Cr(m),Se=Cr(m),Ge=Cr(m),Pe=Cr(m),Ae=Cr(m),Te=Cr(m),Fe=Cr(m),ve=Cr(m),Ie=Cr(m),Me=Cr(m),Ee=Cr(m),De=Cr(m),Ne=Cr(m),Oe=Cr(m),Le=Cr(m),We=Cr(m),Je=Cr(m),je=Cr(m),xe=Cr(m),He=Cr(m),Ve=Cr(m),qe=Cr(m),Ye=Cr(m),Ue=Cr(m),Ke=Cr(m),Xe=Cr(m),Qe=Cr(m),$e=Cr(m),eo=Cr(m),oo=Cr(m),ao=Cr(m),ro=Cr(m),io=Cr(m),to=Cr(m),no=Cr(m),bo=Cr(m),lo=Cr(m),mo=Cr(m),uo=Cr(m),co=Cr(m),po=Cr(m),so=Cr(m),go=Cr(m),_o=Cr(m),yo=Cr(m),ko=Cr(m),fo=Cr(m),Zo=Cr(m),ho=Cr(m),wo=Cr(m),zo=Cr(m),B((Ro=o((Bo=function(e){function o(){for(var o,a=arguments.length,t=new Array(a),n=0;n<a;n++)t[n]=arguments[n];return o=e.call.apply(e,[this].concat(t))||this,r(o,"zombieFeaturesJson",Ro,i(o)),o.ZombieFeatures=[],r(o,"modernZombieGroan",So,i(o)),r(o,"egyptZombieGroan",Go,i(o)),r(o,"pirateZombieGroan",Po,i(o)),r(o,"cowboyZombieGroan",Ao,i(o)),r(o,"futureZombieGroan",To,i(o)),r(o,"darkZombieGroan",Fo,i(o)),r(o,"beachZombieGroan",vo,i(o)),r(o,"iceZombieGroan",Io,i(o)),r(o,"lostZombieGroan",Mo,i(o)),r(o,"stageZombieGroan",Eo,i(o)),r(o,"dinoZombieGroan",Do,i(o)),r(o,"kongfuZombieGroan",No,i(o)),r(o,"impGroan",Oo,i(o)),r(o,"gargantuarGroan",Lo,i(o)),r(o,"basicZombie",Wo,i(o)),r(o,"basicFlagZombie",Jo,i(o)),r(o,"basicRallyZombie",jo,i(o)),r(o,"modernImpZombie",xo,i(o)),r(o,"modernGargantuarZombie",Ho,i(o)),r(o,"bobSledZombie",Vo,i(o)),r(o,"bobSledZombieTeam",qo,i(o)),r(o,"balloonZombie",Yo,i(o)),r(o,"allstarZombie",Uo,i(o)),r(o,"sleighCartZombie",Ko,i(o)),r(o,"futureBasicZombie",Xo,i(o)),r(o,"futureFlagZombie",Qo,i(o)),r(o,"futureRallyZombie",$o,i(o)),r(o,"futureJetpackZombie",ea,i(o)),r(o,"futureJetpackVeteranZombie",oa,i(o)),r(o,"futureJetpackDiscoZombie",aa,i(o)),r(o,"futureProtectorZombie",ra,i(o)),r(o,"futureProtectorShieldZombie",ia,i(o)),r(o,"futureInfiNutShieldZombie",ta,i(o)),r(o,"futureMechConeZombie",na,i(o)),r(o,"futureMechFootballZombie",ba,i(o)),r(o,"futureMechDiscoZombie",la,i(o)),r(o,"futureImpZombie",ma,i(o)),r(o,"futureGargantuarZombie",ua,i(o)),r(o,"futureZombossMech",ca,i(o)),r(o,"lostRelicHunterZombie",pa,i(o)),r(o,"catapultZombie",sa,i(o)),r(o,"egyptBasicZombie",ga,i(o)),r(o,"egyptFlagZombie",_a,i(o)),r(o,"egyptRallyZombie",ya,i(o)),r(o,"egyptRaZombie",ka,i(o)),r(o,"egyptCamelZombie",fa,i(o)),r(o,"egyptCamelTouchZombie",Za,i(o)),r(o,"egyptExplorerZombie",ha,i(o)),r(o,"egyptTorchlightZombie",da,i(o)),r(o,"egyptTombRaiserZombie",wa,i(o)),r(o,"egyptPharaohWeakZombie",za,i(o)),r(o,"egyptPharaohZombie",Ca,i(o)),r(o,"egyptPharaohInnerZombie",Ba,i(o)),r(o,"egyptImpZombie",Ra,i(o)),r(o,"egyptGargantuarZombie",Sa,i(o)),r(o,"egyptZombossMech",Ga,i(o)),r(o,"pirateBasicZombie",Pa,i(o)),r(o,"pirateFlagZombie",Aa,i(o)),r(o,"pirateRallyZombie",Ta,i(o)),r(o,"pirateSwashbucklerZombie",Fa,i(o)),r(o,"pirateSeagullZombie",va,i(o)),r(o,"piratePelicanZombie",Ia,i(o)),r(o,"pirateBarrelPusherZombie",Ma,i(o)),r(o,"pirateBarrel",Ea,i(o)),r(o,"pirateImpCannonZombie",Da,i(o)),r(o,"pirateCaptainZombie",Na,i(o)),r(o,"pirateParrotZombie",Oa,i(o)),r(o,"pirateImpZombie",La,i(o)),r(o,"pirateGargantuarZombie",Wa,i(o)),r(o,"pirateZombossMech",Ja,i(o)),r(o,"cowboyBasicZombie",ja,i(o)),r(o,"cowboyFlagZombie",xa,i(o)),r(o,"cowboyRallyZombie",Ha,i(o)),r(o,"cowboyProspectorZombie",Va,i(o)),r(o,"cowboyPianoZombie",qa,i(o)),r(o,"cowboyChickenFarmerZombie",Ya,i(o)),r(o,"cowboyChickenZombie",Ua,i(o)),r(o,"cowboyChickenPumpkinZombie",Ka,i(o)),r(o,"cowboyBullZombie",Xa,i(o)),r(o,"cowboyBlackBullZombie",Qa,i(o)),r(o,"cowboyImpZombie",$a,i(o)),r(o,"cowboyGargantuarZombie",er,i(o)),r(o,"cowboyZombossMech",or,i(o)),r(o,"cowboyPonchoZombie",ar,i(o)),r(o,"kongfuBasicZombie",rr,i(o)),r(o,"kongfuFlagZombie",ir,i(o)),r(o,"kongfuRallyZombie",tr,i(o)),r(o,"kongfuHammerZombie",nr,i(o)),r(o,"kongfuTorchZombie",br,i(o)),r(o,"kongfuChiZombie",lr,i(o)),r(o,"monkBasicZombie",mr,i(o)),r(o,"monkFlagZombie",ur,i(o)),r(o,"monkRallyZombie",cr,i(o)),r(o,"monkBladeZombie",pr,i(o)),r(o,"monkNunchakuZombie",sr,i(o)),r(o,"monkTorchZombie",gr,i(o)),r(o,"darkBasicZombie",_r,i(o)),r(o,"darkFlagZombie",yr,i(o)),r(o,"darkRallyZombie",kr,i(o)),r(o,"darkJesterZombie",fr,i(o)),r(o,"darkImpZombie",Zr,i(o)),r(o,"darkGargantuarZombie",hr,i(o)),r(o,"skyBasicZombie",dr,i(o)),r(o,"skyFlagZombie",wr,i(o)),o}a(o,e);var t=o.prototype;return t.playZombieGroan=function(e,o){switch(void 0===o&&(o=1),e){case y.modern:Z.play(s.getRandom(this.modernZombieGroan),o);break;case y.egypt:Z.play(s.getRandom(this.egyptZombieGroan),o);break;case y.pirate:Z.play(s.getRandom(this.pirateZombieGroan),o);break;case y.cowboy:Z.play(s.getRandom(this.cowboyZombieGroan),o);break;case y.future:Z.play(s.getRandom(this.futureZombieGroan),o);break;case y.dark:Z.play(s.getRandom(this.darkZombieGroan),o);break;case y.beach:Z.play(s.getRandom(this.beachZombieGroan),o);break;case y.ice:Z.play(s.getRandom(this.iceZombieGroan),o);break;case y.lost:Z.play(s.getRandom(this.lostZombieGroan),o);break;case y.stage:Z.play(s.getRandom(this.stageZombieGroan),o);break;case y.dino:Z.play(s.getRandom(this.dinoZombieGroan),o);break;case y.kongfu:Z.play(s.getRandom(this.kongfuZombieGroan),o);break;case y.imp:Z.play(s.getRandom(this.impGroan),o);break;case y.gargantuar:Z.play(s.getRandom(this.gargantuarGroan),o)}},t.onLoad=function(){Rr.zombieRes=this;var e=JSON.stringify(this.zombieFeaturesJson);this.ZombieFeatures=JSON.parse(e).json.ZOMBIES},o}(c)).prototype,"zombieFeaturesJson",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=o(Bo.prototype,"modernZombieGroan",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Go=o(Bo.prototype,"egyptZombieGroan",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Po=o(Bo.prototype,"pirateZombieGroan",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ao=o(Bo.prototype,"cowboyZombieGroan",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),To=o(Bo.prototype,"futureZombieGroan",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fo=o(Bo.prototype,"darkZombieGroan",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vo=o(Bo.prototype,"beachZombieGroan",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Io=o(Bo.prototype,"iceZombieGroan",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mo=o(Bo.prototype,"lostZombieGroan",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Eo=o(Bo.prototype,"stageZombieGroan",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Do=o(Bo.prototype,"dinoZombieGroan",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),No=o(Bo.prototype,"kongfuZombieGroan",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oo=o(Bo.prototype,"impGroan",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lo=o(Bo.prototype,"gargantuarGroan",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wo=o(Bo.prototype,"basicZombie",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=o(Bo.prototype,"basicFlagZombie",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=o(Bo.prototype,"basicRallyZombie",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=o(Bo.prototype,"modernImpZombie",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=o(Bo.prototype,"modernGargantuarZombie",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=o(Bo.prototype,"bobSledZombie",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=o(Bo.prototype,"bobSledZombieTeam",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=o(Bo.prototype,"balloonZombie",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=o(Bo.prototype,"allstarZombie",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=o(Bo.prototype,"sleighCartZombie",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=o(Bo.prototype,"futureBasicZombie",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=o(Bo.prototype,"futureFlagZombie",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=o(Bo.prototype,"futureRallyZombie",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=o(Bo.prototype,"futureJetpackZombie",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=o(Bo.prototype,"futureJetpackVeteranZombie",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aa=o(Bo.prototype,"futureJetpackDiscoZombie",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ra=o(Bo.prototype,"futureProtectorZombie",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ia=o(Bo.prototype,"futureProtectorShieldZombie",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=o(Bo.prototype,"futureInfiNutShieldZombie",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=o(Bo.prototype,"futureMechConeZombie",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ba=o(Bo.prototype,"futureMechFootballZombie",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la=o(Bo.prototype,"futureMechDiscoZombie",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=o(Bo.prototype,"futureImpZombie",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ua=o(Bo.prototype,"futureGargantuarZombie",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ca=o(Bo.prototype,"futureZombossMech",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pa=o(Bo.prototype,"lostRelicHunterZombie",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa=o(Bo.prototype,"catapultZombie",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=o(Bo.prototype,"egyptBasicZombie",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a=o(Bo.prototype,"egyptFlagZombie",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ya=o(Bo.prototype,"egyptRallyZombie",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ka=o(Bo.prototype,"egyptRaZombie",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa=o(Bo.prototype,"egyptCamelZombie",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za=o(Bo.prototype,"egyptCamelTouchZombie",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=o(Bo.prototype,"egyptExplorerZombie",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=o(Bo.prototype,"egyptTorchlightZombie",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wa=o(Bo.prototype,"egyptTombRaiserZombie",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=o(Bo.prototype,"egyptPharaohWeakZombie",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ca=o(Bo.prototype,"egyptPharaohZombie",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=o(Bo.prototype,"egyptPharaohInnerZombie",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra=o(Bo.prototype,"egyptImpZombie",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sa=o(Bo.prototype,"egyptGargantuarZombie",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=o(Bo.prototype,"egyptZombossMech",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa=o(Bo.prototype,"pirateBasicZombie",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aa=o(Bo.prototype,"pirateFlagZombie",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=o(Bo.prototype,"pirateRallyZombie",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=o(Bo.prototype,"pirateSwashbucklerZombie",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),va=o(Bo.prototype,"pirateSeagullZombie",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=o(Bo.prototype,"piratePelicanZombie",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ma=o(Bo.prototype,"pirateBarrelPusherZombie",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ea=o(Bo.prototype,"pirateBarrel",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Da=o(Bo.prototype,"pirateImpCannonZombie",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na=o(Bo.prototype,"pirateCaptainZombie",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oa=o(Bo.prototype,"pirateParrotZombie",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La=o(Bo.prototype,"pirateImpZombie",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wa=o(Bo.prototype,"pirateGargantuarZombie",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ja=o(Bo.prototype,"pirateZombossMech",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=o(Bo.prototype,"cowboyBasicZombie",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xa=o(Bo.prototype,"cowboyFlagZombie",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ha=o(Bo.prototype,"cowboyRallyZombie",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Va=o(Bo.prototype,"cowboyProspectorZombie",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa=o(Bo.prototype,"cowboyPianoZombie",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ya=o(Bo.prototype,"cowboyChickenFarmerZombie",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua=o(Bo.prototype,"cowboyChickenZombie",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ka=o(Bo.prototype,"cowboyChickenPumpkinZombie",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xa=o(Bo.prototype,"cowboyBullZombie",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qa=o(Bo.prototype,"cowboyBlackBullZombie",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=o(Bo.prototype,"cowboyImpZombie",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=o(Bo.prototype,"cowboyGargantuarZombie",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=o(Bo.prototype,"cowboyZombossMech",[oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=o(Bo.prototype,"cowboyPonchoZombie",[ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=o(Bo.prototype,"kongfuBasicZombie",[ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=o(Bo.prototype,"kongfuFlagZombie",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=o(Bo.prototype,"kongfuRallyZombie",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=o(Bo.prototype,"kongfuHammerZombie",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=o(Bo.prototype,"kongfuTorchZombie",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=o(Bo.prototype,"kongfuChiZombie",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=o(Bo.prototype,"monkBasicZombie",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=o(Bo.prototype,"monkFlagZombie",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=o(Bo.prototype,"monkRallyZombie",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=o(Bo.prototype,"monkBladeZombie",[po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=o(Bo.prototype,"monkNunchakuZombie",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=o(Bo.prototype,"monkTorchZombie",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r=o(Bo.prototype,"darkBasicZombie",[_o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=o(Bo.prototype,"darkFlagZombie",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=o(Bo.prototype,"darkRallyZombie",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=o(Bo.prototype,"darkJesterZombie",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=o(Bo.prototype,"darkImpZombie",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=o(Bo.prototype,"darkGargantuarZombie",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=o(Bo.prototype,"skyBasicZombie",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=o(Bo.prototype,"skyFlagZombie",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=Bo))||Co));t._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Square.ts","./SoundsController.ts","./levelController.ts","./BananaLauncher.ts","./LnC.ts","./Character.ts","./CharacterManager.ts","./zombossMissileLocator.ts","./Droppings.ts","./Zombies.ts","./SoundManager.ts","./Tiles.ts"],(function(t){var e,o,i,n,s,a,r,l,h,u,c,m,d,p,b,S,g,f,w,y,Z,v,M,C,P,L,z,E,T,D,I,R,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.inheritsLoose,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.CCFloat,h=t.AudioClip,u=t.CCInteger,c=t.Prefab,m=t.Vec2,d=t.tween},function(t){p=t.zombieDamageType,b=t.Zombie},function(t){S=t.ArrayGet,g=t.instantiatePooly,f=t.NodePools},function(t){w=t.Square},function(t){y=t.MusicController,Z=t.SoundFXController},function(t){v=t.LevelPlay},function(t){M=t.banana},function(t){C=t.LnCSpawnZombieStyleEnum},function(t){P=t.CharacterType},function(t){L=t.ZombiePool,z=t.PlantPool},function(t){E=t.zombossMissileLocator},function(t){T=t.droppings},function(t){D=t.zombies,I=t.ZombieEnum},function(t){R=t.MusicSortEnum},function(t){A=t.TileEnum}],execute:function(){var x,O,k,j,H,B,_,F,W,q,N,G,U,X,J,Y,V,K,Q,$,tt,et,ot,it,nt,st,at,rt,lt,ht,ut,ct,mt,dt,pt,bt,St,gt,ft,wt,yt,Zt,vt,Mt,Ct,Pt,Lt,zt,Et,Tt,Dt,It,Rt,At,xt,Ot,kt,jt,Ht,Bt,_t,Ft,Wt,qt,Nt,Gt,Ut,Xt,Jt,Yt,Vt,Kt,Qt,$t,te,ee,oe,ie,ne,se,ae,re,le,he,ue,ce,me,de,pe,be,Se,ge,fe,we,ye,Ze,ve,Me,Ce,Pe,Le,ze,Ee,Te,De,Ie,Re,Ae,xe,Oe,ke,je,He,Be,_e,Fe,We,qe,Ne,Ge,Ue;a._RF.push({},"d5220I98W9Gyr6uwY6Kq0xa","ZombossMechZombie",void 0);var Xe=r.ccclass,Je=r.property,Ye=t("ZombossAction",(x=Xe("ZombossAction"),O=Je(String),k=Je(Number),x((B=e((H=function(){o(this,"actionName",B,this),o(this,"weight",_,this)}).prototype,"actionName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=e(H.prototype,"weight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),j=H))||j)),Ve=t("ZombossStage",(F=Xe("ZombossStage"),W=Je([Ye]),q=Je(l),N=Je(l),G=Je(l),U=Je(l),X=Je(l),J=Je(l),Y=Je(l),V=Je(l),K=Je(l),Q=Je(l),$=Je(l),tt=Je(l),et=Je(l),ot=Je([String]),F((st=e((nt=function(){function t(){o(this,"Actions",st,this),o(this,"AnimRateModifier",at,this),o(this,"ChilledDurationFromFrozen",rt,this),o(this,"DamageIndexFull",lt,this),o(this,"DamageIndexHalf",ht,this),o(this,"HitPoints",ut,this),o(this,"MaxIdleTime",ct,this),o(this,"MinIdleTime",mt,this),o(this,"StunDamageScale",dt,this),o(this,"StunStaggerBackMovement",pt,this),o(this,"StunStaggerBackTime",bt,this),o(this,"StunTime",St,this),o(this,"StartPoint",gt,this),o(this,"EndPoint",ft,this),o(this,"zombies",wt,this),this.zombieEnums=[]}return t.prototype.setZombiePool=function(){var t=this;this.zombieEnums=[],this.zombies.forEach((function(e){t.zombieEnums.push(D.getZombieEnumByString(e))}))},t}()).prototype,"Actions",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new Ye,new Ye,new Ye,new Ye,new Ye]}}),at=e(nt.prototype,"AnimRateModifier",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rt=e(nt.prototype,"ChilledDurationFromFrozen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),lt=e(nt.prototype,"DamageIndexFull",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ht=e(nt.prototype,"DamageIndexHalf",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ut=e(nt.prototype,"HitPoints",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4e3}}),ct=e(nt.prototype,"MaxIdleTime",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),mt=e(nt.prototype,"MinIdleTime",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),dt=e(nt.prototype,"StunDamageScale",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),pt=e(nt.prototype,"StunStaggerBackMovement",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bt=e(nt.prototype,"StunStaggerBackTime",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),St=e(nt.prototype,"StunTime",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),gt=e(nt.prototype,"StartPoint",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),ft=e(nt.prototype,"EndPoint",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1600}}),wt=e(nt.prototype,"zombies",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["tutorial"]}}),it=nt))||it));t("ZombossMechZombie",(yt=Xe("ZombossMechZombie"),Zt=Je(Ve),vt=Je(Ve),Mt=Je(h),Ct=Je(h),Pt=Je(h),Lt=Je(h),zt=Je(h),Et=Je(h),Tt=Je(h),Dt=Je(h),It=Je(h),Rt=Je([h]),At=Je([h]),xt=Je([h]),Ot=Je([h]),kt=Je([h]),jt=Je([h]),Ht=Je([h]),Bt=Je([h]),_t=Je([h]),Ft=Je([h]),Wt=Je([h]),qt=Je([h]),Nt=Je([h]),Gt=Je([h]),Ut=Je([h]),Xt=Je([h]),Jt=Je([h]),Yt=Je([h]),Vt=Je([h]),Kt=Je(h),Qt=Je(h),$t=Je(h),te=Je(h),ee=Je(h),oe=Je(l),ie=Je(u),ne=Je(c),se=Je(c),yt((le=e((re=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"mechStages",le,n(e)),o(e,"mech2Stages",he,n(e)),e.mechToChoose=0,e.currentMechStages=[],e.hitPointHealths=[],e.basicWhiteList=[I.egypt_zomboss,I.egypt_zomboss2,I.pirate_zomboss,I.pirate_zomboss2,I.cowboy_zomboss,I.cowboy_zomboss2,I.future_zomboss,I.future_zomboss2],e._bpStage=0,e._currentStage=0,e.willChangeStage=-1,o(e,"worldZombossStunStartSound",ue,n(e)),o(e,"worldZombossStunLoopSound",ce,n(e)),o(e,"worldZombossStunEndSound",me,n(e)),o(e,"worldZombossSummonLoopSound",de,n(e)),o(e,"worldZombossSummonEndSound",pe,n(e)),o(e,"worldZombossEscapeTriggerSound",be,n(e)),o(e,"worldZombossEscapePortalStartSound",Se,n(e)),o(e,"worldZombossEscapePortalSound",ge,n(e)),o(e,"worldZombossMechDeathExplodeSound",fe,n(e)),o(e,"worldZombossRushSaySounds",we,n(e)),o(e,"worldZombossStabSaySounds",ye,n(e)),o(e,"worldZombossSpawnSaySounds",Ze,n(e)),o(e,"worldZombossAngrySaySounds",ve,n(e)),o(e,"worldZombossEscapeSaySounds",Me,n(e)),o(e,"worldZombossShootSaySounds",Ce,n(e)),o(e,"worldZombossLeapSaySounds",Pe,n(e)),o(e,"worldZombossMechMoveSounds",Le,n(e)),o(e,"worldZombossMechStepSounds",ze,n(e)),o(e,"worldZombossMechStabSounds",Ee,n(e)),o(e,"worldZombossMechMouthOpenBodySounds",Te,n(e)),o(e,"worldZombossMechMouthOpenBodyImpactSounds",De,n(e)),o(e,"worldZombossMechMouthOpenSounds",Ie,n(e)),o(e,"worldZombossMechMouthCloseBodySounds",Re,n(e)),o(e,"worldZombossMechMouthCloseSounds",Ae,n(e)),o(e,"worldZombossMechMouthCloseImpactSounds",xe,n(e)),o(e,"worldZombossMechLeapStartSounds",Oe,n(e)),o(e,"worldZombossMechLeapEndSounds",ke,n(e)),o(e,"worldZombossMechDeathFallSounds",je,n(e)),o(e,"worldZombossAimStartSound",He,n(e)),o(e,"worldZombossMechAimLoopSounds",Be,n(e)),o(e,"worldZombossMechPRJDropSounds",_e,n(e)),o(e,"worldZombossMechShootRiseSounds",Fe,n(e)),o(e,"worldZombossMechShootSounds",We,n(e)),e.bp0Slots=[],e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.rushDMGcount=0,e.mechStunningCD=0,e.potatoMineDisappear=!1,e.idling=!1,e.actionCD=0,o(e,"actionDuration",qe,n(e)),e.laughterRate=.5,e.exploded=!1,e.rushing=!1,e.deathPos=new m(5,3),e.willLandPos=new m(7,1),e.jumpTargetPoses=[new m(7,1),new m(7,2),new m(7,3),new m(7,4)],e.jumpHeightTween=null,e.willRush=!1,e.rushTween=null,e.justSummonned=!1,e.knockBackable=!1,e.moveTween=null,e.destroyWhenFallEnd=!0,e.summonCD=.5,e.summonning=!1,e.summonZombieList=[],e.pfSent=!1,e.leapable=!1,o(e,"maxTargetPlantCount",Ne,n(e)),o(e,"missile",Ge,n(e)),o(e,"targetLocatorPrefab",Ue,n(e)),e.targetLocators=[],e.shooting=!0,e}i(e,t);var a=e.prototype;return a.playSandStorm=function(t,e){},a.playDirtSpawn=function(t){},a.onDamaged=function(t,e,o){if(this.willChangeStage>=0)this.health=t;else{for(var i=0,n=0,s=0;s<this.hitPointHealths.length;s++)if(e<this.hitPointHealths[s]){i=2-s,n=this.hitPointHealths[s];break}this.currentStage!=i&&(this.willChangeStage=i,this.health=n,(!this.busy||this.shooting||this.rushing||this.summonning)&&this.changeStageStun()),e<=0&&(this.currentStage=2,this.willChangeStage=-1,this.willRush=!1,this.bpStage=3),this.rushing&&(this.rushDMGcount+=t-e,(this.rushDMGcount>=400||e<0)&&this.rushInterupt())}},a.setButter=function(t,e){return!1},a.setChiliStun=function(t){return!1},a.chilibeanFart=function(){},a.getProgress=function(){for(var t=1/this.currentMechStages.length,e=0,o=0,i=0;i<this.hitPointHealths.length;i++){if(!(this.health>=this.hitPointHealths[i])){e+=t*(this.health-o)/(this.hitPointHealths[i]-o);break}e+=t,o=this.hitPointHealths[i]}return e},a.bossOnPriceCollected=function(){return this.escapeStart(),4},a.getZombieEnumsToSummon=function(){for(var t=this.currentMechStages[this.currentStage],e=t.StartPoint,o=0,i=this.hitPointHealths[0],n=0;n<this.hitPointHealths.length-1;n++)this.health>this.hitPointHealths[n]&&(o=this.hitPointHealths[n],i=this.hitPointHealths[n+1]);return e+=(1-(this.health-o)/(i-o))*(t.EndPoint-t.StartPoint),D.getZombiesWithNamesAndPoint(t.zombieEnums,e,!1)},a.specialZombieOnLoad=function(){var t=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_BP0")?t.bp0Slots.push(e):e.name.includes("_BP1")?t.bp1Slots.push(e):e.name.includes("_BP2")?t.bp2Slots.push(e):e.name.includes("_BP3")&&t.bp3Slots.push(e)}))},a.changeStageStun=function(){this.currentStage=this.willChangeStage,this.willChangeStage=-1,this.isBoss&&(1==this.currentStage?y.switchMusicSort(R.ZombossStage1,!1,!0):2==this.currentStage&&y.switchMusicSort(R.ZombossStage2_start,!1,!0));var t=this.currentMechStages[this.currentStage].StunTime;v.shakeScreen(t),this.stunStart(t,1)},a.empStun=function(t){this.stunStart()},a.stunStart=function(t,e){var o;void 0===t&&(t=this.currentMechStages[this.currentStage].StunTime),void 0===e&&(e=1),this.jumpHeightTween||(null==(o=this.moveTween)||o.stop(),this.moveTween=null,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.audioSource.clip=this.worldZombossStunLoopSound,d(this).by(this.currentMechStages[this.currentStage].StunStaggerBackTime,{worldPositionX:this.currentMechStages[this.currentStage].StunStaggerBackMovement*w.SquareDisW*(this.reversed?-1:1)},{easing:"quadOut"}).start(),this.audioSource.play(),this.audioSource.loop=!0,this.playOneShot(this.worldZombossStunStartSound),this.mechStunningCD=this.dead?.1:t,this.body.playAnimation("StunStart",e))},a.stunEnd=function(){this.idling=!1,this.actionCD=0,this.mechStunningCD=0,this.audioSource.stop(),this.playOneShot(this.worldZombossStunEndSound),this.body.playAnimation("StunEnd",1)},a.playSpecialZombieDie=function(t){this.currentStage=2,this.onDamaged(this.health,0,p.physicle),this.health=0;for(var e=0;e<5;e++)w.getLaneComponent(e).deleteZombie(this);this.rushInterupt(!1),this.summonInterupt(!1),this.shootInterupt(!1),this.deathJump()},a.killInRange=function(){var t=this;[this.inLane,this.inLane.UpperLane].forEach((function(e){e.plantPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&(e.kill(),e.dead||t.rushInterupt())})),e.zombiePool().concat(e.hypnoZombiePool()).forEach((function(e){e!=t&&-1==t.basicWhiteList.indexOf(e.ID)&&t.bodyRec.judgeCrossRec(e.bodyRec)&&e.playDie(!1,null,!0,p.physicle,!0,!0,!0)})),e.tombPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.die()}))}))},a.explodeAnimation=function(){this.exploded=!0,this.body.playAnimation("DeathStart",1),this.playOneShot(this.worldZombossMechDeathExplodeSound,1,!0),this.idling=!1,v.shakeScreen(2),this.isBoss&&L.pool().concat().forEach((function(t){t.dealDamage(t.health+1,!1,!1,!1,null,p.ray)})),this.isBoss&&y.switchMusicSort(R.Victory)},a.specialZombieUpdateForced=function(t,e,o){var i,n,s,a,r,l,h,u,c,m;this.jumpHeightTween||(this.reversed?[this.inLnC,null==(i=this.inLnC)?void 0:i.upper,null==(n=this.inLnC)?void 0:n.lefter,null==(s=this.inLnC)||null==(s=s.lefter)?void 0:s.upper,null==(a=this.inLnC)||null==(a=a.lefter)?void 0:a.righter,null==(r=this.inLnC)||null==(r=r.lefter)||null==(r=r.lefter)?void 0:r.upper].forEach((function(t){null==t||t.setOccupied(.02)})):[this.inLnC,null==(l=this.inLnC)?void 0:l.upper,null==(h=this.inLnC)?void 0:h.righter,null==(u=this.inLnC)||null==(u=u.righter)?void 0:u.upper,null==(c=this.inLnC)||null==(c=c.righter)?void 0:c.righter,null==(m=this.inLnC)||null==(m=m.righter)||null==(m=m.righter)?void 0:m.upper].forEach((function(t){null==t||t.setOccupied(.02)})));if(v.gameStarted&&(v.component.bossHealthProgress=this.getProgress()),!this.busy||this.rushing||this.shooting||this.summonning){if(this.willChangeStage>=0)this.changeStageStun();else if(this.health<=0){var d=this.reversed?8-this.deathPos.x:this.deathPos.x;this.cIndex==d&&this.lIndex==this.deathPos.y?this.explodeAnimation():this.deathJump()}}else this.mechStunningCD>0&&(this.mechStunningCD-=t,this.mechStunningCD<=0&&this.stunEnd());this.rushing&&!this.isAlive()&&this.deathJump()},a.specialZombieUpdate=function(t,e,o){if(this.audioSource.volume=Z.SoundFXVolume,this.moveTween&&!this.jumpHeightTween&&this.killInRange(),!this.busy&&this.willChangeStage<0&&(this.actionCD>0&&(this.actionCD-=t),this.actionCD<=0)){this.randomAction(this.currentMechStages[this.currentStage].Actions);var i=this.currentMechStages[this.currentStage];this.actionCD=i.MinIdleTime+(i.MaxIdleTime-i.MinIdleTime)*Math.random()}this.summonning&&(this.summonCD>0&&(this.summonCD-=t),this.summonCD<=0&&(this.summonAZombie(),this.summonCD=.75))},a.lockedTimeScale=function(){return v.component.bossZombie!=this||v.component.bossMovable?this.rushing?2.7:this.currentMechStages[this.currentStage].AnimRateModifier:0},a.deathJump=function(){var t;null==(t=this.rushTween)||t.stop(),this.mechStunningCD=0,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.jumpStart(this.deathPos)},a.jumpStart=function(t){this.jumpHeightTween||(this.idling=!1,this.willLandPos=t,this.body.playAnimation("LeapStart",1),Math.random()<this.laughterRate&&this.playOneShot(S.getRandom(this.worldZombossLeapSaySounds),1,!0))},a.jump=function(t){var e=this;void 0===t&&(t=S.getRandom(this.jumpTargetPoses));var o=t.clone();this.reversed&&(o.x=8-o.x);var i=w.getLnC(o.y,o.x),n=this;this.jumpHeightTween=d(n).to(.4,{height:160},{easing:"quadOut"}).to(.4,{height:0},{easing:"quadIn"}).call((function(){e.flying=!1})).start(),this.flying=!0,this.moveTween=d(n).to(.8,{worldPositionX:i.node.worldPosition.x,worldPositionY:i.node.worldPosition.y}).call((function(){n.moveTween=null,n.jumpHeightTween=null,n.body.playAnimation("LeapEnd",1),n.killInRange()})).start()},a.stabAnimation=function(){this.idling=!1,Math.random()<this.laughterRate&&this.playOneShot(S.getRandom(this.worldZombossAngrySaySounds),1,!0),this.body.playAnimation("Stomp",1)},a.rush=function(){var t=this;this.willRush=!1,this.isAlive()&&(this.rushDMGcount=0,this.body.playAnimation("WalkR",2),this.rushTween=this.moveTween=d(this).by(7/6,{worldPositionX:w.SquareDisW*(this.reversed?-1:1)}).call((function(){t.body.playAnimation("WalkL",1/0),t.rushing=!0,Math.random()<t.laughterRate&&t.playOneShot(S.getRandom(t.worldZombossRushSaySounds),1,!0)})).to(1.7,{worldPositionX:w.getLnC(0,this.reversed?8:0).node.worldPosition.x},{easing:"quadIn"}).call((function(){t.moveTween=null,t.jumpStart(S.getRandom(t.jumpTargetPoses)),t.rushing=!1})).start())},a.rushInterupt=function(t){var e;void 0===t&&(t=!0),this.willRush=!1,this.rushing&&(this.rushing=!1,null==(e=this.moveTween)||e.stop(),this.moveTween=null,t&&this.stunStart(this.currentMechStages[this.currentStage].StunTime))},a.randomAction=function(t){var e=this;void 0===t&&(t=[{actionName:"walk",weight:12},{actionName:"summon",weight:12},{actionName:"jump",weight:12},{actionName:"rush",weight:12},{actionName:"shoot",weight:12}]);var o=this.reversed?1:7,i=[];t.forEach((function(t){for(var e=0;e<t.weight;e++)i.push(t.actionName)}));var n=[],s=[];-1!=i.indexOf("walk")&&(this.cIndex==o&&s.push((function(){e.walkL()})),this.cIndex==o+(this.reversed?1:-1)&&s.push((function(){e.walkR()})),this.lIndex<=3&&this.cIndex==o&&s.push((function(){e.walkD()})),this.lIndex>=2&&this.cIndex==o&&s.push((function(){e.walkU()}))),s.length&&i.forEach((function(t){"walk"==t&&n.push(t)}));var a=[];-1!=i.indexOf("jump")&&this.jumpTargetPoses.forEach((function(t){var o=t.clone();e.reversed&&(o.x=8-o.x),o.x==e.cIndex&&o.y==e.lIndex||a.push((function(){e.jumpStart(t)}))})),a.length&&i.forEach((function(t){"jump"==t&&n.push(t)}));var r=[];this.justSummonned||this.cIndex!=o||-1==i.indexOf("rush")||r.push((function(){e.willRush=!0,e.stabAnimation()})),r.length&&i.forEach((function(t){"rush"==t&&n.push(t)}));var l=[];this.justSummonned||this.cIndex!=o||-1==i.indexOf("summon")||l.push((function(){e.summonAnimation()})),l.length&&i.forEach((function(t){"summon"==t&&n.push(t)}));var h=[];switch(this.cIndex==o&&-1!=i.indexOf("shoot")&&h.push((function(){e.shootAnimation()})),h.length&&i.forEach((function(t){"shoot"==t&&n.push(t)})),S.getRandom(n)){case"walk":S.getRandom(s)();break;case"jump":S.getRandom(a)();break;case"shoot":S.getRandom(h)();break;case"summon":S.getRandom(l)();break;case"rush":S.getRandom(r)()}this.justSummonned=!1},a.specialZombieLeapable=function(){return!1},a.specialZombieKnockbackable=function(){return!1},a.blowAway=function(){},a.setFreeze=function(t,e){return t>0&&this.setChill(this.currentMechStages[this.currentStage].ChilledDurationFromFrozen),!0},a.walkU=function(){if(this.isAlive()){this.body.playAnimation("WalkU",1);var t=this;this.moveTween=d(t).by(35/30/this.lockedTimeScale(),{worldPositionY:w.SquareDisH}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkD=function(){if(this.isAlive()){this.body.playAnimation("WalkD",1);var t=this;this.moveTween=d(t).by(35/30/this.lockedTimeScale(),{worldPositionY:-w.SquareDisH}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkL=function(){if(this.isAlive()){this.body.playAnimation("WalkL",1);var t=this;this.moveTween=d(t).by(35/30/this.lockedTimeScale(),{worldPositionX:-w.SquareDisW*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.walkR=function(){if(this.isAlive()){this.body.playAnimation("WalkR",1);var t=this;this.moveTween=d(this).by(35/30/this.lockedTimeScale(),{worldPositionX:w.SquareDisW*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},a.moveFromLaneToLane=function(t,e){var o;if(this.isAlive()){for(var i=0;i<5;i++)w.getLaneComponent(i).deleteZombie(this);null==e||e.addZombie(this),null==e||null==(o=e.UpperLane)||o.addZombie(this),this.node.setSiblingIndex(0)}},a.summonAZombie=function(){var t,e=this,o=this.summonZombieList.shift(),i=this.inLnC[this.reversed?"righter":"lefter"];if(Math.random()>=.5&&i.lIndex>=1&&(i=null==(t=i)?void 0:t.upper),i){var n=i.spawnZombie(o,C.directPut);!this.pfSent&&Math.random()<.3&&(n[0].havePlantfood=!0,this.pfSent=!0),n.forEach((function(t){t.reversed=e.reversed,t.hypno=e.hypno,t.playTeleportSpawn(i.node.worldPosition.x)})),this.summonZombieList.length<=0&&this.summonEnd()}},a.summonAnimation=function(){this.isAlive()&&(this.body.playAnimation("SummonStart",1),this.idling=!1)},a.summonStart=function(){this.summonning=!0,this.summonCD=.5,this.summonZombieList=this.getZombieEnumsToSummon(),this.pfSent=!1,this.audioSource.clip=this.worldZombossSummonLoopSound,this.audioSource.play(),this.audioSource.loop=!0},a.summonEnd=function(){this.justSummonned=!0,this.summonning=!1,this.audioSource.stop(),this.audioSource.clip=null,this.body.playAnimation("SummonEnd",1),this.playOneShot(this.worldZombossSummonEndSound,1,!0)},a.summonInterupt=function(t){void 0===t&&(t=!0),this.summonning&&(this.summonning=!1,this.audioSource.stop(),this.audioSource.clip=null,t&&this.stunStart())},a.playSpecialZombieDieForced=function(){this.shootInterupt(!1)},a.dealDamage=function(t,e,o,i,n,s,a){return void 0===t&&(t=0),void 0===e&&(e=!0),void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===s&&(s=p.physicle),void 0===a&&(a=!0),this.currentStage-this.willChangeStage>1&&this.willChangeStage>0?this.health:this.dealNormalDamage(t,e,o,i,n,s,a)},a.specialZombossMechAnimationListener=function(t){},a.escapeStart=function(){this.body.playAnimation("Escape",1),this.playOneShot(S.getRandom(this.worldZombossEscapeSaySounds),1,!0)},a.specialAnimationListener=function(t){if("Idle"==t.name){if(this.willRush?this.rush():(this.body.playAnimation("Idle",1/0),this.idling=!0),this.isBoss&&!v.gameStarted)v.component.fillBossHealthProgressBar(this.currentMechStages.length).barSprite.customMaterial=this.body.body.customMaterial;this.shooting=!1,this.audioSource.stop()}else if("stepSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechStepSounds),1,!0);else if("mouthCloseSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMouthCloseSounds),1,!0);else if("mouthCloseImpactSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMouthCloseImpactSounds),1,!0);else if("mouthCloseBodyCallSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMouthCloseBodySounds),1,!0);else if("mouthOpenSound"==t.name)this.summonStart(),this.playOneShot(S.getRandom(this.worldZombossMechMouthOpenSounds),1,!0);else if("summonFallSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMouthOpenBodySounds),1,!0);else if("summonFallImpactSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMouthOpenBodyImpactSounds),1,!0);else if("stabSaySound"==t.name)Math.random()<this.laughterRate&&this.playOneShot(S.getRandom(this.worldZombossStabSaySounds),1,!0);else if("moveSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechMoveSounds),1,!0);else if("landSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechLeapEndSounds),1,!0);else if("leapSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechLeapStartSounds),1,!0);else if("deathFallSound"==t.name)this.playOneShot(S.getRandom(this.worldZombossMechDeathFallSounds),1,!0);else if("shootReadySound"==t.name)this.playOneShot(this.worldZombossMechShootRiseSounds,1,!0),Math.random()<this.laughterRate&&this.playOneShot(S.getRandom(this.worldZombossSpawnSaySounds),1,!0);else if("shootStart"==t.name)this.playOneShot(this.worldZombossMechShootSounds,1,!0);else if("shoot"==t.name)this.dropMissile();else if("leap"==t.name)this.jump(this.willLandPos);else if("stabU"==t.name){var e,o;null==(e=this.inLnC[this.reversed?"righter":"lefter"])||null==(e=e.upper)||null==(e=e.getAllPlants())||e.forEach((function(t){t.kill()})),null==(o=this.inLnC[this.reversed?"righter":"lefter"])||null==(o=o.upper)||null==(o=o.tombStone)||o.die(),this.playOneShot(S.getRandom(this.worldZombossMechStabSounds),1,!0)}else if("stabD"==t.name){var i,n;null==(i=this.inLnC[this.reversed?"righter":"lefter"])||null==(i=i.getAllPlants())||i.forEach((function(t){t.kill()})),null==(n=this.inLnC[this.reversed?"righter":"lefter"])||null==(n=n.tombStone)||n.die(),this.playOneShot(S.getRandom(this.worldZombossMechStabSounds),1,!0)}else"judgeEscape"==t.name?this.isBoss?v.component.victory(this._worldPosition,!1):this.escapeStart():"escape_trigger"==t.name&&(this.playOneShot(this.worldZombossEscapeTriggerSound,1,!0),this.playOneShot(this.worldZombossEscapePortalStartSound,1,!0),this.playOneShot(this.worldZombossEscapePortalSound,1,!0));this.specialZombossMechAnimationListener(t)},a.specialZombieOnEnable=function(){var t=this;this.walking=!1,this.switching=!0,this.body.playAnimation("Spawn",1),this.leapable=!1,this.idling=!1,this.justSummonned=!1,this.exploded=!1;for(var e=0;e<5;e++)w.getLaneComponent(e).deleteZombie(this);switch(this.targetLocators=[],this.rushDMGcount=0,this.willRush=!1,this.willChangeStage=-1,this.moveTween=null,this.jumpHeightTween=null,this.mechToChoose){case 1:this.currentMechStages=this.mech2Stages;break;default:this.currentMechStages=this.mechStages}this.currentStage=0,this.rushing=!1,this.shooting=!1,this.summonning=!1,this.mechStunningCD=0;var o=0;this.hitPointHealths=[],this.currentMechStages.concat().reverse().forEach((function(e){o+=e.HitPoints,t.hitPointHealths.push(o),e.setZombiePool()})),this.toughness=o,this.health=this.toughness,this.audioSource.stop(),this.audioSource.clip=null,this.specialZombossMechOnEnable()},a.specialZombossMechOnEnable=function(){},a.defaultGetShootTargetLnCs=function(t){var e=this;void 0===t&&(t=.5);var o=[],i=S.randomize(w.getAllLnC()),n=[];z.pool().forEach((function(t){t.inLnC&&-1==n.indexOf(t.inLnC)&&n.push(t.inLnC)})),n=S.randomize(n);for(var s=0;s<this.maxTargetPlantCount&&s<n.length&&o.length<this.maxTargetPlantCount;s++)Math.random()>t&&o.push(n[s]);if(o.length<this.maxTargetPlantCount)for(var a=0;a<i.length&&o.length<this.maxTargetPlantCount;a++)-1==o.indexOf(i[a])&&(!this.reversed&&i[a].cIndex<=5||this.reversed&&i[a].cIndex>=3)&&o.push(i[a]);return o.forEach((function(t){t.tilesInSquare.forEach((function(t){t.tileID==A.foodLinker&&(t.locatingZomboss=e)}))})),o},a.getShootTargetLnCs=function(){return this.defaultGetShootTargetLnCs()},a.shootAnimation=function(){var t=this;if(this.isAlive()){this.targetLocators=[],this.idling=!1,this.body.playAnimation("Shoot",1),Math.random()<this.laughterRate&&this.playOneShot(S.getRandom(this.worldZombossShootSaySounds),1,!0),this.playOneShot(this.worldZombossAimStartSound,1,!0),this.audioSource.clip=this.worldZombossMechAimLoopSounds,this.audioSource.play(),this.audioSource.loop=!0;var e=this.getShootTargetLnCs();null==e||e.forEach((function(e){if(e){var o=g(t.targetLocatorPrefab);o.parent=T.layer,o.worldPosition=e.node.worldPosition;var i=o.getComponent(E);i.inLnC=e,t.targetLocators.push(i)}})),this.shooting=!0}},a.shootInterupt=function(t){void 0===t&&(t=!0),this.shooting&&(this.shooting=!1,this.targetLocators.forEach((function(t){t.db.playAnimation("Die",1)})),this.targetLocators=[],this.audioSource.stop(),t&&this.stunStart())},a.foodLinkerShootInterupt=function(){},a.dropMissile=function(){var t=this;this.playOneShot(this.worldZombossMechPRJDropSounds,1,!0),this.targetLocators.forEach((function(e){var o=M.throwOneBananaOnNode(f.instantiatePooly(t.missile),e.inLnC.plantPoint,1e3,e.inLnC.inLane.prjLayer,30,t.hypno?P.zombie:P.plant);o.locator=e,o.gravity=1,t.missileMeasure(o)})),this.targetLocators=[]},a.missileMeasure=function(t){},s(e,[{key:"bpStage",set:function(t){this.bp0Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(t>1?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(t>2?0:-1)})),this._bpStage=t}},{key:"currentStage",get:function(){return this._currentStage},set:function(t){this.bpStage=t,this._currentStage=t}},{key:"busy",get:function(){return!!this.moveTween||!!this.jumpHeightTween||!this.idling||this.mechStunningCD>0}},{key:"siblingIndexInLane",get:function(){return-1/0}}]),e}(b)).prototype,"mechStages",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=e(re.prototype,"mech2Stages",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=e(re.prototype,"worldZombossStunStartSound",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=e(re.prototype,"worldZombossStunLoopSound",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=e(re.prototype,"worldZombossStunEndSound",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=e(re.prototype,"worldZombossSummonLoopSound",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=e(re.prototype,"worldZombossSummonEndSound",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=e(re.prototype,"worldZombossEscapeTriggerSound",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=e(re.prototype,"worldZombossEscapePortalStartSound",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=e(re.prototype,"worldZombossEscapePortalSound",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=e(re.prototype,"worldZombossMechDeathExplodeSound",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=e(re.prototype,"worldZombossRushSaySounds",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=e(re.prototype,"worldZombossStabSaySounds",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=e(re.prototype,"worldZombossSpawnSaySounds",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=e(re.prototype,"worldZombossAngrySaySounds",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=e(re.prototype,"worldZombossEscapeSaySounds",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=e(re.prototype,"worldZombossShootSaySounds",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=e(re.prototype,"worldZombossLeapSaySounds",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=e(re.prototype,"worldZombossMechMoveSounds",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=e(re.prototype,"worldZombossMechStepSounds",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=e(re.prototype,"worldZombossMechStabSounds",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=e(re.prototype,"worldZombossMechMouthOpenBodySounds",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=e(re.prototype,"worldZombossMechMouthOpenBodyImpactSounds",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=e(re.prototype,"worldZombossMechMouthOpenSounds",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=e(re.prototype,"worldZombossMechMouthCloseBodySounds",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=e(re.prototype,"worldZombossMechMouthCloseSounds",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=e(re.prototype,"worldZombossMechMouthCloseImpactSounds",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=e(re.prototype,"worldZombossMechLeapStartSounds",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=e(re.prototype,"worldZombossMechLeapEndSounds",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=e(re.prototype,"worldZombossMechDeathFallSounds",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=e(re.prototype,"worldZombossAimStartSound",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=e(re.prototype,"worldZombossMechAimLoopSounds",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=e(re.prototype,"worldZombossMechPRJDropSounds",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=e(re.prototype,"worldZombossMechShootRiseSounds",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=e(re.prototype,"worldZombossMechShootSounds",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=e(re.prototype,"actionDuration",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Ne=e(re.prototype,"maxTargetPlantCount",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ge=e(re.prototype,"missile",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=e(re.prototype,"targetLocatorPrefab",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=re))||ae));a._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts","./Tiles.ts"],(function(n){var i,l,t,e,o,r,s,a,u,c;return{setters:[function(n){i=n.applyDecoratedDescriptor,l=n.inheritsLoose,t=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator},function(n){s=n.ProjectileEnemyType,a=n.commonShot},function(n){u=n.TileType},function(n){c=n.TileEnum}],execute:function(){var p,f,h,y,m;o._RF.push({},"328dfCpogVF4pqNHmByBuzw","zombossMissile",void 0);var b=r.ccclass,d=r.property;n("zombossMissile",(p=b("zombossMissile"),f=d(Boolean),p((m=i((y=function(n){function i(){for(var i,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=n.call.apply(n,[this].concat(o))||this,t(i,"tileDestroyer",m,e(i)),i.locator=null,i}l(i,n);var o=i.prototype;return o.specialOnGroundHit=function(n){var i,l,t,e,o=null==n?void 0:n.getAllPlants(),r=null==n?void 0:n.getTileType();return null==n||null==(i=n.tombStone)||i.die(),null!=o&&o.length?(null==o||o.forEach((function(n){n.burn()})),null==(t=this.locator)||null==(t=t.db)||t.playAnimation("Die",1),!0):r==u.floor||r==u.deck?(null==(e=this.locator)||null==(e=e.db)||e.playAnimation("Die",1),!0):(null==(l=this.locator)||null==(l=l.db)||l.playAnimation("Die",1),!1)},o.specialMissileOnPop=function(){},o.onPop=function(){var n;this.tileDestroyer&&(null==(n=this.inLnC)||null==(n=n.tilesInSquare)||n.forEach((function(n){n.tileID==c.foodLinker&&(n.inLnC=null)})));if(this.enemyType!=s.zombie){var i,l=null==(i=this.inLnC)?void 0:i.getAllPlants();null==l||l.forEach((function(n){n.burn()}))}this.specialMissileOnPop()},o.characterOnDisable=function(){var n;null==(n=this.locator)||null==(n=n.db)||n.playAnimation("Die",1)},o.characterOnEnable=function(){this.initialize(),this.locator=null},i}(a)).prototype,"tileDestroyer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(o){var t,s,e,i;return{setters:[function(o){t=o.inheritsLoose},function(o){s=o.cclegacy,e=o._decorator},function(o){i=o.ParticleSelfdestroy}],execute:function(){var n;s._RF.push({},"53c69zH+RZGBJTVpfcWCg4g","zombossMissileLocator",void 0);var r=e.ccclass;e.property,o("zombossMissileLocator",r("zombossMissileLocator")(n=function(o){function s(){for(var t,s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).inLnC=void 0,t}t(s,o);var e=s.prototype;return e.specialOnEnable=function(){this.db.playAnimation("Start",1),this.specialMissileLocatorOnEnable()},e.specialMissileLocatorOnEnable=function(){},s}(i))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocatorFree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissileLocator.ts","./SoundRescourses.ts","./Projectiles.ts","./BananaLauncher.ts","./Character.ts"],(function(t){var o,i,e,n,s,r,a,l,c,u,p,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.AudioClip},function(t){l=t.zombossMissileLocator},function(t){c=t.sounds},function(t){u=t.projectileRes},function(t){p=t.banana},function(t){h=t.CharacterType}],execute:function(){var d,f,b,y,L,w,g,m,z;s._RF.push({},"f0929weHopN06bwo4XJyn1/","zombossMissileLocatorFree",void 0);var S=r.ccclass,v=r.property;t("zombossMissileLocatorFree",(d=S("zombossMissileLocatorFree"),f=v(a),b=v(a),y=v(a),d((g=o((w=function(t){function o(){for(var o,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,e(o,"startSound",g,n(o)),e(o,"loopSound",m,n(o)),e(o,"throwSound",z,n(o)),o.countdown=1/0,o.prjID=0,o.targetType=h.zombie,o.dead=!1,o.shot=!1,o}i(o,t);var s=o.prototype;return s.die=function(){this.dead=!0,this.db.playAnimation("Die")},s.specialUpdate=function(t){var o,i=this;if(!this.dead)if(null!=(o=this.inLnC)&&o.isInLawn()){if(this.countdown>0)this.countdown-=t,c.play(this.loopSound,1,this.loopSound.getDuration());else if(!this.shot){this.shot=!0;var e=u.getProjectile(this.prjID);c.play(this.throwSound,1,.1);var n=p.throwOneBananaOnNode(e,this.inLnC.plantPoint,800,this.inLnC.inLane.prjLayer,15,this.targetType);this.scheduleOnce((function(){i.die()}),.5),n.gravity=1}}else this.die()},s.specialMissileLocatorOnEnable=function(){this.dead=!1,this.shot=!1,c.play(this.startSound,1,.1)},o}(l)).prototype,"startSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o(w.prototype,"loopSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(w.prototype,"throwSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=w))||L));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});